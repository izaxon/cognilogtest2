import{r,j as a}from"./react-CFvbW3tR.js";import{u as d}from"./react-router-dom-DAwTWwZD.js";import{G as l}from"./codicent-app-sdk-DXRVzLEb.js";import{n as x}from"./index-DeBjKzBM.js";import{c as E}from"./@griffel-B6ADR5Kd.js";import"./@braintree-DY5JYOZd.js";import"./react-dom-o8OcDbuK.js";import"./react-router-C-4Ov6ZN.js";import"./@remix-run-Df5FVpDT.js";import"./@mermaid-js-U5IBypfp.js";import"./langium-CdARkFFN.js";import"./vscode-jsonrpc-ByHGxxVC.js";import"./vscode-languageserver-types-NoPvPymt.js";import"./chevrotain-D1YjmfcG.js";import"./@chevrotain-D6nI8fqk.js";import"./lodash-es-DC2U6FIr.js";import"./chevrotain-allstar-DEMvE_-m.js";import"./vscode-uri-D3CQYEzw.js";import"./vscode-languageserver-textdocument-CKBVUiR3.js";import"./mermaid-C_HjE0iy.js";import"./ts-dedent-DrFu-skq.js";import"./d3-transition-Dh49aRff.js";import"./d3-dispatch-kxCwF96_.js";import"./d3-timer-DdKHrDhs.js";import"./d3-interpolate-CfLzPKWk.js";import"./d3-color-amxIadob.js";import"./d3-selection-Bj1BqfTz.js";import"./d3-ease-DRPgKoYJ.js";import"./d3-zoom-BjlmSQgB.js";import"./dompurify-BlFzGd2J.js";import"./stylis-Bmj7FPPA.js";import"./dagre-d3-es-3reODgjt.js";import"./khroma-DUX6PT6k.js";import"./dayjs-B-NUFg1t.js";import"./d3-scale-C6sbQl2n.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-DGRYoJHh.js";import"./d3-format-CzD4bSOQ.js";import"./d3-time-format-DgsO5LpX.js";import"./d3-time-BF7_rz0X.js";import"./d3-axis-DSWTncID.js";import"./d3-shape-L3Itesln.js";import"./d3-path-CimkQT29.js";import"./roughjs-GtHDBO_d.js";import"./cytoscape-BlEmlE64.js";import"./cytoscape-cose-bilkent-NPpav9ZH.js";import"./cose-base-B9X2GT9R.js";import"./layout-base-85SqnYhL.js";import"./d3-sankey-CgO6js3K.js";import"./d3-scale-chromatic-CvOaoHrI.js";import"./@iconify-D2F_yRRF.js";import"./marked-DK8KC6kv.js";import"./cytoscape-fcose-V_63gsaN.js";import"./@auth0-DpSad-xP.js";import"./@fluentui-hGxI4ynz.js";import"./react-is-D0tnNtx9.js";import"./keyborg-DWQCxiIY.js";import"./rtl-css-js-DzRCw-ju.js";import"./@emotion-WldOFDRm.js";const h=E({frame:{width:"100%",height:"100%",border:"none"},content:{position:"fixed",top:0,left:0,right:0,bottom:"90px",zIndex:1e3}}),gt=({html:p,script:e,onHtmlChange:c,voice:m})=>{const f=h(),[s]=d(),[o,u]=r.useState(),n=r.useRef(null);return r.useEffect(()=>{const t=s.get("html");t&&u(t);const i=s.get("instructions");i&&(m==null||m.updateInstructions(i))},[s,m]),r.useEffect(()=>{o&&c(o)},[o,c]),r.useEffect(()=>{p&&u(p)},[p]),r.useEffect(()=>{if(n.current&&e){const t=n.current.contentDocument;if(t){const i=t.createElement("script");i.textContent=e,t.body.appendChild(i)}}},[e,o]),a.jsxs("div",{className:f.content,children:[x,a.jsx("iframe",{ref:n,srcDoc:o,title:"Codicent Canvas",className:f.frame}),a.jsx(l,{})]})};export{gt as default};
