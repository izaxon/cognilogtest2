var dct=Object.defineProperty;var eN=t=>{throw TypeError(t)};var pct=(t,e,r)=>e in t?dct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ar=(t,e,r)=>pct(t,typeof e!="symbol"?e+"":e,r),fct=(t,e,r)=>e.has(t)||eN("Cannot "+r);var rN=(t,e,r)=>e.has(t)?eN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var Ng=(t,e,r)=>(fct(t,e,"access private method"),r);import{r as Z,j as bt,a as gct,e as nN}from"./react-CFvbW3tR.js";import{_ as Ur}from"./@mermaid-js-U5IBypfp.js";import{u as mct,L as uu}from"./react-router-dom-DAwTWwZD.js";import{u as vU,a as yct}from"./react-router-C-4Ov6ZN.js";import{r as kE}from"./react-dom-o8OcDbuK.js";var ew,bU="https://js.stripe.com",vct="".concat(bU,"/v3"),bct=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,xct=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,iN="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",oN=function(t){var e="",r=document.createElement("script");r.src="".concat(vct).concat(e);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},uv=null,hv=null,dv=null,wct=function(t){return uv!==null?uv:(uv=new Promise(function(e,r){if(typeof window<"u"&&typeof document<"u")if(window.Stripe&&t&&console.warn(iN),window.Stripe)e(window.Stripe);else try{var n=function(){for(var o,a=document.querySelectorAll('script[src^="'.concat(bU,'"]')),s=0;s<a.length;s++){var l=a[s];if(o=l.src,bct.test(o)||xct.test(o))return l}return null}();if(n&&t)console.warn(iN);else if(n){if(n&&dv!==null&&hv!==null){var i;n.removeEventListener("load",dv),n.removeEventListener("error",hv),(i=n.parentNode)===null||i===void 0||i.removeChild(n),n=oN(t)}}else n=oN(t);dv=function(o,a){return function(){window.Stripe?o(window.Stripe):a(new Error("Stripe.js not available"))}}(e,r),hv=function(o){return function(a){o(new Error("Failed to load Stripe.js",{cause:a}))}}(r),n.addEventListener("load",dv),n.addEventListener("error",hv)}catch(o){return void r(o)}else e(null)})).catch(function(e){return uv=null,Promise.reject(e)})},xU=!1,wU=function(){return ew||(ew=wct(null).catch(function(t){return ew=null,Promise.reject(t)}))};Promise.resolve().then(function(){return wU()}).catch(function(t){xU||console.warn(t)});var kct=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];xU=!0;var n=Date.now();return wU().then(function(i){return function(o,a,s){if(o===null)return null;var l=o.apply(void 0,a);return function(u,h){u&&u._registerWrapper&&u._registerWrapper({name:"stripe-js",version:"5.9.2",startTime:h})}(l,s),l}(i,e,n)})},ca;let ua=class{constructor(e){this.files=[],this.data={},this.mentions=ca.getMentions(e),this.tags=ca.getTags(e),this.content=ca.getTextWithoutMentionsAndTags(e),this.files=ca.findFileIds(e),ca.isData(e)&&(this.data=ca.getData(e))}};ca=ua,ua.getTextWithoutMentionsAndTags=t=>ca.isData(t)?JSON.stringify(ca.getData(t),null,2):t.replace(/#file:.{36}/g,"").replace(/(\s|^|\n)@[a-zA-Z0-9_-]+(\s|$|\n|#|@)/g," ").replace(/(\s|^|\n)#[a-zA-Z0-9_-]+(\s|$|\n|#|@)/g," ").trim(),ua.getData=t=>{if(ca.isData(t)){const e=t.indexOf("{"),r=t.lastIndexOf("}"),n=t.substring(e,r+1);return JSON.parse(n)}return{}},ua.getMentions=t=>{const e=ca.getContentWithoutData(t).match(/(\s|^|\n)@[a-zA-Z0-9_-]+(?=[\s\n.,!?]|$)/g);return e?e.map(r=>r.trim().substring(1).trim()):[]},ua.getTags=t=>{if(!t)return[];const e=ca.getContentWithoutData(t).match(/(\s|^|\n)#[a-zA-Z0-9_-]+(?=\s|$|\n)/g);return e?e.map(r=>r.trim().substring(1).trim()):[]},ua.getContentWithoutData=t=>{if(ca.isData(t)){const e=t.indexOf("{"),r=t.lastIndexOf("}");return t.substring(0,e)+t.substring(r+1)}return t},ua.isData=t=>{if(!t||!t.replace(/#file:.{36}/g,"").replace(/(\s|^)@[a-zA-Z0-9_-]+(\s|$)/g,"").replace(/(\s|^)#[a-zA-Z0-9_-]+/g,"").trim().startsWith("{"))return!1;const e=t.indexOf("{"),r=t.lastIndexOf("}");if(e!==-1&&r!==-1){const n=t.substring(e,r+1);try{return JSON.parse(n),!0}catch{return!1}}return!1},ua.findFileIds=t=>{const e=(t=ca.getContentWithoutData(t)).match(/#file:[a-zA-Z0-9-]+/gi);return e&&e.length>0?e.map(r=>r.substring(6)):[]};var Tct={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};(function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e})(Tct);var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aN={},pv={},fv={},sN;function kU(){if(sN)return fv;sN=1,Object.defineProperty(fv,"__esModule",{value:!0});const t=TU();return fv.default=class{constructor({entering:e,within:r,exiting:n}={}){this.states=[],this.transitions=[],this.isActive=!1,this.entering=e,this.within=r,this.exiting=n}addTransition(e,r){return this.transitions.push(new t.Transition(e,r)),this}run(){if(this.within&&this.within(),this.current){for(const e of this.current.transitions)if(!e.condition||e.condition())return this.current&&this.current.exiting&&this.current.exiting(),this.current=e.to,e.action&&e.action(),void(this.current&&this.current.entering&&this.current.entering());this.current.run()}}},fv}var lN;function Ect(){if(lN)return pv;lN=1;var t=Wu&&Wu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pv,"__esModule",{value:!0});const e=t(kU());class r extends e.default{constructor(i=[]){super(),this.states.push(...i)}addState(i){return this.states.push(...Array.isArray(i)?i:[i]),this}update(){if(!this.current){if(this.states.length===0)throw new Error("Statechart must have at least one state.");this.current=this.states[0]}this.run()}}return pv.default=r,pv}var CA={};Object.defineProperty(CA,"__esModule",{value:!0});CA.default=class{constructor(t,e){this.to=t,this.condition=e.condition,this.action=e.action}};var cN;function TU(){return cN||(cN=1,function(t){var e=Wu&&Wu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=t.State=t.StateMachine=void 0;var r=Ect();Object.defineProperty(t,"StateMachine",{enumerable:!0,get:function(){return e(r).default}});var n=kU();Object.defineProperty(t,"State",{enumerable:!0,get:function(){return e(n).default}});var i=CA;Object.defineProperty(t,"Transition",{enumerable:!0,get:function(){return e(i).default}})}(aN)),aN}var ii=TU(),EU={exports:{}};EU.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",o="minute",a="hour",s="day",l="week",u="month",h="quarter",d="year",p="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var $=["th","st","nd","rd"],I=E%100;return"["+E+($[(I-20)%10]||$[I]||$[0])+"]"}},v=function(E,$,I){var L=String(E);return!L||L.length>=$?E:""+Array($+1-L.length).join(I)+E},x={s:v,z:function(E){var $=-E.utcOffset(),I=Math.abs($),L=Math.floor(I/60),O=I%60;return($<=0?"+":"-")+v(L,2,"0")+":"+v(O,2,"0")},m:function E($,I){if($.date()<I.date())return-E(I,$);var L=12*(I.year()-$.year())+(I.month()-$.month()),O=$.clone().add(L,u),B=I-O<0,R=$.clone().add(L+(B?-1:1),u);return+(-(L+(I-O)/(B?O-R:R-O))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:u,y:d,w:l,d:s,D:p,h:a,m:o,s:i,ms:n,Q:h}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},b="en",k={};k[b]=y;var N="$isDayjsObject",_=function(E){return E instanceof C||!(!E||!E[N])},S=function E($,I,L){var O;if(!$)return b;if(typeof $=="string"){var B=$.toLowerCase();k[B]&&(O=B),I&&(k[B]=I,O=B);var R=$.split("-");if(!O&&R.length>1)return E(R[0])}else{var M=$.name;k[M]=$,O=M}return!L&&O&&(b=O),O||!L&&b},T=function(E,$){if(_(E))return E.clone();var I=typeof $=="object"?$:{};return I.date=E,I.args=arguments,new C(I)},A=x;A.l=S,A.i=_,A.w=function(E,$){return T(E,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var C=function(){function E(I){this.$L=S(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[N]=!0}var $=E.prototype;return $.parse=function(I){this.$d=function(L){var O=L.date,B=L.utc;if(O===null)return new Date(NaN);if(A.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var R=O.match(g);if(R){var M=R[2]-1||0,F=(R[7]||"0").substring(0,3);return B?new Date(Date.UTC(R[1],M,R[3]||1,R[4]||0,R[5]||0,R[6]||0,F)):new Date(R[1],M,R[3]||1,R[4]||0,R[5]||0,R[6]||0,F)}}return new Date(O)}(I),this.init()},$.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},$.$utils=function(){return A},$.isValid=function(){return this.$d.toString()!==f},$.isSame=function(I,L){var O=T(I);return this.startOf(L)<=O&&O<=this.endOf(L)},$.isAfter=function(I,L){return T(I)<this.startOf(L)},$.isBefore=function(I,L){return this.endOf(L)<T(I)},$.$g=function(I,L,O){return A.u(I)?this[L]:this.set(O,I)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(I,L){var O=this,B=!!A.u(L)||L,R=A.p(I),M=function(V,rt){var tt=A.w(O.$u?Date.UTC(O.$y,rt,V):new Date(O.$y,rt,V),O);return B?tt:tt.endOf(s)},F=function(V,rt){return A.w(O.toDate()[V].apply(O.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(rt)),O)},P=this.$W,U=this.$M,W=this.$D,Q="set"+(this.$u?"UTC":"");switch(R){case d:return B?M(1,0):M(31,11);case u:return B?M(1,U):M(0,U+1);case l:var K=this.$locale().weekStart||0,G=(P<K?P+7:P)-K;return M(B?W-G:W+(6-G),U);case s:case p:return F(Q+"Hours",0);case a:return F(Q+"Minutes",1);case o:return F(Q+"Seconds",2);case i:return F(Q+"Milliseconds",3);default:return this.clone()}},$.endOf=function(I){return this.startOf(I,!1)},$.$set=function(I,L){var O,B=A.p(I),R="set"+(this.$u?"UTC":""),M=(O={},O[s]=R+"Date",O[p]=R+"Date",O[u]=R+"Month",O[d]=R+"FullYear",O[a]=R+"Hours",O[o]=R+"Minutes",O[i]=R+"Seconds",O[n]=R+"Milliseconds",O)[B],F=B===s?this.$D+(L-this.$W):L;if(B===u||B===d){var P=this.clone().set(p,1);P.$d[M](F),P.init(),this.$d=P.set(p,Math.min(this.$D,P.daysInMonth())).$d}else M&&this.$d[M](F);return this.init(),this},$.set=function(I,L){return this.clone().$set(I,L)},$.get=function(I){return this[A.p(I)]()},$.add=function(I,L){var O,B=this;I=Number(I);var R=A.p(L),M=function(U){var W=T(B);return A.w(W.date(W.date()+Math.round(U*I)),B)};if(R===u)return this.set(u,this.$M+I);if(R===d)return this.set(d,this.$y+I);if(R===s)return M(1);if(R===l)return M(7);var F=(O={},O[o]=e,O[a]=r,O[i]=t,O)[R]||1,P=this.$d.getTime()+I*F;return A.w(P,this)},$.subtract=function(I,L){return this.add(-1*I,L)},$.format=function(I){var L=this,O=this.$locale();if(!this.isValid())return O.invalidDate||f;var B=I||"YYYY-MM-DDTHH:mm:ssZ",R=A.z(this),M=this.$H,F=this.$m,P=this.$M,U=O.weekdays,W=O.months,Q=O.meridiem,K=function(rt,tt,at,ut){return rt&&(rt[tt]||rt(L,B))||at[tt].slice(0,ut)},G=function(rt){return A.s(M%12||12,rt,"0")},V=Q||function(rt,tt,at){var ut=rt<12?"AM":"PM";return at?ut.toLowerCase():ut};return B.replace(m,function(rt,tt){return tt||function(at){switch(at){case"YY":return String(L.$y).slice(-2);case"YYYY":return A.s(L.$y,4,"0");case"M":return P+1;case"MM":return A.s(P+1,2,"0");case"MMM":return K(O.monthsShort,P,W,3);case"MMMM":return K(W,P);case"D":return L.$D;case"DD":return A.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return K(O.weekdaysMin,L.$W,U,2);case"ddd":return K(O.weekdaysShort,L.$W,U,3);case"dddd":return U[L.$W];case"H":return String(M);case"HH":return A.s(M,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return V(M,F,!0);case"A":return V(M,F,!1);case"m":return String(F);case"mm":return A.s(F,2,"0");case"s":return String(L.$s);case"ss":return A.s(L.$s,2,"0");case"SSS":return A.s(L.$ms,3,"0");case"Z":return R}return null}(rt)||R.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(I,L,O){var B,R=this,M=A.p(L),F=T(I),P=(F.utcOffset()-this.utcOffset())*e,U=this-F,W=function(){return A.m(R,F)};switch(M){case d:B=W()/12;break;case u:B=W();break;case h:B=W()/3;break;case l:B=(U-P)/6048e5;break;case s:B=(U-P)/864e5;break;case a:B=U/r;break;case o:B=U/e;break;case i:B=U/t;break;default:B=U}return O?B:A.a(B)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return k[this.$L]},$.locale=function(I,L){if(!I)return this.$L;var O=this.clone(),B=S(I,L,!0);return B&&(O.$L=B),O},$.clone=function(){return A.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},E}(),D=C.prototype;return T.prototype=D,[["$ms",n],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",d],["$D",p]].forEach(function(E){D[E[1]]=function($){return this.$g($,E[0],E[1])}}),T.extend=function(E,$){return E.$i||(E($,C,T),E.$i=!0),T},T.locale=S,T.isDayjs=_,T.unix=function(E){return T(1e3*E)},T.en=k[b],T.Ls=k,T.p={},T}();var Ao=dh(EU.exports);/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:_U,setPrototypeOf:uN,isFrozen:_ct,getPrototypeOf:Sct,getOwnPropertyDescriptor:Act}=Object;let{freeze:Ko,seal:Ts,create:SU}=Object,{apply:TE,construct:EE}=typeof Reflect<"u"&&Reflect;Ko||(Ko=function(t){return t}),Ts||(Ts=function(t){return t}),TE||(TE=function(t,e,r){return t.apply(e,r)}),EE||(EE=function(t,e){return new t(...e)});const gv=Zo(Array.prototype.forEach),Cct=Zo(Array.prototype.lastIndexOf),hN=Zo(Array.prototype.pop),Ig=Zo(Array.prototype.push),$ct=Zo(Array.prototype.splice),P2=Zo(String.prototype.toLowerCase),rw=Zo(String.prototype.toString),dN=Zo(String.prototype.match),Lg=Zo(String.prototype.replace),Nct=Zo(String.prototype.indexOf),Ict=Zo(String.prototype.trim),Bs=Zo(Object.prototype.hasOwnProperty),Oo=Zo(RegExp.prototype.test),Rg=(pN=TypeError,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return EE(pN,e)});var pN;function Zo(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return TE(t,e,n)}}function Er(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P2;uN&&uN(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const o=r(i);o!==i&&(_ct(e)||(e[n]=o),i=o)}t[i]=!0}return t}function Lct(t){for(let e=0;e<t.length;e++)Bs(t,e)||(t[e]=null);return t}function Oh(t){const e=SU(null);for(const[r,n]of _U(t))Bs(t,r)&&(Array.isArray(n)?e[r]=Lct(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Oh(n):e[r]=n);return e}function Dg(t,e){for(;t!==null;){const r=Act(t,e);if(r){if(r.get)return Zo(r.get);if(typeof r.value=="function")return Zo(r.value)}t=Sct(t)}return function(){return null}}const fN=Ko(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nw=Ko(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),iw=Ko(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Rct=Ko(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ow=Ko(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Dct=Ko(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gN=Ko(["#text"]),mN=Ko(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),aw=Ko(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yN=Ko(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mv=Ko(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Oct=Ts(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Mct=Ts(/<%[\w\W]*|[\w\W]*%>/gm),Bct=Ts(/\$\{[\w\W]*/gm),Pct=Ts(/^data-[\-\w.\u00B7-\uFFFF]+$/),Fct=Ts(/^aria-[\-\w]+$/),AU=Ts(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zct=Ts(/^(?:\w+script|data):/i),jct=Ts(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),CU=Ts(/^html$/i),Hct=Ts(/^[a-z][.\w]*(-[.\w]+)+$/i);var vN=Object.freeze({__proto__:null,ARIA_ATTR:Fct,ATTR_WHITESPACE:jct,CUSTOM_ELEMENT:Hct,DATA_ATTR:Pct,DOCTYPE_NAME:CU,ERB_EXPR:Mct,IS_ALLOWED_URI:AU,IS_SCRIPT_OR_DATA:zct,MUSTACHE_EXPR:Oct,TMPLIT_EXPR:Bct});const Uct=1,qct=3,Gct=7,Wct=8,Vct=9,Yct=function(){return typeof window>"u"?null:window};var y0=function t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yct();const r=At=>t(At);if(r.version="3.2.4",r.removed=[],!e||!e.document||e.document.nodeType!==Vct||!e.Element)return r.isSupported=!1,r;let{document:n}=e;const i=n,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:g}=e,m=u.prototype,y=Dg(m,"cloneNode"),v=Dg(m,"remove"),x=Dg(m,"nextSibling"),b=Dg(m,"childNodes"),k=Dg(m,"parentNode");if(typeof s=="function"){const At=n.createElement("template");At.content&&At.content.ownerDocument&&(n=At.content.ownerDocument)}let N,_="";const{implementation:S,createNodeIterator:T,createDocumentFragment:A,getElementsByTagName:C}=n,{importNode:D}=i;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported=typeof _U=="function"&&typeof k=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$,ERB_EXPR:I,TMPLIT_EXPR:L,DATA_ATTR:O,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:F}=vN;let{IS_ALLOWED_URI:P}=vN,U=null;const W=Er({},[...fN,...nw,...iw,...ow,...gN]);let Q=null;const K=Er({},[...mN,...aw,...yN,...mv]);let G=Object.seal(SU(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,rt=null,tt=!0,at=!0,ut=!1,st=!0,_t=!1,X=!0,Et=!1,H=!1,ct=!1,dt=!1,Nt=!1,ft=!1,Dt=!0,$t=!1,mt=!0,It=!1,gt={},xt=null;const Ct=Er({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lt=null;const ot=Er({},["audio","video","img","source","image","track"]);let Y=null;const Ot=Er({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",Ut="http://www.w3.org/2000/svg",Ft="http://www.w3.org/1999/xhtml";let qt=Ft,Wt=!1,Ht=null;const Xe=Er({},[nt,Ut,Ft],rw);let Vt=Er({},["mi","mo","mn","ms","mtext"]),xe=Er({},["annotation-xml"]);const Kt=Er({},["title","style","font","a","script"]);let Xt=null;const pe=["application/xhtml+xml","text/html"];let de=null,ge=null;const pr=n.createElement("form"),Ne=function(At){return At instanceof RegExp||At instanceof Function},Ze=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ge||ge!==At){if(At&&typeof At=="object"||(At={}),At=Oh(At),Xt=pe.indexOf(At.PARSER_MEDIA_TYPE)===-1?"text/html":At.PARSER_MEDIA_TYPE,de=Xt==="application/xhtml+xml"?rw:P2,U=Bs(At,"ALLOWED_TAGS")?Er({},At.ALLOWED_TAGS,de):W,Q=Bs(At,"ALLOWED_ATTR")?Er({},At.ALLOWED_ATTR,de):K,Ht=Bs(At,"ALLOWED_NAMESPACES")?Er({},At.ALLOWED_NAMESPACES,rw):Xe,Y=Bs(At,"ADD_URI_SAFE_ATTR")?Er(Oh(Ot),At.ADD_URI_SAFE_ATTR,de):Ot,lt=Bs(At,"ADD_DATA_URI_TAGS")?Er(Oh(ot),At.ADD_DATA_URI_TAGS,de):ot,xt=Bs(At,"FORBID_CONTENTS")?Er({},At.FORBID_CONTENTS,de):Ct,V=Bs(At,"FORBID_TAGS")?Er({},At.FORBID_TAGS,de):{},rt=Bs(At,"FORBID_ATTR")?Er({},At.FORBID_ATTR,de):{},gt=!!Bs(At,"USE_PROFILES")&&At.USE_PROFILES,tt=At.ALLOW_ARIA_ATTR!==!1,at=At.ALLOW_DATA_ATTR!==!1,ut=At.ALLOW_UNKNOWN_PROTOCOLS||!1,st=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_t=At.SAFE_FOR_TEMPLATES||!1,X=At.SAFE_FOR_XML!==!1,Et=At.WHOLE_DOCUMENT||!1,dt=At.RETURN_DOM||!1,Nt=At.RETURN_DOM_FRAGMENT||!1,ft=At.RETURN_TRUSTED_TYPE||!1,ct=At.FORCE_BODY||!1,Dt=At.SANITIZE_DOM!==!1,$t=At.SANITIZE_NAMED_PROPS||!1,mt=At.KEEP_CONTENT!==!1,It=At.IN_PLACE||!1,P=At.ALLOWED_URI_REGEXP||AU,qt=At.NAMESPACE||Ft,Vt=At.MATHML_TEXT_INTEGRATION_POINTS||Vt,xe=At.HTML_INTEGRATION_POINTS||xe,G=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&Ne(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&Ne(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(at=!1),Nt&&(dt=!0),gt&&(U=Er({},gN),Q=[],gt.html===!0&&(Er(U,fN),Er(Q,mN)),gt.svg===!0&&(Er(U,nw),Er(Q,aw),Er(Q,mv)),gt.svgFilters===!0&&(Er(U,iw),Er(Q,aw),Er(Q,mv)),gt.mathMl===!0&&(Er(U,ow),Er(Q,yN),Er(Q,mv))),At.ADD_TAGS&&(U===W&&(U=Oh(U)),Er(U,At.ADD_TAGS,de)),At.ADD_ATTR&&(Q===K&&(Q=Oh(Q)),Er(Q,At.ADD_ATTR,de)),At.ADD_URI_SAFE_ATTR&&Er(Y,At.ADD_URI_SAFE_ATTR,de),At.FORBID_CONTENTS&&(xt===Ct&&(xt=Oh(xt)),Er(xt,At.FORBID_CONTENTS,de)),mt&&(U["#text"]=!0),Et&&Er(U,["html","head","body"]),U.table&&(Er(U,["tbody"]),delete V.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=At.TRUSTED_TYPES_POLICY,_=N.createHTML("")}else N===void 0&&(N=function(Se,fe){if(typeof Se!="object"||typeof Se.createPolicy!="function")return null;let ir=null;const br="data-tt-policy-suffix";fe&&fe.hasAttribute(br)&&(ir=fe.getAttribute(br));const fr="dompurify"+(ir?"#"+ir:"");try{return Se.createPolicy(fr,{createHTML:Dr=>Dr,createScriptURL:Dr=>Dr})}catch{return console.warn("TrustedTypes policy "+fr+" could not be created."),null}}(g,o)),N!==null&&typeof _=="string"&&(_=N.createHTML(""));Ko&&Ko(At),ge=At}},ke=Er({},[...nw,...iw,...Rct]),Ce=Er({},[...ow,...Dct]),be=function(At){Ig(r.removed,{element:At});try{k(At).removeChild(At)}catch{v(At)}},Zt=function(At,Se){try{Ig(r.removed,{attribute:Se.getAttributeNode(At),from:Se})}catch{Ig(r.removed,{attribute:null,from:Se})}if(Se.removeAttribute(At),At==="is")if(dt||Nt)try{be(Se)}catch{}else try{Se.setAttribute(At,"")}catch{}},Le=function(At){let Se=null,fe=null;if(ct)At="<remove></remove>"+At;else{const fr=dN(At,/^[\r\n\t ]+/);fe=fr&&fr[0]}Xt==="application/xhtml+xml"&&qt===Ft&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const ir=N?N.createHTML(At):At;if(qt===Ft)try{Se=new f().parseFromString(ir,Xt)}catch{}if(!Se||!Se.documentElement){Se=S.createDocument(qt,"template",null);try{Se.documentElement.innerHTML=Wt?_:ir}catch{}}const br=Se.body||Se.documentElement;return At&&fe&&br.insertBefore(n.createTextNode(fe),br.childNodes[0]||null),qt===Ft?C.call(Se,Et?"html":"body")[0]:Et?Se.documentElement:br},Re=function(At){return T.call(At.ownerDocument||At,At,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},hn=function(At){return At instanceof p&&(typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof d)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},nr=function(At){return typeof l=="function"&&At instanceof l};function dn(At,Se,fe){gv(At,ir=>{ir.call(r,Se,fe,ge)})}const Wn=function(At){let Se=null;if(dn(E.beforeSanitizeElements,At,null),hn(At))return be(At),!0;const fe=de(At.nodeName);if(dn(E.uponSanitizeElement,At,{tagName:fe,allowedTags:U}),At.hasChildNodes()&&!nr(At.firstElementChild)&&Oo(/<[/\w]/g,At.innerHTML)&&Oo(/<[/\w]/g,At.textContent)||At.nodeType===Gct||X&&At.nodeType===Wct&&Oo(/<[/\w]/g,At.data))return be(At),!0;if(!U[fe]||V[fe]){if(!V[fe]&&ri(fe)&&(G.tagNameCheck instanceof RegExp&&Oo(G.tagNameCheck,fe)||G.tagNameCheck instanceof Function&&G.tagNameCheck(fe)))return!1;if(mt&&!xt[fe]){const ir=k(At)||At.parentNode,br=b(At)||At.childNodes;if(br&&ir)for(let fr=br.length-1;fr>=0;--fr){const Dr=y(br[fr],!0);Dr.__removalCount=(At.__removalCount||0)+1,ir.insertBefore(Dr,x(At))}}return be(At),!0}return At instanceof u&&!function(ir){let br=k(ir);br&&br.tagName||(br={namespaceURI:qt,tagName:"template"});const fr=P2(ir.tagName),Dr=P2(br.tagName);return!!Ht[ir.namespaceURI]&&(ir.namespaceURI===Ut?br.namespaceURI===Ft?fr==="svg":br.namespaceURI===nt?fr==="svg"&&(Dr==="annotation-xml"||Vt[Dr]):!!ke[fr]:ir.namespaceURI===nt?br.namespaceURI===Ft?fr==="math":br.namespaceURI===Ut?fr==="math"&&xe[Dr]:!!Ce[fr]:ir.namespaceURI===Ft?!(br.namespaceURI===Ut&&!xe[Dr])&&!(br.namespaceURI===nt&&!Vt[Dr])&&!Ce[fr]&&(Kt[fr]||!ke[fr]):!(Xt!=="application/xhtml+xml"||!Ht[ir.namespaceURI]))}(At)?(be(At),!0):fe!=="noscript"&&fe!=="noembed"&&fe!=="noframes"||!Oo(/<\/no(script|embed|frames)/i,At.innerHTML)?(_t&&At.nodeType===qct&&(Se=At.textContent,gv([$,I,L],ir=>{Se=Lg(Se,ir," ")}),At.textContent!==Se&&(Ig(r.removed,{element:At.cloneNode()}),At.textContent=Se)),dn(E.afterSanitizeElements,At,null),!1):(be(At),!0)},zr=function(At,Se,fe){if(Dt&&(Se==="id"||Se==="name")&&(fe in n||fe in pr))return!1;if(!(at&&!rt[Se]&&Oo(O,Se))){if(!(tt&&Oo(B,Se))){if(!Q[Se]||rt[Se]){if(!(ri(At)&&(G.tagNameCheck instanceof RegExp&&Oo(G.tagNameCheck,At)||G.tagNameCheck instanceof Function&&G.tagNameCheck(At))&&(G.attributeNameCheck instanceof RegExp&&Oo(G.attributeNameCheck,Se)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(Se))||Se==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Oo(G.tagNameCheck,fe)||G.tagNameCheck instanceof Function&&G.tagNameCheck(fe))))return!1}else if(!Y[Se]){if(!Oo(P,Lg(fe,M,""))){if((Se!=="src"&&Se!=="xlink:href"&&Se!=="href"||At==="script"||Nct(fe,"data:")!==0||!lt[At])&&!(ut&&!Oo(R,Lg(fe,M,"")))){if(fe)return!1}}}}}return!0},ri=function(At){return At!=="annotation-xml"&&dN(At,F)},Xi=function(At){dn(E.beforeSanitizeAttributes,At,null);const{attributes:Se}=At;if(!Se||hn(At))return;const fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let ir=Se.length;for(;ir--;){const br=Se[ir],{name:fr,namespaceURI:Dr,value:ho}=br,Do=de(fr);let _n=fr==="value"?ho:Ict(ho);if(fe.attrName=Do,fe.attrValue=_n,fe.keepAttr=!0,fe.forceKeepAttr=void 0,dn(E.uponSanitizeAttribute,At,fe),_n=fe.attrValue,!$t||Do!=="id"&&Do!=="name"||(Zt(fr,At),_n="user-content-"+_n),X&&Oo(/((--!?|])>)|<\/(style|title)/i,_n)){Zt(fr,At);continue}if(fe.forceKeepAttr||(Zt(fr,At),!fe.keepAttr))continue;if(!st&&Oo(/\/>/i,_n)){Zt(fr,At);continue}_t&&gv([$,I,L],Ie=>{_n=Lg(_n,Ie," ")});const Yt=de(At.nodeName);if(zr(Yt,Do,_n)){if(N&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Dr)switch(g.getAttributeType(Yt,Do)){case"TrustedHTML":_n=N.createHTML(_n);break;case"TrustedScriptURL":_n=N.createScriptURL(_n)}try{Dr?At.setAttributeNS(Dr,fr,_n):At.setAttribute(fr,_n),hn(At)?be(At):hN(r.removed)}catch{}}}dn(E.afterSanitizeAttributes,At,null)},pi=function At(Se){let fe=null;const ir=Re(Se);for(dn(E.beforeSanitizeShadowDOM,Se,null);fe=ir.nextNode();)dn(E.uponSanitizeShadowNode,fe,null),Wn(fe),Xi(fe),fe.content instanceof a&&At(fe.content);dn(E.afterSanitizeShadowDOM,Se,null)};return r.sanitize=function(At){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=null,ir=null,br=null,fr=null;if(Wt=!At,Wt&&(At="<!-->"),typeof At!="string"&&!nr(At)){if(typeof At.toString!="function")throw Rg("toString is not a function");if(typeof(At=At.toString())!="string")throw Rg("dirty is not a string, aborting")}if(!r.isSupported)return At;if(H||Ze(Se),r.removed=[],typeof At=="string"&&(It=!1),It){if(At.nodeName){const Do=de(At.nodeName);if(!U[Do]||V[Do])throw Rg("root node is forbidden and cannot be sanitized in-place")}}else if(At instanceof l)fe=Le("<!---->"),ir=fe.ownerDocument.importNode(At,!0),ir.nodeType===Uct&&ir.nodeName==="BODY"||ir.nodeName==="HTML"?fe=ir:fe.appendChild(ir);else{if(!dt&&!_t&&!Et&&At.indexOf("<")===-1)return N&&ft?N.createHTML(At):At;if(fe=Le(At),!fe)return dt?null:ft?_:""}fe&&ct&&be(fe.firstChild);const Dr=Re(It?At:fe);for(;br=Dr.nextNode();)Wn(br),Xi(br),br.content instanceof a&&pi(br.content);if(It)return At;if(dt){if(Nt)for(fr=A.call(fe.ownerDocument);fe.firstChild;)fr.appendChild(fe.firstChild);else fr=fe;return(Q.shadowroot||Q.shadowrootmode)&&(fr=D.call(i,fr,!0)),fr}let ho=Et?fe.outerHTML:fe.innerHTML;return Et&&U["!doctype"]&&fe.ownerDocument&&fe.ownerDocument.doctype&&fe.ownerDocument.doctype.name&&Oo(CU,fe.ownerDocument.doctype.name)&&(ho="<!DOCTYPE "+fe.ownerDocument.doctype.name+`>
`+ho),_t&&gv([$,I,L],Do=>{ho=Lg(ho,Do," ")}),N&&ft?N.createHTML(ho):ho},r.setConfig=function(){Ze(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),H=!0},r.clearConfig=function(){ge=null,H=!1},r.isValidAttribute=function(At,Se,fe){ge||Ze({});const ir=de(At),br=de(Se);return zr(ir,br,fe)},r.addHook=function(At,Se){typeof Se=="function"&&Ig(E[At],Se)},r.removeHook=function(At,Se){if(Se!==void 0){const fe=Cct(E[At],Se);return fe===-1?void 0:$ct(E[At],fe,1)[0]}return hN(E[At])},r.removeHooks=function(At){E[At]=[]},r.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const F2={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return 2.55*r;t/=360,e/=100;const i=(r/=100)<.5?r*(1+e):r+e-r*e,o=2*r-i;switch(n){case"r":return 255*F2.hue2rgb(o,i,t+1/3);case"g":return 255*F2.hue2rgb(o,i,t);case"b":return 255*F2.hue2rgb(o,i,t-1/3)}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),o=Math.min(t,e,r),a=(i+o)/2;if(n==="l")return 100*a;if(i===o)return 0;const s=i-o;if(n==="s")return 100*(a>.5?s/(2-i-o):s/(i+o));switch(i){case t:return 60*((e-r)/s+(e<r?6:0));case e:return 60*((r-t)/s+2);case r:return 60*((t-e)/s+4);default:return-1}}};var Xct=F2,Kct={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(1e10*t)/1e10},Zct={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},lr={channel:Xct,lang:Kct,unit:Zct};const hu={};for(let t=0;t<=255;t++)hu[t]=lr.unit.dec2hex(t);const wo={ALL:0,RGB:1,HSL:2};var Qct=class{constructor(){this.type=wo.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=wo.ALL}is(e){return this.type===e}},Jct=class{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Qct}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=wo.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=lr.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=lr.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=lr.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=lr.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=lr.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=lr.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return this.type.is(wo.HSL)||r===void 0?(this._ensureHSL(),lr.channel.hsl2rgb(e,"r")):r}get g(){const e=this.data,r=e.g;return this.type.is(wo.HSL)||r===void 0?(this._ensureHSL(),lr.channel.hsl2rgb(e,"g")):r}get b(){const e=this.data,r=e.b;return this.type.is(wo.HSL)||r===void 0?(this._ensureHSL(),lr.channel.hsl2rgb(e,"b")):r}get h(){const e=this.data,r=e.h;return this.type.is(wo.RGB)||r===void 0?(this._ensureRGB(),lr.channel.rgb2hsl(e,"h")):r}get s(){const e=this.data,r=e.s;return this.type.is(wo.RGB)||r===void 0?(this._ensureRGB(),lr.channel.rgb2hsl(e,"s")):r}get l(){const e=this.data,r=e.l;return this.type.is(wo.RGB)||r===void 0?(this._ensureRGB(),lr.channel.rgb2hsl(e,"l")):r}get a(){return this.data.a}set r(e){this.type.set(wo.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(wo.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(wo.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(wo.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(wo.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(wo.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},Q5=new Jct({r:0,g:0,b:0,a:0},"transparent");const $U={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match($U.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,o=i%4==0,a=i>4,s=a?1:17,l=a?8:4,u=o?0:-1,h=a?255:15;return Q5.set({r:(n>>l*(u+3)&h)*s,g:(n>>l*(u+2)&h)*s,b:(n>>l*(u+1)&h)*s,a:o?(n&h)*s/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${hu[Math.round(e)]}${hu[Math.round(r)]}${hu[Math.round(n)]}${hu[Math.round(255*i)]}`:`#${hu[Math.round(e)]}${hu[Math.round(r)]}${hu[Math.round(n)]}`}};var Z1=$U;const z2={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(z2.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return lr.channel.clamp.h(.9*parseFloat(r));case"rad":return lr.channel.clamp.h(180*parseFloat(r)/Math.PI);case"turn":return lr.channel.clamp.h(360*parseFloat(r))}}return lr.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(z2.re);if(!r)return;const[,n,i,o,a,s]=r;return Q5.set({h:z2._hue2deg(n),s:lr.channel.clamp.s(parseFloat(i)),l:lr.channel.clamp.l(parseFloat(o)),a:a?lr.channel.clamp.a(s?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${lr.lang.round(e)}, ${lr.lang.round(r)}%, ${lr.lang.round(n)}%, ${i})`:`hsl(${lr.lang.round(e)}, ${lr.lang.round(r)}%, ${lr.lang.round(n)}%)`}};var yv=z2;const j2={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=j2.colors[t];if(e)return Z1.parse(e)},stringify:t=>{const e=Z1.stringify(t);for(const r in j2.colors)if(j2.colors[r]===e)return r}};var bN=j2;const NU={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(NU.re);if(!r)return;const[,n,i,o,a,s,l,u,h]=r;return Q5.set({r:lr.channel.clamp.r(i?2.55*parseFloat(n):parseFloat(n)),g:lr.channel.clamp.g(a?2.55*parseFloat(o):parseFloat(o)),b:lr.channel.clamp.b(l?2.55*parseFloat(s):parseFloat(s)),a:u?lr.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${lr.lang.round(e)}, ${lr.lang.round(r)}, ${lr.lang.round(n)}, ${lr.lang.round(i)})`:`rgb(${lr.lang.round(e)}, ${lr.lang.round(r)}, ${lr.lang.round(n)})`}};var vv=NU,sl={format:{keyword:bN,hex:Z1,rgb:vv,rgba:vv,hsl:yv,hsla:yv},parse:t=>{if(typeof t!="string")return t;const e=Z1.parse(t)||vv.parse(t)||yv.parse(t)||bN.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(wo.HSL)||t.data.r===void 0?yv.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?vv.stringify(t):Z1.stringify(t)},IU=(t,e)=>{const r=sl.parse(t);for(const n in e)r[n]=lr.channel.clamp[n](e[n]);return sl.stringify(r)},Bt=(t,e)=>{const r=sl.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return IU(t,n)},yd=(t,e,r=0,n=1)=>{if(typeof t!="number")return IU(t,{a:e});const i=Q5.set({r:lr.channel.clamp.r(t),g:lr.channel.clamp.g(e),b:lr.channel.clamp.b(r),a:lr.channel.clamp.a(n)});return sl.stringify(i)},tut=t=>{const{r:e,g:r,b:n}=sl.parse(t),i=.2126*lr.channel.toLinear(e)+.7152*lr.channel.toLinear(r)+.0722*lr.channel.toLinear(n);return lr.lang.round(i)},eut=t=>tut(t)>=.5,ph=t=>!eut(t),LU=(t,e,r)=>{const n=sl.parse(t),i=n[e],o=lr.channel.clamp[e](i+r);return i!==o&&(n[e]=o),sl.stringify(n)},Be=(t,e)=>LU(t,"l",e),Ge=(t,e)=>LU(t,"l",-e),rut=(t,e,r=50)=>{const{r:n,g:i,b:o,a}=sl.parse(t),{r:s,g:l,b:u,a:h}=sl.parse(e),d=r/100,p=2*d-1,f=a-h,g=((p*f==-1?p:(p+f)/(1+p*f))+1)/2,m=1-g;return yd(n*g+s*m,i*g+l*m,o*g+u*m,a*d+h*(1-d))},Te=(t,e=100)=>{const r=sl.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,rut(r,t,e)},RU,DU=Object.defineProperty,w=(t,e)=>DU(t,"name",{value:e,configurable:!0}),OU=(t,e)=>{for(var r in e)DU(t,r,{get:e[r],enumerable:!0})},ec={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},et={trace:w((...t)=>{},"trace"),debug:w((...t)=>{},"debug"),info:w((...t)=>{},"info"),warn:w((...t)=>{},"warn"),error:w((...t)=>{},"error"),fatal:w((...t)=>{},"fatal")},$A=w(function(t="fatal"){let e=ec.fatal;typeof t=="string"?t.toLowerCase()in ec&&(e=ec[t]):typeof t=="number"&&(e=t),et.trace=()=>{},et.debug=()=>{},et.info=()=>{},et.warn=()=>{},et.error=()=>{},et.fatal=()=>{},e<=ec.fatal&&(et.fatal=console.error?console.error.bind(console,ts("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ts("FATAL"))),e<=ec.error&&(et.error=console.error?console.error.bind(console,ts("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ts("ERROR"))),e<=ec.warn&&(et.warn=console.warn?console.warn.bind(console,ts("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ts("WARN"))),e<=ec.info&&(et.info=console.info?console.info.bind(console,ts("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ts("INFO"))),e<=ec.debug&&(et.debug=console.debug?console.debug.bind(console,ts("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ts("DEBUG"))),e<=ec.trace&&(et.trace=console.debug?console.debug.bind(console,ts("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ts("TRACE")))},"setLogLevel"),ts=w(t=>`%c${Ao().format("ss.SSS")} : ${t} : `,"format"),MU=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Q1=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,nut=/\s*%%.*\n/gm,Lf,BU=(Lf=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},w(Lf,"UnknownDiagramError"),Lf),v0={},NA=w(function(t,e){t=t.replace(MU,"").replace(Q1,"").replace(nut,`
`);for(const[r,{detector:n}]of Object.entries(v0))if(n(t,e))return r;throw new BU(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),PU=w((...t)=>{for(const{id:e,detector:r,loader:n}of t)FU(e,r,n)},"registerLazyLoadedDiagrams"),FU=w((t,e,r)=>{v0[t]&&et.warn(`Detector with key ${t} already exists. Overwriting.`),v0[t]={detector:e,loader:r},et.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),iut=w(t=>v0[t].loader,"getDiagramLoader"),_E=w((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(o=>_E(t,o,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(o=>{t.includes(o)||t.push(o)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(o=>{typeof e[o]!="object"||t[o]!==void 0&&typeof t[o]!="object"?(n||typeof t[o]!="object"&&typeof e[o]!="object")&&(t[o]=e[o]):(t[o]===void 0&&(t[o]=Array.isArray(e[o])?[]:{}),t[o]=_E(t[o],e[o],{depth:r-1,clobber:n}))}),t)},"assignWithDepth"),Ti=_E,J5="#ffffff",t4="#f2f2f2",Go=w((t,e)=>Bt(t,e?{s:-40,l:10}:{s:-40,l:-10}),"mkBorder"),Rf,out=(Rf=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,o,a,s,l,u,h,d,p;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Bt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Bt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Go(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Go(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Go(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Go(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Te(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Te(this.tertiaryColor),this.lineColor=this.lineColor||Te(this.background),this.arrowheadColor=this.arrowheadColor||Te(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ge(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ge(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Te(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Be(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Bt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Bt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Bt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Bt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Bt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Bt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Bt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Bt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Bt(this.primaryColor,{h:330}),this.darkMode)for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Ge(this["cScale"+f],75);else for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=Ge(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Te(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Be(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||Ge(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||Bt(this.mainBkg,{h:180,s:-15,l:e*(5+3*f)}),this["surfacePeer"+f]=this["surfacePeer"+f]||Bt(this.mainBkg,{h:180,s:-15,l:e*(8+3*f)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Bt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Bt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Bt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Bt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Bt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Bt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Bt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Bt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Bt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Bt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Bt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Bt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Bt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Bt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Bt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Bt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Bt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Bt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Bt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Bt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Bt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ph(this.quadrant1Fill)?Be(this.quadrant1Fill):Ge(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((o=this.xyChart)==null?void 0:o.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ge(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Bt(this.primaryColor,{h:-30}),this.git4=this.git4||Bt(this.primaryColor,{h:-60}),this.git5=this.git5||Bt(this.primaryColor,{h:-90}),this.git6=this.git6||Bt(this.primaryColor,{h:60}),this.git7=this.git7||Bt(this.primaryColor,{h:120}),this.darkMode?(this.git0=Be(this.git0,25),this.git1=Be(this.git1,25),this.git2=Be(this.git2,25),this.git3=Be(this.git3,25),this.git4=Be(this.git4,25),this.git5=Be(this.git5,25),this.git6=Be(this.git6,25),this.git7=Be(this.git7,25)):(this.git0=Ge(this.git0,25),this.git1=Ge(this.git1,25),this.git2=Ge(this.git2,25),this.git3=Ge(this.git3,25),this.git4=Ge(this.git4,25),this.git5=Ge(this.git5,25),this.git6=Ge(this.git6,25),this.git7=Ge(this.git7,25)),this.gitInv0=this.gitInv0||Te(this.git0),this.gitInv1=this.gitInv1||Te(this.git1),this.gitInv2=this.gitInv2||Te(this.git2),this.gitInv3=this.gitInv3||Te(this.git3),this.gitInv4=this.gitInv4||Te(this.git4),this.gitInv5=this.gitInv5||Te(this.git5),this.gitInv6=this.gitInv6||Te(this.git6),this.gitInv7=this.gitInv7||Te(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||J5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t4}calculate(e){if(typeof e!="object")return void this.updateColors();const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},w(Rf,"Theme"),Rf),aut=w(t=>{const e=new out;return e.calculate(t),e},"getThemeVariables"),Df,sut=(Df=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Be(this.primaryColor,16),this.tertiaryColor=Bt(this.primaryColor,{h:-160}),this.primaryBorderColor=Te(this.background),this.secondaryBorderColor=Go(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Go(this.tertiaryColor,this.darkMode),this.primaryTextColor=Te(this.primaryColor),this.secondaryTextColor=Te(this.secondaryColor),this.tertiaryTextColor=Te(this.tertiaryColor),this.lineColor=Te(this.background),this.textColor=Te(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Be(Te("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=yd(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ge("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ge(this.sectionBkgColor,10),this.taskBorderColor=yd(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=yd(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,o,a,s,l,u,h,d;this.secondBkg=Be(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Be(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Be(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Bt(this.primaryColor,{h:64}),this.fillType3=Bt(this.secondaryColor,{h:64}),this.fillType4=Bt(this.primaryColor,{h:-64}),this.fillType5=Bt(this.secondaryColor,{h:-64}),this.fillType6=Bt(this.primaryColor,{h:128}),this.fillType7=Bt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Bt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Bt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Bt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Bt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Bt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Bt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Bt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Bt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Bt(this.primaryColor,{h:330});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Te(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScalePeer"+p]=this["cScalePeer"+p]||Be(this["cScale"+p],10);for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Bt(this.mainBkg,{h:30,s:-30,l:-(4*p-10)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Bt(this.mainBkg,{h:30,s:-30,l:-(4*p-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Bt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Bt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Bt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Bt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Bt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Bt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ph(this.quadrant1Fill)?Be(this.quadrant1Fill):Ge(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ge(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Be(this.secondaryColor,20),this.git1=Be(this.pie2||this.secondaryColor,20),this.git2=Be(this.pie3||this.tertiaryColor,20),this.git3=Be(this.pie4||Bt(this.primaryColor,{h:-30}),20),this.git4=Be(this.pie5||Bt(this.primaryColor,{h:-60}),20),this.git5=Be(this.pie6||Bt(this.primaryColor,{h:-90}),10),this.git6=Be(this.pie7||Bt(this.primaryColor,{h:60}),10),this.git7=Be(this.pie8||Bt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Te(this.git0),this.gitInv1=this.gitInv1||Te(this.git1),this.gitInv2=this.gitInv2||Te(this.git2),this.gitInv3=this.gitInv3||Te(this.git3),this.gitInv4=this.gitInv4||Te(this.git4),this.gitInv5=this.gitInv5||Te(this.git5),this.gitInv6=this.gitInv6||Te(this.git6),this.gitInv7=this.gitInv7||Te(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Te(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Te(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Be(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Be(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object")return void this.updateColors();const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},w(Df,"Theme"),Df),lut=w(t=>{const e=new sut;return e.calculate(t),e},"getThemeVariables"),Of,cut=(Of=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Bt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Bt(this.primaryColor,{h:-160}),this.primaryBorderColor=Go(this.primaryColor,this.darkMode),this.secondaryBorderColor=Go(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Go(this.tertiaryColor,this.darkMode),this.primaryTextColor=Te(this.primaryColor),this.secondaryTextColor=Te(this.secondaryColor),this.tertiaryTextColor=Te(this.tertiaryColor),this.lineColor=Te(this.background),this.textColor=Te(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=yd(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,o,a,s,l,u,h,d;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Bt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Bt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Bt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Bt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Bt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Bt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Bt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Bt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Bt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ge(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ge(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Ge(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Ge(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Bt(this["cScale"+p],{h:180});for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Bt(this.mainBkg,{h:30,l:-(5+5*p)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Bt(this.mainBkg,{h:30,l:-(7+5*p)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Te(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Te(this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Be(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Bt(this.primaryColor,{h:64}),this.fillType3=Bt(this.secondaryColor,{h:64}),this.fillType4=Bt(this.primaryColor,{h:-64}),this.fillType5=Bt(this.secondaryColor,{h:-64}),this.fillType6=Bt(this.primaryColor,{h:128}),this.fillType7=Bt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Bt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Bt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Bt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Bt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Bt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Bt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Bt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Bt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Bt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Bt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Bt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Bt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Bt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Bt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Bt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Bt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ph(this.quadrant1Fill)?Be(this.quadrant1Fill):Ge(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Bt(this.primaryColor,{h:-30}),this.git4=this.git4||Bt(this.primaryColor,{h:-60}),this.git5=this.git5||Bt(this.primaryColor,{h:-90}),this.git6=this.git6||Bt(this.primaryColor,{h:60}),this.git7=this.git7||Bt(this.primaryColor,{h:120}),this.darkMode?(this.git0=Be(this.git0,25),this.git1=Be(this.git1,25),this.git2=Be(this.git2,25),this.git3=Be(this.git3,25),this.git4=Be(this.git4,25),this.git5=Be(this.git5,25),this.git6=Be(this.git6,25),this.git7=Be(this.git7,25)):(this.git0=Ge(this.git0,25),this.git1=Ge(this.git1,25),this.git2=Ge(this.git2,25),this.git3=Ge(this.git3,25),this.git4=Ge(this.git4,25),this.git5=Ge(this.git5,25),this.git6=Ge(this.git6,25),this.git7=Ge(this.git7,25)),this.gitInv0=this.gitInv0||Ge(Te(this.git0),25),this.gitInv1=this.gitInv1||Te(this.git1),this.gitInv2=this.gitInv2||Te(this.git2),this.gitInv3=this.gitInv3||Te(this.git3),this.gitInv4=this.gitInv4||Te(this.git4),this.gitInv5=this.gitInv5||Te(this.git5),this.gitInv6=this.gitInv6||Te(this.git6),this.gitInv7=this.gitInv7||Te(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Te(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Te(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||J5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t4}calculate(e){if(typeof e!="object")return void this.updateColors();const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},w(Of,"Theme"),Of),IA=w(t=>{const e=new cut;return e.calculate(t),e},"getThemeVariables"),Mf,uut=(Mf=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Be("#cde498",10),this.primaryBorderColor=Go(this.primaryColor,this.darkMode),this.secondaryBorderColor=Go(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Go(this.tertiaryColor,this.darkMode),this.primaryTextColor=Te(this.primaryColor),this.secondaryTextColor=Te(this.secondaryColor),this.tertiaryTextColor=Te(this.primaryColor),this.lineColor=Te(this.background),this.textColor=Te(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,o,a,s,l,u,h,d;this.actorBorder=Ge(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Bt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Bt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Bt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Bt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Bt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Bt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Bt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Bt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Bt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ge(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ge(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Ge(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Ge(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Bt(this["cScale"+p],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Bt(this.mainBkg,{h:30,s:-30,l:-(5+5*p)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Bt(this.mainBkg,{h:30,s:-30,l:-(8+5*p)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Bt(this.primaryColor,{h:64}),this.fillType3=Bt(this.secondaryColor,{h:64}),this.fillType4=Bt(this.primaryColor,{h:-64}),this.fillType5=Bt(this.secondaryColor,{h:-64}),this.fillType6=Bt(this.primaryColor,{h:128}),this.fillType7=Bt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Bt(this.primaryColor,{l:-30}),this.pie5=this.pie5||Bt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Bt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Bt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Bt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Bt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Bt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Bt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Bt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Bt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Bt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Bt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Bt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Bt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Bt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ph(this.quadrant1Fill)?Be(this.quadrant1Fill):Ge(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Bt(this.primaryColor,{h:-30}),this.git4=this.git4||Bt(this.primaryColor,{h:-60}),this.git5=this.git5||Bt(this.primaryColor,{h:-90}),this.git6=this.git6||Bt(this.primaryColor,{h:60}),this.git7=this.git7||Bt(this.primaryColor,{h:120}),this.darkMode?(this.git0=Be(this.git0,25),this.git1=Be(this.git1,25),this.git2=Be(this.git2,25),this.git3=Be(this.git3,25),this.git4=Be(this.git4,25),this.git5=Be(this.git5,25),this.git6=Be(this.git6,25),this.git7=Be(this.git7,25)):(this.git0=Ge(this.git0,25),this.git1=Ge(this.git1,25),this.git2=Ge(this.git2,25),this.git3=Ge(this.git3,25),this.git4=Ge(this.git4,25),this.git5=Ge(this.git5,25),this.git6=Ge(this.git6,25),this.git7=Ge(this.git7,25)),this.gitInv0=this.gitInv0||Te(this.git0),this.gitInv1=this.gitInv1||Te(this.git1),this.gitInv2=this.gitInv2||Te(this.git2),this.gitInv3=this.gitInv3||Te(this.git3),this.gitInv4=this.gitInv4||Te(this.git4),this.gitInv5=this.gitInv5||Te(this.git5),this.gitInv6=this.gitInv6||Te(this.git6),this.gitInv7=this.gitInv7||Te(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Te(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Te(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||J5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t4}calculate(e){if(typeof e!="object")return void this.updateColors();const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},w(Mf,"Theme"),Mf),hut=w(t=>{const e=new uut;return e.calculate(t),e},"getThemeVariables"),Bf,dut=(Bf=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Be(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Bt(this.primaryColor,{h:-160}),this.primaryBorderColor=Go(this.primaryColor,this.darkMode),this.secondaryBorderColor=Go(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Go(this.tertiaryColor,this.darkMode),this.primaryTextColor=Te(this.primaryColor),this.secondaryTextColor=Te(this.secondaryColor),this.tertiaryTextColor=Te(this.tertiaryColor),this.lineColor=Te(this.background),this.textColor=Te(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,o,a,s,l,u,h,d;this.secondBkg=Be(this.contrast,55),this.border2=this.contrast,this.actorBorder=Be(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Te(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||Be(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||Ge(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Bt(this.mainBkg,{l:-(5+5*p)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Bt(this.mainBkg,{l:-(8+5*p)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Be(this.contrast,30),this.sectionBkgColor2=Be(this.contrast,30),this.taskBorderColor=Ge(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Be(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ge(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Bt(this.primaryColor,{h:64}),this.fillType3=Bt(this.secondaryColor,{h:64}),this.fillType4=Bt(this.primaryColor,{h:-64}),this.fillType5=Bt(this.secondaryColor,{h:-64}),this.fillType6=Bt(this.primaryColor,{h:128}),this.fillType7=Bt(this.secondaryColor,{h:128});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Bt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Bt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Bt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Bt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Bt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Bt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ph(this.quadrant1Fill)?Be(this.quadrant1Fill):Ge(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ge(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Bt(this.primaryColor,{h:-30}),this.git4=this.pie5||Bt(this.primaryColor,{h:-60}),this.git5=this.pie6||Bt(this.primaryColor,{h:-90}),this.git6=this.pie7||Bt(this.primaryColor,{h:60}),this.git7=this.pie8||Bt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Te(this.git0),this.gitInv1=this.gitInv1||Te(this.git1),this.gitInv2=this.gitInv2||Te(this.git2),this.gitInv3=this.gitInv3||Te(this.git3),this.gitInv4=this.gitInv4||Te(this.git4),this.gitInv5=this.gitInv5||Te(this.git5),this.gitInv6=this.gitInv6||Te(this.git6),this.gitInv7=this.gitInv7||Te(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||J5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||t4}calculate(e){if(typeof e!="object")return void this.updateColors();const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},w(Bf,"Theme"),Bf),Ac={base:{getThemeVariables:aut},dark:{getThemeVariables:lut},default:{getThemeVariables:IA},forest:{getThemeVariables:hut},neutral:{getThemeVariables:w(t=>{const e=new dut;return e.calculate(t),e},"getThemeVariables")}},Qc={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},zU={...Qc,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Ac.default.getThemeVariables(),sequence:{...Qc.sequence,messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:w(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:w(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Qc.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Qc.c4,useWidth:void 0,personFont:w(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:w(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:w(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:w(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:w(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:w(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:w(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:w(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:w(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:w(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:w(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:w(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:w(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:w(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:w(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:w(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:w(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:w(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:w(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:w(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:w(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Qc.pie,useWidth:984},xyChart:{...Qc.xyChart,useWidth:void 0},requirement:{...Qc.requirement,useWidth:void 0},packet:{...Qc.packet}},jU=w((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...jU(t[n],"")]:[...r,e+n],[]),"keyify"),put=new Set(jU(zU,"")),Mr=zU,Hb=w(t=>{if(et.debug("sanitizeDirective called with",t),typeof t=="object"&&t!=null)if(Array.isArray(t))t.forEach(e=>Hb(e));else{for(const e of Object.keys(t)){if(et.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!put.has(e)||t[e]==null){et.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){et.debug("sanitizing object",e),Hb(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(et.debug("sanitizing css option",e),t[e]=fut(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}et.debug("After sanitization",t)}},"sanitizeDirective"),fut=w(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),b0=Object.freeze(Mr),ga=Ti({},b0),bm=[],Ub=Ti({},b0),e4=w((t,e)=>{let r=Ti({},t),n={};for(const i of e)qU(i),n=Ti(n,i);if(r=Ti(r,n),n.theme&&n.theme in Ac){const i=Ti({},RU),o=Ti(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Ac&&(r.themeVariables=Ac[r.theme].getThemeVariables(o))}return GU(Ub=r),Ub},"updateCurrentConfig"),gut=w(t=>(ga=Ti({},b0),ga=Ti(ga,t),t.theme&&Ac[t.theme]&&(ga.themeVariables=Ac[t.theme].getThemeVariables(t.themeVariables)),e4(ga,bm),ga),"setSiteConfig"),mut=w(t=>{RU=Ti({},t)},"saveConfigFromInitialize"),yut=w(t=>(ga=Ti(ga,t),e4(ga,bm),ga),"updateSiteConfig"),HU=w(()=>Ti({},ga),"getSiteConfig"),UU=w(t=>(GU(t),Ti(Ub,t),Nn()),"setConfig"),Nn=w(()=>Ti({},Ub),"getConfig"),qU=w(t=>{t&&(["secure",...ga.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(et.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&qU(t[e])}))},"sanitize"),vut=w(t=>{var e;Hb(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),bm.push(t),e4(ga,bm)},"addDirective"),qb=w((t=ga)=>{e4(t,bm=[])},"reset"),but={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},xN={},xut=w(t=>{xN[t]||(et.warn(but[t]),xN[t]=!0)},"issueWarning"),GU=w(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&xut("LAZY_LOAD_DEPRECATED")},"checkConfig"),og=/<br\s*\/?>/gi,wut=w(t=>t?YU(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),kut=(()=>{let t=!1;return()=>{t||(WU(),t=!0)}})();function WU(){const t="data-temp-href-target";y0.addHook("beforeSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),y0.addHook("afterSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}w(WU,"setupDompurifyHooks");var VU=w(t=>(kut(),y0.sanitize(t)),"removeScript"),wN=w((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=VU(t):n!=="loose"&&(t=(t=(t=YU(t)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),t=Sut(t))}return t},"sanitizeMore"),nn=w((t,e)=>t&&(t=e.dompurifyConfig?y0.sanitize(wN(t,e),e.dompurifyConfig).toString():y0.sanitize(wN(t,e),{FORBID_TAGS:["style"]}).toString()),"sanitizeText"),Tut=w((t,e)=>typeof t=="string"?nn(t,e):t.flat().map(r=>nn(r,e)),"sanitizeTextOrArray"),Eut=w(t=>og.test(t),"hasBreaks"),_ut=w(t=>t.split(og),"splitBreaks"),Sut=w(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),YU=w(t=>t.replace(og,"#br#"),"breakToPlaceholder"),Aut=w(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},"getUrl"),sn=w(t=>t!==!1&&!["false","null","0"].includes(String(t).trim().toLowerCase()),"evaluate"),Cut=w(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),$ut=w(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),Mh=w(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const o=e[n-1],a=e[n+1];Nut(o,a)&&(i=o+","+a,n++,r.pop())}r.push(Iut(i))}return r.join("")},"parseGenericTypes"),SE=w((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Nut=w((t,e)=>{const r=SE(t,"~"),n=SE(e,"~");return r===1&&n===1},"shouldCombineSets"),Iut=w(t=>{const e=SE(t,"~");let r=!1;if(e<=1)return t;e%2!=0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),o=n.lastIndexOf("~");for(;i!==-1&&o!==-1&&i!==o;)n[i]="<",n[o]=">",i=n.indexOf("~"),o=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),kN=w(()=>window.MathMLElement!==void 0,"isMathMLSupported"),AE=/\$\$(.*)\$\$/g,Io=w(t=>{var e;return(((e=t.match(AE))==null?void 0:e.length)??0)>0},"hasKatex"),yy=w(async(t,e)=>{t=await vy(t,e);const r=document.createElement("div");r.innerHTML=t,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),vy=w(async(t,e)=>{if(!Io(t))return t;if(!(kN()||e.legacyMathML||e.forceLegacyMathML))return t.replace(AE,"MathML is unsupported in this environment.");const{default:r}=await Ur(()=>Promise.resolve().then(()=>t$t),void 0),n=e.forceLegacyMathML||!kN()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(og).map(i=>Io(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(AE,(i,o)=>r.renderToString(o,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),ne={getRows:wut,sanitizeText:nn,sanitizeTextOrArray:Tut,hasBreaks:Eut,splitBreaks:_ut,lineBreakRegex:og,removeScript:VU,getUrl:Aut,evaluate:sn,getMax:Cut,getMin:$ut},Lut=w(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),Rut=w(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),Ro=w(function(t,e,r,n){const i=Rut(e,r,n);Lut(t,i)},"configureSvgSize"),ag=w(function(t,e,r,n){const i=e.node().getBBox(),o=i.width,a=i.height;et.info(`SVG bounds: ${o}x${a}`,i);let s=0,l=0;et.info(`Graph bounds: ${s}x${l}`,t),s=o+2*r,l=a+2*r,et.info(`Calculated bounds: ${s}x${l}`),Ro(e,l,s,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",u)},"setupGraphViewbox"),H2={},Dut=w((t,e,r)=>{let n="";return t in H2&&H2[t]?n=H2[t](r):et.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),Out=w((t,e)=>{e!==void 0&&(H2[t]=e)},"addStylesForDiagram"),Mut=Dut,LA={};OU(LA,{clear:()=>Gi,getAccDescription:()=>co,getAccTitle:()=>so,getDiagramTitle:()=>uo,setAccDescription:()=>lo,setAccTitle:()=>Wi,setDiagramTitle:()=>ta});var RA="",DA="",OA="",MA=w(t=>nn(t,Nn()),"sanitizeText"),Gi=w(()=>{RA="",OA="",DA=""},"clear"),Wi=w(t=>{RA=MA(t).replace(/^\s+/g,"")},"setAccTitle"),so=w(()=>RA,"getAccTitle"),lo=w(t=>{OA=MA(t).replace(/\n\s+/g,`
`)},"setAccDescription"),co=w(()=>OA,"getAccDescription"),ta=w(t=>{DA=MA(t)},"setDiagramTitle"),uo=w(()=>DA,"getDiagramTitle"),TN=et,But=$A,Tt=Nn,EN=UU,XU=b0,KU=w(t=>nn(t,Tt()),"sanitizeText"),ZU=ag,Put=w(()=>LA,"getCommonDb"),Gb={},Wb=w((t,e,r)=>{var n;Gb[t]&&TN.warn(`Diagram with id ${t} already registered. Overwriting.`),Gb[t]=e,r&&FU(t,r),Out(t,e.styles),(n=e.injectUtils)==null||n.call(e,TN,But,Tt,KU,ZU,Put(),()=>{})},"registerDiagram"),CE=w(t=>{if(t in Gb)return Gb[t];throw new Fut(t)},"getDiagram"),Pf,Fut=(Pf=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},w(Pf,"DiagramNotFoundError"),Pf);function BA(t){return t==null}function QU(t){return typeof t=="object"&&t!==null}function JU(t){return Array.isArray(t)?t:BA(t)?[]:[t]}function tq(t,e){var r,n,i,o;if(e)for(r=0,n=(o=Object.keys(e)).length;r<n;r+=1)t[i=o[r]]=e[i];return t}function eq(t,e){var r,n="";for(r=0;r<e;r+=1)n+=t;return n}function rq(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}w(BA,"isNothing"),w(QU,"isObject"),w(JU,"toArray"),w(tq,"extend"),w(eq,"repeat"),w(rq,"isNegativeZero");var Ei={isNothing:BA,isObject:QU,toArray:JU,repeat:eq,isNegativeZero:rq,extend:tq};function $E(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function zp(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=$E(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}w($E,"formatError"),w(zp,"YAMLException$1"),zp.prototype=Object.create(Error.prototype),zp.prototype.constructor=zp,zp.prototype.toString=w(function(t){return this.name+": "+$E(this,t)},"toString");var ya=zp;function U2(t,e,r,n,i){var o="",a="",s=Math.floor(i/2)-1;return n-e>s&&(e=n-s+(o=" ... ").length),r-n>s&&(r=n+s-(a=" ...").length),{str:o+t.slice(e,r).replace(/\t/g,"→")+a,pos:n-e+o.length}}function q2(t,e){return Ei.repeat(" ",e-t.length)+t}function nq(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],o=[],a=-1;r=n.exec(t.buffer);)o.push(r.index),i.push(r.index+r[0].length),t.position<=r.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);var s,l,u="",h=Math.min(t.line+e.linesAfter,o.length).toString().length,d=e.maxLength-(e.indent+h+3);for(s=1;s<=e.linesBefore&&!(a-s<0);s++)l=U2(t.buffer,i[a-s],o[a-s],t.position-(i[a]-i[a-s]),d),u=Ei.repeat(" ",e.indent)+q2((t.line-s+1).toString(),h)+" | "+l.str+`
`+u;for(l=U2(t.buffer,i[a],o[a],t.position,d),u+=Ei.repeat(" ",e.indent)+q2((t.line+1).toString(),h)+" | "+l.str+`
`,u+=Ei.repeat("-",e.indent+h+3+l.pos)+`^
`,s=1;s<=e.linesAfter&&!(a+s>=o.length);s++)l=U2(t.buffer,i[a+s],o[a+s],t.position-(i[a]-i[a+s]),d),u+=Ei.repeat(" ",e.indent)+q2((t.line+s+1).toString(),h)+" | "+l.str+`
`;return u.replace(/\n$/,"")}w(U2,"getLine"),w(q2,"padStart"),w(nq,"makeSnippet");var zut=nq,jut=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Hut=["scalar","sequence","mapping"];function iq(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function oq(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(jut.indexOf(r)===-1)throw new ya('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=iq(e.styleAliases||null),Hut.indexOf(this.kind)===-1)throw new ya('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}w(iq,"compileStyleAliases"),w(oq,"Type$1");var No=oq;function sw(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=a)}),r[i]=n}),r}function _N(){var t,e,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(i){i.multi?(r.multi[i.kind].push(i),r.multi.fallback.push(i)):r[i.kind][i.tag]=r.fallback[i.tag]=i}for(w(n,"collectType"),t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(n);return r}function G2(t){return this.extend(t)}w(sw,"compileList"),w(_N,"compileMap"),w(G2,"Schema$1"),G2.prototype.extend=w(function(t){var e=[],r=[];if(t instanceof No)r.push(t);else if(Array.isArray(t))r=r.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new ya("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit))}e.forEach(function(i){if(!(i instanceof No))throw new ya("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new ya("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new ya("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof No))throw new ya("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(G2.prototype);return n.implicit=(this.implicit||[]).concat(e),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=sw(n,"implicit"),n.compiledExplicit=sw(n,"explicit"),n.compiledTypeMap=_N(n.compiledImplicit,n.compiledExplicit),n},"extend");var Uut=new G2({explicit:[new No("tag:yaml.org,2002:str",{kind:"scalar",construct:w(function(t){return t!==null?t:""},"construct")}),new No("tag:yaml.org,2002:seq",{kind:"sequence",construct:w(function(t){return t!==null?t:[]},"construct")}),new No("tag:yaml.org,2002:map",{kind:"mapping",construct:w(function(t){return t!==null?t:{}},"construct")})]});function aq(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function sq(){return null}function lq(t){return t===null}w(aq,"resolveYamlNull"),w(sq,"constructYamlNull"),w(lq,"isNull");var qut=new No("tag:yaml.org,2002:null",{kind:"scalar",resolve:aq,construct:sq,predicate:lq,represent:{canonical:w(function(){return"~"},"canonical"),lowercase:w(function(){return"null"},"lowercase"),uppercase:w(function(){return"NULL"},"uppercase"),camelcase:w(function(){return"Null"},"camelcase"),empty:w(function(){return""},"empty")},defaultStyle:"lowercase"});function cq(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function uq(t){return t==="true"||t==="True"||t==="TRUE"}function hq(t){return Object.prototype.toString.call(t)==="[object Boolean]"}w(cq,"resolveYamlBoolean"),w(uq,"constructYamlBoolean"),w(hq,"isBoolean");var Gut=new No("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cq,construct:uq,predicate:hq,represent:{lowercase:w(function(t){return t?"true":"false"},"lowercase"),uppercase:w(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:w(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function dq(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function pq(t){return 48<=t&&t<=55}function fq(t){return 48<=t&&t<=57}function gq(t){if(t===null)return!1;var e,r=t.length,n=0,i=!1;if(!r)return!1;if((e=t[n])!=="-"&&e!=="+"||(e=t[++n]),e==="0"){if(n+1===r)return!0;if((e=t[++n])==="b"){for(n++;n<r;n++)if((e=t[n])!=="_"){if(e!=="0"&&e!=="1")return!1;i=!0}return i&&e!=="_"}if(e==="x"){for(n++;n<r;n++)if((e=t[n])!=="_"){if(!dq(t.charCodeAt(n)))return!1;i=!0}return i&&e!=="_"}if(e==="o"){for(n++;n<r;n++)if((e=t[n])!=="_"){if(!pq(t.charCodeAt(n)))return!1;i=!0}return i&&e!=="_"}}if(e==="_")return!1;for(;n<r;n++)if((e=t[n])!=="_"){if(!fq(t.charCodeAt(n)))return!1;i=!0}return!(!i||e==="_")}function mq(t){var e,r=t,n=1;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),(e=r[0])!=="-"&&e!=="+"||(e==="-"&&(n=-1),e=(r=r.slice(1))[0]),r==="0")return 0;if(e==="0"){if(r[1]==="b")return n*parseInt(r.slice(2),2);if(r[1]==="x")return n*parseInt(r.slice(2),16);if(r[1]==="o")return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)}function yq(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1==0&&!Ei.isNegativeZero(t)}w(dq,"isHexCode"),w(pq,"isOctCode"),w(fq,"isDecCode"),w(gq,"resolveYamlInteger"),w(mq,"constructYamlInteger"),w(yq,"isInteger");var Wut=new No("tag:yaml.org,2002:int",{kind:"scalar",resolve:gq,construct:mq,predicate:yq,represent:{binary:w(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:w(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:w(function(t){return t.toString(10)},"decimal"),hexadecimal:w(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Vut=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function vq(t){return t!==null&&!(!Vut.test(t)||t[t.length-1]==="_")}function bq(t){var e,r;return r=(e=t.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}w(vq,"resolveYamlFloat"),w(bq,"constructYamlFloat");var Yut=/^[-+]?[0-9]+e/;function xq(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ei.isNegativeZero(t))return"-0.0";return r=t.toString(10),Yut.test(r)?r.replace("e",".e"):r}function wq(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!=0||Ei.isNegativeZero(t))}w(xq,"representYamlFloat"),w(wq,"isFloat");var Xut=new No("tag:yaml.org,2002:float",{kind:"scalar",resolve:vq,construct:bq,predicate:wq,represent:xq,defaultStyle:"lowercase"}),kq=Uut.extend({implicit:[qut,Gut,Wut,Xut]}),Kut=kq,Tq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Eq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function _q(t){return t!==null&&(Tq.exec(t)!==null||Eq.exec(t)!==null)}function Sq(t){var e,r,n,i,o,a,s,l,u=0,h=null;if((e=Tq.exec(t))===null&&(e=Eq.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(o=+e[4],a=+e[5],s=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(h=6e4*(60*+e[10]+ +(e[11]||0)),e[9]==="-"&&(h=-h)),l=new Date(Date.UTC(r,n,i,o,a,s,u)),h&&l.setTime(l.getTime()-h),l}function Aq(t){return t.toISOString()}w(_q,"resolveYamlTimestamp"),w(Sq,"constructYamlTimestamp"),w(Aq,"representYamlTimestamp");var Zut=new No("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:_q,construct:Sq,instanceOf:Date,represent:Aq});function Cq(t){return t==="<<"||t===null}w(Cq,"resolveYamlMerge");var Qut=new No("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Cq}),PA=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function $q(t){if(t===null)return!1;var e,r,n=0,i=t.length,o=PA;for(r=0;r<i;r++)if(!((e=o.indexOf(t.charAt(r)))>64)){if(e<0)return!1;n+=6}return n%8==0}function Nq(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,o=PA,a=0,s=[];for(e=0;e<i;e++)e%4==0&&e&&(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),a=a<<6|o.indexOf(n.charAt(e));return(r=i%4*6)===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)):r===18?(s.push(a>>10&255),s.push(a>>2&255)):r===12&&s.push(a>>4&255),new Uint8Array(s)}function Iq(t){var e,r,n="",i=0,o=t.length,a=PA;for(e=0;e<o;e++)e%3==0&&e&&(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]),i=(i<<8)+t[e];return(r=o%3)===0?(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]):r===2?(n+=a[i>>10&63],n+=a[i>>4&63],n+=a[i<<2&63],n+=a[64]):r===1&&(n+=a[i>>2&63],n+=a[i<<4&63],n+=a[64],n+=a[64]),n}function Lq(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}w($q,"resolveYamlBinary"),w(Nq,"constructYamlBinary"),w(Iq,"representYamlBinary"),w(Lq,"isBinary");var Jut=new No("tag:yaml.org,2002:binary",{kind:"scalar",resolve:$q,construct:Nq,predicate:Lq,represent:Iq}),tht=Object.prototype.hasOwnProperty,eht=Object.prototype.toString;function Rq(t){if(t===null)return!0;var e,r,n,i,o,a=[],s=t;for(e=0,r=s.length;e<r;e+=1){if(n=s[e],o=!1,eht.call(n)!=="[object Object]")return!1;for(i in n)if(tht.call(n,i)){if(o)return!1;o=!0}if(!o||a.indexOf(i)!==-1)return!1;a.push(i)}return!0}function Dq(t){return t!==null?t:[]}w(Rq,"resolveYamlOmap"),w(Dq,"constructYamlOmap");var rht=new No("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Rq,construct:Dq}),nht=Object.prototype.toString;function Oq(t){if(t===null)return!0;var e,r,n,i,o,a=t;for(o=new Array(a.length),e=0,r=a.length;e<r;e+=1){if(n=a[e],nht.call(n)!=="[object Object]"||(i=Object.keys(n)).length!==1)return!1;o[e]=[i[0],n[i[0]]]}return!0}function Mq(t){if(t===null)return[];var e,r,n,i,o,a=t;for(o=new Array(a.length),e=0,r=a.length;e<r;e+=1)n=a[e],i=Object.keys(n),o[e]=[i[0],n[i[0]]];return o}w(Oq,"resolveYamlPairs"),w(Mq,"constructYamlPairs");var iht=new No("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Oq,construct:Mq}),oht=Object.prototype.hasOwnProperty;function Bq(t){if(t===null)return!0;var e,r=t;for(e in r)if(oht.call(r,e)&&r[e]!==null)return!1;return!0}function Pq(t){return t!==null?t:{}}w(Bq,"resolveYamlSet"),w(Pq,"constructYamlSet");var aht=new No("tag:yaml.org,2002:set",{kind:"mapping",resolve:Bq,construct:Pq}),Fq=Kut.extend({implicit:[Zut,Qut],explicit:[Jut,rht,iht,aht]}),Vu=Object.prototype.hasOwnProperty,sht=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,lht=/[\x85\u2028\u2029]/,cht=/[,\[\]\{\}]/,zq=/^(?:!|!!|![a-z\-]+!)$/i,jq=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function NE(t){return Object.prototype.toString.call(t)}function Ks(t){return t===10||t===13}function Fu(t){return t===9||t===32}function Wo(t){return t===9||t===32||t===10||t===13}function ad(t){return t===44||t===91||t===93||t===123||t===125}function Hq(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function Uq(t){return t===120?2:t===117?4:t===85?8:0}function qq(t){return 48<=t&&t<=57?t-48:-1}function IE(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function Gq(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}w(NE,"_class"),w(Ks,"is_EOL"),w(Fu,"is_WHITE_SPACE"),w(Wo,"is_WS_OR_EOL"),w(ad,"is_FLOW_INDICATOR"),w(Hq,"fromHexCode"),w(Uq,"escapedHexLen"),w(qq,"fromDecimalCode"),w(IE,"simpleEscapeSequence"),w(Gq,"charFromCodepoint");var Th,Wq=new Array(256),Vq=new Array(256);for(Th=0;Th<256;Th++)Wq[Th]=IE(Th)?1:0,Vq[Th]=IE(Th);function Yq(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Fq,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function FA(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=zut(r),new ya(e,r)}function He(t,e){throw FA(t,e)}function xm(t,e){t.onWarning&&t.onWarning.call(null,FA(t,e))}w(Yq,"State$1"),w(FA,"generateError"),w(He,"throwError"),w(xm,"throwWarning");var SN={YAML:w(function(t,e,r){var n,i,o;t.version!==null&&He(t,"duplication of %YAML directive"),r.length!==1&&He(t,"YAML directive accepts exactly one argument"),(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))===null&&He(t,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),o=parseInt(n[2],10),i!==1&&He(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&xm(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:w(function(t,e,r){var n,i;r.length!==2&&He(t,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],zq.test(n)||He(t,"ill-formed tag handle (first argument) of the TAG directive"),Vu.call(t.tagMap,n)&&He(t,'there is a previously declared suffix for "'+n+'" tag handle'),jq.test(i)||He(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{He(t,"tag prefix is malformed: "+i)}t.tagMap[n]=i},"handleTagDirective")};function Cc(t,e,r,n){var i,o,a,s;if(e<r){if(s=t.input.slice(e,r),n)for(i=0,o=s.length;i<o;i+=1)(a=s.charCodeAt(i))===9||32<=a&&a<=1114111||He(t,"expected valid JSON character");else sht.test(s)&&He(t,"the stream contains non-printable characters");t.result+=s}}function LE(t,e,r,n){var i,o,a,s;for(Ei.isObject(r)||He(t,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(i=Object.keys(r)).length;a<s;a+=1)o=i[a],Vu.call(e,o)||(e[o]=r[o],n[o]=!0)}function sd(t,e,r,n,i,o,a,s,l){var u,h;if(Array.isArray(i))for(u=0,h=(i=Array.prototype.slice.call(i)).length;u<h;u+=1)Array.isArray(i[u])&&He(t,"nested arrays are not supported inside keys"),typeof i=="object"&&NE(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&NE(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,h=o.length;u<h;u+=1)LE(t,e,o[u],r);else LE(t,e,o,r);else t.json||Vu.call(r,i)||!Vu.call(e,i)||(t.line=a||t.line,t.lineStart=s||t.lineStart,t.position=l||t.position,He(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete r[i];return e}function r4(t){var e;(e=t.input.charCodeAt(t.position))===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):He(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function ti(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Fu(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(!Ks(i))break;for(r4(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return r!==-1&&n!==0&&t.lineIndent<r&&xm(t,"deficient indentation"),n}function by(t){var e,r=t.position;return!((e=t.input.charCodeAt(r))!==45&&e!==46||e!==t.input.charCodeAt(r+1)||e!==t.input.charCodeAt(r+2)||(r+=3,(e=t.input.charCodeAt(r))!==0&&!Wo(e)))}function n4(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ei.repeat(`
`,e-1))}function Xq(t,e,r){var n,i,o,a,s,l,u,h,d=t.kind,p=t.result;if(Wo(h=t.input.charCodeAt(t.position))||ad(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(Wo(n=t.input.charCodeAt(t.position+1))||r&&ad(n)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,a=!1;h!==0;){if(h===58){if(Wo(n=t.input.charCodeAt(t.position+1))||r&&ad(n))break}else if(h===35){if(Wo(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&by(t)||r&&ad(h))break;if(Ks(h)){if(s=t.line,l=t.lineStart,u=t.lineIndent,ti(t,!1,-1),t.lineIndent>=e){a=!0,h=t.input.charCodeAt(t.position);continue}t.position=o,t.line=s,t.lineStart=l,t.lineIndent=u;break}}a&&(Cc(t,i,o,!1),n4(t,t.line-s),i=o=t.position,a=!1),Fu(h)||(o=t.position+1),h=t.input.charCodeAt(++t.position)}return Cc(t,i,o,!1),!!t.result||(t.kind=d,t.result=p,!1)}function Kq(t,e){var r,n,i;if((r=t.input.charCodeAt(t.position))!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39){if(Cc(t,n,t.position,!0),(r=t.input.charCodeAt(++t.position))!==39)return!0;n=t.position,t.position++,i=t.position}else Ks(r)?(Cc(t,n,i,!0),n4(t,ti(t,!1,e)),n=i=t.position):t.position===t.lineStart&&by(t)?He(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);He(t,"unexpected end of the stream within a single quoted scalar")}function Zq(t,e){var r,n,i,o,a,s;if((s=t.input.charCodeAt(t.position))!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(s=t.input.charCodeAt(t.position))!==0;){if(s===34)return Cc(t,r,t.position,!0),t.position++,!0;if(s===92){if(Cc(t,r,t.position,!0),Ks(s=t.input.charCodeAt(++t.position)))ti(t,!1,e);else if(s<256&&Wq[s])t.result+=Vq[s],t.position++;else if((a=Uq(s))>0){for(i=a,o=0;i>0;i--)(a=Hq(s=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+a:He(t,"expected hexadecimal character");t.result+=Gq(o),t.position++}else He(t,"unknown escape sequence");r=n=t.position}else Ks(s)?(Cc(t,r,n,!0),n4(t,ti(t,!1,e)),r=n=t.position):t.position===t.lineStart&&by(t)?He(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}He(t,"unexpected end of the stream within a double quoted scalar")}function Qq(t,e){var r,n,i,o,a,s,l,u,h,d,p,f,g=!0,m=t.tag,y=t.anchor,v=Object.create(null);if((f=t.input.charCodeAt(t.position))===91)a=93,u=!1,o=[];else{if(f!==123)return!1;a=125,u=!0,o={}}for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),f=t.input.charCodeAt(++t.position);f!==0;){if(ti(t,!0,e),(f=t.input.charCodeAt(t.position))===a)return t.position++,t.tag=m,t.anchor=y,t.kind=u?"mapping":"sequence",t.result=o,!0;g?f===44&&He(t,"expected the node content, but found ','"):He(t,"missed comma between flow collection entries"),p=null,s=l=!1,f===63&&Wo(t.input.charCodeAt(t.position+1))&&(s=l=!0,t.position++,ti(t,!0,e)),r=t.line,n=t.lineStart,i=t.position,Sd(t,e,1,!1,!0),d=t.tag,h=t.result,ti(t,!0,e),f=t.input.charCodeAt(t.position),!l&&t.line!==r||f!==58||(s=!0,f=t.input.charCodeAt(++t.position),ti(t,!0,e),Sd(t,e,1,!1,!0),p=t.result),u?sd(t,o,v,d,h,p,r,n,i):s?o.push(sd(t,null,v,d,h,p,r,n,i)):o.push(h),ti(t,!0,e),(f=t.input.charCodeAt(t.position))===44?(g=!0,f=t.input.charCodeAt(++t.position)):g=!1}He(t,"unexpected end of the stream within a flow collection")}function Jq(t,e){var r,n,i,o,a=1,s=!1,l=!1,u=e,h=0,d=!1;if((o=t.input.charCodeAt(t.position))===124)n=!1;else{if(o!==62)return!1;n=!0}for(t.kind="scalar",t.result="";o!==0;)if((o=t.input.charCodeAt(++t.position))===43||o===45)a===1?a=o===43?3:2:He(t,"repeat of a chomping mode identifier");else{if(!((i=qq(o))>=0))break;i===0?He(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?He(t,"repeat of an indentation width identifier"):(u=e+i-1,l=!0)}if(Fu(o)){do o=t.input.charCodeAt(++t.position);while(Fu(o));if(o===35)do o=t.input.charCodeAt(++t.position);while(!Ks(o)&&o!==0)}for(;o!==0;){for(r4(t),t.lineIndent=0,o=t.input.charCodeAt(t.position);(!l||t.lineIndent<u)&&o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>u&&(u=t.lineIndent),Ks(o))h++;else{if(t.lineIndent<u){a===3?t.result+=Ei.repeat(`
`,s?1+h:h):a===1&&s&&(t.result+=`
`);break}for(n?Fu(o)?(d=!0,t.result+=Ei.repeat(`
`,s?1+h:h)):d?(d=!1,t.result+=Ei.repeat(`
`,h+1)):h===0?s&&(t.result+=" "):t.result+=Ei.repeat(`
`,h):t.result+=Ei.repeat(`
`,s?1+h:h),s=!0,l=!0,h=0,r=t.position;!Ks(o)&&o!==0;)o=t.input.charCodeAt(++t.position);Cc(t,r,t.position,!1)}}return!0}function RE(t,e){var r,n,i=t.tag,o=t.anchor,a=[],s=!1;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),n=t.input.charCodeAt(t.position);n!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,He(t,"tab characters must not be used in indentation")),n===45)&&Wo(t.input.charCodeAt(t.position+1));)if(s=!0,t.position++,ti(t,!0,-1)&&t.lineIndent<=e)a.push(null),n=t.input.charCodeAt(t.position);else if(r=t.line,Sd(t,e,3,!1,!0),a.push(t.result),ti(t,!0,-1),n=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&n!==0)He(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!s&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=a,!0)}function tG(t,e,r){var n,i,o,a,s,l,u,h=t.tag,d=t.anchor,p={},f=Object.create(null),g=null,m=null,y=null,v=!1,x=!1;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=p),u=t.input.charCodeAt(t.position);u!==0;){if(v||t.firstTabInLine===-1||(t.position=t.firstTabInLine,He(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),o=t.line,u!==63&&u!==58||!Wo(n)){if(a=t.line,s=t.lineStart,l=t.position,!Sd(t,r,2,!1,!0))break;if(t.line===o){for(u=t.input.charCodeAt(t.position);Fu(u);)u=t.input.charCodeAt(++t.position);if(u===58)Wo(u=t.input.charCodeAt(++t.position))||He(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(sd(t,p,f,g,m,null,a,s,l),g=m=y=null),x=!0,v=!1,i=!1,g=t.tag,m=t.result;else{if(!x)return t.tag=h,t.anchor=d,!0;He(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!x)return t.tag=h,t.anchor=d,!0;He(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else u===63?(v&&(sd(t,p,f,g,m,null,a,s,l),g=m=y=null),x=!0,v=!0,i=!0):v?(v=!1,i=!0):He(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=n;if((t.line===o||t.lineIndent>e)&&(v&&(a=t.line,s=t.lineStart,l=t.position),Sd(t,e,4,!0,i)&&(v?m=t.result:y=t.result),v||(sd(t,p,f,g,m,y,a,s,l),g=m=y=null),ti(t,!0,-1),u=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&u!==0)He(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&sd(t,p,f,g,m,null,a,s,l),x&&(t.tag=h,t.anchor=d,t.kind="mapping",t.result=p),x}function eG(t){var e,r,n,i,o=!1,a=!1;if((i=t.input.charCodeAt(t.position))!==33)return!1;if(t.tag!==null&&He(t,"duplication of a tag property"),(i=t.input.charCodeAt(++t.position))===60?(o=!0,i=t.input.charCodeAt(++t.position)):i===33?(a=!0,r="!!",i=t.input.charCodeAt(++t.position)):r="!",e=t.position,o){do i=t.input.charCodeAt(++t.position);while(i!==0&&i!==62);t.position<t.length?(n=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):He(t,"unexpected end of the stream within a verbatim tag")}else{for(;i!==0&&!Wo(i);)i===33&&(a?He(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),zq.test(r)||He(t,"named tag handle cannot contain such characters"),a=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);n=t.input.slice(e,t.position),cht.test(n)&&He(t,"tag suffix cannot contain flow indicator characters")}n&&!jq.test(n)&&He(t,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch{He(t,"tag name is malformed: "+n)}return o?t.tag=n:Vu.call(t.tagMap,r)?t.tag=t.tagMap[r]+n:r==="!"?t.tag="!"+n:r==="!!"?t.tag="tag:yaml.org,2002:"+n:He(t,'undeclared tag handle "'+r+'"'),!0}function rG(t){var e,r;if((r=t.input.charCodeAt(t.position))!==38)return!1;for(t.anchor!==null&&He(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Wo(r)&&!ad(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&He(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function nG(t){var e,r,n;if((n=t.input.charCodeAt(t.position))!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Wo(n)&&!ad(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&He(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Vu.call(t.anchorMap,r)||He(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],ti(t,!0,-1),!0}function Sd(t,e,r,n,i){var o,a,s,l,u,h,d,p,f,g=1,m=!1,y=!1;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=a=s=r===4||r===3,n&&ti(t,!0,-1)&&(m=!0,t.lineIndent>e?g=1:t.lineIndent===e?g=0:t.lineIndent<e&&(g=-1)),g===1)for(;eG(t)||rG(t);)ti(t,!0,-1)?(m=!0,s=o,t.lineIndent>e?g=1:t.lineIndent===e?g=0:t.lineIndent<e&&(g=-1)):s=!1;if(s&&(s=m||i),g!==1&&r!==4||(p=r===1||r===2?e:e+1,f=t.position-t.lineStart,g===1?s&&(RE(t,f)||tG(t,f,p))||Qq(t,p)?y=!0:(a&&Jq(t,p)||Kq(t,p)||Zq(t,p)?y=!0:nG(t)?(y=!0,t.tag===null&&t.anchor===null||He(t,"alias node should not have any properties")):Xq(t,p,r===1)&&(y=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):g===0&&(y=s&&RE(t,f))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&He(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),l=0,u=t.implicitTypes.length;l<u;l+=1)if((d=t.implicitTypes[l]).resolve(t.result)){t.result=d.construct(t.result),t.tag=d.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Vu.call(t.typeMap[t.kind||"fallback"],t.tag))d=t.typeMap[t.kind||"fallback"][t.tag];else for(d=null,l=0,u=(h=t.typeMap.multi[t.kind||"fallback"]).length;l<u;l+=1)if(t.tag.slice(0,h[l].tag.length)===h[l].tag){d=h[l];break}d||He(t,"unknown tag !<"+t.tag+">"),t.result!==null&&d.kind!==t.kind&&He(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+d.kind+'", not "'+t.kind+'"'),d.resolve(t.result,t.tag)?(t.result=d.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):He(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||y}function iG(t){var e,r,n,i,o=t.position,a=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(i=t.input.charCodeAt(t.position))!==0&&(ti(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||i!==37));){for(a=!0,i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Wo(i);)i=t.input.charCodeAt(++t.position);for(n=[],(r=t.input.slice(e,t.position)).length<1&&He(t,"directive name must not be less than one character in length");i!==0;){for(;Fu(i);)i=t.input.charCodeAt(++t.position);if(i===35){do i=t.input.charCodeAt(++t.position);while(i!==0&&!Ks(i));break}if(Ks(i))break;for(e=t.position;i!==0&&!Wo(i);)i=t.input.charCodeAt(++t.position);n.push(t.input.slice(e,t.position))}i!==0&&r4(t),Vu.call(SN,r)?SN[r](t,r,n):xm(t,'unknown document directive "'+r+'"')}ti(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ti(t,!0,-1)):a&&He(t,"directives end mark is expected"),Sd(t,t.lineIndent-1,4,!1,!0),ti(t,!0,-1),t.checkLineBreaks&&lht.test(t.input.slice(o,t.position))&&xm(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&by(t)?t.input.charCodeAt(t.position)===46&&(t.position+=3,ti(t,!0,-1)):t.position<t.length-1&&He(t,"end of the stream or a document separator is expected")}function zA(t,e){e=e||{},(t=String(t)).length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Yq(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,He(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)iG(r);return r.documents}function oG(t,e,r){e!==null&&typeof e=="object"&&r===void 0&&(r=e,e=null);var n=zA(t,r);if(typeof e!="function")return n;for(var i=0,o=n.length;i<o;i+=1)e(n[i])}function aG(t,e){var r=zA(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new ya("expected a single document in the stream, but found more")}}w(Cc,"captureSegment"),w(LE,"mergeMappings"),w(sd,"storeMappingPair"),w(r4,"readLineBreak"),w(ti,"skipSeparationSpace"),w(by,"testDocumentSeparator"),w(n4,"writeFoldedLines"),w(Xq,"readPlainScalar"),w(Kq,"readSingleQuotedScalar"),w(Zq,"readDoubleQuotedScalar"),w(Qq,"readFlowCollection"),w(Jq,"readBlockScalar"),w(RE,"readBlockSequence"),w(tG,"readBlockMapping"),w(eG,"readTagProperty"),w(rG,"readAnchorProperty"),w(nG,"readAlias"),w(Sd,"composeNode"),w(iG,"readDocument"),w(zA,"loadDocuments"),w(oG,"loadAll$1"),w(aG,"load$1");var uht={loadAll:oG,load:aG},sG=Object.prototype.toString,lG=Object.prototype.hasOwnProperty,jA=65279,hht={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},dht=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],pht=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function cG(t,e){var r,n,i,o,a,s,l;if(e===null)return{};for(r={},i=0,o=(n=Object.keys(e)).length;i<o;i+=1)a=n[i],s=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),(l=t.compiledTypeMap.fallback[a])&&lG.call(l.styleAliases,s)&&(s=l.styleAliases[s]),r[a]=s;return r}function uG(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else{if(!(t<=4294967295))throw new ya("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+Ei.repeat("0",n-e.length)+e}w(cG,"compileStyleMap"),w(uG,"encodeHex");function hG(t){this.schema=t.schema||Fq,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ei.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=cG(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?2:1,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function DE(t,e){for(var r,n=Ei.repeat(" ",e),i=0,o=-1,a="",s=t.length;i<s;)(o=t.indexOf(`
`,i))===-1?(r=t.slice(i),i=s):(r=t.slice(i,o+1),i=o+1),r.length&&r!==`
`&&(a+=n),a+=r;return a}function Vb(t,e){return`
`+Ei.repeat(" ",t.indent*e)}function dG(t,e){var r,n;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(t.implicitTypes[r].resolve(e))return!0;return!1}function wm(t){return t===32||t===9}function x0(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==jA||65536<=t&&t<=1114111}function OE(t){return x0(t)&&t!==jA&&t!==13&&t!==10}function ME(t,e,r){var n=OE(t),i=n&&!wm(t);return(r?n:n&&t!==44&&t!==91&&t!==93&&t!==123&&t!==125)&&t!==35&&!(e===58&&!i)||OE(e)&&!wm(e)&&t===35||e===58&&i}function pG(t){return x0(t)&&t!==jA&&!wm(t)&&t!==45&&t!==63&&t!==58&&t!==44&&t!==91&&t!==93&&t!==123&&t!==125&&t!==35&&t!==38&&t!==42&&t!==33&&t!==124&&t!==61&&t!==62&&t!==39&&t!==34&&t!==37&&t!==64&&t!==96}function fG(t){return!wm(t)&&t!==58}function Qp(t,e){var r,n=t.charCodeAt(e);return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function HA(t){return/^\n* /.test(t)}w(hG,"State"),w(DE,"indentString"),w(Vb,"generateNextLine"),w(dG,"testImplicitResolving"),w(wm,"isWhitespace"),w(x0,"isPrintable"),w(OE,"isNsCharOrWhitespace"),w(ME,"isPlainSafe"),w(pG,"isPlainSafeFirst"),w(fG,"isPlainSafeLast"),w(Qp,"codePointAt"),w(HA,"needIndentIndicator");function gG(t,e,r,n,i,o,a,s){var l,u=0,h=null,d=!1,p=!1,f=n!==-1,g=-1,m=pG(Qp(t,0))&&fG(Qp(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(!x0(u=Qp(t,l)))return 5;m=m&&ME(u,h,s),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if((u=Qp(t,l))===10)d=!0,f&&(p=p||l-g-1>n&&t[g+1]!==" ",g=l);else if(!x0(u))return 5;m=m&&ME(u,h,s),h=u}p=p||f&&l-g-1>n&&t[g+1]!==" "}return d||p?r>9&&HA(t)?5:a?o===2?5:2:p?4:3:!m||a||i(t)?o===2?5:2:1}function mG(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===2?'""':"''";if(!t.noCompatMode&&(dht.indexOf(e)!==-1||pht.test(e)))return t.quotingType===2?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,r),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),s=n||t.flowLevel>-1&&r>=t.flowLevel;function l(u){return dG(t,u)}switch(w(l,"testAmbiguity"),gG(e,s,t.indent,a,l,t.quotingType,t.forceQuotes&&!n,i)){case 1:return e;case 2:return"'"+e.replace(/'/g,"''")+"'";case 3:return"|"+BE(e,t.indent)+PE(DE(e,o));case 4:return">"+BE(e,t.indent)+PE(DE(yG(e,a),o));case 5:return'"'+vG(e)+'"';default:throw new ya("impossible error: invalid scalar style")}}()}function BE(t,e){var r=HA(t)?String(e):"",n=t[t.length-1]===`
`;return r+(n&&(t[t.length-2]===`
`||t===`
`)?"+":n?"":"-")+`
`}function PE(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function yG(t,e){for(var r,n,i,o=/(\n+)([^\n]*)/g,a=(r=(r=t.indexOf(`
`))!==-1?r:t.length,o.lastIndex=r,FE(t.slice(0,r),e)),s=t[0]===`
`||t[0]===" ";i=o.exec(t);){var l=i[1],u=i[2];n=u[0]===" ",a+=l+(s||n||u===""?"":`
`)+FE(u,e),s=n}return a}function FE(t,e){if(t===""||t[0]===" ")return t;for(var r,n,i=/ [^ ]/g,o=0,a=0,s=0,l="";r=i.exec(t);)(s=r.index)-o>e&&(n=a>o?a:s,l+=`
`+t.slice(o,n),o=n+1),a=s;return l+=`
`,t.length-o>e&&a>o?l+=t.slice(o,a)+`
`+t.slice(a+1):l+=t.slice(o),l.slice(1)}function vG(t){for(var e,r="",n=0,i=0;i<t.length;n>=65536?i+=2:i++)n=Qp(t,i),!(e=hht[n])&&x0(n)?(r+=t[i],n>=65536&&(r+=t[i+1])):r+=e||uG(n);return r}function bG(t,e,r){var n,i,o,a="",s=t.tag;for(n=0,i=r.length;n<i;n+=1)o=r[n],t.replacer&&(o=t.replacer.call(r,String(n),o)),(Hl(t,e,o,!1,!1)||o===void 0&&Hl(t,e,null,!1,!1))&&(a!==""&&(a+=","+(t.condenseFlow?"":" ")),a+=t.dump);t.tag=s,t.dump="["+a+"]"}function zE(t,e,r,n){var i,o,a,s="",l=t.tag;for(i=0,o=r.length;i<o;i+=1)a=r[i],t.replacer&&(a=t.replacer.call(r,String(i),a)),(Hl(t,e+1,a,!0,!0,!1,!0)||a===void 0&&Hl(t,e+1,null,!0,!0,!1,!0))&&(n&&s===""||(s+=Vb(t,e)),t.dump&&t.dump.charCodeAt(0)===10?s+="-":s+="- ",s+=t.dump);t.tag=l,t.dump=s||"[]"}function xG(t,e,r){var n,i,o,a,s,l="",u=t.tag,h=Object.keys(r);for(n=0,i=h.length;n<i;n+=1)s="",l!==""&&(s+=", "),t.condenseFlow&&(s+='"'),a=r[o=h[n]],t.replacer&&(a=t.replacer.call(r,o,a)),Hl(t,e,o,!1,!1)&&(t.dump.length>1024&&(s+="? "),s+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Hl(t,e,a,!1,!1)&&(l+=s+=t.dump));t.tag=u,t.dump="{"+l+"}"}function wG(t,e,r,n){var i,o,a,s,l,u,h="",d=t.tag,p=Object.keys(r);if(t.sortKeys===!0)p.sort();else if(typeof t.sortKeys=="function")p.sort(t.sortKeys);else if(t.sortKeys)throw new ya("sortKeys must be a boolean or a function");for(i=0,o=p.length;i<o;i+=1)u="",n&&h===""||(u+=Vb(t,e)),s=r[a=p[i]],t.replacer&&(s=t.replacer.call(r,a,s)),Hl(t,e+1,a,!0,!0,!0)&&((l=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024)&&(t.dump&&t.dump.charCodeAt(0)===10?u+="?":u+="? "),u+=t.dump,l&&(u+=Vb(t,e)),Hl(t,e+1,s,!0,l)&&(t.dump&&t.dump.charCodeAt(0)===10?u+=":":u+=": ",h+=u+=t.dump));t.tag=d,t.dump=h||"{}"}function jE(t,e,r){var n,i,o,a,s,l;for(o=0,a=(i=r?t.explicitTypes:t.implicitTypes).length;o<a;o+=1)if(((s=i[o]).instanceOf||s.predicate)&&(!s.instanceOf||typeof e=="object"&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(r?s.multi&&s.representName?t.tag=s.representName(e):t.tag=s.tag:t.tag="?",s.represent){if(l=t.styleMap[s.tag]||s.defaultStyle,sG.call(s.represent)==="[object Function]")n=s.represent(e,l);else{if(!lG.call(s.represent,l))throw new ya("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');n=s.represent[l](e,l)}t.dump=n}return!0}return!1}function Hl(t,e,r,n,i,o,a){t.tag=null,t.dump=r,jE(t,r,!1)||jE(t,r,!0);var s,l=sG.call(t.dump),u=n;n&&(n=t.flowLevel<0||t.flowLevel>e);var h,d,p=l==="[object Object]"||l==="[object Array]";if(p&&(d=(h=t.duplicates.indexOf(r))!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[h])t.dump="*ref_"+h;else{if(p&&d&&!t.usedDuplicates[h]&&(t.usedDuplicates[h]=!0),l==="[object Object]")n&&Object.keys(t.dump).length!==0?(wG(t,e,t.dump,i),d&&(t.dump="&ref_"+h+t.dump)):(xG(t,e,t.dump),d&&(t.dump="&ref_"+h+" "+t.dump));else if(l==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?zE(t,e-1,t.dump,i):zE(t,e,t.dump,i),d&&(t.dump="&ref_"+h+t.dump)):(bG(t,e,t.dump),d&&(t.dump="&ref_"+h+" "+t.dump));else{if(l!=="[object String]"){if(l==="[object Undefined]"||t.skipInvalid)return!1;throw new ya("unacceptable kind of an object to dump "+l)}t.tag!=="?"&&mG(t,t.dump,e,o,u)}t.tag!==null&&t.tag!=="?"&&(s=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),s=t.tag[0]==="!"?"!"+s:s.slice(0,18)==="tag:yaml.org,2002:"?"!!"+s.slice(18):"!<"+s+">",t.dump=s+" "+t.dump)}return!0}function AN(t,e){var r,n,i=[],o=[];for(Yb(t,i,o),r=0,n=o.length;r<n;r+=1)e.duplicates.push(i[o[r]]);e.usedDuplicates=new Array(n)}function Yb(t,e,r){var n,i,o;if(t!==null&&typeof t=="object")if((i=e.indexOf(t))!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)Yb(t[i],e,r);else for(i=0,o=(n=Object.keys(t)).length;i<o;i+=1)Yb(t[n[i]],e,r)}w(gG,"chooseScalarStyle"),w(mG,"writeScalar"),w(BE,"blockHeader"),w(PE,"dropEndingNewline"),w(yG,"foldString"),w(FE,"foldLine"),w(vG,"escapeString"),w(bG,"writeFlowSequence"),w(zE,"writeBlockSequence"),w(xG,"writeFlowMapping"),w(wG,"writeBlockMapping"),w(jE,"detectType"),w(Hl,"writeNode"),w(AN,"getDuplicateReferences"),w(Yb,"inspectNode"),w(function(t,e){var r=new hG(e=e||{});r.noRefs||AN(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Hl(r,0,n,!0,!0)?r.dump+`
`:""},"dump$1"),w(function(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}},"renamed");var UA=kq,qA=uht.load;const fht=Object.freeze({left:0,top:0,width:16,height:16}),Xb=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),kG=Object.freeze({...fht,...Xb}),ght=Object.freeze({...kG,body:"",hidden:!1}),mht=Object.freeze({width:null,height:null}),yht=Object.freeze({...mht,...Xb}),vht=/(-?[0-9.]*[0-9]+[0-9.]*)/g,bht=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function CN(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(vht);if(n===null||!n.length)return t;const i=[];let o=n.shift(),a=bht.test(o);for(;;){if(a){const s=parseFloat(o);isNaN(s)?i.push(o):i.push(Math.ceil(s*e*r)/r)}else i.push(o);if(o=n.shift(),o===void 0)return i.join("");a=!a}}function xht(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),o=t.indexOf("</"+e);if(i===-1||o===-1)break;const a=t.indexOf(">",o);if(a===-1)break;r+=t.slice(i+1,o).trim(),t=t.slice(0,n).trim()+t.slice(a+1)}return{defs:r,content:t}}function wht(t,e){return t?"<defs>"+t+"</defs>"+e:e}function kht(t,e,r){const n=xht(t);return wht(n.defs,e+n.content+r)}const Tht=t=>t==="unset"||t==="undefined"||t==="none";function Eht(t,e){const r={...kG,...t},n={...yht,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let o=r.body;[r,n].forEach(m=>{const y=[],v=m.hFlip,x=m.vFlip;let b,k=m.rotate;switch(v?x?k+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):x&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0),k<0&&(k-=4*Math.floor(k/4)),k%=4,k){case 1:b=i.height/2+i.top,y.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:b=i.width/2+i.left,y.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")")}k%2==1&&(i.left!==i.top&&(b=i.left,i.left=i.top,i.top=b),i.width!==i.height&&(b=i.width,i.width=i.height,i.height=b)),y.length&&(o=kht(o,'<g transform="'+y.join(" ")+'">',"</g>"))});const a=n.width,s=n.height,l=i.width,u=i.height;let h,d;a===null?(d=s===null?"1em":s==="auto"?u:s,h=CN(d,l/u)):(h=a==="auto"?l:a,d=s===null?CN(h,u/l):s==="auto"?u:s);const p={},f=(m,y)=>{Tht(y)||(p[m]=y.toString())};f("width",h),f("height",d);const g=[i.left,i.top,l,u];return p.viewBox=g.join(" "),{attributes:p,viewBox:g,body:o}}function _ht(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}const Sht=/\sid="(\S+)"/g,Aht="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let Cht=0;function $ht(t,e=Aht){const r=[];let n;for(;n=Sht.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return r.forEach(o=>{const a=typeof e=="function"?e(o):e+(Cht++).toString(),s=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(new RegExp(i,"g"),"")}const Nht=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const s=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:s};return lw(u)?u:null}const o=i[0],a=o.split("-");if(a.length>1){const s={provider:n,prefix:a.shift(),name:a.join("-")};return lw(s)?s:null}if(r&&n===""){const s={provider:n,prefix:"",name:o};return lw(s,r)?s:null}return null},lw=(t,e)=>!!t&&!(!(e&&t.prefix===""||t.prefix)||!t.name);function Iht(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function $N(t,e){const r=Iht(t,e);for(const n in ght)n in Xb?n in t&&!(n in r)&&(r[n]=Xb[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function Lht(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);return(e||Object.keys(r).concat(Object.keys(n))).forEach(function o(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const s=n[a]&&n[a].parent,l=s&&o(s);l&&(i[a]=[s].concat(l))}return i[a]}),i}function NN(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let o={};function a(s){o=$N(n[s]||i[s],o)}return a(e),r.forEach(a),$N(t,o)}function Rht(t,e){if(t.icons[e])return NN(t,e,[]);const r=Lht(t,[e])[e];return r?NN(t,e,r):null}var TG={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},HE=new Map,EG=new Map,_G=w(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(et.debug("Registering icon pack:",e.name),"loader"in e)EG.set(e.name,e.loader);else{if(!("icons"in e))throw et.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');HE.set(e.name,e.icons)}}},"registerIconPacks"),Dht=w(async(t,e)=>{const r=Nht(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=HE.get(n);if(!i){const a=EG.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},HE.set(n,i)}catch(s){throw et.error(s),new Error(`Failed to load icon set: ${r.prefix}`)}}const o=Rht(i,r.name);if(!o)throw new Error(`Icon not found: ${t}`);return o},"getRegisteredIconData"),Ad=w(async(t,e)=>{let r;try{r=await Dht(t,e==null?void 0:e.fallbackPrefix)}catch(i){et.error(i),r=TG}const n=Eht(r,e);return _ht($ht(n.body),n.attributes)},"getIconSVG"),xy=w(({flowchart:t})=>{var n,i;const e=((n=t==null?void 0:t.subGraphTitleMargin)==null?void 0:n.top)??0,r=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.bottom)??0;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:e+r}},"getSubGraphTitleMargins"),GA={},Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.BLANK_URL=Di.relativeFirstCharacters=Di.whitespaceEscapeCharsRegex=Di.urlSchemeRegex=Di.ctrlCharactersRegex=Di.htmlCtrlEntityRegex=Di.htmlEntitiesRegex=Di.invalidProtocolRegex=void 0,Di.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Di.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Di.htmlCtrlEntityRegex=/&(newline|tab);/gi,Di.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Di.urlSchemeRegex=/^.+(:|&colon;)/gim,Di.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Di.relativeFirstCharacters=[".","/"],Di.BLANK_URL="about:blank";Object.defineProperty(GA,"__esModule",{value:!0});var fh=GA.sanitizeUrl=void 0,po=Di;function IN(t){try{return decodeURIComponent(t)}catch{return t}}fh=GA.sanitizeUrl=function(t){if(!t)return po.BLANK_URL;var e,r,n=IN(t.trim());do e=(n=IN(n=(r=n,r.replace(po.ctrlCharactersRegex,"").replace(po.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})).replace(po.htmlCtrlEntityRegex,"").replace(po.ctrlCharactersRegex,"").replace(po.whitespaceEscapeCharsRegex,"").trim())).match(po.ctrlCharactersRegex)||n.match(po.htmlEntitiesRegex)||n.match(po.htmlCtrlEntityRegex)||n.match(po.whitespaceEscapeCharsRegex);while(e&&e.length>0);var i=n;if(!i)return po.BLANK_URL;if(function(h){return po.relativeFirstCharacters.indexOf(h[0])>-1}(i))return i;var o=i.trimStart(),a=o.match(po.urlSchemeRegex);if(!a)return i;var s=a[0].toLowerCase().trim();if(po.invalidProtocolRegex.test(s))return po.BLANK_URL;var l=o.replace(/\\/g,"/");if(s==="mailto:"||s.includes("://"))return l;if(s==="http:"||s==="https:"){if(!function(h){return URL.canParse(h)}(l))return po.BLANK_URL;var u=new URL(l);return u.protocol=u.protocol.toLowerCase(),u.hostname=u.hostname.toLowerCase(),u.toString()}return l};var Oht={value:()=>{}};function SG(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new W2(n)}function W2(t){this._=t}function Mht(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}function LN(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=Oht,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}W2.prototype=SG.prototype={constructor:W2,on:function(t,e){var r,n,i=this._,o=(n=i,(t+"").trim().split(/^|\s+/).map(function(l){var u="",h=l.indexOf(".");if(h>=0&&(u=l.slice(h+1),l=l.slice(0,h)),l&&!n.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:u}})),a=-1,s=o.length;if(!(arguments.length<2)){if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(r=(t=o[a]).type)i[r]=LN(i[r],t.name,e);else if(e==null)for(r in i)i[r]=LN(i[r],t.name,null);return this}for(;++a<s;)if((r=(t=o[a]).type)&&(r=Mht(i[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new W2(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(n=this._[t]).length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};var Kb,w1,w0=0,k1=0,Og=0,Zb=0,Cd=0,i4=0,km=typeof performance=="object"&&performance.now?performance:Date,AG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function WA(){return Cd||(AG(Bht),Cd=km.now()+i4)}function Bht(){Cd=0}function Qb(){this._call=this._time=this._next=null}function CG(t,e,r){var n=new Qb;return n.restart(t,e,r),n}function Pht(){WA(),++w0;for(var t,e=Kb;e;)(t=Cd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--w0}function RN(){Cd=(Zb=km.now())+i4,w0=k1=0;try{Pht()}finally{w0=0,function(){for(var t,e,r=Kb,n=1/0;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:Kb=e);w1=t,UE(n)}(),Cd=0}}function Fht(){var t=km.now(),e=t-Zb;e>1e3&&(i4-=e,Zb=t)}function UE(t){w0||(k1&&(k1=clearTimeout(k1)),t-Cd>24?(t<1/0&&(k1=setTimeout(RN,t-km.now()-i4)),Og&&(Og=clearInterval(Og))):(Og||(Zb=km.now(),Og=setInterval(Fht,1e3)),w0=1,AG(RN)))}Qb.prototype=CG.prototype={constructor:Qb,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?WA():+r)+(e==null?0:+e),this._next||w1===this||(w1?w1._next=this:Kb=this,w1=this),this._call=t,this._time=r,UE()},stop:function(){this._call&&(this._call=null,this._time=1/0,UE())}};function DN(t,e,r){var n=new Qb;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var zht=SG("start","end","cancel","interrupt"),jht=[],Hht=2,Uht=5,qht=6;function o4(t,e,r,n,i,o){var a=t.__transition;if(a){if(r in a)return}else t.__transition={};(function(s,l,u){var h,d=s.__transition;function p(y){u.state=1,u.timer.restart(f,u.delay,u.time),u.delay<=y&&f(y-u.delay)}function f(y){var v,x,b,k;if(u.state!==1)return m();for(v in d)if((k=d[v]).name===u.name){if(k.state===3)return DN(f);k.state===4?(k.state=6,k.timer.stop(),k.on.call("interrupt",s,s.__data__,k.index,k.group),delete d[v]):+v<l&&(k.state=6,k.timer.stop(),k.on.call("cancel",s,s.__data__,k.index,k.group),delete d[v])}if(DN(function(){u.state===3&&(u.state=4,u.timer.restart(g,u.delay,u.time),g(y))}),u.state=2,u.on.call("start",s,s.__data__,u.index,u.group),u.state===2){for(u.state=3,h=new Array(b=u.tween.length),v=0,x=-1;v<b;++v)(k=u.tween[v].value.call(s,s.__data__,u.index,u.group))&&(h[++x]=k);h.length=x+1}}function g(y){for(var v=y<u.duration?u.ease.call(null,y/u.duration):(u.timer.restart(m),u.state=5,1),x=-1,b=h.length;++x<b;)h[x].call(s,v);u.state===5&&(u.on.call("end",s,s.__data__,u.index,u.group),m())}function m(){for(var y in u.state=6,u.timer.stop(),delete d[l],d)return;delete s.__transition}d[l]=u,u.timer=CG(p,0,u.time)})(t,r,{name:e,index:n,group:i,on:zht,tween:jht,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function VA(t,e){var r=dl(t,e);if(r.state>0)throw new Error("too late; already scheduled");return r}function Vl(t,e){var r=dl(t,e);if(r.state>3)throw new Error("too late; already running");return r}function dl(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Ght(t,e){var r,n,i,o=t.__transition,a=!0;if(o){for(i in e=e==null?null:e+"",o)(r=o[i]).name===e?(n=r.state>Hht&&r.state<Uht,r.state=qht,r.timer.stop(),r.on.call(n?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete o[i]):a=!1;a&&delete t.__transition}}function Wht(t){return this.each(function(){Ght(this,t)})}function Vht(t,e){var r,n;return function(){var i=Vl(this,t),o=i.tween;if(o!==r){for(var a=0,s=(n=r=o).length;a<s;++a)if(n[a].name===e){(n=n.slice()).splice(a,1);break}}i.tween=n}}function Yht(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Vl(this,t),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function Xht(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n,i=dl(this.node(),r).tween,o=0,a=i.length;o<a;++o)if((n=i[o]).name===t)return n.value;return null}return this.each((e==null?Vht:Yht)(r,t,e))}function YA(t,e,r){var n=t._id;return t.each(function(){var i=Vl(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return dl(i,n).value[e]}}function Us(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function J1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Jb(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function vd(){}var T1=.7,bv=1/T1,ff="\\s*([+-]?\\d+)\\s*",Tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kht=/^#([0-9a-f]{3,8})$/,Zht=new RegExp(`^rgb\\(${ff},${ff},${ff}\\)$`),Qht=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),Jht=new RegExp(`^rgba\\(${ff},${ff},${ff},${Tm}\\)$`),tdt=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${Tm}\\)$`),edt=new RegExp(`^hsl\\(${Tm},${Pl},${Pl}\\)$`),rdt=new RegExp(`^hsla\\(${Tm},${Pl},${Pl},${Tm}\\)$`),ON={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function MN(){return this.rgb().formatHex()}function BN(){return this.rgb().formatRgb()}function $d(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Kht.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PN(e):r===3?new _o(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):r===8?xv(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):r===4?xv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Zht.exec(t))?new _o(e[1],e[2],e[3],1):(e=Qht.exec(t))?new _o(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Jht.exec(t))?xv(e[1],e[2],e[3],e[4]):(e=tdt.exec(t))?xv(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=edt.exec(t))?jN(e[1],e[2]/100,e[3]/100,1):(e=rdt.exec(t))?jN(e[1],e[2]/100,e[3]/100,e[4]):ON.hasOwnProperty(t)?PN(ON[t]):t==="transparent"?new _o(NaN,NaN,NaN,0):null}function PN(t){return new _o(t>>16&255,t>>8&255,255&t,1)}function xv(t,e,r,n){return n<=0&&(t=e=r=NaN),new _o(t,e,r,n)}function $G(t){return t instanceof vd||(t=$d(t)),t?new _o((t=t.rgb()).r,t.g,t.b,t.opacity):new _o}function qE(t,e,r,n){return arguments.length===1?$G(t):new _o(t,e,r,n??1)}function _o(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function FN(){return`#${ld(this.r)}${ld(this.g)}${ld(this.b)}`}function zN(){const t=V2(this.opacity);return`${t===1?"rgb(":"rgba("}${bd(this.r)}, ${bd(this.g)}, ${bd(this.b)}${t===1?")":`, ${t})`}`}function V2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ld(t){return((t=bd(t))<16?"0":"")+t.toString(16)}function jN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ws(t,e,r,n)}function NG(t){if(t instanceof Ws)return new Ws(t.h,t.s,t.l,t.opacity);if(t instanceof vd||(t=$d(t)),!t)return new Ws;if(t instanceof Ws)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(r-n)/s+6*(r<n):r===o?(n-e)/s+2:(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ws(a,s,l,t.opacity)}function ndt(t,e,r,n){return arguments.length===1?NG(t):new Ws(t,e,r,n??1)}function Ws(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function HN(t){return(t=(t||0)%360)<0?t+360:t}function wv(t){return Math.max(0,Math.min(1,t||0))}function cw(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}J1(vd,$d,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MN,formatHex:MN,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return NG(this).formatHsl()},formatRgb:BN,toString:BN}),J1(_o,qE,Jb(vd,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new _o(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?T1:Math.pow(T1,t),new _o(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _o(bd(this.r),bd(this.g),bd(this.b),V2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FN,formatHex:FN,formatHex8:function(){return`#${ld(this.r)}${ld(this.g)}${ld(this.b)}${ld(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:zN,toString:zN})),J1(Ws,ndt,Jb(vd,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new Ws(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?T1:Math.pow(T1,t),new Ws(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new _o(cw(t>=240?t-240:t+120,i,n),cw(t,i,n),cw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ws(HN(this.h),wv(this.s),wv(this.l),V2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=V2(this.opacity);return`${t===1?"hsl(":"hsla("}${HN(this.h)}, ${100*wv(this.s)}%, ${100*wv(this.l)}%${t===1?")":`, ${t})`}`}}));var a4=t=>()=>t;function IG(t,e){return function(r){return t+r*e}}function idt(t,e){var r=e-t;return r?IG(t,r>180||r<-180?r-360*Math.round(r/360):r):a4(isNaN(t)?e:t)}function odt(t){return(t=+t)==1?tm:function(e,r){return r-e?function(n,i,o){return n=Math.pow(n,o),i=Math.pow(i,o)-n,o=1/o,function(a){return Math.pow(n+a*i,o)}}(e,r,t):a4(isNaN(e)?r:e)}}function tm(t,e){var r=e-t;return r?IG(t,r):a4(isNaN(t)?e:t)}var tx=function t(e){var r=odt(e);function n(i,o){var a=r((i=qE(i)).r,(o=qE(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),u=tm(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=u(h),i+""}}return n.gamma=t,n}(1),GE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uw=new RegExp(GE.source,"g");function LG(t,e){var r,n,i,o=GE.lastIndex=uw.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(r=GE.exec(t))&&(n=uw.exec(e));)(i=n.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:Us(r,n)})),o=uw.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(u){return function(h){return u(h)+""}}(l[0].x):function(u){return function(){return u}}(e):(e=l.length,function(u){for(var h,d=0;d<e;++d)s[(h=l[d]).i]=h.x(u);return s.join("")})}function RG(t,e){var r;return(typeof e=="number"?Us:e instanceof $d?tx:(r=$d(e))?(e=r,tx):LG)(t,e)}var WE="http://www.w3.org/1999/xhtml",UN={svg:"http://www.w3.org/2000/svg",xhtml:WE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function s4(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),UN.hasOwnProperty(e)?{space:UN[e],local:t}:t}var qN=180/Math.PI,VE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function DG(t,e,r,n,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*qN,skewX:Math.atan(l)*qN,scaleX:a,scaleY:s}}var kv;function adt(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?VE:DG(e.a,e.b,e.c,e.d,e.e,e.f)}function sdt(t){return t==null?VE:(kv||(kv=document.createElementNS("http://www.w3.org/2000/svg","g")),kv.setAttribute("transform",t),(t=kv.transform.baseVal.consolidate())?(t=t.matrix,DG(t.a,t.b,t.c,t.d,t.e,t.f)):VE)}function OG(t,e,r,n){function i(o){return o.length?o.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(u,h,d,p,f,g){if(u!==d||h!==p){var m=f.push("translate(",null,e,null,r);g.push({i:m-4,x:Us(u,d)},{i:m-2,x:Us(h,p)})}else(d||p)&&f.push("translate("+d+e+p+r)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(u,h,d,p){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),p.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Us(u,h)})):h&&d.push(i(d)+"rotate("+h+n)}(o.rotate,a.rotate,s,l),function(u,h,d,p){u!==h?p.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Us(u,h)}):h&&d.push(i(d)+"skewX("+h+n)}(o.skewX,a.skewX,s,l),function(u,h,d,p,f,g){if(u!==d||h!==p){var m=f.push(i(f)+"scale(",null,",",null,")");g.push({i:m-4,x:Us(u,d)},{i:m-2,x:Us(h,p)})}else d===1&&p===1||f.push(i(f)+"scale("+d+","+p+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(u){for(var h,d=-1,p=l.length;++d<p;)s[(h=l[d]).i]=h.x(u);return s.join("")}}}var ldt=OG(adt,"px, ","px)","deg)"),cdt=OG(sdt,", ",")",")");function udt(t){return function(){this.removeAttribute(t)}}function hdt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ddt(t,e,r){var n,i,o=r+"";return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function pdt(t,e,r){var n,i,o=r+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function fdt(t,e,r){var n,i,o;return function(){var a,s,l=r(this);if(l!=null)return(a=this.getAttribute(t))===(s=l+"")?null:a===n&&s===i?o:(i=s,o=e(n=a,l));this.removeAttribute(t)}}function gdt(t,e,r){var n,i,o;return function(){var a,s,l=r(this);if(l!=null)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===n&&s===i?o:(i=s,o=e(n=a,l));this.removeAttributeNS(t.space,t.local)}}function mdt(t,e){var r=s4(t),n=r==="transform"?cdt:RG;return this.attrTween(t,typeof e=="function"?(r.local?gdt:fdt)(r,n,YA(this,"attr."+t,e)):e==null?(r.local?hdt:udt)(r):(r.local?pdt:ddt)(r,n,e))}function ydt(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&function(a,s){return function(l){this.setAttributeNS(a.space,a.local,s.call(this,l))}}(t,o)),r}return i._value=e,i}function vdt(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&function(a,s){return function(l){this.setAttribute(a,s.call(this,l))}}(t,o)),r}return i._value=e,i}function bdt(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=s4(t);return this.tween(r,(n.local?ydt:vdt)(n,e))}function xdt(t,e){return function(){VA(this,t).delay=+e.apply(this,arguments)}}function wdt(t,e){return e=+e,function(){VA(this,t).delay=e}}function kdt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xdt:wdt)(e,t)):dl(this.node(),e).delay}function Tdt(t,e){return function(){Vl(this,t).duration=+e.apply(this,arguments)}}function Edt(t,e){return e=+e,function(){Vl(this,t).duration=e}}function _dt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tdt:Edt)(e,t)):dl(this.node(),e).duration}function Sdt(t){var e=this._id;return arguments.length?this.each(function(r,n){if(typeof n!="function")throw new Error;return function(){Vl(this,r).ease=n}}(e,t)):dl(this.node(),e).ease}function Adt(t){if(typeof t!="function")throw new Error;return this.each(function(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;Vl(this,e).ease=n}}(this._id,t))}function MG(t){return function(){return this.matches(t)}}function BG(t){return function(e){return e.matches(t)}}function Cdt(t){typeof t!="function"&&(t=MG(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o,a=e[i],s=a.length,l=n[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Lc(n,this._parents,this._name,this._id)}function $dt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var l,u=e[s],h=r[s],d=u.length,p=a[s]=new Array(d),f=0;f<d;++f)(l=u[f]||h[f])&&(p[f]=l);for(;s<n;++s)a[s]=e[s];return new Lc(a,this._parents,this._name,this._id)}function Ndt(t,e){var r=this._id;return arguments.length<2?dl(this.node(),r).on.on(t):this.each(function(n,i,o){var a,s,l=function(u){return(u+"").trim().split(/^|\s+/).every(function(h){var d=h.indexOf(".");return d>=0&&(h=h.slice(0,d)),!h||h==="start"})}(i)?VA:Vl;return function(){var u=l(this,n),h=u.on;h!==a&&(s=(a=h).copy()).on(i,o),u.on=s}}(r,t,e))}function Idt(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}));var t}function Ldt(){}function XA(t){return t==null?Ldt:function(){return this.querySelector(t)}}function Rdt(t){var e=this._name,r=this._id;typeof t!="function"&&(t=XA(t));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s,l,u=n[a],h=u.length,d=o[a]=new Array(h),p=0;p<h;++p)(s=u[p])&&(l=t.call(s,s.__data__,p,u))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,o4(d[p],e,r,p,d,dl(s,r)));return new Lc(o,this._parents,e,r)}function Ddt(){return[]}function PG(t){return t==null?Ddt:function(){return this.querySelectorAll(t)}}function Odt(t){var e=this._name,r=this._id;typeof t!="function"&&(t=PG(t));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var l,u=n[s],h=u.length,d=0;d<h;++d)if(l=u[d]){for(var p,f=t.call(l,l.__data__,d,u),g=dl(l,r),m=0,y=f.length;m<y;++m)(p=f[m])&&o4(p,e,r,m,f,g);o.push(f),a.push(l)}return new Lc(o,a,e,r)}function Mdt(t){typeof t!="function"&&(t=XA(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o,a,s=e[i],l=s.length,u=n[i]=new Array(l),h=0;h<l;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new Ga(n,this._parents)}function Bdt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Pdt(t){t=typeof t=="function"?function(h){return function(){return Bdt(h.apply(this,arguments))}}(t):PG(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(n.push(t.call(a,a.__data__,u,s)),i.push(a));return new Ga(n,i)}var Fdt=Array.prototype.find;function zdt(){return this.firstElementChild}function jdt(t){return this.select(t==null?zdt:function(e){return function(){return Fdt.call(this.children,e)}}(typeof t=="function"?t:BG(t)))}var Hdt=Array.prototype.filter;function Udt(){return Array.from(this.children)}function qdt(t){return this.selectAll(t==null?Udt:function(e){return function(){return Hdt.call(this.children,e)}}(typeof t=="function"?t:BG(t)))}function Gdt(t){typeof t!="function"&&(t=MG(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o,a=e[i],s=a.length,l=n[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Ga(n,this._parents)}function FG(t){return new Array(t.length)}function Wdt(){return new Ga(this._enter||this._groups.map(FG),this._parents)}function ex(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ex.prototype={constructor:ex,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vdt(t){return function(){return t}}function Ydt(t,e,r,n,i,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],n[s]=a):r[s]=new ex(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Xdt(t,e,r,n,i,o,a){var s,l,u,h=new Map,d=e.length,p=o.length,f=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(f[s]=u=a.call(l,l.__data__,s,e)+"",h.has(u)?i[s]=l:h.set(u,l));for(s=0;s<p;++s)u=a.call(t,o[s],s,o)+"",(l=h.get(u))?(n[s]=l,l.__data__=o[s],h.delete(u)):r[s]=new ex(t,o[s]);for(s=0;s<d;++s)(l=e[s])&&h.get(f[s])===l&&(i[s]=l)}function Kdt(t){return t.__data__}function Zdt(t,e){if(!arguments.length)return Array.from(this,Kdt);var r=e?Xdt:Ydt,n=this._parents,i=this._groups;typeof t!="function"&&(t=Vdt(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var h=n[u],d=i[u],p=d.length,f=Qdt(t.call(h,h&&h.__data__,u,n)),g=f.length,m=s[u]=new Array(g),y=a[u]=new Array(g);r(h,d,m,y,l[u]=new Array(p),f,e);for(var v,x,b=0,k=0;b<g;++b)if(v=m[b]){for(b>=k&&(k=b+1);!(x=y[k])&&++k<g;);v._next=x||null}}return(a=new Ga(a,n))._enter=s,a._exit=l,a}function Qdt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jdt(){return new Ga(this._exit||this._groups.map(FG),this._parents)}function tpt(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n))&&(n=n.selection()):n=n.append(t+""),e!=null&&(i=e(i))&&(i=i.selection()),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function ept(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u,h=r[l],d=n[l],p=h.length,f=s[l]=new Array(p),g=0;g<p;++g)(u=h[g]||d[g])&&(f[g]=u);for(;l<i;++l)s[l]=r[l];return new Ga(s,this._parents)}function rpt(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,i=t[e],o=i.length-1,a=i[o];--o>=0;)(n=i[o])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this}function npt(t){function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}t||(t=ipt);for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a,s=r[o],l=s.length,u=i[o]=new Array(l),h=0;h<l;++h)(a=s[h])&&(u[h]=a);u.sort(e)}return new Ga(i,this._parents).order()}function ipt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function opt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function apt(){return Array.from(this)}function spt(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function lpt(){let t=0;for(const e of this)++t;return t}function cpt(){return!this.node()}function upt(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i,o=e[r],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}function hpt(t){return function(){this.removeAttribute(t)}}function dpt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ppt(t,e){return function(){this.setAttribute(t,e)}}function fpt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function gpt(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function mpt(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function ypt(t,e){var r=s4(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?dpt:hpt:typeof e=="function"?r.local?mpt:gpt:r.local?fpt:ppt)(r,e))}function zG(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vpt(t){return function(){this.style.removeProperty(t)}}function bpt(t,e,r){return function(){this.style.setProperty(t,e,r)}}function xpt(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function wpt(t,e,r){return arguments.length>1?this.each((e==null?vpt:typeof e=="function"?xpt:bpt)(t,e,r??"")):jp(this.node(),t)}function jp(t,e){return t.style.getPropertyValue(e)||zG(t).getComputedStyle(t,null).getPropertyValue(e)}function kpt(t){return function(){delete this[t]}}function Tpt(t,e){return function(){this[t]=e}}function Ept(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function _pt(t,e){return arguments.length>1?this.each((e==null?kpt:typeof e=="function"?Ept:Tpt)(t,e)):this.node()[t]}function jG(t){return t.trim().split(/^|\s+/)}function KA(t){return t.classList||new HG(t)}function HG(t){this._node=t,this._names=jG(t.getAttribute("class")||"")}function UG(t,e){for(var r=KA(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function qG(t,e){for(var r=KA(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Spt(t){return function(){UG(this,t)}}function Apt(t){return function(){qG(this,t)}}function Cpt(t,e){return function(){(e.apply(this,arguments)?UG:qG)(this,t)}}function $pt(t,e){var r=jG(t+"");if(arguments.length<2){for(var n=KA(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?Cpt:e?Spt:Apt)(r,e))}HG.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Npt(){this.textContent=""}function Ipt(t){return function(){this.textContent=t}}function Lpt(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Rpt(t){return arguments.length?this.each(t==null?Npt:(typeof t=="function"?Lpt:Ipt)(t)):this.node().textContent}function Dpt(){this.innerHTML=""}function Opt(t){return function(){this.innerHTML=t}}function Mpt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Bpt(t){return arguments.length?this.each(t==null?Dpt:(typeof t=="function"?Mpt:Opt)(t)):this.node().innerHTML}function Ppt(){this.nextSibling&&this.parentNode.appendChild(this)}function Fpt(){return this.each(Ppt)}function zpt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jpt(){return this.each(zpt)}function Hpt(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===WE&&e.documentElement.namespaceURI===WE?e.createElement(t):e.createElementNS(r,t)}}function Upt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function GG(t){var e=s4(t);return(e.local?Upt:Hpt)(e)}function qpt(t){var e=typeof t=="function"?t:GG(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Gpt(){return null}function Wpt(t,e){var r=typeof t=="function"?t:GG(t),n=e==null?Gpt:typeof e=="function"?e:XA(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Vpt(){var t=this.parentNode;t&&t.removeChild(this)}function Ypt(){return this.each(Vpt)}function Xpt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kpt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zpt(t){return this.select(t?Kpt:Xpt)}function Qpt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Jpt(t){return function(){var e=this.__on;if(e){for(var r,n=0,i=-1,o=e.length;n<o;++n)r=e[n],t.type&&r.type!==t.type||r.name!==t.name?e[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?e.length=i:delete this.__on}}}function tft(t,e,r){return function(){var n,i=this.__on,o=function(l){return function(u){l.call(this,u,this.__data__)}}(e);if(i){for(var a=0,s=i.length;a<s;++a)if((n=i[a]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=o,n.options=r),void(n.value=e)}this.addEventListener(t.type,o,r),n={type:t.type,name:t.name,value:e,listener:o,options:r},i?i.push(n):this.__on=[n]}}function eft(t,e,r){var n,i,o=function(d){return d.trim().split(/^|\s+/).map(function(p){var f="",g=p.indexOf(".");return g>=0&&(f=p.slice(g+1),p=p.slice(0,g)),{type:p,name:f}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?tft:Jpt,n=0;n<a;++n)this.each(s(o[n],e,r));return this}var s=this.node().__on;if(s){for(var l,u=0,h=s.length;u<h;++u)for(n=0,l=s[u];n<a;++n)if((i=o[n]).type===l.type&&i.name===l.name)return l.value}}function WG(t,e,r){var n=zG(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function rft(t,e){return function(){return WG(this,t,e)}}function nft(t,e){return function(){return WG(this,t,e.apply(this,arguments))}}function ift(t,e){return this.each((typeof e=="function"?nft:rft)(t,e))}function*oft(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n,i=t[e],o=0,a=i.length;o<a;++o)(n=i[o])&&(yield n)}var VG=[null];function Ga(t,e){this._groups=t,this._parents=e}function Em(){return new Ga([[document.documentElement]],VG)}Ga.prototype=Em.prototype={constructor:Ga,select:Mdt,selectAll:Pdt,selectChild:jdt,selectChildren:qdt,filter:Gdt,data:Zdt,enter:Wdt,exit:Jdt,join:tpt,merge:ept,selection:function(){return this},order:rpt,sort:npt,call:opt,nodes:apt,node:spt,size:lpt,empty:cpt,each:upt,attr:ypt,style:wpt,property:_pt,classed:$pt,text:Rpt,html:Bpt,raise:Fpt,lower:jpt,append:qpt,insert:Wpt,remove:Ypt,clone:Zpt,datum:Qpt,on:eft,dispatch:ift,[Symbol.iterator]:oft};var aft=Em.prototype.constructor;function sft(){return new aft(this._groups,this._parents)}function GN(t){return function(){this.style.removeProperty(t)}}function lft(t,e,r){var n=(t+="")=="transform"?ldt:RG;return e==null?this.styleTween(t,function(i,o){var a,s,l;return function(){var u=jp(this,i),h=(this.style.removeProperty(i),jp(this,i));return u===h?null:u===a&&h===s?l:l=o(a=u,s=h)}}(t,n)).on("end.style."+t,GN(t)):typeof e=="function"?this.styleTween(t,function(i,o,a){var s,l,u;return function(){var h=jp(this,i),d=a(this),p=d+"";return d==null&&(this.style.removeProperty(i),p=d=jp(this,i)),h===p?null:h===s&&p===l?u:(l=p,u=o(s=h,d))}}(t,n,YA(this,"style."+t,e))).each(function(i,o){var a,s,l,u,h="style."+o,d="end."+h;return function(){var p=Vl(this,i),f=p.on,g=p.value[h]==null?u||(u=GN(o)):void 0;f===a&&l===g||(s=(a=f).copy()).on(d,l=g),p.on=s}}(this._id,t)):this.styleTween(t,function(i,o,a){var s,l,u=a+"";return function(){var h=jp(this,i);return h===u?null:h===s?l:l=o(s=h,a)}}(t,n,e),r).on("end.style."+t,null)}function cft(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,function(i,o,a){var s,l;function u(){var h=o.apply(this,arguments);return h!==l&&(s=(l=h)&&function(d,p,f){return function(g){this.style.setProperty(d,p.call(this,g),f)}}(i,h,a)),s}return u._value=o,u}(t,e,r??""))}function uft(t){return this.tween("text",typeof t=="function"?function(e){return function(){var r=e(this);this.textContent=r??""}}(YA(this,"text",t)):function(e){return function(){this.textContent=e}}(t==null?"":t+""))}function hft(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,function(r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&function(s){return function(l){this.textContent=s.call(this,l)}}(a)),n}return o._value=r,o}(t))}function dft(){for(var t=this._name,e=this._id,r=YG(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a,s=n[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var h=dl(a,e);o4(a,t,r,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Lc(n,this._parents,t,r)}function pft(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i==0&&o()}};r.each(function(){var u=Vl(this,n),h=u.on;h!==t&&((e=(t=h).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var fft=0;function Lc(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function YG(){return++fft}var rc=Em.prototype;Lc.prototype={constructor:Lc,select:Rdt,selectAll:Odt,selectChild:rc.selectChild,selectChildren:rc.selectChildren,filter:Cdt,merge:$dt,selection:sft,transition:dft,call:rc.call,nodes:rc.nodes,node:rc.node,size:rc.size,empty:rc.empty,each:rc.each,on:Ndt,attr:mdt,attrTween:bdt,style:lft,styleTween:cft,text:uft,textTween:hft,remove:Idt,tween:Xht,delay:kdt,duration:_dt,ease:Sdt,easeVarying:Adt,end:pft,[Symbol.iterator]:rc[Symbol.iterator]};function gft(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var mft={time:null,delay:0,duration:250,ease:gft};function yft(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function vft(t){var e,r;t instanceof Lc?(e=t._id,t=t._name):(e=YG(),(r=mft).time=WA(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a,s=n[o],l=s.length,u=0;u<l;++u)(a=s[u])&&o4(a,t,e,u,s,r||yft(a,e));return new Lc(n,this._parents,t,e)}Em.prototype.interrupt=Wht,Em.prototype.transition=vft;function Mg(t,e,r){this.k=t,this.x=e,this.y=r}Mg.prototype={constructor:Mg,scale:function(t){return t===1?this:new Mg(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mg(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Mg.prototype;var XG=typeof global=="object"&&global&&global.Object===Object&&global,bft=typeof self=="object"&&self&&self.Object===Object&&self,Yl=XG||bft||Function("return this")(),Es=Yl.Symbol,KG=Object.prototype,xft=KG.hasOwnProperty,wft=KG.toString,Bg=Es?Es.toStringTag:void 0;function kft(t){var e=xft.call(t,Bg),r=t[Bg];try{t[Bg]=void 0;var n=!0}catch{}var i=wft.call(t);return n&&(e?t[Bg]=r:delete t[Bg]),i}var Tft=Object.prototype.toString;function Eft(t){return Tft.call(t)}var WN=Es?Es.toStringTag:void 0;function Yc(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":WN&&WN in Object(t)?kft(t):Eft(t)}function Ta(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function _s(t){if(!Ta(t))return!1;var e=Yc(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"}var hw=Yl["__core-js_shared__"],VN,YN=(VN=/[^.]+$/.exec(hw&&hw.keys&&hw.keys.IE_PROTO||""))?"Symbol(src)_1."+VN:"";function _ft(t){return!!YN&&YN in t}var Sft=Function.prototype.toString;function Zd(t){if(t!=null){try{return Sft.call(t)}catch{}try{return t+""}catch{}}return""}var Aft=/^\[object .+?Constructor\]$/,Cft=Function.prototype,$ft=Object.prototype,Nft=Cft.toString,Ift=$ft.hasOwnProperty,Lft=RegExp("^"+Nft.call(Ift).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rft(t){return!(!Ta(t)||_ft(t))&&(_s(t)?Lft:Aft).test(Zd(t))}function Dft(t,e){return t==null?void 0:t[e]}function Qd(t,e){var r=Dft(t,e);return Rft(r)?r:void 0}var _m=Qd(Object,"create");function Oft(){this.__data__=_m?_m(null):{},this.size=0}function Mft(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Bft=Object.prototype.hasOwnProperty;function Pft(t){var e=this.__data__;if(_m){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return Bft.call(e,t)?e[t]:void 0}var Fft=Object.prototype.hasOwnProperty;function zft(t){var e=this.__data__;return _m?e[t]!==void 0:Fft.call(e,t)}function jft(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=_m&&e===void 0?"__lodash_hash_undefined__":e,this}function Jh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jh.prototype.clear=Oft,Jh.prototype.delete=Mft,Jh.prototype.get=Pft,Jh.prototype.has=zft,Jh.prototype.set=jft;function Hft(){this.__data__=[],this.size=0}function sg(t,e){return t===e||t!=t&&e!=e}function l4(t,e){for(var r=t.length;r--;)if(sg(t[r][0],e))return r;return-1}var Uft=Array.prototype.splice;function qft(t){var e=this.__data__,r=l4(e,t);return!(r<0)&&(r==e.length-1?e.pop():Uft.call(e,r,1),--this.size,!0)}function Gft(t){var e=this.__data__,r=l4(e,t);return r<0?void 0:e[r][1]}function Wft(t){return l4(this.__data__,t)>-1}function Vft(t,e){var r=this.__data__,n=l4(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function mc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mc.prototype.clear=Hft,mc.prototype.delete=qft,mc.prototype.get=Gft,mc.prototype.has=Wft,mc.prototype.set=Vft;var Sm=Qd(Yl,"Map");function Yft(){this.size=0,this.__data__={hash:new Jh,map:new(Sm||mc),string:new Jh}}function Xft(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function c4(t,e){var r=t.__data__;return Xft(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Kft(t){var e=c4(this,t).delete(t);return this.size-=e?1:0,e}function Zft(t){return c4(this,t).get(t)}function Qft(t){return c4(this,t).has(t)}function Jft(t,e){var r=c4(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function yc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yc.prototype.clear=Yft,yc.prototype.delete=Kft,yc.prototype.get=Zft,yc.prototype.has=Qft,yc.prototype.set=Jft;function lg(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(lg.Cache||yc),r}lg.Cache=yc;function t0t(){this.__data__=new mc,this.size=0}function e0t(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function r0t(t){return this.__data__.get(t)}function n0t(t){return this.__data__.has(t)}function i0t(t,e){var r=this.__data__;if(r instanceof mc){var n=r.__data__;if(!Sm||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yc(n)}return r.set(t,e),this.size=r.size,this}function Vs(t){var e=this.__data__=new mc(t);this.size=e.size}Vs.prototype.clear=t0t,Vs.prototype.delete=e0t,Vs.prototype.get=r0t,Vs.prototype.has=n0t,Vs.prototype.set=i0t;var rx=function(){try{var t=Qd(Object,"defineProperty");return t({},"",{}),t}catch{}}();function wy(t,e,r){e=="__proto__"&&rx?rx(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function YE(t,e,r){(r!==void 0&&!sg(t[e],r)||r===void 0&&!(e in t))&&wy(t,e,r)}function o0t(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[++i];if(r(o[l],l,o)===!1)break}return e}}var ZA=o0t(),ZG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XN=ZG&&typeof module=="object"&&module&&!module.nodeType&&module,KN=XN&&XN.exports===ZG?Yl.Buffer:void 0,ZN=KN?KN.allocUnsafe:void 0;function QG(t,e){if(e)return t.slice();var r=t.length,n=ZN?ZN(r):new t.constructor(r);return t.copy(n),n}var nx=Yl.Uint8Array;function QA(t){var e=new t.constructor(t.byteLength);return new nx(e).set(new nx(t)),e}function JG(t,e){var r=e?QA(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function tW(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var QN=Object.create,a0t=function(){function t(){}return function(e){if(!Ta(e))return{};if(QN)return QN(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function eW(t,e){return function(r){return t(e(r))}}var JA=eW(Object.getPrototypeOf,Object),s0t=Object.prototype;function ky(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||s0t)}function rW(t){return typeof t.constructor!="function"||ky(t)?{}:a0t(JA(t))}function Ss(t){return t!=null&&typeof t=="object"}function JN(t){return Ss(t)&&Yc(t)=="[object Arguments]"}var nW=Object.prototype,l0t=nW.hasOwnProperty,c0t=nW.propertyIsEnumerable,k0=JN(function(){return arguments}())?JN:function(t){return Ss(t)&&l0t.call(t,"callee")&&!c0t.call(t,"callee")},Sr=Array.isArray;function tC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}function Xl(t){return t!=null&&tC(t.length)&&!_s(t)}function ix(t){return Ss(t)&&Xl(t)}function u0t(){return!1}var iW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,t9=iW&&typeof module=="object"&&module&&!module.nodeType&&module,e9=t9&&t9.exports===iW?Yl.Buffer:void 0,T0=(e9?e9.isBuffer:void 0)||u0t,h0t=Function.prototype,d0t=Object.prototype,oW=h0t.toString,p0t=d0t.hasOwnProperty,f0t=oW.call(Object);function g0t(t){if(!Ss(t)||Yc(t)!="[object Object]")return!1;var e=JA(t);if(e===null)return!0;var r=p0t.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&oW.call(r)==f0t}var kn={};function m0t(t){return Ss(t)&&tC(t.length)&&!!kn[Yc(t)]}kn["[object Float32Array]"]=kn["[object Float64Array]"]=kn["[object Int8Array]"]=kn["[object Int16Array]"]=kn["[object Int32Array]"]=kn["[object Uint8Array]"]=kn["[object Uint8ClampedArray]"]=kn["[object Uint16Array]"]=kn["[object Uint32Array]"]=!0,kn["[object Arguments]"]=kn["[object Array]"]=kn["[object ArrayBuffer]"]=kn["[object Boolean]"]=kn["[object DataView]"]=kn["[object Date]"]=kn["[object Error]"]=kn["[object Function]"]=kn["[object Map]"]=kn["[object Number]"]=kn["[object Object]"]=kn["[object RegExp]"]=kn["[object Set]"]=kn["[object String]"]=kn["[object WeakMap]"]=!1;function Ty(t){return function(e){return t(e)}}var aW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,em=aW&&typeof module=="object"&&module&&!module.nodeType&&module,dw=em&&em.exports===aW&&XG.process,Yu=function(){try{var t=em&&em.require&&em.require("util").types;return t||dw&&dw.binding&&dw.binding("util")}catch{}}(),r9=Yu&&Yu.isTypedArray,u4=r9?Ty(r9):m0t;function XE(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]}var y0t=Object.prototype.hasOwnProperty;function Ey(t,e,r){var n=t[e];y0t.call(t,e)&&sg(n,r)&&(r!==void 0||e in t)||wy(t,e,r)}function cg(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?wy(r,s,l):Ey(r,s,l)}return r}function v0t(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var b0t=/^(?:0|[1-9]\d*)$/;function h4(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&(r=="number"||r!="symbol"&&b0t.test(t))&&t>-1&&t%1==0&&t<e}var x0t=Object.prototype.hasOwnProperty;function sW(t,e){var r=Sr(t),n=!r&&k0(t),i=!r&&!n&&T0(t),o=!r&&!n&&!i&&u4(t),a=r||n||i||o,s=a?v0t(t.length,String):[],l=s.length;for(var u in t)!e&&!x0t.call(t,u)||a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||h4(u,l))||s.push(u);return s}function w0t(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var k0t=Object.prototype.hasOwnProperty;function T0t(t){if(!Ta(t))return w0t(t);var e=ky(t),r=[];for(var n in t)(n!="constructor"||!e&&k0t.call(t,n))&&r.push(n);return r}function Jd(t){return Xl(t)?sW(t,!0):T0t(t)}function E0t(t){return cg(t,Jd(t))}function _0t(t,e,r,n,i,o,a){var s=XE(t,r),l=XE(e,r),u=a.get(l);if(u)YE(t,r,u);else{var h=o?o(s,l,r+"",t,e,a):void 0,d=h===void 0;if(d){var p=Sr(l),f=!p&&T0(l),g=!p&&!f&&u4(l);h=l,p||f||g?Sr(s)?h=s:ix(s)?h=tW(s):f?(d=!1,h=QG(l,!0)):g?(d=!1,h=JG(l,!0)):h=[]:g0t(l)||k0(l)?(h=s,k0(s)?h=E0t(s):Ta(s)&&!_s(s)||(h=rW(l))):d=!1}d&&(a.set(l,h),i(h,l,n,o,a),a.delete(l)),YE(t,r,h)}}function lW(t,e,r,n,i){t!==e&&ZA(e,function(o,a){if(i||(i=new Vs),Ta(o))_0t(t,e,a,r,lW,n,i);else{var s=n?n(XE(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),YE(t,a,s)}},Jd)}function Rc(t){return t}function S0t(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var n9=Math.max;function cW(t,e,r){return e=n9(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=n9(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),S0t(t,this,s)}}function Jp(t){return function(){return t}}var A0t=rx?function(t,e){return rx(t,"toString",{configurable:!0,enumerable:!1,value:Jp(e),writable:!0})}:Rc,C0t=Date.now;function $0t(t){var e=0,r=0;return function(){var n=C0t(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uW=$0t(A0t);function _y(t,e){return uW(cW(t,e,Rc),t+"")}function Am(t,e,r){if(!Ta(r))return!1;var n=typeof e;return!!(n=="number"?Xl(r)&&h4(e,r.length):n=="string"&&e in r)&&sg(r[e],t)}function hW(t){return _y(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Am(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,o)}return e})}var ox=hW(function(t,e,r){lW(t,e,r)});function he(t){return typeof t=="string"?new Ga([[document.querySelector(t)]],[document.documentElement]):new Ga([[t]],VG)}function ax(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function d4(t){this._context=t}function Sy(t){return new d4(t)}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ax(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ax(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xu(){}function dW(t){this._context=t}function N0t(t){return new dW(t)}dW.prototype={areaStart:Xu,areaEnd:Xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ax(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pW(t){this._context=t}function I0t(t){return new pW(t)}pW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ax(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};let fW=class{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r)}this._x0=e,this._y0=r}};function L0t(t){return new fW(t,!0)}function R0t(t){return new fW(t,!1)}function gW(t,e){this._basis=new d4(t),this._beta=e}gW.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n,i=t[0],o=e[0],a=t[r]-i,s=e[r]-o,l=-1;++l<=r;)n=l/r,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+n*a),this._beta*e[l]+(1-this._beta)*(o+n*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var D0t=function t(e){function r(n){return e===1?new d4(n):new gW(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function sx(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function eC(t,e){this._context=t,this._k=(1-e)/6}eC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:sx(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:sx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var O0t=function t(e){function r(n){return new eC(n,e)}return r.tension=function(n){return t(+n)},r}(0);function rC(t,e){this._context=t,this._k=(1-e)/6}rC.prototype={areaStart:Xu,areaEnd:Xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:sx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var M0t=function t(e){function r(n){return new rC(n,e)}return r.tension=function(n){return t(+n)},r}(0);function nC(t,e){this._context=t,this._k=(1-e)/6}nC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var B0t=function t(e){function r(n){return new nC(n,e)}return r.tension=function(n){return t(+n)},r}(0);const i9=Math.abs,fo=Math.atan2,Eh=Math.cos,P0t=Math.max,pw=Math.min,ml=Math.sin,tf=Math.sqrt,xo=1e-12,Cm=Math.PI,lx=Cm/2,Y2=2*Cm;function F0t(t){return t>1?0:t<-1?Cm:Math.acos(t)}function o9(t){return t>=1?lx:t<=-1?-lx:Math.asin(t)}function iC(t,e,r){var n=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>xo){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>xo){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*u+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,o,a,t._x2,t._y2)}function mW(t,e){this._context=t,this._alpha=e}mW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:iC(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var z0t=function t(e){function r(n){return e?new mW(n,e):new eC(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function yW(t,e){this._context=t,this._alpha=e}yW.prototype={areaStart:Xu,areaEnd:Xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:iC(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var j0t=function t(e){function r(n){return e?new yW(n,e):new rC(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function vW(t,e){this._context=t,this._alpha=e}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iC(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var H0t=function t(e){function r(n){return e?new vW(n,e):new nC(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function bW(t){this._context=t}function xW(t){return new bW(t)}bW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};function wW(t){this._context=t}function U0t(t){return new wW(t)}wW.prototype={areaStart:Xu,areaEnd:Xu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function a9(t){return t<0?-1:1}function s9(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(a9(o)+a9(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function l9(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function fw(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function X2(t){this._context=t}function kW(t){this._context=new TW(t)}function TW(t){this._context=t}function q0t(t){return new X2(t)}function G0t(t){return new kW(t)}X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fw(this,this._t0,l9(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fw(this,l9(this,r=s9(this,t,e)),r);break;default:fw(this,this._t0,r=s9(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}},(kW.prototype=Object.create(X2.prototype)).point=function(t,e){X2.prototype.point.call(this,e,t)},TW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function EW(t){this._context=t}function c9(t){var e,r,n=t.length-1,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function W0t(t){return new EW(t)}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=c9(t),i=c9(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function p4(t,e){this._context=t,this._t=e}function V0t(t){return new p4(t,.5)}function Y0t(t){return new p4(t,0)}function X0t(t){return new p4(t,1)}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}}this._x=t,this._y=e}};var K0t="​",Z0t={curveBasis:Sy,curveBasisClosed:N0t,curveBasisOpen:I0t,curveBumpX:L0t,curveBumpY:R0t,curveBundle:D0t,curveCardinalClosed:M0t,curveCardinalOpen:B0t,curveCardinal:O0t,curveCatmullRomClosed:j0t,curveCatmullRomOpen:H0t,curveCatmullRom:z0t,curveLinear:xW,curveLinearClosed:U0t,curveMonotoneX:q0t,curveMonotoneY:G0t,curveNatural:W0t,curveStep:V0t,curveStepAfter:X0t,curveStepBefore:Y0t},Q0t=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,J0t=w(function(t,e){const r=_W(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(s=>s.args);Hb(a),n=Ti(n,[...a])}else n=r.args;if(!n)return;let i=NA(t,e);const o="config";return n[o]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[o],delete n[o]),n},"detectInit"),_W=w(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${Q0t.source})(?=[}][%]{2}).*
`,"ig");let o;t=t.trim().replace(i,"").replace(/'/gm,'"'),et.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);const a=[];for(;(o=Q1.exec(t))!==null;)if(o.index===Q1.lastIndex&&Q1.lastIndex++,o&&!e||e&&((r=o[1])==null?void 0:r.match(e))||e&&((n=o[2])==null?void 0:n.match(e))){const s=o[1]?o[1]:o[2],l=o[3]?o[3].trim():o[4]?JSON.parse(o[4].trim()):null;a.push({type:s,args:l})}return a.length===0?{type:t,args:null}:a.length===1?a[0]:a}catch(i){return et.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),tgt=w(function(t){return t.replace(Q1,"")},"removeDirectives"),egt=w(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function oC(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Z0t[r]??e}function SW(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?fh(r):r}w(oC,"interpolateToCurve"),w(SW,"formatUrl");var rgt=w((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let o=window;for(let a=0;a<n;a++)if(o=o[r[a]],!o)return void et.error(`Function name: ${t} not found in window`);o[i](...e)},"runFunc");function aC(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function AW(t){let e,r=0;return t.forEach(n=>{r+=aC(n,e),e=n}),sC(t,r/2)}function CW(t){return t.length===1?t[0]:AW(t)}w(aC,"distance"),w(AW,"traverseEdge"),w(CW,"calcLabelPosition");var u9=w((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),sC=w((t,e)=>{let r,n=e;for(const i of t){if(r){const o=aC(i,r);if(o<n)n-=o;else{const a=n/o;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:u9((1-a)*r.x+a*i.x,5),y:u9((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),ngt=w((t,e,r)=>{et.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const n=sC(e,25),i=t?10:5,o=Math.atan2(e[0].y-n.y,e[0].x-n.x),a={x:0,y:0};return a.x=Math.sin(o)*i+(e[0].x+n.x)/2,a.y=-Math.cos(o)*i+(e[0].y+n.y)/2,a},"calcCardinalityPosition");function $W(t,e,r){const n=structuredClone(r);et.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=sC(n,25+t),o=10+.5*t,a=Math.atan2(n[0].y-i.y,n[0].x-i.x),s={x:0,y:0};return e==="start_left"?(s.x=Math.sin(a+Math.PI)*o+(n[0].x+i.x)/2,s.y=-Math.cos(a+Math.PI)*o+(n[0].y+i.y)/2):e==="end_right"?(s.x=Math.sin(a-Math.PI)*o+(n[0].x+i.x)/2-5,s.y=-Math.cos(a-Math.PI)*o+(n[0].y+i.y)/2-5):e==="end_left"?(s.x=Math.sin(a)*o+(n[0].x+i.x)/2-5,s.y=-Math.cos(a)*o+(n[0].y+i.y)/2-5):(s.x=Math.sin(a)*o+(n[0].x+i.x)/2,s.y=-Math.cos(a)*o+(n[0].y+i.y)/2),s}function lC(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}w($W,"calcTerminalLabelPosition"),w(lC,"getStylesFromArray");var h9=0,NW=w(()=>(h9++,"id-"+Math.random().toString(36).substr(2,12)+"-"+h9),"generateId");function IW(t){let e="";const r="0123456789abcdef";for(let n=0;n<t;n++)e+=r.charAt(Math.floor(16*Math.random()));return e}w(IW,"makeRandomHex");var LW=w(t=>IW(t.length),"random"),igt=w(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),ogt=w(function(t,e){const r=e.text.replace(ne.lineBreakRegex," "),[,n]=gh(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const o=i.append("tspan");return o.attr("x",e.x+2*e.textMargin),o.attr("fill",e.fill),o.text(r),i},"drawSimpleText"),RW=lg((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),ne.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let o="";return n.forEach((a,s)=>{const l=xs(`${a} `,r),u=xs(o,r);if(l>e){const{hyphenatedStrings:h,remainingWord:d}=agt(a,e,"-",r);i.push(o,...h),o=d}else u+l>=e?(i.push(o),o=a):o=[o,a].filter(Boolean).join(" ");s+1===n.length&&i.push(o)}),i.filter(a=>a!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),agt=lg((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],o=[];let a="";return i.forEach((s,l)=>{const u=`${a}${s}`;if(xs(u,n)>=e){const h=l+1,d=i.length===h,p=`${u}${r}`;o.push(d?u:p),a=""}else a=u}),{hyphenatedStrings:o,remainingWord:a}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function cx(t,e){return cC(t,e).height}function xs(t,e){return cC(t,e).width}w(cx,"calculateTextHeight"),w(xs,"calculateTextWidth");var Tv,cC=lg((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,o]=gh(r),a=["sans-serif",n],s=t.split(ne.lineBreakRegex),l=[],u=he("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const d of a){let p=0;const f={width:0,height:0,lineHeight:0};for(const g of s){const m=igt();m.text=g||"​";const y=ogt(h,m).style("font-size",o).style("font-weight",i).style("font-family",d),v=(y._groups||y)[0][0].getBBox();if(v.width===0&&v.height===0)throw new Error("svg element not in render tree");f.width=Math.round(Math.max(f.width,v.width)),p=Math.round(v.height),f.height+=p,f.lineHeight=Math.round(Math.max(f.lineHeight,p))}l.push(f)}return h.remove(),l[isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Ff,sgt=(Ff=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},w(Ff,"InitIDGenerator"),Ff),lgt=w(function(t){return Tv=Tv||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Tv.innerHTML=t,unescape(Tv.textContent)},"entityDecode");function uC(t){return"str"in t}w(uC,"isDetailedError");var cgt=w((t,e,r,n)=>{var o;if(!n)return;const i=(o=t.node())==null?void 0:o.getBBox();i&&t.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),gh=w(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function Xc(t,e){return ox({},t,e)}w(Xc,"cleanAndMerge");var dr={assignWithDepth:Ti,wrapLabel:RW,calculateTextHeight:cx,calculateTextWidth:xs,calculateTextDimensions:cC,cleanAndMerge:Xc,detectInit:J0t,detectDirective:_W,isSubstringInArray:egt,interpolateToCurve:oC,calcLabelPosition:CW,calcCardinalityPosition:ngt,calcTerminalLabelPosition:$W,formatUrl:SW,getStylesFromArray:lC,generateId:NW,random:LW,runFunc:rgt,entityDecode:lgt,insertTitle:cgt,parseFontSize:gh,InitIDGenerator:sgt},ugt=w(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),e},"encodeEntities"),Dc=w(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),DW=w((t,e,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function Vo(t){return t??null}w(Vo,"handleUndefinedAttr");function hgt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let tp={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function d9(t){tp=t}const OW=/[&<>"']/,dgt=new RegExp(OW.source,"g"),MW=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pgt=new RegExp(MW.source,"g"),fgt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p9=t=>fgt[t];function Oa(t,e){if(e){if(OW.test(t))return t.replace(dgt,p9)}else if(MW.test(t))return t.replace(pgt,p9);return t}const ggt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,mgt=/(^|[^\[])\^/g;function on(t,e){let r=typeof t=="string"?t:t.source;e=e||"";const n={replace:(i,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(mgt,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,e)};return n}function f9(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const rm={exec:()=>null};function g9(t,e){const r=t.replace(/\|/g,(i,o,a)=>{let s=!1,l=o;for(;--l>=0&&a[l]==="\\";)s=!s;return s?"|":" |"}).split(/ \|/);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function Pg(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n;){const o=t.charAt(n-i-1);if(o!==e||r){if(o===e||!r)break;i++}else i++}return t.slice(0,n-i)}function m9(t,e,r,n){const i=e.href,o=e.title?Oa(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const s={type:"link",raw:r,href:i,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,s}return{type:"image",raw:r,href:i,title:o,text:Oa(a)}}let ux=class{constructor(e){Ar(this,"options");Ar(this,"rules");Ar(this,"lexer");this.options=e||tp}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Pg(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],i=function(o,a){const s=o.match(/^(\s+)(?:```)/);if(s===null)return a;const l=s[1];return a.split(`
`).map(u=>{const h=u.match(/^\s+/);if(h===null)return u;const[d]=h;return d.length>=l.length?u.slice(l.length):u}).join(`
`)}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=Pg(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Pg(r[0],`
`)}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=Pg(r[0],`
`).split(`
`),i="",o="";const a=[];for(;n.length>0;){let s=!1;const l=[];let u;for(u=0;u<n.length;u++)if(/^ {0,3}>/.test(n[u]))l.push(n[u]),s=!0;else{if(s)break;l.push(n[u])}n=n.slice(u);const h=l.join(`
`),d=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${h}`:h,o=o?`${o}
${d}`:d;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=p,n.length===0)break;const f=a[a.length-1];if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const g=f,m=g.raw+`
`+n.join(`
`),y=this.blockquote(m);a[a.length-1]=y,i=i.substring(0,i.length-g.raw.length)+y.raw,o=o.substring(0,o.length-g.text.length)+y.text;break}if((f==null?void 0:f.type)==="list"){const g=f,m=g.raw+`
`+n.join(`
`),y=this.list(m);a[a.length-1]=y,i=i.substring(0,i.length-f.raw.length)+y.raw,o=o.substring(0,o.length-g.raw.length)+y.raw,n=m.substring(a[a.length-1].raw.length).split(`
`)}}return{type:"blockquote",raw:i,tokens:a,text:o}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const a=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let s=!1;for(;e;){let l=!1,u="",h="";if(!(r=a.exec(e))||this.rules.block.hr.test(e))break;u=r[0],e=e.substring(u.length);let d=r[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),p=e.split(`
`,1)[0],f=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):f?g=r[1].length+1:(g=r[2].search(/[^ ]/),g=g>4?1:g,h=d.slice(g),g+=r[1].length),f&&/^ *$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){const v=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),b=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,g-1)}}#`);for(;e;){const N=e.split(`
`,1)[0];if(p=N,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),b.test(p)||k.test(p)||v.test(p)||x.test(e))break;if(p.search(/[^ ]/)>=g||!p.trim())h+=`
`+p.slice(g);else{if(f||d.search(/[^ ]/)>=4||b.test(d)||k.test(d)||x.test(d))break;h+=`
`+p}f||p.trim()||(f=!0),u+=N+`
`,e=e.substring(N.length+1),d=p.slice(g)}}o.loose||(s?o.loose=!0:/\n *\n *$/.test(u)&&(s=!0));let m,y=null;this.options.gfm&&(y=/^\[[ xX]\] /.exec(h),y&&(m=y[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:u,task:!!y,checked:m,loose:!1,text:h,tokens:[]}),o.raw+=u}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){const u=o.items[l].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));o.loose=h}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:o}}}table(e){const r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;const n=g9(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),o=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const s of i)/^ *-+: *$/.test(s)?a.align.push("right"):/^ *:-+: *$/.test(s)?a.align.push("center"):/^ *:-+ *$/.test(s)?a.align.push("left"):a.align.push(null);for(let s=0;s<n.length;s++)a.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:a.align[s]});for(const s of o)a.rows.push(g9(s,a.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[u]})));return a}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Oa(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=Pg(n.slice(0,-1),"\\");if((n.length-a.length)%2==0)return}else{const a=function(s,l){if(s.indexOf(l[1])===-1)return-1;let u=0;for(let h=0;h<s.length;h++)if(s[h]==="\\")h++;else if(s[h]===l[0])u++;else if(s[h]===l[1]&&(u--,u<0))return h;return-1}(r[2],"()");if(a>-1){const s=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,s).trim(),r[3]=""}}let i=r[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],o=a[3])}else o=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(n)?i.slice(1):i.slice(1,-1)),m9(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=r[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return m9(n,i,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(i&&!(i[3]&&n.match(/[\p{L}\p{N}]/u))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){const o=[...i[0]].length-1;let a,s,l=o,u=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*e.length+o);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(s=[...a].length,i[3]||i[4]){l+=s;continue}if((i[5]||i[6])&&o%3&&!((o+s)%3)){u+=s;continue}if(l-=s,l>0)continue;s=Math.min(s,s+l+u);const d=[...i[0]][0].length,p=e.slice(0,o+i.index+d+s);if(Math.min(o,s)%2){const g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}const f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=Oa(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=Oa(r[1]),i="mailto:"+n):(n=Oa(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let i,o;if(r[2]==="@")i=Oa(r[0]),o="mailto:"+i;else{let a;do a=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(a!==r[0]);i=Oa(r[0]),o=r[1]==="www."?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Oa(r[0]),{type:"text",raw:r[0],text:n}}}};const Ay=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,BW=/(?:[*+-]|\d{1,9}[.)])/,PW=on(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,BW).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),hC=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,dC=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ygt=on(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",dC).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vgt=on(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,BW).getRegex(),f4="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pC=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bgt=on("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",pC).replace("tag",f4).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y9=on(hC).replace("hr",Ay).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",f4).getRegex(),fC={blockquote:on(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",y9).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:ygt,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Ay,html:bgt,lheading:PW,list:vgt,newline:/^(?: *(?:\n|$))+/,paragraph:y9,table:rm,text:/^[^\n]+/},v9=on("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ay).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",f4).getRegex(),xgt={...fC,table:v9,paragraph:on(hC).replace("hr",Ay).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",v9).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",f4).getRegex()},wgt={...fC,html:on(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pC).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:on(hC).replace("hr",Ay).replace("heading",` *#{1,6} *[^
]`).replace("lheading",PW).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},FW=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,zW=/^( {2,}|\\)\n(?!\s*$)/,Cy="\\p{P}\\p{S}",kgt=on(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Cy).getRegex(),Tgt=on(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Cy).getRegex(),Egt=on("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Cy).getRegex(),_gt=on("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Cy).getRegex(),Sgt=on(/\\([punct])/,"gu").replace(/punct/g,Cy).getRegex(),Agt=on(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Cgt=on(pC).replace("(?:-->|$)","-->").getRegex(),$gt=on("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Cgt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),hx=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ngt=on(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",hx).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),b9=on(/^!?\[(label)\]\[(ref)\]/).replace("label",hx).replace("ref",dC).getRegex(),x9=on(/^!?\[(ref)\](?:\[\])?/).replace("ref",dC).getRegex(),gC={_backpedal:rm,anyPunctuation:Sgt,autolink:Agt,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:zW,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:rm,emStrongLDelim:Tgt,emStrongRDelimAst:Egt,emStrongRDelimUnd:_gt,escape:FW,link:Ngt,nolink:x9,punctuation:kgt,reflink:b9,reflinkSearch:on("reflink|nolink(?!\\()","g").replace("reflink",b9).replace("nolink",x9).getRegex(),tag:$gt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:rm},Igt={...gC,link:on(/^!?\[(label)\]\((.*?)\)/).replace("label",hx).getRegex(),reflink:on(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hx).getRegex()},KE={...gC,escape:on(FW).replace("])","~|])").getRegex(),url:on(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Lgt={...KE,br:on(zW).replace("{2,}","*").getRegex(),text:on(KE.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ev={normal:fC,gfm:xgt,pedantic:wgt},Fg={normal:gC,gfm:KE,breaks:Lgt,pedantic:Igt};let cd=class ZE{constructor(e){Ar(this,"tokens");Ar(this,"options");Ar(this,"state");Ar(this,"tokenizer");Ar(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||tp,this.options.tokenizer=this.options.tokenizer||new ux,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Ev.normal,inline:Fg.normal};this.options.pedantic?(r.block=Ev.pedantic,r.inline=Fg.pedantic):this.options.gfm&&(r.block=Ev.gfm,this.options.breaks?r.inline=Fg.breaks:r.inline=Fg.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ev,inline:Fg}}static lex(e,r){return new ZE(r).lex(e)}static lexInline(e,r){return new ZE(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){let i,o,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(s,l,u)=>l+"    ".repeat(u.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>!!(i=s.call({lexer:this},e,r))&&(e=e.substring(i.raw.length),r.push(i),!0))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),o=r[r.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?r.push(i):(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),o=r[r.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(o.raw+=`
`+i.raw,o.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),r.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),r.push(i);else{if(a=e,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},l),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(a=e.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a)))o=r[r.length-1],n&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(i),n=a.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),o=r[r.length-1],o&&o.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(i);else if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,i,o,a,s,l,u=e;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(u))!=null;)u=u.slice(0,a.index)+"++"+u.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>!!(n=h.call({lexer:this},e,r))&&(e=e.substring(n.raw.length),r.push(n),!0))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);else if(n=this.tokenizer.emStrong(e,u,l))e=e.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),r.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),r.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const d=e.slice(1);let p;this.options.extensions.startInline.forEach(f=>{p=f.call({lexer:this},d),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(o=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(o))e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(l=n.raw.slice(-1)),s=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);else if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(n.raw.length),r.push(n);return r}},dx=class{constructor(e){Ar(this,"options");Ar(this,"parser");this.options=e||tp}space(e){return""}code({text:e,lang:r,escaped:n}){var a;const i=(a=(r||"").match(/^\S*/))==null?void 0:a[0],o=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+Oa(i)+'">'+(n?o:Oa(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Oa(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){const r=e.ordered,n=e.start;let i="";for(let a=0;a<e.items.length;a++){const s=e.items[a];i+=this.listitem(s)}const o=r?"ol":"ul";return"<"+o+(r&&n!==1?' start="'+n+'"':"")+`>
`+i+"</"+o+`>
`}listitem(e){let r="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);r+=this.tablerow({text:n});let i="";for(let o=0;o<e.rows.length;o++){const a=e.rows[o];n="";for(let s=0;s<a.length;s++)n+=this.tablecell(a[s]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){const i=this.parser.parseInline(n),o=f9(e);if(o===null)return i;let a='<a href="'+(e=o)+'"';return r&&(a+=' title="'+r+'"'),a+=">"+i+"</a>",a}image({href:e,title:r,text:n}){const i=f9(e);if(i===null)return n;let o=`<img src="${e=i}" alt="${n}"`;return r&&(o+=` title="${r}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}},mC=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ud=class QE{constructor(e){Ar(this,"options");Ar(this,"renderer");Ar(this,"textRenderer");this.options=e||tp,this.options.renderer=this.options.renderer||new dx,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new mC}static parse(e,r){return new QE(r).parse(e)}static parseInline(e,r){return new QE(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=l||"";continue}}const a=o;switch(a.type){case"space":n+=this.renderer.space(a);continue;case"hr":n+=this.renderer.hr(a);continue;case"heading":n+=this.renderer.heading(a);continue;case"code":n+=this.renderer.code(a);continue;case"table":n+=this.renderer.table(a);continue;case"blockquote":n+=this.renderer.blockquote(a);continue;case"list":n+=this.renderer.list(a);continue;case"html":n+=this.renderer.html(a);continue;case"paragraph":n+=this.renderer.paragraph(a);continue;case"text":{let s=a,l=this.renderer.text(s);for(;i+1<e.length&&e[i+1].type==="text";)s=e[++i],l+=`
`+this.renderer.text(s);n+=r?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):l;continue}default:{const s='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(e,r){r=r||this.renderer;let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=s||"";continue}}const a=o;switch(a.type){case"escape":case"text":n+=r.text(a);break;case"html":n+=r.html(a);break;case"link":n+=r.link(a);break;case"image":n+=r.image(a);break;case"strong":n+=r.strong(a);break;case"em":n+=r.em(a);break;case"codespan":n+=r.codespan(a);break;case"br":n+=r.br(a);break;case"del":n+=r.del(a);break;default:{const s='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}};var wE;let K2=(wE=class{constructor(e){Ar(this,"options");this.options=e||tp}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}},Ar(wE,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),wE);var Vc,jW,JE,HW,gU;let Rgt=(gU=class{constructor(...e){rN(this,Vc);Ar(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null});Ar(this,"options",this.setOptions);Ar(this,"parse",Ng(this,Vc,JE).call(this,cd.lex,ud.parse));Ar(this,"parseInline",Ng(this,Vc,JE).call(this,cd.lexInline,ud.parseInline));Ar(this,"Parser",ud);Ar(this,"Renderer",dx);Ar(this,"TextRenderer",mC);Ar(this,"Lexer",cd);Ar(this,"Tokenizer",ux);Ar(this,"Hooks",K2);this.use(...e)}walkTokens(e,r){var i,o;let n=[];for(const a of e)switch(n=n.concat(r.call(this,a)),a.type){case"table":{const s=a;for(const l of s.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of s.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{const s=a;n=n.concat(this.walkTokens(s.items,r));break}default:{const s=a;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{const u=s[l].flat(1/0);n=n.concat(this.walkTokens(u,r))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=r.renderers[o.name];r.renderers[o.name]=a?function(...s){let l=o.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=r[o.level];a?a.unshift(o.tokenizer):r[o.level]=[o.tokenizer],o.start&&(o.level==="block"?r.startBlock?r.startBlock.push(o.start):r.startBlock=[o.start]:o.level==="inline"&&(r.startInline?r.startInline.push(o.start):r.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(r.childTokens[o.name]=o.childTokens)}),i.extensions=r),n.renderer){const o=this.defaults.renderer||new dx(this.defaults);for(const a in n.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const s=a;let l=n.renderer[s];n.useNewRenderer||(l=Ng(this,Vc,jW).call(this,l,s,o));const u=o[s];o[s]=(...h)=>{let d=l.apply(o,h);return d===!1&&(d=u.apply(o,h)),d||""}}i.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new ux(this.defaults);for(const a in n.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const s=a,l=n.tokenizer[s],u=o[s];o[s]=(...h)=>{let d=l.apply(o,h);return d===!1&&(d=u.apply(o,h)),d}}i.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new K2;for(const a in n.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const s=a,l=n.hooks[s],u=o[s];K2.passThroughHooks.has(a)?o[s]=h=>{if(this.defaults.async)return Promise.resolve(l.call(o,h)).then(p=>u.call(o,p));const d=l.call(o,h);return u.call(o,d)}:o[s]=(...h)=>{let d=l.apply(o,h);return d===!1&&(d=u.apply(o,h)),d}}i.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(s){let l=[];return l.push(a.call(this,s)),o&&(l=l.concat(o.call(this,s))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return cd.lex(e,r??this.defaults)}parser(e,r){return ud.parse(e,r??this.defaults)}},Vc=new WeakSet,jW=function(e,r,n){switch(r){case"heading":return function(i){return i.type&&i.type===r?e.call(this,n.parser.parseInline(i.tokens),i.depth,function(o){return o.replace(ggt,(a,s)=>(s=s.toLowerCase())==="colon"?":":s.charAt(0)==="#"?s.charAt(1)==="x"?String.fromCharCode(parseInt(s.substring(2),16)):String.fromCharCode(+s.substring(1)):"")}(n.parser.parseInline(i.tokens,n.parser.textRenderer))):e.apply(this,arguments)};case"code":return function(i){return i.type&&i.type===r?e.call(this,i.text,i.lang,!!i.escaped):e.apply(this,arguments)};case"table":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);let o="",a="";for(let l=0;l<i.header.length;l++)a+=this.tablecell({text:i.header[l].text,tokens:i.header[l].tokens,header:!0,align:i.align[l]});o+=this.tablerow({text:a});let s="";for(let l=0;l<i.rows.length;l++){const u=i.rows[l];a="";for(let h=0;h<u.length;h++)a+=this.tablecell({text:u[h].text,tokens:u[h].tokens,header:!1,align:i.align[h]});s+=this.tablerow({text:a})}return e.call(this,o,s)};case"blockquote":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const o=this.parser.parse(i.tokens);return e.call(this,o)};case"list":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const o=i.ordered,a=i.start,s=i.loose;let l="";for(let u=0;u<i.items.length;u++){const h=i.items[u],d=h.checked,p=h.task;let f="";if(h.task){const g=this.checkbox({checked:!!d});s?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=g+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=g+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:g+" "}):f+=g+" "}f+=this.parser.parse(h.tokens,s),l+=this.listitem({type:"list_item",raw:f,text:f,task:p,checked:!!d,loose:s,tokens:h.tokens})}return e.call(this,l,o,a)};case"html":return function(i){return i.type&&i.type===r?e.call(this,i.text,i.block):e.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(i){return i.type&&i.type===r?e.call(this,this.parser.parseInline(i.tokens)):e.apply(this,arguments)};case"escape":case"codespan":case"text":return function(i){return i.type&&i.type===r?e.call(this,i.text):e.apply(this,arguments)};case"link":return function(i){return i.type&&i.type===r?e.call(this,i.href,i.title,this.parser.parseInline(i.tokens)):e.apply(this,arguments)};case"image":return function(i){return i.type&&i.type===r?e.call(this,i.href,i.title,i.text):e.apply(this,arguments)}}return e},JE=function(e,r){return(n,i)=>{const o={...i},a={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const s=Ng(this,Vc,HW).call(this,!!a.silent,!!a.async);if(n==null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then(l=>e(l,a)).then(l=>a.hooks?a.hooks.processAllTokens(l):l).then(l=>a.walkTokens?Promise.all(this.walkTokens(l,a.walkTokens)).then(()=>l):l).then(l=>r(l,a)).then(l=>a.hooks?a.hooks.postprocess(l):l).catch(s);try{a.hooks&&(n=a.hooks.preprocess(n));let l=e(n,a);a.hooks&&(l=a.hooks.processAllTokens(l)),a.walkTokens&&this.walkTokens(l,a.walkTokens);let u=r(l,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(l){return s(l)}}},HW=function(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Oa(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}},gU);const Bh=new Rgt;function Wr(t,e){return Bh.parse(t,e)}Wr.options=Wr.setOptions=function(t){return Bh.setOptions(t),Wr.defaults=Bh.defaults,d9(Wr.defaults),Wr},Wr.getDefaults=hgt,Wr.defaults=tp,Wr.use=function(...t){return Bh.use(...t),Wr.defaults=Bh.defaults,d9(Wr.defaults),Wr},Wr.walkTokens=function(t,e){return Bh.walkTokens(t,e)},Wr.parseInline=Bh.parseInline,Wr.Parser=ud,Wr.parser=ud.parse,Wr.Renderer=dx,Wr.TextRenderer=mC,Wr.Lexer=cd,Wr.lexer=cd.lex,Wr.Tokenizer=ux,Wr.Hooks=K2,Wr.parse=Wr,Wr.options,Wr.setOptions,Wr.use,Wr.walkTokens,Wr.parseInline,ud.parse,cd.lex;function UW(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(s,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?s.concat(u.map(function(h){var d,p;return(p=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&p!==void 0?p:0})):s},[]);if(i.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(s){return s.replace(o,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return e.forEach(function(s,l){var u=a.match(/(?:^|\n)( *)$/),h=u?u[1]:"",d=s;typeof s=="string"&&s.includes(`
`)&&(d=String(s).split(`
`).map(function(p,f){return f===0?p:""+h+p}).join(`
`)),a+=d+n[l+1]}),a}function qW(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=UW(r);return e===!1?n.replace(/ /g,"&nbsp;"):n}function GW(t,e={}){const r=qW(t,e),n=Wr.lexer(r),i=[[]];let o=0;function a(s,l="normal"){s.type==="text"?s.text.split(`
`).forEach((u,h)=>{h!==0&&(o++,i.push([])),u.split(" ").forEach(d=>{(d=d.replace(/&#39;/g,"'"))&&i[o].push({content:d,type:l})})}):s.type==="strong"||s.type==="em"?s.tokens.forEach(u=>{a(u,s.type)}):s.type==="html"&&i[o].push({content:s.text,type:"normal"})}return w(a,"processNode"),n.forEach(s=>{var l;s.type==="paragraph"?(l=s.tokens)==null||l.forEach(u=>{a(u)}):s.type==="html"&&i[o].push({content:s.text,type:"normal"})}),i}function WW(t,{markdownAutoWrap:e}={}){const r=Wr.lexer(t);function n(i){var o,a,s;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(o=i.tokens)==null?void 0:o.map(n).join("")}</strong>`:i.type==="em"?`<em>${(a=i.tokens)==null?void 0:a.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(s=i.tokens)==null?void 0:s.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return w(n,"output"),r.map(n).join("")}function VW(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}function YW(t,e){return yC(t,[],VW(e.content),e.type)}function yC(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...o]=r,a=[...e,i];return t([{content:a.join(""),type:n}])?yC(t,a,o,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}function XW(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return px(t,e)}function px(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const o=t.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(o),e(a))return px(t,e,r,a);if(n.length>0)r.push(n),t.unshift(o);else if(o.content){const[s,l]=YW(e,o);r.push([s]),l.content&&t.unshift(l)}return px(t,e,r)}function t_(t,e){e&&t.attr("style",e)}async function KW(t,e,r,n,i=!1){const o=t.append("foreignObject");o.attr("width",10*r+"px"),o.attr("height",10*r+"px");const a=o.append("xhtml:div");let s=e.label;e.label&&Io(e.label)&&(s=await vy(e.label.replace(ne.lineBreakRegex,`
`),Tt()));const l=e.isNode?"nodeLabel":"edgeLabel",u=a.append("span");u.html(s),t_(u,e.labelStyle),u.attr("class",`${l} ${n}`),t_(a,e.labelStyle),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("line-height","1.5"),a.style("max-width",r+"px"),a.style("text-align","center"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&a.attr("class","labelBkg");let h=a.node().getBoundingClientRect();return h.width===r&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",r+"px"),h=a.node().getBoundingClientRect()),o.node()}function g4(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}function ZW(t,e,r){const n=t.append("text"),i=g4(n,1,e);m4(i,r);const o=i.node().getComputedTextLength();return n.remove(),o}function QW(t,e,r){var a;const n=t.append("text"),i=g4(n,1,e);m4(i,[{content:r,type:"normal"}]);const o=(a=i.node())==null?void 0:a.getBoundingClientRect();return o&&n.remove(),o}function JW(t,e,r,n=!1){const i=e.append("g"),o=i.insert("rect").attr("class","background").attr("style","stroke: none"),a=i.append("text").attr("y","-10.1");let s=0;for(const l of r){const u=w(d=>ZW(i,1.1,d)<=t,"checkWidth"),h=u(l)?[l]:XW(l,u);for(const d of h)m4(g4(a,s,1.1),d),s++}if(n){const l=a.node().getBBox(),u=2;return o.attr("x",l.x-u).attr("y",l.y-u).attr("width",l.width+2*u).attr("height",l.height+2*u),i.node()}return a.node()}function m4(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}function vC(t){return t.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}w(qW,"preprocessMarkdown"),w(GW,"markdownToLines"),w(WW,"markdownToHTML"),w(VW,"splitTextToChars"),w(YW,"splitWordToFitWidth"),w(yC,"splitWordToFitWidthRecursion"),w(XW,"splitLineToFitWidth"),w(px,"splitLineToFitWidthRecursion"),w(t_,"applyStyle"),w(KW,"addHtmlSpan"),w(g4,"createTspan"),w(ZW,"computeWidthOfText"),w(QW,"computeDimensionOfText"),w(JW,"createFormattedText"),w(m4,"updateTextContentAndStyles"),w(vC,"replaceIconSubstring");var $s=w(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:o=!0,isNode:a=!0,width:s=200,addSvgBackground:l=!1}={},u)=>{if(et.debug("XYZ createText",e,r,n,i,o,a,"addSvgBackground: ",l),o){const h=WW(e,u),d=vC(Dc(h)),p=e.replace(/\\\\/g,"\\"),f={isNode:a,label:Io(e)?p:d,labelStyle:r.replace("fill:","color:")};return await KW(t,f,s,i,l)}{const h=JW(s,t,GW(e.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),u),!!e&&l);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");he(h).attr("style",d)}else{const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");he(h).select("rect").attr("style",d.replace(/background:/g,"fill:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");he(h).select("text").attr("style",p)}return h}},"createText");function gw(t,e,r){if(t&&t.length){const[n,i]=e,o=Math.PI/180*r,a=Math.cos(o),s=Math.sin(o);for(const l of t){const[u,h]=l;l[0]=(u-n)*a-(h-i)*s+n,l[1]=(u-n)*s+(h-i)*a+i}}}function Dgt(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ogt(t,e,r,n=1){const i=r,o=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,s=[0,0];if(i)for(const u of a)gw(u,s,i);const l=function(u,h,d){const p=[];for(const x of u){const b=[...x];Dgt(b[0],b[b.length-1])||b.push([b[0][0],b[0][1]]),b.length>2&&p.push(b)}const f=[];h=Math.max(h,.1);const g=[];for(const x of p)for(let b=0;b<x.length-1;b++){const k=x[b],N=x[b+1];if(k[1]!==N[1]){const _=Math.min(k[1],N[1]);g.push({ymin:_,ymax:Math.max(k[1],N[1]),x:_===k[1]?k[0]:N[0],islope:(N[0]-k[0])/(N[1]-k[1])})}}if(g.sort((x,b)=>x.ymin<b.ymin?-1:x.ymin>b.ymin?1:x.x<b.x?-1:x.x>b.x?1:x.ymax===b.ymax?0:(x.ymax-b.ymax)/Math.abs(x.ymax-b.ymax)),!g.length)return f;let m=[],y=g[0].ymin,v=0;for(;m.length||g.length;){if(g.length){let x=-1;for(let b=0;b<g.length&&!(g[b].ymin>y);b++)x=b;g.splice(0,x+1).forEach(b=>{m.push({s:y,edge:b})})}if(m=m.filter(x=>!(x.edge.ymax<=y)),m.sort((x,b)=>x.edge.x===b.edge.x?0:(x.edge.x-b.edge.x)/Math.abs(x.edge.x-b.edge.x)),(d!==1||v%h==0)&&m.length>1)for(let x=0;x<m.length;x+=2){const b=x+1;if(b>=m.length)break;const k=m[x].edge,N=m[b].edge;f.push([[Math.round(k.x),y],[Math.round(N.x),y]])}y+=d,m.forEach(x=>{x.edge.x=x.edge.x+d*x.edge.islope}),v++}return f}(a,o,n);if(i){for(const u of a)gw(u,s,-i);(function(u,h,d){const p=[];u.forEach(f=>p.push(...f)),gw(p,h,d)})(l,s,-i)}return l}function $y(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let o=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(o=i),Ogt(t,i,n,o||1)}let bC=class{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=$y(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}};function y4(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}let Mgt=class extends bC{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=$y(e,Object.assign({},r,{hachureGap:n})),o=Math.PI/180*r.hachureAngle,a=[],s=.5*n*Math.cos(o),l=.5*n*Math.sin(o);for(const[u,h]of i)y4([u,h])&&a.push([[u[0]-s,u[1]+l],[...h]],[[u[0]+s,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}},Bgt=class extends bC{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),o=this._fillPolygons(e,i);return n.ops=n.ops.concat(o.ops),n}},Pgt=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=$y(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let o=r.fillWeight;o<0&&(o=r.strokeWidth/2);const a=i/4;for(const s of e){const l=y4(s),u=l/i,h=Math.ceil(u)-1,d=l-h*i,p=(s[0][0]+s[1][0])/2-i/4,f=Math.min(s[0][1],s[1][1]);for(let g=0;g<h;g++){const m=f+d+g*i,y=p-a+2*Math.random()*a,v=m-a+2*Math.random()*a,x=this.helper.ellipse(y,v,o,o,r);n.push(...x.ops)}}return{type:"fillSketch",ops:n}}},Fgt=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=$y(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,o=[];return e.forEach(a=>{const s=y4(a),l=Math.floor(s/(n+i)),u=(s+i-l*(n+i))/2;let h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);const p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let f=0;f<l;f++){const g=f*(n+i),m=g+n,y=[h[0]+g*Math.cos(p)+u*Math.cos(p),h[1]+g*Math.sin(p)+u*Math.sin(p)],v=[h[0]+m*Math.cos(p)+u*Math.cos(p),h[1]+m*Math.sin(p)+u*Math.sin(p)];o.push(...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],r))}}),o}},zgt=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,o=$y(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(o,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(o=>{const a=y4(o),s=Math.round(a/(2*r));let l=o[0],u=o[1];l[0]>u[0]&&(l=o[1],u=o[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<s;d++){const p=2*d*r,f=2*(d+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],v=[m[0]+g*Math.cos(h+Math.PI/4),m[1]+g*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],v[0],v[1],n),...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],n))}}),i}};const na={};let jgt=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const _v={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function mw(t,e){return t.type===e}function xC(t){const e=[],r=function(a){const s=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:0,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];s[s.length]={type:1,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return s[s.length]={type:2,text:""},s}(t);let n="BOD",i=0,o=r[i];for(;!mw(o,2);){let a=0;const s=[];if(n==="BOD"){if(o.text!=="M"&&o.text!=="m")return xC("M0,0"+t);i++,a=_v[o.text],n=o.text}else mw(o,1)?a=_v[n]:(i++,a=_v[o.text],n=o.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const u=r[l];if(!mw(u,1))throw new Error("Param not a number: "+n+","+u.text);s[s.length]=+u.text}if(typeof _v[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:s};e.push(l),i+=a,o=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function tV(t){let e=0,r=0,n=0,i=0;const o=[];for(const{key:a,data:s}of t)switch(a){case"M":o.push({key:"M",data:[...s]}),[e,r]=s,[n,i]=s;break;case"m":e+=s[0],r+=s[1],o.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":o.push({key:"L",data:[...s]}),[e,r]=s;break;case"l":e+=s[0],r+=s[1],o.push({key:"L",data:[e,r]});break;case"C":o.push({key:"C",data:[...s]}),e=s[4],r=s[5];break;case"c":{const l=s.map((u,h)=>h%2?u+r:u+e);o.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":o.push({key:"Q",data:[...s]}),e=s[2],r=s[3];break;case"q":{const l=s.map((u,h)=>h%2?u+r:u+e);o.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":o.push({key:"A",data:[...s]}),e=s[5],r=s[6];break;case"a":e+=s[5],r+=s[6],o.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],e,r]});break;case"H":o.push({key:"H",data:[...s]}),e=s[0];break;case"h":e+=s[0],o.push({key:"H",data:[e]});break;case"V":o.push({key:"V",data:[...s]}),r=s[0];break;case"v":r+=s[0],o.push({key:"V",data:[r]});break;case"S":o.push({key:"S",data:[...s]}),e=s[2],r=s[3];break;case"s":{const l=s.map((u,h)=>h%2?u+r:u+e);o.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":o.push({key:"T",data:[...s]}),e=s[0],r=s[1];break;case"t":e+=s[0],r+=s[1],o.push({key:"T",data:[e,r]});break;case"Z":case"z":o.push({key:"Z",data:[]}),e=n,r=i}return o}function eV(t){const e=[];let r="",n=0,i=0,o=0,a=0,s=0,l=0;for(const{key:u,data:h}of t){switch(u){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[o,a]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],s=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let d=0,p=0;r==="C"||r==="S"?(d=n+(n-s),p=i+(i-l)):(d=n,p=i),e.push({key:"C",data:[d,p,...h]}),s=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[d,p]=h;let f=0,g=0;r==="Q"||r==="T"?(f=n+(n-s),g=i+(i-l)):(f=n,g=i);const m=n+2*(f-n)/3,y=i+2*(g-i)/3,v=d+2*(f-d)/3,x=p+2*(g-p)/3;e.push({key:"C",data:[m,y,v,x,d,p]}),s=f,l=g,n=d,i=p;break}case"Q":{const[d,p,f,g]=h,m=n+2*(d-n)/3,y=i+2*(p-i)/3,v=f+2*(d-f)/3,x=g+2*(p-g)/3;e.push({key:"C",data:[m,y,v,x,f,g]}),s=d,l=p,n=f,i=g;break}case"A":{const d=Math.abs(h[0]),p=Math.abs(h[1]),f=h[2],g=h[3],m=h[4],y=h[5],v=h[6];d===0||p===0?(e.push({key:"C",data:[n,i,y,v,y,v]}),n=y,i=v):n===y&&i===v||(rV(n,i,y,v,d,p,f,g,m).forEach(function(x){e.push({key:"C",data:x})}),n=y,i=v);break}case"Z":e.push({key:"Z",data:[]}),n=o,i=a}r=u}return e}function zg(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function rV(t,e,r,n,i,o,a,s,l,u){const h=(d=a,Math.PI*d/180);var d;let p=[],f=0,g=0,m=0,y=0;if(u)[f,g,m,y]=u;else{[t,e]=zg(t,e,-h),[r,n]=zg(r,n,-h);const $=(t-r)/2,I=(e-n)/2;let L=$*$/(i*i)+I*I/(o*o);L>1&&(L=Math.sqrt(L),i*=L,o*=L);const O=i*i,B=o*o,R=O*B-O*I*I-B*$*$,M=O*I*I+B*$*$,F=(s===l?-1:1)*Math.sqrt(Math.abs(R/M));m=F*i*I/o+(t+r)/2,y=F*-o*$/i+(e+n)/2,f=Math.asin(parseFloat(((e-y)/o).toFixed(9))),g=Math.asin(parseFloat(((n-y)/o).toFixed(9))),t<m&&(f=Math.PI-f),r<m&&(g=Math.PI-g),f<0&&(f=2*Math.PI+f),g<0&&(g=2*Math.PI+g),l&&f>g&&(f-=2*Math.PI),!l&&g>f&&(g-=2*Math.PI)}let v=g-f;if(Math.abs(v)>120*Math.PI/180){const $=g,I=r,L=n;g=l&&g>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=rV(r=m+i*Math.cos(g),n=y+o*Math.sin(g),I,L,i,o,a,0,l,[g,$,m,y])}v=g-f;const x=Math.cos(f),b=Math.sin(f),k=Math.cos(g),N=Math.sin(g),_=Math.tan(v/4),S=4/3*i*_,T=4/3*o*_,A=[t,e],C=[t+S*b,e-T*x],D=[r+S*N,n-T*k],E=[r,n];if(C[0]=2*A[0]-C[0],C[1]=2*A[1]-C[1],u)return[C,D,E].concat(p);{p=[C,D,E].concat(p);const $=[];for(let I=0;I<p.length;I+=3){const L=zg(p[I][0],p[I][1],h),O=zg(p[I+1][0],p[I+1][1],h),B=zg(p[I+2][0],p[I+2][1],h);$.push([L[0],L[1],O[0],O[1],B[0],B[1]])}return $}}const Hgt={randOffset:function(t,e){return or(t,e)},randOffsetWithRange:function(t,e,r){return fx(t,e,r)},ellipse:function(t,e,r,n,i){return e_(t,e,i,iV(r,n,i)).opset},doubleLineOps:function(t,e,r,n,i){return Ku(t,e,r,n,i,!0)}};function nV(t,e,r,n,i){return{type:"path",ops:Ku(t,e,r,n,i)}}function Sv(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let o=0;o<n-1;o++)i.push(...Ku(t[o][0],t[o][1],t[o+1][0],t[o+1][1],r));return e&&i.push(...Ku(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?nV(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function w9(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=Av(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:Av(r[0],1.5*(1+.22*e.roughness),E9(e));for(let o=1;o<r.length;o++){const a=r[o];if(a.length){const s=Av(a,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:Av(a,1.5*(1+.22*e.roughness),E9(e));for(const u of s)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function iV(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),o=2*Math.PI/i;let a=Math.abs(t/2),s=Math.abs(e/2);const l=1-r.curveFitting;return a+=or(a*l,r),s+=or(s*l,r),{increment:o,rx:a,ry:s}}function e_(t,e,r,n){const[i,o]=_9(n.increment,t,e,n.rx,n.ry,1,n.increment*fx(.1,fx(.4,1,r),r),r);let a=gx(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[s]=_9(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=gx(s,null,r);a=a.concat(l)}return{estimatedPoints:o,opset:{type:"path",ops:a}}}function k9(t,e,r,n,i,o,a,s,l){const u=t,h=e;let d=Math.abs(r/2),p=Math.abs(n/2);d+=or(.01*d,l),p+=or(.01*p,l);let f=i,g=o;for(;f<0;)f+=2*Math.PI,g+=2*Math.PI;g-f>2*Math.PI&&(f=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,y=Math.min(m/2,(g-f)/2),v=S9(y,u,h,d,p,f,g,1,l);if(!l.disableMultiStroke){const x=S9(y,u,h,d,p,f,g,1.5,l);v.push(...x)}return a&&(s?v.push(...Ku(u,h,u+d*Math.cos(f),h+p*Math.sin(f),l),...Ku(u,h,u+d*Math.cos(g),h+p*Math.sin(g),l)):v.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+d*Math.cos(f),h+p*Math.sin(f)]})),{type:"path",ops:v}}function T9(t,e){const r=eV(tV(xC(t))),n=[];let i=[0,0],o=[0,0];for(const{key:a,data:s}of r)switch(a){case"M":o=[s[0],s[1]],i=[s[0],s[1]];break;case"L":n.push(...Ku(o[0],o[1],s[0],s[1],e)),o=[s[0],s[1]];break;case"C":{const[l,u,h,d,p,f]=s;n.push(...Ugt(l,u,h,d,p,f,o,e)),o=[p,f];break}case"Z":n.push(...Ku(o[0],o[1],i[0],i[1],e)),o=[i[0],i[1]]}return{type:"path",ops:n}}function yw(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,o=n.length;if(o>2){r.push({op:"move",data:[n[0][0]+or(i,e),n[0][1]+or(i,e)]});for(let a=1;a<o;a++)r.push({op:"lineTo",data:[n[a][0]+or(i,e),n[a][1]+or(i,e)]})}}return{type:"fillPath",ops:r}}function dp(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!na[i])switch(i){case"zigzag":na[i]||(na[i]=new Mgt(n));break;case"cross-hatch":na[i]||(na[i]=new Bgt(n));break;case"dots":na[i]||(na[i]=new Pgt(n));break;case"dashed":na[i]||(na[i]=new Fgt(n));break;case"zigzag-line":na[i]||(na[i]=new zgt(n));break;default:i="hachure",na[i]||(na[i]=new bC(n))}return na[i]}(e,Hgt).fillPolygons(t,e)}function E9(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function oV(t){return t.randomizer||(t.randomizer=new jgt(t.seed||0)),t.randomizer.next()}function fx(t,e,r,n=1){return r.roughness*n*(oV(r)*(e-t)+t)}function or(t,e,r=1){return fx(-t,t,e,r)}function Ku(t,e,r,n,i,o=!1){const a=o?i.disableMultiStrokeFill:i.disableMultiStroke,s=r_(t,e,r,n,i,!0,!1);if(a)return s;const l=r_(t,e,r,n,i,!0,!0);return s.concat(l)}function r_(t,e,r,n,i,o,a){const s=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(s);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>s&&(h=l/10);const d=h/2,p=.2+.2*oV(i);let f=i.bowing*i.maxRandomnessOffset*(n-e)/200,g=i.bowing*i.maxRandomnessOffset*(t-r)/200;f=or(f,i,u),g=or(g,i,u);const m=[],y=()=>or(d,i,u),v=()=>or(h,i,u),x=i.preserveVertices;return a?m.push({op:"move",data:[t+(x?0:y()),e+(x?0:y())]}):m.push({op:"move",data:[t+(x?0:or(h,i,u)),e+(x?0:or(h,i,u))]}),a?m.push({op:"bcurveTo",data:[f+t+(r-t)*p+y(),g+e+(n-e)*p+y(),f+t+2*(r-t)*p+y(),g+e+2*(n-e)*p+y(),r+(x?0:y()),n+(x?0:y())]}):m.push({op:"bcurveTo",data:[f+t+(r-t)*p+v(),g+e+(n-e)*p+v(),f+t+2*(r-t)*p+v(),g+e+2*(n-e)*p+v(),r+(x?0:v()),n+(x?0:v())]}),m}function Av(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+or(e,r),t[0][1]+or(e,r)]),n.push([t[0][0]+or(e,r),t[0][1]+or(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+or(e,r),t[i][1]+or(e,r)]),i===t.length-1&&n.push([t[i][0]+or(e,r),t[i][1]+or(e,r)]);return gx(n,null,r)}function gx(t,e,r){const n=t.length,i=[];if(n>3){const o=[],a=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let s=1;s+2<n;s++){const l=t[s];o[0]=[l[0],l[1]],o[1]=[l[0]+(a*t[s+1][0]-a*t[s-1][0])/6,l[1]+(a*t[s+1][1]-a*t[s-1][1])/6],o[2]=[t[s+1][0]+(a*t[s][0]-a*t[s+2][0])/6,t[s+1][1]+(a*t[s][1]-a*t[s+2][1])/6],o[3]=[t[s+1][0],t[s+1][1]],i.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...r_(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function _9(t,e,r,n,i,o,a,s){const l=[],u=[];if(s.roughness===0){t/=4,u.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const d=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(d),u.push(d)}u.push([e+n*Math.cos(0),r+i*Math.sin(0)]),u.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=or(.5,s)-Math.PI/2;u.push([or(o,s)+e+.9*n*Math.cos(h-t),or(o,s)+r+.9*i*Math.sin(h-t)]);const d=2*Math.PI+h-.01;for(let p=h;p<d;p+=t){const f=[or(o,s)+e+n*Math.cos(p),or(o,s)+r+i*Math.sin(p)];l.push(f),u.push(f)}u.push([or(o,s)+e+n*Math.cos(h+2*Math.PI+.5*a),or(o,s)+r+i*Math.sin(h+2*Math.PI+.5*a)]),u.push([or(o,s)+e+.98*n*Math.cos(h+a),or(o,s)+r+.98*i*Math.sin(h+a)]),u.push([or(o,s)+e+.9*n*Math.cos(h+.5*a),or(o,s)+r+.9*i*Math.sin(h+.5*a)])}return[u,l]}function S9(t,e,r,n,i,o,a,s,l){const u=o+or(.1,l),h=[];h.push([or(s,l)+e+.9*n*Math.cos(u-t),or(s,l)+r+.9*i*Math.sin(u-t)]);for(let d=u;d<=a;d+=t)h.push([or(s,l)+e+n*Math.cos(d),or(s,l)+r+i*Math.sin(d)]);return h.push([e+n*Math.cos(a),r+i*Math.sin(a)]),h.push([e+n*Math.cos(a),r+i*Math.sin(a)]),gx(h,null,l)}function Ugt(t,e,r,n,i,o,a,s){const l=[],u=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let h=[0,0];const d=s.disableMultiStroke?1:2,p=s.preserveVertices;for(let f=0;f<d;f++)f===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(p?0:or(u[0],s)),a[1]+(p?0:or(u[0],s))]}),h=p?[i,o]:[i+or(u[f],s),o+or(u[f],s)],l.push({op:"bcurveTo",data:[t+or(u[f],s),e+or(u[f],s),r+or(u[f],s),n+or(u[f],s),h[0],h[1]]});return l}function jg(t){return[...t]}function A9(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(jg(t[0]),jg(t[1]),jg(t[2]),jg(t[2]));else{const i=[];i.push(t[0],t[0]);for(let s=1;s<t.length;s++)i.push(t[s]),s===t.length-1&&i.push(t[s]);const o=[],a=1-e;n.push(jg(i[0]));for(let s=1;s+2<i.length;s++){const l=i[s];o[0]=[l[0],l[1]],o[1]=[l[0]+(a*i[s+1][0]-a*i[s-1][0])/6,l[1]+(a*i[s+1][1]-a*i[s-1][1])/6],o[2]=[i[s+1][0]+(a*i[s][0]-a*i[s+2][0])/6,i[s+1][1]+(a*i[s][1]-a*i[s+2][1])/6],o[3]=[i[s+1][0],i[s+1][1]],n.push(o[1],o[2],o[3])}}return n}function Z2(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function qgt(t,e,r){const n=Z2(e,r);if(n===0)return Z2(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),Z2(t,Ph(e,r,i))}function Ph(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function n_(t,e,r,n){const i=n||[];if(function(s,l){const u=s[l+0],h=s[l+1],d=s[l+2],p=s[l+3];let f=3*h[0]-2*u[0]-p[0];f*=f;let g=3*h[1]-2*u[1]-p[1];g*=g;let m=3*d[0]-2*p[0]-u[0];m*=m;let y=3*d[1]-2*p[1]-u[1];return y*=y,f<m&&(f=m),g<y&&(g=y),f+g}(t,e)<r){const s=t[e+0];i.length?(o=i[i.length-1],a=s,Math.sqrt(Z2(o,a))>1&&i.push(s)):i.push(s),i.push(t[e+3])}else{const l=t[e+0],u=t[e+1],h=t[e+2],d=t[e+3],p=Ph(l,u,.5),f=Ph(u,h,.5),g=Ph(h,d,.5),m=Ph(p,f,.5),y=Ph(f,g,.5),v=Ph(m,y,.5);n_([l,p,m,v],0,r,i),n_([v,y,g,d],0,r,i)}var o,a;return i}function Ggt(t,e){return mx(t,0,t.length,e)}function mx(t,e,r,n,i){const o=i||[],a=t[e],s=t[r-1];let l=0,u=1;for(let h=e+1;h<r-1;++h){const d=qgt(t[h],a,s);d>l&&(l=d,u=h)}return Math.sqrt(l)>n?(mx(t,e,u+1,n,o),mx(t,u,r,n,o)):(o.length||o.push(a),o.push(s)),o}function vw(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let o=0;o<i;o++)n_(t,3*o,e,n);return r&&r>0?mx(n,0,n.length,r):n}const Ia="none";let yx=class{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,o){const a=this._o(o);return this._d("line",[nV(e,r,n,i,a)],a)}rectangle(e,r,n,i,o){const a=this._o(o),s=[],l=function(u,h,d,p,f){return function(g,m){return Sv(g,!0,m)}([[u,h],[u+d,h],[u+d,h+p],[u,h+p]],f)}(e,r,n,i,a);if(a.fill){const u=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];a.fillStyle==="solid"?s.push(yw([u],a)):s.push(dp([u],a))}return a.stroke!==Ia&&s.push(l),this._d("rectangle",s,a)}ellipse(e,r,n,i,o){const a=this._o(o),s=[],l=iV(n,i,a),u=e_(e,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const h=e_(e,r,a,l).opset;h.type="fillPath",s.push(h)}else s.push(dp([u.estimatedPoints],a));return a.stroke!==Ia&&s.push(u.opset),this._d("ellipse",s,a)}circle(e,r,n,i){const o=this.ellipse(e,r,n,n,i);return o.shape="circle",o}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[Sv(e,!1,n)],n)}arc(e,r,n,i,o,a,s=!1,l){const u=this._o(l),h=[],d=k9(e,r,n,i,o,a,s,!0,u);if(s&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const f=k9(e,r,n,i,o,a,!0,!1,p);f.type="fillPath",h.push(f)}else h.push(function(p,f,g,m,y,v,x){const b=p,k=f;let N=Math.abs(g/2),_=Math.abs(m/2);N+=or(.01*N,x),_+=or(.01*_,x);let S=y,T=v;for(;S<0;)S+=2*Math.PI,T+=2*Math.PI;T-S>2*Math.PI&&(S=0,T=2*Math.PI);const A=(T-S)/x.curveStepCount,C=[];for(let D=S;D<=T;D+=A)C.push([b+N*Math.cos(D),k+_*Math.sin(D)]);return C.push([b+N*Math.cos(T),k+_*Math.sin(T)]),C.push([b,k]),dp([C],x)}(e,r,n,i,o,a,u));return u.stroke!==Ia&&h.push(d),this._d("arc",h,u)}curve(e,r){const n=this._o(r),i=[],o=w9(e,n);if(n.fill&&n.fill!==Ia)if(n.fillStyle==="solid"){const a=w9(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],s=e;if(s.length){const l=typeof s[0][0]=="number"?[s]:s;for(const u of l)u.length<3?a.push(...u):u.length===3?a.push(...vw(A9([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):a.push(...vw(A9(u),10,(1+n.roughness)/2))}a.length&&i.push(dp([a],n))}return n.stroke!==Ia&&i.push(o),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],o=Sv(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(yw([e],n)):i.push(dp([e],n))),n.stroke!==Ia&&i.push(o),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=n.fill&&n.fill!=="transparent"&&n.fill!==Ia,a=n.stroke!==Ia,s=!!(n.simplification&&n.simplification<1),l=function(h,d,p){const f=eV(tV(xC(h))),g=[];let m=[],y=[0,0],v=[];const x=()=>{v.length>=4&&m.push(...vw(v,1)),v=[]},b=()=>{x(),m.length&&(g.push(m),m=[])};for(const{key:N,data:_}of f)switch(N){case"M":b(),y=[_[0],_[1]],m.push(y);break;case"L":x(),m.push([_[0],_[1]]);break;case"C":if(!v.length){const S=m.length?m[m.length-1]:y;v.push([S[0],S[1]])}v.push([_[0],_[1]]),v.push([_[2],_[3]]),v.push([_[4],_[5]]);break;case"Z":x(),m.push([y[0],y[1]])}if(b(),!p)return g;const k=[];for(const N of g){const _=Ggt(N,p);_.length&&k.push(_)}return k}(e,0,s?4-4*(n.simplification||1):(1+n.roughness)/2),u=T9(e,n);if(o)if(n.fillStyle==="solid")if(l.length===1){const h=T9(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(yw(l,n));else i.push(dp(l,n));return a&&(s?l.forEach(h=>{i.push(Sv(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const o=typeof r=="number"&&r>=0?i.data.map(a=>+a.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":n+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":n+=`L${o[0]} ${o[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const o of r){let a=null;switch(o.type){case"path":a={d:this.opsToPath(o),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Ia};break;case"fillPath":a={d:this.opsToPath(o),stroke:Ia,strokeWidth:0,fill:n.fill||Ia};break;case"fillSketch":a=this.fillSketch(o,n)}a&&i.push(a)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Ia,strokeWidth:n,fill:Ia}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}},Wgt=class{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new yx(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,o=e.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,o),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const s=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,o,s),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const o of r.ops){const a=typeof n=="number"&&n>=0?o.data.map(s=>+s.toFixed(n)):o.data;switch(o.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,o){const a=this.gen.line(e,r,n,i,o);return this.draw(a),a}rectangle(e,r,n,i,o){const a=this.gen.rectangle(e,r,n,i,o);return this.draw(a),a}ellipse(e,r,n,i,o){const a=this.gen.ellipse(e,r,n,i,o);return this.draw(a),a}circle(e,r,n,i){const o=this.gen.circle(e,r,n,i);return this.draw(o),o}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,o,a,s=!1,l){const u=this.gen.arc(e,r,n,i,o,a,s,l);return this.draw(u),u}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}};const Cv="http://www.w3.org/2000/svg";let Vgt=class{constructor(e,r){this.svg=e,this.gen=new yx(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,o=i.createElementNS(Cv,"g"),a=e.options.fixedDecimalPlaceDigits;for(const s of r){let l=null;switch(s.type){case"path":l=i.createElementNS(Cv,"path"),l.setAttribute("d",this.opsToPath(s,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Cv,"path"),l.setAttribute("d",this.opsToPath(s,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,s,n)}l&&o.appendChild(l)}return o}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const o=e.createElementNS(Cv,"path");return o.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),o.setAttribute("stroke",n.fill||""),o.setAttribute("stroke-width",i+""),o.setAttribute("fill","none"),n.fillLineDash&&o.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,o){const a=this.gen.line(e,r,n,i,o);return this.draw(a)}rectangle(e,r,n,i,o){const a=this.gen.rectangle(e,r,n,i,o);return this.draw(a)}ellipse(e,r,n,i,o){const a=this.gen.ellipse(e,r,n,i,o);return this.draw(a)}circle(e,r,n,i){const o=this.gen.circle(e,r,n,i);return this.draw(o)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,o,a,s=!1,l){const u=this.gen.arc(e,r,n,i,o,a,s,l);return this.draw(u)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}};var ze={canvas:(t,e)=>new Wgt(t,e),svg:(t,e)=>new Vgt(t,e),generator:t=>new yx(t),newSeed:()=>yx.newSeed()},cr=w(async(t,e,r)=>{var d,p;let n;const i=e.useHtmlLabels||sn((d=Tt())==null?void 0:d.htmlLabels);n=r||"node default";const o=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=o.insert("g").attr("class","label").attr("style",Vo(e.labelStyle));let s;s=e.label===void 0?"":typeof e.label=="string"?e.label:e.label[0];const l=await $s(a,nn(Dc(s),Tt()),{useHtmlLabels:i,width:e.width||((p=Tt().flowchart)==null?void 0:p.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let u=l.getBBox();const h=((e==null?void 0:e.padding)??0)/2;if(i){const f=l.children[0],g=he(l),m=f.getElementsByTagName("img");if(m){const y=s.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(v=>new Promise(x=>{function b(){if(v.style.display="flex",v.style.flexDirection="column",y){const k=Tt().fontSize?Tt().fontSize:window.getComputedStyle(document.body).fontSize,N=5,[_=Mr.fontSize]=gh(k),S=_*N+"px";v.style.minWidth=S,v.style.maxWidth=S}else v.style.width="100%";x(v)}w(b,"setupImage"),setTimeout(()=>{v.complete&&b()}),v.addEventListener("error",b),v.addEventListener("load",b)})))}u=f.getBoundingClientRect(),g.attr("width",u.width),g.attr("height",u.height)}return i?a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):a.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:o,bbox:u,halfPadding:h,label:a}},"labelHelper"),bw=w(async(t,e,r)=>{var l,u,h,d,p,f;const n=r.useHtmlLabels||sn((u=(l=Tt())==null?void 0:l.flowchart)==null?void 0:u.htmlLabels),i=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),o=await $s(i,nn(Dc(e),Tt()),{useHtmlLabels:n,width:r.width||((d=(h=Tt())==null?void 0:h.flowchart)==null?void 0:d.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=o.getBBox();const s=r.padding/2;if(sn((f=(p=Tt())==null?void 0:p.flowchart)==null?void 0:f.htmlLabels)){const g=o.children[0],m=he(o);a=g.getBoundingClientRect(),m.attr("width",a.width),m.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:a,halfPadding:s,label:i}},"insertLabel"),Ue=w((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),ur=w((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Rr(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}function Zu(t,e,r,n,i,o){const a=[],s=r-t,l=n-e,u=s/o,h=2*Math.PI/u,d=e+l/2;for(let p=0;p<=50;p++){const f=t+p/50*s,g=d+i*Math.sin(h*(f-t));a.push({x:f,y:g})}return a}function wC(t,e,r,n,i,o){const a=[],s=i*Math.PI/180,l=(o*Math.PI/180-s)/(n-1);for(let u=0;u<n;u++){const h=s+u*l,d=t+r*Math.cos(h),p=e+r*Math.sin(h);a.push({x:-d,y:-p})}return a}w(Rr,"createPathFromPoints"),w(Zu,"generateFullSineWavePoints"),w(wC,"generateCirclePoints");var ug=w((t,e)=>{var r,n,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,u=t.height/2;return Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),r=s===0?0:u*a/s,n=u):(a<0&&(l=-l),r=l,n=a===0?0:l*s/a),{x:i+r,y:o+n}},"intersectRect");function aV(t,e){e&&t.attr("style",e)}async function sV(t){const e=he(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div");let n=t.label;t.label&&Io(t.label)&&(n=await vy(t.label.replace(ne.lineBreakRegex,`
`),Tt()));const i=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>"),aV(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}w(aV,"applyStyle"),w(sV,"addHtmlLabel");var hd=w(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),sn(Tt().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),et.info("vertexText"+i);const o={isNode:n,label:Dc(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await sV(o)}{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",e.replace("color:","fill:"));let a=[];a=typeof i=="string"?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const s of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=s.trim(),o.appendChild(l)}return o}},"createLabel"),Kc=w((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),Ygt=w(t=>{const{handDrawnSeed:e}=Tt();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),hg=w(t=>{const e=Xgt([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),Xgt=w(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),Ve=w(t=>{const{stylesArray:e}=hg(t),r=[],n=[],i=[],o=[];return e.forEach(a=>{const s=a[0];s==="color"||s==="font-size"||s==="font-family"||s==="font-weight"||s==="font-style"||s==="text-decoration"||s==="text-align"||s==="text-transform"||s==="line-height"||s==="letter-spacing"||s==="word-spacing"||s==="text-shadow"||s==="text-overflow"||s==="white-space"||s==="word-wrap"||s==="word-break"||s==="overflow-wrap"||s==="hyphens"?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),s.includes("stroke")&&i.push(a.join(":")+" !important"),s==="fill"&&o.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:o}},"styles2String"),je=w((t,e)=>{var s;const{themeVariables:r,handDrawnSeed:n}=Tt(),{nodeBorder:i,mainBkg:o}=r,{stylesMap:a}=hg(t);return Object.assign({roughness:.7,fill:a.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:((s=a.get("stroke-width"))==null?void 0:s.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),C9=w(async(t,e)=>{et.info("Creating subgraph rect for ",e.id,e);const r=Tt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:o,clusterBorder:a}=n,{labelStyles:s,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Ve(e),d=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=sn(r.flowchart.htmlLabels),f=d.insert("g").attr("class","cluster-label "),g=await $s(f,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0});let m=g.getBBox();if(sn(r.flowchart.htmlLabels)){const S=g.children[0],T=he(g);m=S.getBoundingClientRect(),T.attr("width",m.width),T.attr("height",m.height)}const y=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const v=e.height,x=e.x-y/2,b=e.y-v/2;let k;if(et.trace("Data ",e,JSON.stringify(e)),e.look==="handDrawn"){const S=ze.svg(d),T=je(e,{roughness:.7,fill:o,stroke:a,fillWeight:3,seed:i}),A=S.path(Kc(x,b,y,v,0),T);k=d.insert(()=>(et.debug("Rough node insert CXC",A),A),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=d.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",x).attr("y",b).attr("width",y).attr("height",v);const{subGraphTitleTopMargin:N}=xy(r);if(f.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+N})`),s){const S=f.select("span");S&&S.attr("style",s)}const _=k.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=m.height-e.padding/2,e.intersect=function(S){return ug(e,S)},{cluster:d,labelBBox:m}},"rect"),Kgt=w((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,o=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const a=n.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(s){return ug(e,s)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),Zgt=w(async(t,e)=>{const r=Tt(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:o,compositeBackground:a,compositeTitleBackground:s,nodeBorder:l}=n,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=u.insert("g",":first-child"),d=u.insert("g").attr("class","cluster-label");let p=u.append("rect");const f=d.node().appendChild(await hd(e.label,e.labelStyle,void 0,!0));let g=f.getBBox();if(sn(r.flowchart.htmlLabels)){const A=f.children[0],C=he(f);g=A.getBoundingClientRect(),C.attr("width",g.width),C.attr("height",g.height)}const m=0*e.padding,y=m/2,v=(e.width<=g.width+e.padding?g.width+e.padding:e.width)+m;e.width<=g.width+e.padding?e.diff=(v-e.width)/2-e.padding:e.diff=-e.padding;const x=e.height+m,b=e.height+m-g.height-6,k=e.x-v/2,N=e.y-x/2;e.width=v;const _=e.y-e.height/2-y+g.height+2;let S;if(e.look==="handDrawn"){const A=e.cssClasses.includes("statediagram-cluster-alt"),C=ze.svg(u),D=e.rx||e.ry?C.path(Kc(k,N,v,x,10),{roughness:.7,fill:s,fillStyle:"solid",stroke:l,seed:i}):C.rectangle(k,N,v,x,{seed:i});S=u.insert(()=>D,":first-child");const E=C.rectangle(k,_,v,b,{fill:A?o:a,fillStyle:A?"hachure":"solid",stroke:l,seed:i});S=u.insert(()=>D,":first-child"),p=u.insert(()=>E)}else S=h.insert("rect",":first-child"),S.attr("class","outer").attr("x",k).attr("y",N).attr("width",v).attr("height",x).attr("data-look",e.look),p.attr("class","inner").attr("x",k).attr("y",_).attr("width",v).attr("height",b);d.attr("transform",`translate(${e.x-g.width/2}, ${N+1-(sn(r.flowchart.htmlLabels)?0:3)})`);const T=S.node().getBBox();return e.height=T.height,e.offsetX=0,e.offsetY=g.height-e.padding/2,e.labelBBox=g,e.intersect=function(A){return ug(e,A)},{cluster:u,labelBBox:g}},"roundedWithTitle"),Qgt=w(async(t,e)=>{et.info("Creating subgraph rect for ",e.id,e);const r=Tt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:o,clusterBorder:a}=n,{labelStyles:s,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Ve(e),d=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=sn(r.flowchart.htmlLabels),f=d.insert("g").attr("class","cluster-label "),g=await $s(f,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0,width:e.width});let m=g.getBBox();if(sn(r.flowchart.htmlLabels)){const S=g.children[0],T=he(g);m=S.getBoundingClientRect(),T.attr("width",m.width),T.attr("height",m.height)}const y=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const v=e.height,x=e.x-y/2,b=e.y-v/2;let k;if(et.trace("Data ",e,JSON.stringify(e)),e.look==="handDrawn"){const S=ze.svg(d),T=je(e,{roughness:.7,fill:o,stroke:a,fillWeight:4,seed:i}),A=S.path(Kc(x,b,y,v,e.rx),T);k=d.insert(()=>(et.debug("Rough node insert CXC",A),A),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",h.join(";").replace("fill","stroke"))}else k=d.insert("rect",":first-child"),k.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",x).attr("y",b).attr("width",y).attr("height",v);const{subGraphTitleTopMargin:N}=xy(r);if(f.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+N})`),s){const S=f.select("span");S&&S.attr("style",s)}const _=k.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=m.height-e.padding/2,e.intersect=function(S){return ug(e,S)},{cluster:d,labelBBox:m}},"kanbanSection"),Jgt={rect:C9,squareRect:C9,roundedWithTitle:Zgt,noteGroup:Kgt,divider:w((t,e)=>{const r=Tt(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:o}=n,a=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),s=a.insert("g",":first-child"),l=0*e.padding,u=e.width+l;e.diff=-e.padding;const h=e.height+l,d=e.x-u/2,p=e.y-h/2;let f;if(e.width=u,e.look==="handDrawn"){const m=ze.svg(a).rectangle(d,p,u,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:o,seed:i});f=a.insert(()=>m,":first-child")}else f=s.insert("rect",":first-child"),f.attr("class","divider").attr("x",d).attr("y",p).attr("width",u).attr("height",h).attr("data-look",e.look);const g=f.node().getBBox();return e.height=g.height,e.offsetX=0,e.offsetY=0,e.intersect=function(m){return ug(e,m)},{cluster:a,labelBBox:{}}},"divider"),kanbanSection:Qgt},lV=new Map,kC=w(async(t,e)=>{const r=e.shape||"rect",n=await Jgt[r](t,e);return lV.set(e.id,n),n},"insertCluster"),t1t=w(()=>{lV=new Map},"clear");function cV(t,e){return t.intersect(e)}w(cV,"intersectNode");var e1t=cV;function uV(t,e,r,n){var i=t.x,o=t.y,a=i-n.x,s=o-n.y,l=Math.sqrt(e*e*s*s+r*r*a*a),u=Math.abs(e*r*a/l);n.x<i&&(u=-u);var h=Math.abs(e*r*s/l);return n.y<o&&(h=-h),{x:i+u,y:o+h}}w(uV,"intersectEllipse");var hV=uV;function dV(t,e,r){return hV(t,e,e,r)}w(dV,"intersectCircle");var r1t=dV;function pV(t,e,r,n){var i,o,a,s,l,u,h,d,p,f,g,m,y;if(i=e.y-t.y,a=t.x-e.x,l=e.x*t.y-t.x*e.y,p=i*r.x+a*r.y+l,f=i*n.x+a*n.y+l,!(p!==0&&f!==0&&i_(p,f)||(o=n.y-r.y,s=r.x-n.x,u=n.x*r.y-r.x*n.y,h=o*t.x+s*t.y+u,d=o*e.x+s*e.y+u,h!==0&&d!==0&&i_(h,d)||(g=i*s-o*a)==0)))return m=Math.abs(g/2),{x:(y=a*u-s*l)<0?(y-m)/g:(y+m)/g,y:(y=o*l-i*u)<0?(y-m)/g:(y+m)/g}}function i_(t,e){return t*e>0}w(pV,"intersectLine"),w(i_,"sameSign");var n1t=pV;function fV(t,e,r){let n=t.x,i=t.y,o=[],a=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){a=Math.min(a,h.x),s=Math.min(s,h.y)}):(a=Math.min(a,e.x),s=Math.min(s,e.y));let l=n-t.width/2-a,u=i-t.height/2-s;for(let h=0;h<e.length;h++){let d=e[h],p=e[h<e.length-1?h+1:0],f=n1t(t,r,{x:l+d.x,y:u+d.y},{x:l+p.x,y:u+p.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort(function(h,d){let p=h.x-r.x,f=h.y-r.y,g=Math.sqrt(p*p+f*f),m=d.x-r.x,y=d.y-r.y,v=Math.sqrt(m*m+y*y);return g<v?-1:g===v?0:1}),o[0]):t}w(fV,"intersectPolygon");var Me={node:e1t,circle:r1t,ellipse:hV,polygon:fV,rect:ug};function gV(t,e){const{labelStyles:r}=Ve(e);e.labelStyle=r;const n=ur(e);let i=n;n||(i="anchor");const o=t.insert("g").attr("class",i).attr("id",e.domId||e.id),{cssStyles:a}=e,s=ze.svg(o),l=je(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(l.roughness=0);const u=s.circle(0,0,2,l),h=o.insert(()=>u,":first-child");return h.attr("class","anchor").attr("style",Vo(a)),Ue(e,h),e.intersect=function(d){return et.info("Circle intersect",e,1,d),Me.circle(e,1,d)},o}function o_(t,e,r,n,i,o,a){const s=(t+r)/2,l=(e+n)/2,u=Math.atan2(n-e,r-t),h=(r-t)/2/i,d=(n-e)/2/o,p=Math.sqrt(h**2+d**2);if(p>1)throw new Error("The given radii are too small to create an arc between the points.");const f=Math.sqrt(1-p**2),g=s+f*o*Math.sin(u)*(a?-1:1),m=l-f*i*Math.cos(u)*(a?-1:1),y=Math.atan2((e-m)/o,(t-g)/i);let v=Math.atan2((n-m)/o,(r-g)/i)-y;a&&v<0&&(v+=2*Math.PI),!a&&v>0&&(v-=2*Math.PI);const x=[];for(let b=0;b<20;b++){const k=y+b/19*v,N=g+i*Math.cos(k),_=m+o*Math.sin(k);x.push({x:N,y:_})}return x}async function mV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=o.width+e.padding+20,s=o.height+e.padding,l=s/2,u=l/(2.5+s/50),{cssStyles:h}=e,d=[{x:a/2,y:-s/2},{x:-a/2,y:-s/2},...o_(-a/2,-s/2,-a/2,s/2,u,l,!1),{x:a/2,y:s/2},...o_(a/2,s/2,a/2,-s/2,u,l,!0)],p=ze.svg(i),f=je(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=Rr(d),m=p.path(g,f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${u/2}, 0)`),Ue(e,y),e.intersect=function(v){return Me.polygon(e,d,v)},i}function Zc(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}async function yV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=o.height+e.padding,s=o.width+e.padding+12,l=-a,u=[{x:12,y:l},{x:s,y:l},{x:s,y:0},{x:0,y:0},{x:0,y:l+12},{x:12,y:l}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=ze.svg(i),f=je(e,{}),g=Rr(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${a/2})`),d&&h.attr("style",d)}else h=Zc(i,s,a,u);return n&&h.attr("style",n),Ue(e,h),e.intersect=function(p){return Me.polygon(e,u,p)},i}function vV(t,e){const{nodeStyles:r}=Ve(e);e.label="";const n=t.insert("g").attr("class",ur(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,o=Math.max(28,e.width??0),a=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}],s=ze.svg(n),l=je(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=Rr(a),h=s.path(u,l),d=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(p){return Me.polygon(e,a,p)},n}async function bV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,halfPadding:a}=await cr(t,e,ur(e)),s=o.width/2+a;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=ze.svg(i),d=je(e,{}),p=h.circle(0,0,2*s,d);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",Vo(u))}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",s).attr("cx",0).attr("cy",0);return Ue(e,l),e.intersect=function(h){return et.info("Circle intersect",e,s,h),Me.circle(e,s,h)},i}function xV(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=2*t;return`M ${-n/2*e},${n/2*r} L ${n/2*e},${-n/2*r}
                   M ${n/2*e},${n/2*r} L ${-n/2*e},${-n/2*r}`}function wV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",ur(e)).attr("id",e.domId??e.id),o=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:a}=e,s=ze.svg(i),l=je(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=s.circle(0,0,2*o,l),h=xV(o),d=s.path(h,l),p=i.insert(()=>u,":first-child");return p.insert(()=>d),a&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),Ue(e,p),e.intersect=function(f){return et.info("crossedCircle intersect",e,{radius:o,point:f}),Me.circle(e,o,f)},i}function lc(t,e,r,n=100,i=0,o=180){const a=[],s=i*Math.PI/180,l=(o*Math.PI/180-s)/(n-1);for(let u=0;u<n;u++){const h=s+u*l,d=t+r*Math.cos(h),p=e+r*Math.sin(h);a.push({x:-d,y:-p})}return a}async function kV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=o.width+(e.padding??0),l=o.height+(e.padding??0),u=Math.max(5,.1*l),{cssStyles:h}=e,d=[...lc(s/2,-l/2,u,30,-90,0),{x:-s/2-u,y:u},...lc(s/2+2*u,-u,u,20,-180,-270),...lc(s/2+2*u,u,u,20,-90,-180),{x:-s/2-u,y:-l/2},...lc(s/2,l/2,u,20,0,90)],p=[{x:s/2,y:-l/2-u},{x:-s/2,y:-l/2-u},...lc(s/2,-l/2,u,20,-90,0),{x:-s/2-u,y:-u},...lc(s/2+.1*s,-u,u,20,-180,-270),...lc(s/2+.1*s,u,u,20,-90,-180),{x:-s/2-u,y:l/2},...lc(s/2,l/2,u,20,0,90),{x:-s/2,y:l/2+u},{x:s/2,y:l/2+u}],f=ze.svg(i),g=je(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Rr(d).replace("Z",""),y=f.path(m,g),v=Rr(p),x=f.path(v,{...g}),b=i.insert("g",":first-child");return b.insert(()=>x,":first-child").attr("stroke-opacity",0),b.insert(()=>y,":first-child"),b.attr("class","text"),h&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${u}, 0)`),a.attr("transform",`translate(${-s/2+u-(o.x-(o.left??0))},${-l/2+(e.padding??0)/2-(o.y-(o.top??0))})`),Ue(e,b),e.intersect=function(k){return Me.polygon(e,p,k)},i}function cc(t,e,r,n=100,i=0,o=180){const a=[],s=i*Math.PI/180,l=(o*Math.PI/180-s)/(n-1);for(let u=0;u<n;u++){const h=s+u*l,d=t+r*Math.cos(h),p=e+r*Math.sin(h);a.push({x:d,y:p})}return a}async function TV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=o.width+(e.padding??0),l=o.height+(e.padding??0),u=Math.max(5,.1*l),{cssStyles:h}=e,d=[...cc(s/2,-l/2,u,20,-90,0),{x:s/2+u,y:-u},...cc(s/2+2*u,-u,u,20,-180,-270),...cc(s/2+2*u,u,u,20,-90,-180),{x:s/2+u,y:l/2},...cc(s/2,l/2,u,20,0,90)],p=[{x:-s/2,y:-l/2-u},{x:s/2,y:-l/2-u},...cc(s/2,-l/2,u,20,-90,0),{x:s/2+u,y:-u},...cc(s/2+2*u,-u,u,20,-180,-270),...cc(s/2+2*u,u,u,20,-90,-180),{x:s/2+u,y:l/2},...cc(s/2,l/2,u,20,0,90),{x:s/2,y:l/2+u},{x:-s/2,y:l/2+u}],f=ze.svg(i),g=je(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Rr(d).replace("Z",""),y=f.path(m,g),v=Rr(p),x=f.path(v,{...g}),b=i.insert("g",":first-child");return b.insert(()=>x,":first-child").attr("stroke-opacity",0),b.insert(()=>y,":first-child"),b.attr("class","text"),h&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-u}, 0)`),a.attr("transform",`translate(${-s/2+(e.padding??0)/2-(o.x-(o.left??0))},${-l/2+(e.padding??0)/2-(o.y-(o.top??0))})`),Ue(e,b),e.intersect=function(k){return Me.polygon(e,p,k)},i}function Zi(t,e,r,n=100,i=0,o=180){const a=[],s=i*Math.PI/180,l=(o*Math.PI/180-s)/(n-1);for(let u=0;u<n;u++){const h=s+u*l,d=t+r*Math.cos(h),p=e+r*Math.sin(h);a.push({x:-d,y:-p})}return a}async function EV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=o.width+(e.padding??0),l=o.height+(e.padding??0),u=Math.max(5,.1*l),{cssStyles:h}=e,d=[...Zi(s/2,-l/2,u,30,-90,0),{x:-s/2-u,y:u},...Zi(s/2+2*u,-u,u,20,-180,-270),...Zi(s/2+2*u,u,u,20,-90,-180),{x:-s/2-u,y:-l/2},...Zi(s/2,l/2,u,20,0,90)],p=[...Zi(-s/2+u+u/2,-l/2,u,20,-90,-180),{x:s/2-u/2,y:u},...Zi(-s/2-u/2,-u,u,20,0,90),...Zi(-s/2-u/2,u,u,20,-90,0),{x:s/2-u/2,y:-u},...Zi(-s/2+u+u/2,l/2,u,30,-180,-270)],f=[{x:s/2,y:-l/2-u},{x:-s/2,y:-l/2-u},...Zi(s/2,-l/2,u,20,-90,0),{x:-s/2-u,y:-u},...Zi(s/2+2*u,-u,u,20,-180,-270),...Zi(s/2+2*u,u,u,20,-90,-180),{x:-s/2-u,y:l/2},...Zi(s/2,l/2,u,20,0,90),{x:-s/2,y:l/2+u},{x:s/2-u-u/2,y:l/2+u},...Zi(-s/2+u+u/2,-l/2,u,20,-90,-180),{x:s/2-u/2,y:u},...Zi(-s/2-u/2,-u,u,20,0,90),...Zi(-s/2-u/2,u,u,20,-90,0),{x:s/2-u/2,y:-u},...Zi(-s/2+u+u/2,l/2,u,30,-180,-270)],g=ze.svg(i),m=je(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=Rr(d).replace("Z",""),v=g.path(y,m),x=Rr(p).replace("Z",""),b=g.path(x,m),k=Rr(f),N=g.path(k,{...m}),_=i.insert("g",":first-child");return _.insert(()=>N,":first-child").attr("stroke-opacity",0),_.insert(()=>v,":first-child"),_.insert(()=>b,":first-child"),_.attr("class","text"),h&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",n),_.attr("transform",`translate(${u-u/4}, 0)`),a.attr("transform",`translate(${-s/2+(e.padding??0)/2-(o.x-(o.left??0))},${-l/2+(e.padding??0)/2-(o.y-(o.top??0))})`),Ue(e,_),e.intersect=function(S){return Me.polygon(e,f,S)},i}async function _V(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(80,1.25*(o.width+2*(e.padding??0)),(e==null?void 0:e.width)??0),s=Math.max(20,o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),l=s/2,{cssStyles:u}=e,h=ze.svg(i),d=je(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=a-l,f=s/4,g=[{x:p,y:0},{x:f,y:0},{x:0,y:s/2},{x:f,y:s},{x:p,y:s},...wC(-p,-s/2,l,50,270,90)],m=Rr(g),y=h.path(m,d),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(${-a/2}, ${-s/2})`),Ue(e,v),e.intersect=function(x){return Me.polygon(e,g,x)},i}w(gV,"anchor"),w(o_,"generateArcPoints"),w(mV,"bowTieRect"),w(Zc,"insertPolygonShape"),w(yV,"card"),w(vV,"choice"),w(bV,"circle"),w(xV,"createLine"),w(wV,"crossedCircle"),w(lc,"generateCirclePoints"),w(kV,"curlyBraceLeft"),w(cc,"generateCirclePoints"),w(TV,"curlyBraceRight"),w(Zi,"generateCirclePoints"),w(EV,"curlyBraces"),w(_V,"curvedTrapezoid");var i1t=w((t,e,r,n,i,o)=>[`M${t},${e+o}`,`a${i},${o} 0,0,0 ${r},0`,`a${i},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${o} 0,0,0 ${r},0`,"l0,"+-n].join(" "),"createCylinderPathD"),o1t=w((t,e,r,n,i,o)=>[`M${t},${e+o}`,`M${t+r},${e+o}`,`a${i},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${o} 0,0,0 ${r},0`,"l0,"+-n].join(" "),"createOuterCylinderPathD"),a1t=w((t,e,r,n,i,o)=>[`M${t-r/2},${-n/2}`,`a${i},${o} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function SV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+e.padding,e.width??0),l=s/2,u=l/(2.5+s/50),h=Math.max(o.height+u+e.padding,e.height??0);let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const f=ze.svg(i),g=o1t(0,0,s,h,l,u),m=a1t(0,u,s,h,l,u),y=f.path(g,je(e,{})),v=f.path(m,je(e,{fill:"none"}));d=i.insert(()=>v,":first-child"),d=i.insert(()=>y,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{const f=i1t(0,0,s,h,l,u);d=i.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",Vo(p)).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-s/2}, ${-(h/2+u)})`),Ue(e,d),a.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-o.height/2+(e.padding??0)/1.5-(o.y-(o.top??0))})`),e.intersect=function(f){const g=Me.rect(e,f),m=g.x-(e.x??0);if(l!=0&&(Math.abs(m)<(e.width??0)/2||Math.abs(m)==(e.width??0)/2&&Math.abs(g.y-(e.y??0))>(e.height??0)/2-u)){let y=u*u*(1-m*m/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,f.y-(e.y??0)>0&&(y=-y),g.y+=y}return g},i}async function AV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=o.width+e.padding,l=o.height+e.padding,u=.2*l,h=-s/2,d=-l/2-u/2,{cssStyles:p}=e,f=ze.svg(i),g=je(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d+u},{x:-h,y:d+u},{x:-h,y:-d},{x:h,y:-d},{x:h,y:d},{x:-h,y:d},{x:-h,y:d+u}],y=f.polygon(m.map(x=>[x.x,x.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),a.attr("transform",`translate(${h+(e.padding??0)/2-(o.x-(o.left??0))}, ${d+u+(e.padding??0)/2-(o.y-(o.top??0))})`),Ue(e,v),e.intersect=function(x){return Me.rect(e,x)},i}async function CV(t,e){var d,p;const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,halfPadding:a}=await cr(t,e,ur(e)),s=o.width/2+a+5,l=o.width/2+a;let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=ze.svg(i),g=je(e,{roughness:.2,strokeWidth:2.5}),m=je(e,{roughness:.2,strokeWidth:1.5}),y=f.circle(0,0,2*s,g),v=f.circle(0,0,2*l,m);u=i.insert("g",":first-child"),u.attr("class",Vo(e.cssClasses)).attr("style",Vo(h)),(d=u.node())==null||d.appendChild(y),(p=u.node())==null||p.appendChild(v)}else{u=i.insert("g",":first-child");const f=u.insert("circle",":first-child"),g=u.insert("circle");u.attr("class","basic label-container").attr("style",n),f.attr("class","outer-circle").attr("style",n).attr("r",s).attr("cx",0).attr("cy",0),g.attr("class","inner-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0)}return Ue(e,u),e.intersect=function(f){return et.info("DoubleCircle intersect",e,s,f),Me.circle(e,s,f)},i}function $V(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Ve(e);e.label="",e.labelStyle=n;const o=t.insert("g").attr("class",ur(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=ze.svg(o),{nodeBorder:l}=r,u=je(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const h=s.circle(0,0,14,u),d=o.insert(()=>h,":first-child");return d.selectAll("path").attr("style",`fill: ${l} !important;`),a&&a.length>0&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",a),i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),Ue(e,d),e.intersect=function(p){return et.info("filledCircle intersect",e,{radius:7,point:p}),Me.circle(e,7,p)},o}async function NV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=o.width+(e.padding??0),l=s+o.height,u=s+o.height,h=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:d}=e,p=ze.svg(i),f=je(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=Rr(h),m=p.path(g,f),y=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return d&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),e.width=s,e.height=l,Ue(e,y),a.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-l/2+(e.padding??0)/2+(o.y-(o.top??0))})`),e.intersect=function(v){return et.info("Triangle intersect",e,h,v),Me.polygon(e,h,v)},i}function IV(t,e,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:o}=Ve(e);e.label="";const a=t.insert("g").attr("class",ur(e)).attr("id",e.domId??e.id),{cssStyles:s}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),u=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),u=Math.max(70,(e==null?void 0:e.height)??0));const h=-1*l/2,d=-1*u/2,p=ze.svg(a),f=je(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=p.rectangle(h,d,l,u,f),m=a.insert(()=>g,":first-child");s&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",s),o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),Ue(e,m);const y=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=y/2||0,e.height+=y/2||0),e.intersect=function(v){return Me.rect(e,v)},a}async function LV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(80,o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(50,o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),l=s/2,{cssStyles:u}=e,h=ze.svg(i),d=je(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:-a/2,y:-s/2},{x:a/2-l,y:-s/2},...wC(-a/2+l,0,l,50,90,270),{x:a/2-l,y:s/2},{x:-a/2,y:s/2}],f=Rr(p),g=h.path(f,d),m=i.insert(()=>g,":first-child");return m.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&m.selectChildren("path").attr("style",u),n&&e.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),Ue(e,m),e.intersect=function(y){return et.info("Pill intersect",e,{radius:l,point:y}),Me.polygon(e,p,y)},i}w(SV,"cylinder"),w(AV,"dividedRectangle"),w(CV,"doublecircle"),w($V,"filledCircle"),w(NV,"flippedTriangle"),w(IV,"forkJoin"),w(LV,"halfRoundedRectangle");var s1t=w((t,e,r,n,i)=>[`M${t+i},${e}`,`L${t+r-i},${e}`,`L${t+r},${e-n/2}`,`L${t+r-i},${e-n}`,`L${t+i},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createHexagonPathD");async function RV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=o.height+e.padding,s=a/4,l=o.width+2*s+e.padding,u=[{x:s,y:0},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=ze.svg(i),f=je(e,{}),g=s1t(0,0,l,a,s),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),d&&h.attr("style",d)}else h=Zc(i,l,a,u);return n&&h.attr("style",n),e.width=l,e.height=a,Ue(e,h),e.intersect=function(p){return Me.polygon(e,u,p)},i}async function DV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await cr(t,e,ur(e)),o=Math.max(30,(e==null?void 0:e.width)??0),a=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:s}=e,l=ze.svg(i),u=je(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:0,y:0},{x:o,y:0},{x:0,y:a},{x:o,y:a}],d=Rr(h),p=l.path(d,u),f=i.insert(()=>p,":first-child");return f.attr("class","basic label-container"),s&&e.look!=="handDrawn"&&f.selectChildren("path").attr("style",s),n&&e.look!=="handDrawn"&&f.selectChildren("path").attr("style",n),f.attr("transform",`translate(${-o/2}, ${-a/2})`),Ue(e,f),e.intersect=function(g){return et.info("Pill intersect",e,{points:h}),Me.polygon(e,h,g)},i}async function OV(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Ve(e);e.labelStyle=i;const o=e.assetHeight??48,a=e.assetWidth??48,s=Math.max(o,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(s,l??0);const{shapeSvg:u,bbox:h,label:d}=await cr(t,e,"icon-shape default"),p=e.pos==="t",f=s,g=s,{nodeBorder:m}=r,{stylesMap:y}=hg(e),v=-g/2,x=-f/2,b=e.label?8:0,k=ze.svg(u),N=je(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const _=k.rectangle(v,x,g,f,N),S=Math.max(g,h.width),T=f+h.height+b,A=k.rectangle(-S/2,-T/2,S,T,{...N,fill:"transparent",stroke:"none"}),C=u.insert(()=>_,":first-child"),D=u.insert(()=>A);if(e.icon){const E=u.append("g");E.html(`<g>${await Ad(e.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const $=E.node().getBBox(),I=$.width,L=$.height,O=$.x,B=$.y;E.attr("transform",`translate(${-I/2-O},${p?h.height/2+b/2-L/2-B:-h.height/2-b/2-L/2-B})`),E.attr("style",`color: ${y.get("stroke")??m};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-T/2:T/2-h.height})`),C.attr("transform",`translate(0,${p?h.height/2+b/2:-h.height/2-b/2})`),Ue(e,D),e.intersect=function(E){if(et.info("iconSquare intersect",e,E),!e.label)return Me.rect(e,E);const $=e.x??0,I=e.y??0,L=e.height??0;let O=[];return O=p?[{x:$-h.width/2,y:I-L/2},{x:$+h.width/2,y:I-L/2},{x:$+h.width/2,y:I-L/2+h.height+b},{x:$+g/2,y:I-L/2+h.height+b},{x:$+g/2,y:I+L/2},{x:$-g/2,y:I+L/2},{x:$-g/2,y:I-L/2+h.height+b},{x:$-h.width/2,y:I-L/2+h.height+b}]:[{x:$-g/2,y:I-L/2},{x:$+g/2,y:I-L/2},{x:$+g/2,y:I-L/2+f},{x:$+h.width/2,y:I-L/2+f},{x:$+h.width/2/2,y:I+L/2},{x:$-h.width/2,y:I+L/2},{x:$-h.width/2,y:I-L/2+f},{x:$-g/2,y:I-L/2+f}],Me.polygon(e,O,E)},u}async function MV(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Ve(e);e.labelStyle=i;const o=e.assetHeight??48,a=e.assetWidth??48,s=Math.max(o,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(s,l??0);const{shapeSvg:u,bbox:h,label:d}=await cr(t,e,"icon-shape default"),p=e.label?8:0,f=e.pos==="t",{nodeBorder:g,mainBkg:m}=r,{stylesMap:y}=hg(e),v=ze.svg(u),x=je(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=y.get("fill");x.stroke=b??m;const k=u.append("g");e.icon&&k.html(`<g>${await Ad(e.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const N=k.node().getBBox(),_=N.width,S=N.height,T=N.x,A=N.y,C=Math.max(_,S)*Math.SQRT2+40,D=v.circle(0,0,C,x),E=Math.max(C,h.width),$=C+h.height+p,I=v.rectangle(-E/2,-$/2,E,$,{...x,fill:"transparent",stroke:"none"}),L=u.insert(()=>D,":first-child"),O=u.insert(()=>I);return k.attr("transform",`translate(${-_/2-T},${f?h.height/2+p/2-S/2-A:-h.height/2-p/2-S/2-A})`),k.attr("style",`color: ${y.get("stroke")??g};`),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-$/2:$/2-h.height})`),L.attr("transform",`translate(0,${f?h.height/2+p/2:-h.height/2-p/2})`),Ue(e,O),e.intersect=function(B){return et.info("iconSquare intersect",e,B),Me.rect(e,B)},u}async function BV(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Ve(e);e.labelStyle=i;const o=e.assetHeight??48,a=e.assetWidth??48,s=Math.max(o,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(s,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:p}=await cr(t,e,"icon-shape default"),f=e.pos==="t",g=s+2*d,m=s+2*d,{nodeBorder:y,mainBkg:v}=r,{stylesMap:x}=hg(e),b=-m/2,k=-g/2,N=e.label?8:0,_=ze.svg(u),S=je(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=x.get("fill");S.stroke=T??v;const A=_.path(Kc(b,k,m,g,5),S),C=Math.max(m,h.width),D=g+h.height+N,E=_.rectangle(-C/2,-D/2,C,D,{...S,fill:"transparent",stroke:"none"}),$=u.insert(()=>A,":first-child").attr("class","icon-shape2"),I=u.insert(()=>E);if(e.icon){const L=u.append("g");L.html(`<g>${await Ad(e.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const O=L.node().getBBox(),B=O.width,R=O.height,M=O.x,F=O.y;L.attr("transform",`translate(${-B/2-M},${f?h.height/2+N/2-R/2-F:-h.height/2-N/2-R/2-F})`),L.attr("style",`color: ${x.get("stroke")??y};`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-D/2:D/2-h.height})`),$.attr("transform",`translate(0,${f?h.height/2+N/2:-h.height/2-N/2})`),Ue(e,I),e.intersect=function(L){if(et.info("iconSquare intersect",e,L),!e.label)return Me.rect(e,L);const O=e.x??0,B=e.y??0,R=e.height??0;let M=[];return M=f?[{x:O-h.width/2,y:B-R/2},{x:O+h.width/2,y:B-R/2},{x:O+h.width/2,y:B-R/2+h.height+N},{x:O+m/2,y:B-R/2+h.height+N},{x:O+m/2,y:B+R/2},{x:O-m/2,y:B+R/2},{x:O-m/2,y:B-R/2+h.height+N},{x:O-h.width/2,y:B-R/2+h.height+N}]:[{x:O-m/2,y:B-R/2},{x:O+m/2,y:B-R/2},{x:O+m/2,y:B-R/2+g},{x:O+h.width/2,y:B-R/2+g},{x:O+h.width/2/2,y:B+R/2},{x:O-h.width/2,y:B+R/2},{x:O-h.width/2,y:B-R/2+g},{x:O-m/2,y:B-R/2+g}],Me.polygon(e,M,L)},u}async function PV(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Ve(e);e.labelStyle=i;const o=e.assetHeight??48,a=e.assetWidth??48,s=Math.max(o,a),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(s,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:p}=await cr(t,e,"icon-shape default"),f=e.pos==="t",g=s+2*d,m=s+2*d,{nodeBorder:y,mainBkg:v}=r,{stylesMap:x}=hg(e),b=-m/2,k=-g/2,N=e.label?8:0,_=ze.svg(u),S=je(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=x.get("fill");S.stroke=T??v;const A=_.path(Kc(b,k,m,g,.1),S),C=Math.max(m,h.width),D=g+h.height+N,E=_.rectangle(-C/2,-D/2,C,D,{...S,fill:"transparent",stroke:"none"}),$=u.insert(()=>A,":first-child"),I=u.insert(()=>E);if(e.icon){const L=u.append("g");L.html(`<g>${await Ad(e.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const O=L.node().getBBox(),B=O.width,R=O.height,M=O.x,F=O.y;L.attr("transform",`translate(${-B/2-M},${f?h.height/2+N/2-R/2-F:-h.height/2-N/2-R/2-F})`),L.attr("style",`color: ${x.get("stroke")??y};`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-D/2:D/2-h.height})`),$.attr("transform",`translate(0,${f?h.height/2+N/2:-h.height/2-N/2})`),Ue(e,I),e.intersect=function(L){if(et.info("iconSquare intersect",e,L),!e.label)return Me.rect(e,L);const O=e.x??0,B=e.y??0,R=e.height??0;let M=[];return M=f?[{x:O-h.width/2,y:B-R/2},{x:O+h.width/2,y:B-R/2},{x:O+h.width/2,y:B-R/2+h.height+N},{x:O+m/2,y:B-R/2+h.height+N},{x:O+m/2,y:B+R/2},{x:O-m/2,y:B+R/2},{x:O-m/2,y:B-R/2+h.height+N},{x:O-h.width/2,y:B-R/2+h.height+N}]:[{x:O-m/2,y:B-R/2},{x:O+m/2,y:B-R/2},{x:O+m/2,y:B-R/2+g},{x:O+h.width/2,y:B-R/2+g},{x:O+h.width/2/2,y:B+R/2},{x:O-h.width/2,y:B+R/2},{x:O-h.width/2,y:B-R/2+g},{x:O-m/2,y:B-R/2+g}],Me.polygon(e,M,L)},u}async function FV(t,e,{config:{flowchart:r}}){const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),o=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/o;const{labelStyles:a}=Ve(e);e.labelStyle=a;const s=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?s??0:0,(e==null?void 0:e.assetWidth)??i),u=e.constraint==="on"&&(e!=null&&e.assetHeight)?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?u/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??o;e.width=Math.max(u,s??0);const{shapeSvg:d,bbox:p,label:f}=await cr(t,e,"image-shape default"),g=e.pos==="t",m=-u/2,y=-h/2,v=e.label?8:0,x=ze.svg(d),b=je(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=x.rectangle(m,y,u,h,b),N=Math.max(u,p.width),_=h+p.height+v,S=x.rectangle(-N/2,-_/2,N,_,{...b,fill:"none",stroke:"none"}),T=d.insert(()=>k,":first-child"),A=d.insert(()=>S);if(e.img){const C=d.append("image");C.attr("href",e.img),C.attr("width",u),C.attr("height",h),C.attr("preserveAspectRatio","none"),C.attr("transform",`translate(${-u/2},${g?_/2-h:-_/2})`)}return f.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${g?-h/2-p.height/2-v/2:h/2-p.height/2+v/2})`),T.attr("transform",`translate(0,${g?p.height/2+v/2:-p.height/2-v/2})`),Ue(e,A),e.intersect=function(C){if(et.info("iconSquare intersect",e,C),!e.label)return Me.rect(e,C);const D=e.x??0,E=e.y??0,$=e.height??0;let I=[];return I=g?[{x:D-p.width/2,y:E-$/2},{x:D+p.width/2,y:E-$/2},{x:D+p.width/2,y:E-$/2+p.height+v},{x:D+u/2,y:E-$/2+p.height+v},{x:D+u/2,y:E+$/2},{x:D-u/2,y:E+$/2},{x:D-u/2,y:E-$/2+p.height+v},{x:D-p.width/2,y:E-$/2+p.height+v}]:[{x:D-u/2,y:E-$/2},{x:D+u/2,y:E-$/2},{x:D+u/2,y:E-$/2+h},{x:D+p.width/2,y:E-$/2+h},{x:D+p.width/2/2,y:E+$/2},{x:D-p.width/2,y:E+$/2},{x:D-p.width/2,y:E-$/2+h},{x:D-u/2,y:E-$/2+h}],Me.polygon(e,I,C)},d}async function zV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*s/6,y:-s},{x:-3*s/6,y:-s}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=ze.svg(i),p=je(e,{}),f=Rr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-a/2}, ${s/2})`),h&&u.attr("style",h)}else u=Zc(i,a,s,l);return n&&u.attr("style",n),e.width=a,e.height=s,Ue(e,u),e.intersect=function(d){return Me.polygon(e,l,d)},i}async function v4(t,e,r){const{labelStyles:n,nodeStyles:i}=Ve(e);e.labelStyle=n;const{shapeSvg:o,bbox:a}=await cr(t,e,ur(e)),s=Math.max(a.width+2*r.labelPaddingX,(e==null?void 0:e.width)||0),l=Math.max(a.height+2*r.labelPaddingY,(e==null?void 0:e.height)||0),u=-s/2,h=-l/2;let d,{rx:p,ry:f}=e;const{cssStyles:g}=e;if(r!=null&&r.rx&&r.ry&&(p=r.rx,f=r.ry),e.look==="handDrawn"){const m=ze.svg(o),y=je(e,{}),v=p||f?m.path(Kc(u,h,s,l,p||0),y):m.rectangle(u,h,s,l,y);d=o.insert(()=>v,":first-child"),d.attr("class","basic label-container").attr("style",Vo(g))}else d=o.insert("rect",":first-child"),d.attr("class","basic label-container").attr("style",i).attr("rx",Vo(p)).attr("ry",Vo(f)).attr("x",u).attr("y",h).attr("width",s).attr("height",l);return Ue(e,d),e.intersect=function(m){return Me.rect(e,m)},o}async function jV(t,e){const{shapeSvg:r,bbox:n,label:i}=await cr(t,e,"label"),o=r.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${-n.height/2-(n.y-(n.top??0))})`),Ue(e,o),e.intersect=function(a){return Me.rect(e,a)},r}async function HV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(o.width+(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(o.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:a+3*s/6,y:0},{x:a,y:-s},{x:-3*s/6,y:-s}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=ze.svg(i),p=je(e,{}),f=Rr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-a/2}, ${s/2})`),h&&u.attr("style",h)}else u=Zc(i,a,s,l);return n&&u.attr("style",n),e.width=a,e.height=s,Ue(e,u),e.intersect=function(d){return Me.polygon(e,l,d)},i}async function UV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(o.width+(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(o.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*s/6,y:0},{x:a,y:0},{x:a+3*s/6,y:-s},{x:0,y:-s}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=ze.svg(i),p=je(e,{}),f=Rr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-a/2}, ${s/2})`),h&&u.attr("style",h)}else u=Zc(i,a,s,l);return n&&u.attr("style",n),e.width=a,e.height=s,Ue(e,u),e.intersect=function(d){return Me.polygon(e,l,d)},i}function qV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",ur(e)).attr("id",e.domId??e.id),{cssStyles:o}=e,a=Math.max(35,(e==null?void 0:e.width)??0),s=Math.max(35,(e==null?void 0:e.height)??0),l=[{x:a,y:0},{x:0,y:s+3.5},{x:a-14,y:s+3.5},{x:0,y:2*s},{x:a,y:s-3.5},{x:14,y:s-3.5}],u=ze.svg(i),h=je(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=Rr(l),p=u.path(d,h),f=i.insert(()=>p,":first-child");return o&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",o),n&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",n),f.attr("transform",`translate(-${a/2},${-s})`),Ue(e,f),e.intersect=function(g){return et.info("lightningBolt intersect",e,g),Me.polygon(e,l,g)},i}w(RV,"hexagon"),w(DV,"hourglass"),w(OV,"icon"),w(MV,"iconCircle"),w(BV,"iconRounded"),w(PV,"iconSquare"),w(FV,"imageSquare"),w(zV,"inv_trapezoid"),w(v4,"drawRect"),w(jV,"labelRect"),w(HV,"lean_left"),w(UV,"lean_right"),w(qV,"lightningBolt");var l1t=w((t,e,r,n,i,o,a)=>[`M${t},${e+o}`,`a${i},${o} 0,0,0 ${r},0`,`a${i},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${o} 0,0,0 ${r},0`,"l0,"+-n,`M${t},${e+o+a}`,`a${i},${o} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),c1t=w((t,e,r,n,i,o,a)=>[`M${t},${e+o}`,`M${t+r},${e+o}`,`a${i},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${o} 0,0,0 ${r},0`,"l0,"+-n,`M${t},${e+o+a}`,`a${i},${o} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),u1t=w((t,e,r,n,i,o)=>[`M${t-r/2},${-n/2}`,`a${i},${o} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function GV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+(e.padding??0),e.width??0),l=s/2,u=l/(2.5+s/50),h=Math.max(o.height+u+(e.padding??0),e.height??0),d=.1*h;let p;const{cssStyles:f}=e;if(e.look==="handDrawn"){const g=ze.svg(i),m=c1t(0,0,s,h,l,u,d),y=u1t(0,u,s,h,l,u),v=je(e,{}),x=g.path(m,v),b=g.path(y,v);i.insert(()=>b,":first-child").attr("class","line"),p=i.insert(()=>x,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{const g=l1t(0,0,s,h,l,u,d);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Vo(f)).attr("style",n)}return p.attr("label-offset-y",u),p.attr("transform",`translate(${-s/2}, ${-(h/2+u)})`),Ue(e,p),a.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-o.height/2+u-(o.y-(o.top??0))})`),e.intersect=function(g){const m=Me.rect(e,g),y=m.x-(e.x??0);if(l!=0&&(Math.abs(y)<(e.width??0)/2||Math.abs(y)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-u)){let v=u*u*(1-y*y/(l*l));v>0&&(v=Math.sqrt(v)),v=u-v,g.y-(e.y??0)>0&&(v=-v),m.y+=v}return m},i}async function WV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=l/4,h=l+u,{cssStyles:d}=e,p=ze.svg(i),f=je(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-s/2-s/2*.1,y:-h/2},{x:-s/2-s/2*.1,y:h/2},...Zu(-s/2-s/2*.1,h/2,s/2+s/2*.1,h/2,u,.8),{x:s/2+s/2*.1,y:-h/2},{x:-s/2-s/2*.1,y:-h/2},{x:-s/2,y:-h/2},{x:-s/2,y:h/2*1.1},{x:-s/2,y:-h/2}],m=p.polygon(g.map(v=>[v.x,v.y]),f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-s/2+(e.padding??0)+s/2*.1/2-(o.x-(o.left??0))},${-l/2+(e.padding??0)-u/2-(o.y-(o.top??0))})`),Ue(e,y),e.intersect=function(v){return Me.polygon(e,g,v)},i}async function VV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=-s/2,h=-l/2,{cssStyles:d}=e,p=ze.svg(i),f=je(e,{}),g=[{x:u-5,y:h+5},{x:u-5,y:h+l+5},{x:u+s-5,y:h+l+5},{x:u+s-5,y:h+l},{x:u+s,y:h+l},{x:u+s,y:h+l-5},{x:u+s+5,y:h+l-5},{x:u+s+5,y:h-5},{x:u+5,y:h-5},{x:u+5,y:h},{x:u,y:h},{x:u,y:h+5}],m=[{x:u,y:h+5},{x:u+s-5,y:h+5},{x:u+s-5,y:h+l},{x:u+s,y:h+l},{x:u+s,y:h},{x:u,y:h}];e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const y=Rr(g),v=p.path(y,f),x=Rr(m),b=p.path(x,{...f,fill:"none"}),k=i.insert(()=>b,":first-child");return k.insert(()=>v,":first-child"),k.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),a.attr("transform",`translate(${-o.width/2-5-(o.x-(o.left??0))}, ${-o.height/2+5-(o.y-(o.top??0))})`),Ue(e,k),e.intersect=function(N){return Me.polygon(e,g,N)},i}async function YV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=l/4,h=l+u,d=-s/2,p=-h/2,{cssStyles:f}=e,g=Zu(d-5,p+h+5,d+s-5,p+h+5,u,.8),m=g==null?void 0:g[g.length-1],y=[{x:d-5,y:p+5},{x:d-5,y:p+h+5},...g,{x:d+s-5,y:m.y-5},{x:d+s,y:m.y-5},{x:d+s,y:m.y-10},{x:d+s+5,y:m.y-10},{x:d+s+5,y:p-5},{x:d+5,y:p-5},{x:d+5,y:p},{x:d,y:p},{x:d,y:p+5}],v=[{x:d,y:p+5},{x:d+s-5,y:p+5},{x:d+s-5,y:m.y-5},{x:d+s,y:m.y-5},{x:d+s,y:p},{x:d,y:p}],x=ze.svg(i),b=je(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=Rr(y),N=x.path(k,b),_=Rr(v),S=x.path(_,b),T=i.insert(()=>N,":first-child");return T.insert(()=>S),T.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o.width/2-5-(o.x-(o.left??0))}, ${-o.height/2+5-u/2-(o.y-(o.top??0))})`),Ue(e,T),e.intersect=function(A){return Me.polygon(e,y,A)},i}async function XV(t,e,{config:{themeVariables:r}}){var y;const{labelStyles:n,nodeStyles:i}=Ve(e);e.labelStyle=n,e.useHtmlLabels||((y=Nn().flowchart)==null?void 0:y.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:a}=await cr(t,e,ur(e)),s=Math.max(a.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(a.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=-s/2,h=-l/2,{cssStyles:d}=e,p=ze.svg(o),f=je(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=p.rectangle(u,h,s,l,f),m=o.insert(()=>g,":first-child");return m.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",i),Ue(e,m),e.intersect=function(v){return Me.rect(e,v)},o}w(GV,"linedCylinder"),w(WV,"linedWaveEdgedRect"),w(VV,"multiRect"),w(YV,"multiWaveEdgedRectangle"),w(XV,"note");var h1t=w((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function KV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=o.width+e.padding+(o.height+e.padding),s=[{x:a/2,y:0},{x:a,y:-a/2},{x:a/2,y:-a},{x:0,y:-a/2}];let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=ze.svg(i),d=je(e,{}),p=h1t(0,0,a),f=h.path(p,d);l=i.insert(()=>f,":first-child").attr("transform",`translate(${-a/2}, ${a/2})`),u&&l.attr("style",u)}else l=Zc(i,a,a,s);return n&&l.attr("style",n),Ue(e,l),e.intersect=function(h){return et.debug(`APA12 Intersect called SPLIT
point:`,h,`
node:
`,e,`
res:`,Me.polygon(e,s,h)),Me.polygon(e,s,h)},i}async function ZV(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=-Math.max(o.width+(e.padding??0),(e==null?void 0:e.width)??0)/2,l=-Math.max(o.height+(e.padding??0),(e==null?void 0:e.height)??0)/2,u=l/2,h=[{x:s+u,y:l},{x:s,y:0},{x:s+u,y:-l},{x:-s,y:-l},{x:-s,y:l}],{cssStyles:d}=e,p=ze.svg(i),f=je(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=Rr(h),m=p.path(g,f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${-u/2},0)`),a.attr("transform",`translate(${-u/2-o.width/2-(o.x-(o.left??0))}, ${-o.height/2-(o.y-(o.top??0))})`),Ue(e,y),e.intersect=function(v){return Me.polygon(e,h,v)},i}async function QV(t,e){var T,A;const{labelStyles:r,nodeStyles:n}=Ve(e);let i;e.labelStyle=r,i=e.cssClasses?"node "+e.cssClasses:"node default";const o=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=o.insert("g"),s=o.insert("g").attr("class","label").attr("style",n),l=e.description,u=e.label,h=s.node().appendChild(await hd(u,e.labelStyle,!0,!0));let d={width:0,height:0};if(sn((A=(T=Tt())==null?void 0:T.flowchart)==null?void 0:A.htmlLabels)){const C=h.children[0],D=he(h);d=C.getBoundingClientRect(),D.attr("width",d.width),D.attr("height",d.height)}et.info("Text 2",l);const p=l||[],f=h.getBBox(),g=s.node().appendChild(await hd(p.join?p.join("<br/>"):p,e.labelStyle,!0,!0)),m=g.children[0],y=he(g);d=m.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height);const v=(e.padding||0)/2;he(g).attr("transform","translate( "+(d.width>f.width?0:(f.width-d.width)/2)+", "+(f.height+v+5)+")"),he(h).attr("transform","translate( "+(d.width<f.width?0:-(f.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-v+3)+")");const x=d.width+(e.padding||0),b=d.height+(e.padding||0),k=-d.width/2-v,N=-d.height/2-v;let _,S;if(e.look==="handDrawn"){const C=ze.svg(o),D=je(e,{}),E=C.path(Kc(k,N,x,b,e.rx||0),D),$=C.line(-d.width/2-v,-d.height/2-v+f.height+v,d.width/2+v,-d.height/2-v+f.height+v,D);S=o.insert(()=>(et.debug("Rough node insert CXC",E),$),":first-child"),_=o.insert(()=>(et.debug("Rough node insert CXC",E),E),":first-child")}else _=a.insert("rect",":first-child"),S=a.insert("line"),_.attr("class","outer title-state").attr("style",n).attr("x",-d.width/2-v).attr("y",-d.height/2-v).attr("width",d.width+(e.padding||0)).attr("height",d.height+(e.padding||0)),S.attr("class","divider").attr("x1",-d.width/2-v).attr("x2",d.width/2+v).attr("y1",-d.height/2-v+f.height+v).attr("y2",-d.height/2-v+f.height+v);return Ue(e,_),e.intersect=function(C){return Me.rect(e,C)},o}async function JV(t,e){return v4(t,e,{rx:5,ry:5,classes:"",labelPaddingX:1*((e==null?void 0:e.padding)||0),labelPaddingY:1*((e==null?void 0:e.padding)||0)})}async function tY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=(e==null?void 0:e.padding)??0,l=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),u=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),h=-o.width/2-s,d=-o.height/2-s,{cssStyles:p}=e,f=ze.svg(i),g=je(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:d},{x:h+l+8,y:d},{x:h+l+8,y:d+u},{x:h-8,y:d+u},{x:h-8,y:d},{x:h,y:d},{x:h,y:d+u}],y=f.polygon(m.map(x=>[x.x,x.y]),g),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container").attr("style",Vo(p)),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),p&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(e.padding??0)-(o.x-(o.left??0))},${-u/2+(e.padding??0)-(o.y-(o.top??0))})`),Ue(e,v),e.intersect=function(x){return Me.rect(e,x)},i}async function eY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=-s/2,h=-l/2,{cssStyles:d}=e,p=ze.svg(i),f=je(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:u,y:h},{x:u,y:h+l},{x:u+s,y:h+l},{x:u+s,y:h-l/2}],m=Rr(g),y=p.path(m,f),v=i.insert(()=>y,":first-child");return v.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-s/2+(e.padding??0)-(o.x-(o.left??0))}, ${-l/4+(e.padding??0)-(o.y-(o.top??0))})`),Ue(e,v),e.intersect=function(x){return Me.polygon(e,g,x)},i}async function rY(t,e){return v4(t,e,{rx:0,ry:0,classes:"",labelPaddingX:2*((e==null?void 0:e.padding)||0),labelPaddingY:1*((e==null?void 0:e.padding)||0)})}async function nY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=o.height+e.padding,s=o.width+a/4+e.padding;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=ze.svg(i),d=je(e,{}),p=Kc(-s/2,-a/2,s,a,a/2),f=h.path(p,d);l=i.insert(()=>f,":first-child"),l.attr("class","basic label-container").attr("style",Vo(u))}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",n).attr("rx",a/2).attr("ry",a/2).attr("x",-s/2).attr("y",-a/2).attr("width",s).attr("height",a);return Ue(e,l),e.intersect=function(h){return Me.rect(e,h)},i}async function iY(t,e){return v4(t,e,{rx:5,ry:5,classes:"flowchart-node"})}function oY(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Ve(e);e.labelStyle=n;const{cssStyles:o}=e,{lineColor:a,stateBorder:s,nodeBorder:l}=r,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=ze.svg(u),d=je(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=h.circle(0,0,14,{...d,stroke:a,strokeWidth:2}),f=s??l,g=h.circle(0,0,5,{...d,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),m=u.insert(()=>p,":first-child");return m.insert(()=>g),o&&m.selectAll("path").attr("style",o),i&&m.selectAll("path").attr("style",i),Ue(e,m),e.intersect=function(y){return Me.circle(e,7,y)},u}function aY(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let o;if(e.look==="handDrawn"){const a=ze.svg(i).circle(0,0,14,Ygt(n));o=i.insert(()=>a),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else o=i.insert("circle",":first-child"),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Ue(e,o),e.intersect=function(a){return Me.circle(e,7,a)},i}async function sY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=((e==null?void 0:e.padding)||0)/2,s=o.width+e.padding,l=o.height+e.padding,u=-o.width/2-a,h=-o.height/2-a,d=[{x:0,y:0},{x:s,y:0},{x:s,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const p=ze.svg(i),f=je(e,{}),g=p.rectangle(u-8,h,s+16,l,f),m=p.line(u,h,u,h+l,f),y=p.line(u+s,h,u+s,h+l,f);i.insert(()=>m,":first-child"),i.insert(()=>y,":first-child");const v=i.insert(()=>g,":first-child"),{cssStyles:x}=e;v.attr("class","basic label-container").attr("style",Vo(x)),Ue(e,v)}else{const p=Zc(i,s,l,d);n&&p.attr("style",n),Ue(e,p)}return e.intersect=function(p){return Me.polygon(e,d,p)},i}async function lY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),l=-a/2,u=-s/2,h=.2*s,d=.2*s,{cssStyles:p}=e,f=ze.svg(i),g=je(e,{}),m=[{x:l-h/2,y:u},{x:l+a+h/2,y:u},{x:l+a+h/2,y:u+s},{x:l-h/2,y:u+s}],y=[{x:l+a-h/2,y:u+s},{x:l+a+h/2,y:u+s},{x:l+a+h/2,y:u+s-d}];e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=Rr(m),x=f.path(v,g),b=Rr(y),k=f.path(b,{...g,fillStyle:"solid"}),N=i.insert(()=>k,":first-child");return N.insert(()=>x,":first-child"),N.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",n),Ue(e,N),e.intersect=function(_){return Me.polygon(e,m,_)},i}async function cY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=l/4,h=.2*s,d=.2*l,p=l+u,{cssStyles:f}=e,g=ze.svg(i),m=je(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-s/2-s/2*.1,y:p/2},...Zu(-s/2-s/2*.1,p/2,s/2+s/2*.1,p/2,u,.8),{x:s/2+s/2*.1,y:-p/2},{x:-s/2-s/2*.1,y:-p/2}],v=-s/2+s/2*.1,x=-p/2-.4*d,b=[{x:v+s-h,y:1.4*(x+l)},{x:v+s,y:x+l-d},{x:v+s,y:.9*(x+l)},...Zu(v+s,1.3*(x+l),v+s-h,1.5*(x+l),.03*-l,.5)],k=Rr(y),N=g.path(k,m),_=Rr(b),S=g.path(_,{...m,fillStyle:"solid"}),T=i.insert(()=>S,":first-child");return T.insert(()=>N,":first-child"),T.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-s/2+(e.padding??0)-(o.x-(o.left??0))},${-l/2+(e.padding??0)-u/2-(o.y-(o.top??0))})`),Ue(e,T),e.intersect=function(A){return Me.polygon(e,y,A)},i}async function uY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(o.width+e.padding,(e==null?void 0:e.width)||0),s=Math.max(o.height+e.padding,(e==null?void 0:e.height)||0),l=-a/2,u=-s/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",a).attr("height",s),Ue(e,h),e.intersect=function(d){return Me.rect(e,d)},i}w(KV,"question"),w(ZV,"rect_left_inv_arrow"),w(QV,"rectWithTitle"),w(JV,"roundedRect"),w(tY,"shadedProcess"),w(eY,"slopedRect"),w(rY,"squareRect"),w(nY,"stadium"),w(iY,"state"),w(oY,"stateEnd"),w(aY,"stateStart"),w(sY,"subroutine"),w(lY,"taggedRect"),w(cY,"taggedWaveEdgedRectangle"),w(uY,"text");var d1t=w((t,e,r,n,i,o)=>`M${t},${e}
    a${i},${o} 0,0,1 0,${-n}
    l${r},0
    a${i},${o} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${o} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),p1t=w((t,e,r,n,i,o)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${o} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${o} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),f1t=w((t,e,r,n,i,o)=>[`M${t+r/2},${-n/2}`,`a${i},${o} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function hY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a,halfPadding:s}=await cr(t,e,ur(e)),l=e.look==="neo"?2*s:s,u=o.height+l,h=u/2,d=h/(2.5+u/50),p=o.width+d+l,{cssStyles:f}=e;let g;if(e.look==="handDrawn"){const m=ze.svg(i),y=p1t(0,0,p,u,d,h),v=f1t(0,0,p,u,d,h),x=m.path(y,je(e,{})),b=m.path(v,je(e,{fill:"none"}));g=i.insert(()=>b,":first-child"),g=i.insert(()=>x,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{const m=d1t(0,0,p,u,d,h);g=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Vo(f)).attr("style",n),g.attr("class","basic label-container"),f&&g.selectAll("path").attr("style",f),n&&g.selectAll("path").attr("style",n)}return g.attr("label-offset-x",d),g.attr("transform",`translate(${-p/2}, ${u/2} )`),a.attr("transform",`translate(${-o.width/2-d-(o.x-(o.left??0))}, ${-o.height/2-(o.y-(o.top??0))})`),Ue(e,g),e.intersect=function(m){const y=Me.rect(e,m),v=y.y-(e.y??0);if(h!=0&&(Math.abs(v)<(e.height??0)/2||Math.abs(v)==(e.height??0)/2&&Math.abs(y.x-(e.x??0))>(e.width??0)/2-d)){let x=d*d*(1-v*v/(h*h));x!=0&&(x=Math.sqrt(Math.abs(x))),x=d-x,m.x-(e.x??0)>0&&(x=-x),y.x+=x}return y},i}async function dY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=o.width+e.padding,s=o.height+e.padding,l=[{x:-3*s/6,y:0},{x:a+3*s/6,y:0},{x:a,y:-s},{x:0,y:-s}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const d=ze.svg(i),p=je(e,{}),f=Rr(l),g=d.path(f,p);u=i.insert(()=>g,":first-child").attr("transform",`translate(${-a/2}, ${s/2})`),h&&u.attr("style",h)}else u=Zc(i,a,s,l);return n&&u.attr("style",n),e.width=a,e.height=s,Ue(e,u),e.intersect=function(d){return Me.polygon(e,l,d)},i}async function pY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(60,o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(20,o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),{cssStyles:l}=e,u=ze.svg(i),h=je(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=[{x:-a/2*.8,y:-s/2},{x:a/2*.8,y:-s/2},{x:a/2,y:-s/2*.6},{x:a/2,y:s/2},{x:-a/2,y:s/2},{x:-a/2,y:-s/2*.6}],p=Rr(d),f=u.path(p,h),g=i.insert(()=>f,":first-child");return g.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",l),n&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),Ue(e,g),e.intersect=function(m){return Me.polygon(e,d,m)},i}async function fY(t,e){var x;const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=sn((x=Tt().flowchart)==null?void 0:x.htmlLabels),l=o.width+(e.padding??0),u=l+o.height,h=l+o.height,d=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-u}],{cssStyles:p}=e,f=ze.svg(i),g=je(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Rr(d),y=f.path(m,g),v=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),e.width=l,e.height=u,Ue(e,v),a.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${u/2-(o.height+(e.padding??0)/(s?2:1)-(o.y-(o.top??0)))})`),e.intersect=function(b){return et.info("Triangle intersect",e,d,b),Me.polygon(e,d,b)},i}async function gY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=l/8,h=l+u,{cssStyles:d}=e,p=70-s,f=p>0?p/2:0,g=ze.svg(i),m=je(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-s/2-f,y:h/2},...Zu(-s/2-f,h/2,s/2+f,h/2,u,.8),{x:s/2+f,y:-h/2},{x:-s/2-f,y:-h/2}],v=Rr(y),x=g.path(v,m),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-s/2+(e.padding??0)-(o.x-(o.left??0))},${-l/2+(e.padding??0)-u-(o.y-(o.top??0))})`),Ue(e,b),e.intersect=function(k){return Me.polygon(e,y,k)},i}async function mY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o}=await cr(t,e,ur(e)),a=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),s=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),l=a/s;let u=a,h=s;u>h*l?h=u/l:u=h*l,u=Math.max(u,100),h=Math.max(h,50);const d=Math.min(.2*h,h/4),p=h+2*d,{cssStyles:f}=e,g=ze.svg(i),m=je(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-u/2,y:p/2},...Zu(-u/2,p/2,u/2,p/2,d,1),{x:u/2,y:-p/2},...Zu(u/2,-p/2,-u/2,-p/2,d,-1)],v=Rr(y),x=g.path(v,m),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),Ue(e,b),e.intersect=function(k){return Me.polygon(e,y,k)},i}async function yY(t,e){const{labelStyles:r,nodeStyles:n}=Ve(e);e.labelStyle=r;const{shapeSvg:i,bbox:o,label:a}=await cr(t,e,ur(e)),s=Math.max(o.width+2*(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(o.height+2*(e.padding??0),(e==null?void 0:e.height)??0),u=-s/2,h=-l/2,{cssStyles:d}=e,p=ze.svg(i),f=je(e,{}),g=[{x:u-5,y:h-5},{x:u-5,y:h+l},{x:u+s,y:h+l},{x:u+s,y:h-5}],m=`M${u-5},${h-5} L${u+s},${h-5} L${u+s},${h+l} L${u-5},${h+l} L${u-5},${h-5}
                M${u-5},${h} L${u+s},${h}
                M${u},${h-5} L${u},${h+l}`;e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const y=p.path(m,f),v=i.insert(()=>y,":first-child");return v.attr("transform","translate(2.5, 2.5)"),v.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),a.attr("transform",`translate(${-o.width/2+2.5-(o.x-(o.left??0))}, ${-o.height/2+2.5-(o.y-(o.top??0))})`),Ue(e,v),e.intersect=function(x){return Me.polygon(e,g,x)},i}async function vY(t,e,r,n,i=r.class.padding??12){const o=n?0:3,a=t.insert("g").attr("class",ur(e)).attr("id",e.domId||e.id);let s=null,l=null,u=null,h=null,d=0,p=0,f=0;if(s=a.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const x=e.annotations[0];await E1(s,{text:`«${x}»`},0),d=s.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await E1(l,e,0,["font-weight: bolder"]);const g=l.node().getBBox();p=g.height,u=a.insert("g").attr("class","members-group text");let m=0;for(const x of e.members)m+=await E1(u,x,m,[x.parseClassifier()])+o;f=u.node().getBBox().height,f<=0&&(f=i/2),h=a.insert("g").attr("class","methods-group text");let y=0;for(const x of e.methods)y+=await E1(h,x,y,[x.parseClassifier()])+o;let v=a.node().getBBox();if(s!==null){const x=s.node().getBBox();s.attr("transform",`translate(${-x.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${d})`),v=a.node().getBBox(),u.attr("transform",`translate(0, ${d+p+2*i})`),v=a.node().getBBox(),h.attr("transform",`translate(0, ${d+p+(f?f+4*i:2*i)})`),v=a.node().getBBox(),{shapeSvg:a,bbox:v}}async function E1(t,e,r,n=[]){const i=t.insert("g").attr("class","label").attr("style",n.join("; ")),o=Nn();let a="useHtmlLabels"in e?e.useHtmlLabels:sn(o.htmlLabels)??!0,s="";s="text"in e?e.text:e.label,!a&&s.startsWith("\\")&&(s=s.substring(1)),Io(s)&&(a=!0);const l=await $s(i,KU(Dc(s)),{width:xs(s,o)+50,classes:"markdown-node-label",useHtmlLabels:a},o);let u,h=1;if(a){const d=l.children[0],p=he(l);h=d.innerHTML.split("<br>").length,d.innerHTML.includes("</math>")&&(h+=d.innerHTML.split("<mrow>").length-1);const f=d.getElementsByTagName("img");if(f){const g=s.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(m=>new Promise(y=>{function v(){var x;if(m.style.display="flex",m.style.flexDirection="column",g){const b=((x=o.fontSize)==null?void 0:x.toString())??window.getComputedStyle(document.body).fontSize,k=5,N=parseInt(b,10)*k+"px";m.style.minWidth=N,m.style.maxWidth=N}else m.style.width="100%";y(m)}w(v,"setupImage"),setTimeout(()=>{m.complete&&v()}),m.addEventListener("error",v),m.addEventListener("load",v)})))}u=d.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}else{n.includes("font-weight: bolder")&&he(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const d=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(d.textContent=s[0]+s.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),s[1]===" "&&(d.textContent=d.textContent[0]+" "+d.textContent.substring(1))),d.textContent==="undefined"&&(d.textContent=""),u=l.getBBox()}return i.attr("transform","translate(0,"+(-u.height/(2*h)+r)+")"),u.height}async function bY(t,e){var A,C;const r=Tt(),n=r.class.padding??12,i=n,o=e.useHtmlLabels??sn(r.htmlLabels)??!0,a=e;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:s,bbox:l}=await vY(t,e,r,o,i),{labelStyles:u,nodeStyles:h}=Ve(e);e.labelStyle=u,e.cssStyles=a.styles||"";const d=((A=a.styles)==null?void 0:A.join(";"))||h||"";e.cssStyles||(e.cssStyles=d.replaceAll("!important","").split(";"));const p=a.members.length===0&&a.methods.length===0&&!((C=r.class)!=null&&C.hideEmptyMembersBox),f=ze.svg(s),g=je(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=l.width;let y=l.height;a.members.length===0&&a.methods.length===0?y+=i:a.members.length>0&&a.methods.length===0&&(y+=2*i);const v=-m/2,x=-y/2,b=f.rectangle(v-n,x-n-(p?n:a.members.length===0&&a.methods.length===0?-n/2:0),m+2*n,y+2*n+(p?2*n:a.members.length===0&&a.methods.length===0?-n:0),g),k=s.insert(()=>b,":first-child");k.attr("class","basic label-container");const N=k.node().getBBox();s.selectAll(".text").each((D,E,$)=>{var M;const I=he($[E]),L=I.attr("transform");let O=0;if(L){const F=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(L);F&&(O=parseFloat(F[2]))}let B=O+x+n-(p?n:a.members.length===0&&a.methods.length===0?-n/2:0);o||(B-=4);let R=v;(I.attr("class").includes("label-group")||I.attr("class").includes("annotation-group"))&&(R=-((M=I.node())==null?void 0:M.getBBox().width)/2||0,s.selectAll("text").each(function(F,P,U){window.getComputedStyle(U[P]).textAnchor==="middle"&&(R=0)})),I.attr("transform",`translate(${R}, ${B})`)});const _=s.select(".annotation-group").node().getBBox().height-(p?n/2:0)||0,S=s.select(".label-group").node().getBBox().height-(p?n/2:0)||0,T=s.select(".members-group").node().getBBox().height-(p?n/2:0)||0;if(a.members.length>0||a.methods.length>0||p){const D=f.line(N.x,_+S+x+n,N.x+N.width,_+S+x+n,g);s.insert(()=>D).attr("class","divider").attr("style",d)}if(p||a.members.length>0||a.methods.length>0){const D=f.line(N.x,_+S+T+x+2*i+n,N.x+N.width,_+S+T+x+n+2*i,g);s.insert(()=>D).attr("class","divider").attr("style",d)}if(a.look!=="handDrawn"&&s.selectAll("path").attr("style",d),k.select(":nth-child(2)").attr("style",d),s.selectAll(".divider").select("path").attr("style",d),e.labelStyle?s.selectAll("span").attr("style",e.labelStyle):s.selectAll("span").attr("style",d),!o){const D=RegExp(/color\s*:\s*([^;]*)/),E=D.exec(d);if(E){const $=E[0].replace("color","fill");s.selectAll("tspan").attr("style",$)}else if(u){const $=D.exec(u);if($){const I=$[0].replace("color","fill");s.selectAll("tspan").attr("style",I)}}}return Ue(e,k),e.intersect=function(D){return Me.rect(e,D)},s}w(hY,"tiltedCylinder"),w(dY,"trapezoid"),w(pY,"trapezoidalPentagon"),w(fY,"triangle"),w(gY,"waveEdgedRectangle"),w(mY,"waveRectangle"),w(yY,"windowPane"),w(vY,"textHelper"),w(E1,"addText"),w(bY,"classBox");var g1t=w(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function xY(t,e,{config:r}){var C,D;const{labelStyles:n,nodeStyles:i}=Ve(e);e.labelStyle=n||"";const o=e.width;e.width=(e.width??200)-10;const{shapeSvg:a,bbox:s,label:l}=await cr(t,e,ur(e)),u=e.padding||10;let h,d="";"ticket"in e&&e.ticket&&((C=r==null?void 0:r.kanban)!=null&&C.ticketBaseUrl)&&(d=(D=r==null?void 0:r.kanban)==null?void 0:D.ticketBaseUrl.replace("#TICKET#",e.ticket),h=a.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",d).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let f,g;({label:f,bbox:g}=h?await bw(h,"ticket"in e&&e.ticket||"",p):await bw(a,"ticket"in e&&e.ticket||"",p));const{label:m,bbox:y}=await bw(a,"assigned"in e&&e.assigned||"",p);e.width=o;const v=(e==null?void 0:e.width)||0,x=Math.max(g.height,y.height)/2,b=Math.max(s.height+20,(e==null?void 0:e.height)||0)+x,k=-v/2,N=-b/2;let _;l.attr("transform","translate("+(u-v/2)+", "+(-x-s.height/2)+")"),f.attr("transform","translate("+(u-v/2)+", "+(-x+s.height/2)+")"),m.attr("transform","translate("+(u+v/2-y.width-20)+", "+(-x+s.height/2)+")");const{rx:S,ry:T}=e,{cssStyles:A}=e;if(e.look==="handDrawn"){const E=ze.svg(a),$=je(e,{}),I=S||T?E.path(Kc(k,N,v,b,S||0),$):E.rectangle(k,N,v,b,$);_=a.insert(()=>I,":first-child"),_.attr("class","basic label-container").attr("style",A||null)}else{_=a.insert("rect",":first-child"),_.attr("class","basic label-container __APA__").attr("style",i).attr("rx",S??5).attr("ry",T??5).attr("x",k).attr("y",N).attr("width",v).attr("height",b);const E="priority"in e&&e.priority;if(E){const $=a.append("line"),I=k+2,L=N+Math.floor((S??0)/2),O=N+b-Math.floor((S??0)/2);$.attr("x1",I).attr("y1",L).attr("x2",I).attr("y2",O).attr("stroke-width","4").attr("stroke",g1t(E))}}return Ue(e,_),e.height=b,e.intersect=function(E){return Me.rect(e,E)},a}w(xY,"kanbanItem");var m1t=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:rY},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:JV},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:nY},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:sY},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:SV},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:bV},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:KV},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:RV},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:UV},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:HV},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:dY},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:zV},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:CV},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:uY},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:yV},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:tY},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:aY},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:oY},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:IV},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:DV},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:kV},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:TV},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:EV},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:qV},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:gY},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:LV},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:hY},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:GV},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:_V},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:AV},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:fY},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:yY},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:$V},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:pY},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:NV},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:eY},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:YV},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:VV},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:mV},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:wV},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:cY},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:lY},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:mY},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:ZV},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:WV}],wY=w(()=>{const t={state:iY,choice:vV,note:XV,rectWithTitle:QV,labelRect:jV,iconSquare:PV,iconCircle:MV,icon:OV,iconRounded:BV,imageSquare:FV,anchor:gV,kanbanItem:xY,classBox:bY},e=[...Object.entries(t),...m1t.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(n=>[n,r.handler]))];return Object.fromEntries(e)},"generateShapeMap")();function kY(t){return t in wY}w(kY,"isValidShape");var b4=new Map;async function x4(t,e,r){let n,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const o=e.shape?wY[e.shape]:void 0;if(!o)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;r.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a??null),i=await o(n,e,r)}else i=await o(t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),b4.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}w(x4,"insertNode");var y1t=w((t,e)=>{b4.set(e.id,t)},"setNodeElem"),v1t=w(()=>{b4.clear()},"clear"),a_=w(t=>{const e=b4.get(t.id);et.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),es={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function _1(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Cn(t),e=Cn(e);const[r,n]=[t.x,t.y],[i,o]=[e.x,e.y],a=i-r,s=o-n;return{angle:Math.atan(s/a),deltaX:a,deltaY:s}}w(_1,"calculateDeltaAndAngle");var Cn=w(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),TY=w(t=>({x:w(function(e,r,n){let i=0;const o=Cn(n[0]).x<Cn(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(es,t.arrowTypeStart)){const{angle:p,deltaX:f}=_1(n[0],n[1]);i=es[t.arrowTypeStart]*Math.cos(p)*(f>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(es,t.arrowTypeEnd)){const{angle:p,deltaX:f}=_1(n[n.length-1],n[n.length-2]);i=es[t.arrowTypeEnd]*Math.cos(p)*(f>=0?1:-1)}const a=Math.abs(Cn(e).x-Cn(n[n.length-1]).x),s=Math.abs(Cn(e).y-Cn(n[n.length-1]).y),l=Math.abs(Cn(e).x-Cn(n[0]).x),u=Math.abs(Cn(e).y-Cn(n[0]).y),h=es[t.arrowTypeStart],d=es[t.arrowTypeEnd];if(a<d&&a>0&&s<d){let p=d+1-a;p*=o==="right"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+1-l;p*=o==="right"?-1:1,i+=p}return Cn(e).x+i},"x"),y:w(function(e,r,n){let i=0;const o=Cn(n[0]).y<Cn(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(es,t.arrowTypeStart)){const{angle:p,deltaY:f}=_1(n[0],n[1]);i=es[t.arrowTypeStart]*Math.abs(Math.sin(p))*(f>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(es,t.arrowTypeEnd)){const{angle:p,deltaY:f}=_1(n[n.length-1],n[n.length-2]);i=es[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(f>=0?1:-1)}const a=Math.abs(Cn(e).y-Cn(n[n.length-1]).y),s=Math.abs(Cn(e).x-Cn(n[n.length-1]).x),l=Math.abs(Cn(e).y-Cn(n[0]).y),u=Math.abs(Cn(e).x-Cn(n[0]).x),h=es[t.arrowTypeStart],d=es[t.arrowTypeEnd];if(a<d&&a>0&&s<d){let p=d+1-a;p*=o==="up"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+1-l;p*=o==="up"?-1:1,i+=p}return Cn(e).y+i},"y")}),"getLineFunctionsWithOffset");function EY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Kn(t){return function(){return t}}const s_=Math.PI,l_=2*s_,Fh=1e-6,b1t=l_-Fh;function $9(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}let x1t=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$9:function(r){let n=Math.floor(r);if(!(n>=0))throw new Error(`invalid digits: ${r}`);if(n>15)return $9;const i=10**n;return function(o){this._+=o[0];for(let a=1,s=o.length;a<s;++a)this._+=Math.round(arguments[a]*i)/i+o[a]}}(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,(o=+o)<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,u=i-r,h=a-e,d=s-r,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Fh)if(Math.abs(d*l-u*h)>Fh&&o){let f=n-a,g=i-s,m=l*l+u*u,y=f*f+g*g,v=Math.sqrt(m),x=Math.sqrt(p),b=o*Math.tan((s_-Math.acos((m+p-y)/(2*v*x)))/2),k=b/x,N=b/v;Math.abs(k-1)>Fh&&this._append`L${e+k*h},${r+k*d}`,this._append`A${o},${o},0,0,${+(d*f>h*g)},${this._x1=e+N*l},${this._y1=r+N*u}`}else this._append`L${this._x1=e},${this._y1=r}`}arc(e,r,n,i,o,a){if(e=+e,r=+r,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,h=r+l,d=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Fh||Math.abs(this._y1-h)>Fh)&&this._append`L${u},${h}`,n&&(p<0&&(p=p%l_+l_),p>b1t?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=h}`:p>Fh&&this._append`A${n},${n},0,${+(p>=s_)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function _Y(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new x1t(e)}function w1t(t){return t[0]}function k1t(t){return t[1]}function Nd(t,e){var r=Kn(!0),n=null,i=xW,o=null,a=_Y(s);function s(l){var u,h,d,p=(l=EY(l)).length,f=!1;for(n==null&&(o=i(d=a())),u=0;u<=p;++u)!(u<p&&r(h=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,u,l),+e(h,u,l));if(d)return o=null,d+""||null}return t=typeof t=="function"?t:t===void 0?w1t:Kn(t),e=typeof e=="function"?e:e===void 0?k1t:Kn(e),s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Kn(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}var T1t=w((t,e,r,n,i)=>{e.arrowTypeStart&&N9(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&N9(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),E1t={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},N9=w((t,e,r,n,i,o)=>{const a=E1t[r];if(!a)return void et.warn(`Unknown arrow type: ${r}`);const s=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${o}-${a}${s})`)},"addEdgeMarker"),vx=new Map,ro=new Map,_1t=w(()=>{vx.clear(),ro.clear()},"clear"),Hg=w(t=>t?t.reduce((e,r)=>e+";"+r,""):"","getLabelStyles"),SY=w(async(t,e)=>{let r=sn(Tt().flowchart.htmlLabels);const n=await $s(t,e.label,{style:Hg(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});et.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),o=i.insert("g").attr("class","label");o.node().appendChild(n);let a,s=n.getBBox();if(r){const l=n.children[0],u=he(n);s=l.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}if(o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),vx.set(e.id,i),e.width=s.width,e.height=s.height,e.startLabelLeft){const l=await hd(e.startLabelLeft,Hg(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");a=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),ro.get(e.id)||ro.set(e.id,{}),ro.get(e.id).startLeft=u,S1(a,e.startLabelLeft)}if(e.startLabelRight){const l=await hd(e.startLabelRight,Hg(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");a=u.node().appendChild(l),h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),ro.get(e.id)||ro.set(e.id,{}),ro.get(e.id).startRight=u,S1(a,e.startLabelRight)}if(e.endLabelLeft){const l=await hd(e.endLabelLeft,Hg(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");a=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),u.node().appendChild(l),ro.get(e.id)||ro.set(e.id,{}),ro.get(e.id).endLeft=u,S1(a,e.endLabelLeft)}if(e.endLabelRight){const l=await hd(e.endLabelRight,Hg(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");a=h.node().appendChild(l);const d=l.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),u.node().appendChild(l),ro.get(e.id)||ro.set(e.id,{}),ro.get(e.id).endRight=u,S1(a,e.endLabelRight)}return n},"insertEdgeLabel");function S1(t,e){Tt().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}w(S1,"setTerminalWidth");var AY=w((t,e)=>{et.debug("Moving label abc88 ",t.id,t.label,vx.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Tt(),{subGraphTitleTotalMargin:i}=xy(n);if(t.label){const o=vx.get(t.id);let a=t.x,s=t.y;if(r){const l=dr.calcLabelPosition(r);et.debug("Moving label "+t.label+" from (",a,",",s,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(a=l.x,s=l.y)}o.attr("transform",`translate(${a}, ${s+i/2})`)}if(t.startLabelLeft){const o=ro.get(t.id).startLeft;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}if(t.startLabelRight){const o=ro.get(t.id).startRight;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelLeft){const o=ro.get(t.id).endLeft;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelRight){const o=ro.get(t.id).endRight;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}},"positionEdgeLabel"),S1t=w((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),o=Math.abs(e.y-n),a=t.width/2,s=t.height/2;return i>=a||o>=s},"outsideNode"),A1t=w((t,e,r)=>{et.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,o=Math.abs(n-r.x),a=t.width/2;let s=r.x<e.x?a-o:a+o;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*a>Math.abs(n-e.x)*l){let d=r.y<e.y?e.y-l-i:i-l-e.y;s=h*d/u;const p={x:r.x<e.x?r.x+s:r.x-h+s,y:r.y<e.y?r.y+u-d:r.y-u+d};return s===0&&(p.x=e.x,p.y=e.y),h===0&&(p.x=e.x),u===0&&(p.y=e.y),et.debug(`abc89 top/bottom calc, Q ${u}, q ${d}, R ${h}, r ${s}`,p),p}{s=r.x<e.x?e.x-a-n:n-a-e.x;let d=u*s/h,p=r.x<e.x?r.x+h-s:r.x-h+s,f=r.y<e.y?r.y+d:r.y-d;return et.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${s}`,{_x:p,_y:f}),s===0&&(p=e.x,f=e.y),h===0&&(p=e.x),u===0&&(f=e.y),{x:p,y:f}}},"intersection"),I9=w((t,e)=>{et.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(o=>{if(et.info("abc88 checking point",o,e),S1t(e,o)||i)et.warn("abc88 outside",o,n),n=o,i||r.push(o);else{const a=A1t(e,n,o);et.debug("abc88 inside",o,n,a),et.debug("abc88 intersection",a,e);let s=!1;r.forEach(l=>{s=s||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?et.warn("abc88 no intersect",a,r):r.push(a),i=!0}}),et.debug("returning points",r),r},"cutPathAtIntersect");function CY(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],o=t[n],a=t[n+1];(i.x===o.x&&o.y===a.y&&Math.abs(o.x-a.x)>5&&Math.abs(o.y-i.y)>5||i.y===o.y&&o.x===a.x&&Math.abs(o.x-i.x)>5&&Math.abs(o.y-a.y)>5)&&(e.push(o),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}w(CY,"extractCornerPoints");var L9=w(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,o=r/Math.sqrt(n*n+i*i);return{x:e.x-o*n,y:e.y-o*i}},"findAdjacentPoint"),C1t=w(function(t){const{cornerPointPositions:e}=CY(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],o=t[n+1],a=t[n],s=L9(i,a,5),l=L9(o,a,5),u=l.x-s.x,h=l.y-s.y;r.push(s);const d=2*Math.sqrt(2);let p={x:a.x,y:a.y};if(Math.abs(o.x-i.x)>10&&Math.abs(o.y-i.y)>=10){et.debug("Corner point fixing",Math.abs(o.x-i.x),Math.abs(o.y-i.y));const f=5;p=a.x===s.x?{x:u<0?s.x-f+d:s.x+f-d,y:h<0?s.y-d:s.y+d}:{x:u<0?s.x-d:s.x+d,y:h<0?s.y-f+d:s.y+f-d}}else et.debug("Corner point skipping fixing",Math.abs(o.x-i.x),Math.abs(o.y-i.y));r.push(p,l)}else r.push(t[n]);return r},"fixCorners"),$Y=w(function(t,e,r,n,i,o,a){const{handDrawnSeed:s}=Tt();let l=e.points,u=!1;const h=i;var d=o;d.intersect&&h.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(h.intersect(l[0])),et.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],d,d.intersect(l[l.length-1])),l.push(d.intersect(l[l.length-1]))),e.toCluster&&(et.info("to cluster abc88",r.get(e.toCluster)),l=I9(e.points,r.get(e.toCluster).node),u=!0),e.fromCluster&&(et.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(l,null,2)),l=I9(l.reverse(),r.get(e.fromCluster).node).reverse(),u=!0);let p=l.filter(S=>!Number.isNaN(S.y));p=C1t(p);let f=Sy;e.curve&&(f=e.curve);const{x:g,y:m}=TY(e),y=Nd().x(g).y(m).curve(f);let v,x;switch(e.thickness){case"normal":default:v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-invisible"}switch(e.pattern){case"solid":default:v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed"}let b=y(p);const k=Array.isArray(e.style)?e.style:[e.style];if(e.look==="handDrawn"){const S=ze.svg(t);Object.assign([],p);const T=S.path(b,{roughness:.3,seed:s});v+=" transition",x=he(T).select("path").attr("id",e.id).attr("class"," "+v+(e.classes?" "+e.classes:"")).attr("style",k?k.reduce((C,D)=>C+";"+D,""):"");let A=x.attr("d");x.attr("d",A),t.node().appendChild(x.node())}else x=t.append("path").attr("d",b).attr("id",e.id).attr("class"," "+v+(e.classes?" "+e.classes:"")).attr("style",k?k.reduce((S,T)=>S+";"+T,""):"");let N="";(Tt().flowchart.arrowMarkerAbsolute||Tt().state.arrowMarkerAbsolute)&&(N=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,N=N.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),et.info("arrowTypeStart",e.arrowTypeStart),et.info("arrowTypeEnd",e.arrowTypeEnd),T1t(x,e,N,a,n);let _={};return u&&(_.updatedPath=l),_.originalPath=e.points,_},"insertEdge"),$1t=w((t,e,r,n)=>{e.forEach(i=>{N1t[i](t,r,n)})},"insertMarkers"),N1t={extension:w((t,e,r)=>{et.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point:w((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle:w((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross:w((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb")},NY=$1t,I1t={common:ne,getConfig:Nn,insertCluster:kC,insertEdge:$Y,insertEdgeLabel:SY,insertMarkers:NY,insertNode:x4,interpolateToCurve:oC,labelHelper:cr,log:et,positionEdgeLabel:AY},$m={},IY=w(t=>{for(const e of t)$m[e.name]=e},"registerLayoutLoaders");w(()=>{IY([{name:"dagre",loader:w(async()=>await Ur(()=>Promise.resolve().then(()=>B9t),void 0),"loader")}])},"registerDefaultLayoutLoaders")();var TC=w(async(t,e)=>{if(!(t.layoutAlgorithm in $m))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=$m[t.layoutAlgorithm];return(await r.loader()).render(t,e,I1t,{algorithm:r.algorithm})},"render"),LY=w((t="",{fallback:e="dagre"}={})=>{if(t in $m)return t;if(e in $m)return et.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),c_="11.4.1",mh=w(t=>{var n;const{securityLevel:e}=Tt();let r=he("body");if(e==="sandbox"){const i=he(`#i${t}`),o=((n=i.node())==null?void 0:n.contentDocument)??document;r=he(o.body)}return r.select(`#${t}`)},"selectSvgElement"),L1t=eW(Object.keys,Object),R1t=Object.prototype.hasOwnProperty;function RY(t){if(!ky(t))return L1t(t);var e=[];for(var r in Object(t))R1t.call(t,r)&&r!="constructor"&&e.push(r);return e}var u_=Qd(Yl,"DataView"),h_=Qd(Yl,"Promise"),gf=Qd(Yl,"Set"),d_=Qd(Yl,"WeakMap"),R9="[object Map]",D9="[object Promise]",O9="[object Set]",M9="[object WeakMap]",B9="[object DataView]",D1t=Zd(u_),O1t=Zd(Sm),M1t=Zd(h_),B1t=Zd(gf),P1t=Zd(d_),zh=Yc;(u_&&zh(new u_(new ArrayBuffer(1)))!=B9||Sm&&zh(new Sm)!=R9||h_&&zh(h_.resolve())!=D9||gf&&zh(new gf)!=O9||d_&&zh(new d_)!=M9)&&(zh=function(t){var e=Yc(t),r=e=="[object Object]"?t.constructor:void 0,n=r?Zd(r):"";if(n)switch(n){case D1t:return B9;case O1t:return R9;case M1t:return D9;case B1t:return O9;case P1t:return M9}return e});var E0=zh,F1t=Object.prototype.hasOwnProperty;function Gr(t){if(t==null)return!0;if(Xl(t)&&(Sr(t)||typeof t=="string"||typeof t.splice=="function"||T0(t)||u4(t)||k0(t)))return!t.length;var e=E0(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(ky(t))return!RY(t).length;for(var r in t)if(F1t.call(t,r))return!1;return!0}var nm="-moz-",Rs="-webkit-",DY="comm",w4="rule",EC="decl",z1t="@media",j1t="@import",H1t="@supports",U1t="@namespace",q1t="@keyframes",OY="@layer",MY=Math.abs,k4=String.fromCharCode,G1t=Object.assign;function W1t(t,e){return 45^So(t,0)?(((e<<2^So(t,0))<<2^So(t,1))<<2^So(t,2))<<2^So(t,3):0}function BY(t){return t.trim()}function PY(t,e){return(t=e.exec(t))?t[0]:t}function ha(t,e,r){return t.replace(e,r)}function FY(t,e,r){return t.indexOf(e,r)}function So(t,e){return 0|t.charCodeAt(e)}function _0(t,e,r){return t.slice(e,r)}function Ps(t){return t.length}function zY(t){return t.length}function dd(t,e){return e.push(t),t}function V1t(t,e){return t.map(e).join("")}function Id(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function _C(t,e,r,n){switch(t.type){case OY:if(t.children.length)break;case j1t:case U1t:case EC:return t.return=t.return||t.value;case DY:return"";case q1t:return t.return=t.value+"{"+Id(t.children,n)+"}";case w4:if(!Ps(t.value=t.props.join(",")))return""}return Ps(r=Id(t.children,n))?t.return=t.value+"{"+r+"}":""}var T4=1,S0=1,jY=0,Wa=0,Dn=0,dg="";function E4(t,e,r,n,i,o,a,s){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:T4,column:S0,length:a,return:"",siblings:s}}function xw(t,e){return G1t(E4("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Y1t(){return Dn}function X1t(){return Dn=Wa>0?So(dg,--Wa):0,S0--,Dn===10&&(S0=1,T4--),Dn}function ws(){return Dn=Wa<jY?So(dg,Wa++):0,S0++,Dn===10&&(S0=1,T4++),Dn}function Su(){return So(dg,Wa)}function Q2(){return Wa}function _4(t,e){return _0(dg,t,e)}function A0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HY(t){return T4=S0=1,jY=Ps(dg=t),Wa=0,[]}function UY(t){return dg="",t}function J2(t){return BY(_4(Wa-1,p_(t===91?t+2:t===40?t+1:t)))}function K1t(t){return UY(Q1t(HY(t)))}function Z1t(t){for(;(Dn=Su())&&Dn<33;)ws();return A0(t)>2||A0(Dn)>3?"":" "}function Q1t(t){for(;ws();)switch(A0(Dn)){case 0:dd(qY(Wa-1),t);break;case 2:dd(J2(Dn),t);break;default:dd(k4(Dn),t)}return t}function J1t(t,e){for(;--e&&ws()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return _4(t,Q2()+(e<6&&Su()==32&&ws()==32))}function p_(t){for(;ws();)switch(Dn){case t:return Wa;case 34:case 39:t!==34&&t!==39&&p_(Dn);break;case 40:t===41&&p_(t);break;case 92:ws()}return Wa}function tmt(t,e){for(;ws()&&t+Dn!==57&&(t+Dn!==84||Su()!==47););return"/*"+_4(e,Wa-1)+"*"+k4(t===47?t:ws())}function qY(t){for(;!A0(Su());)ws();return _4(t,Wa)}function SC(t){return UY(tb("",null,null,null,[""],t=HY(t),0,[0],t))}function tb(t,e,r,n,i,o,a,s,l){for(var u=0,h=0,d=a,p=0,f=0,g=0,m=1,y=1,v=1,x=0,b="",k=i,N=o,_=n,S=b;y;)switch(g=x,x=ws()){case 40:if(g!=108&&So(S,d-1)==58){FY(S+=ha(J2(x),"&","&\f"),"&\f",MY(u?s[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:S+=J2(x);break;case 9:case 10:case 13:case 32:S+=Z1t(g);break;case 92:S+=J1t(Q2()-1,7);continue;case 47:switch(Su()){case 42:case 47:dd(emt(tmt(ws(),Q2()),e,r,l),l),A0(g||1)!=5&&A0(Su()||1)!=5||!Ps(S)||_0(S,-1,void 0)===" "||(S+=" ");break;default:S+="/"}break;case 123*m:s[u++]=Ps(S)*v;case 125*m:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+h:v==-1&&(S=ha(S,/\f/g,"")),f>0&&(Ps(S)-d||m===0&&g===47)&&dd(f>32?F9(S+";",n,r,d-1,l):F9(ha(S," ","")+";",n,r,d-2,l),l);break;case 59:S+=";";default:if(dd(_=P9(S,e,r,u,h,i,s,b,k=[],N=[],d,o),o),x===123)if(h===0)tb(S,e,_,_,k,o,d,s,N);else{switch(p){case 99:if(So(S,3)===110)break;case 108:if(So(S,2)===97)break;default:h=0;case 100:case 109:case 115:}h?tb(t,_,_,n&&dd(P9(t,_,_,0,0,i,s,b,i,k=[],d,N),N),i,N,d,s,n?k:N):tb(S,_,_,_,[""],N,0,s,N)}}u=h=f=0,m=v=1,b=S="",d=a;break;case 58:d=1+Ps(S),f=g;default:if(m<1){if(x==123)--m;else if(x==125&&m++==0&&X1t()==125)continue}switch(S+=k4(x),x*m){case 38:v=h>0?1:(S+="\f",-1);break;case 44:s[u++]=(Ps(S)-1)*v,v=1;break;case 64:Su()===45&&(S+=J2(ws())),p=Su(),h=d=Ps(b=S+=qY(Q2())),x++;break;case 45:g===45&&Ps(S)==2&&(m=0)}}return o}function P9(t,e,r,n,i,o,a,s,l,u,h,d){for(var p=i-1,f=i===0?o:[""],g=zY(f),m=0,y=0,v=0;m<n;++m)for(var x=0,b=_0(t,p+1,p=MY(y=a[m])),k=t;x<g;++x)(k=BY(y>0?f[x]+" "+b:ha(b,/&\f/g,f[x])))&&(l[v++]=k);return E4(t,e,r,i===0?w4:s,l,u,h,d)}function emt(t,e,r,n){return E4(t,e,r,DY,k4(Y1t()),_0(t,2,-2),0,n)}function F9(t,e,r,n,i){return E4(t,e,r,EC,_0(t,0,n),_0(t,n+1,-1),n,i)}var rmt={id:"c4",detector:w(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>$It),void 0);return{id:"c4",diagram:t}},"loader")},z9="flowchart",nmt={id:z9,detector:w((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)!=="dagre-wrapper"&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)!=="elk"&&/^\s*graph/.test(t)},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>o8),void 0);return{id:z9,diagram:t}},"loader")},j9="flowchart-v2",imt={id:j9,detector:w((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)!=="dagre-d3"&&(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),!(!/^\s*graph/.test(t)||((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)!=="dagre-wrapper")||/^\s*flowchart/.test(t))},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>o8),void 0);return{id:j9,diagram:t}},"loader")},omt={id:"er",detector:w(t=>/^\s*erDiagram/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>zLt),void 0);return{id:"er",diagram:t}},"loader")},H9="gitGraph",amt={id:H9,detector:w(t=>/^\s*gitGraph/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>VPt),void 0);return{id:H9,diagram:t}},"loader")},U9="gantt",smt={id:U9,detector:w(t=>/^\s*gantt/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>Wjt),void 0);return{id:U9,diagram:t}},"loader")},q9="info",lmt={id:q9,detector:w(t=>/^\s*info/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>Xjt),void 0);return{id:q9,diagram:t}},"loader")},cmt={id:"pie",detector:w(t=>/^\s*pie/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>hHt),void 0);return{id:"pie",diagram:t}},"loader")},G9="quadrantChart",umt={id:G9,detector:w(t=>/^\s*quadrantChart/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>mHt),void 0);return{id:G9,diagram:t}},"loader")},W9="xychart",hmt={id:W9,detector:w(t=>/^\s*xychart-beta/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>CHt),void 0);return{id:W9,diagram:t}},"loader")},V9="requirement",dmt={id:V9,detector:w(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>QHt),void 0);return{id:V9,diagram:t}},"loader")},Y9="sequence",pmt={id:Y9,detector:w(t=>/^\s*sequenceDiagram/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>YUt),void 0);return{id:Y9,diagram:t}},"loader")},X9="class",fmt={id:X9,detector:w((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)!=="dagre-wrapper"&&/^\s*classDiagram/.test(t)},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>kqt),void 0);return{id:X9,diagram:t}},"loader")},K9="classDiagram",gmt={id:K9,detector:w((t,e)=>{var r;return!(!/^\s*classDiagram/.test(t)||((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)!=="dagre-wrapper")||/^\s*classDiagram-v2/.test(t)},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>Eqt),void 0);return{id:K9,diagram:t}},"loader")},Z9="state",mmt={id:Z9,detector:w((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)!=="dagre-wrapper"&&/^\s*stateDiagram/.test(t)},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>fGt),void 0);return{id:Z9,diagram:t}},"loader")},Q9="stateDiagram",ymt={id:Q9,detector:w((t,e)=>{var r;return!!/^\s*stateDiagram-v2/.test(t)||!(!/^\s*stateDiagram/.test(t)||((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)!=="dagre-wrapper")},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>mGt),void 0);return{id:Q9,diagram:t}},"loader")},J9="journey",vmt={id:J9,detector:w(t=>/^\s*journey/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>MGt),void 0);return{id:J9,diagram:t}},"loader")},GY={draw:w((t,e,r)=>{et.debug(`rendering svg for syntax error
`);const n=mh(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Ro(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw")},bmt=GY,xmt={db:{},renderer:GY,parser:{parse:w(()=>{},"parse")}},tI="flowchart-elk",wmt={id:tI,detector:w((t,e={})=>{var r;return!!(/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk")&&(e.layout="elk",!0)},"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>o8),void 0);return{id:tI,diagram:t}},"loader")},eI="timeline",kmt={id:eI,detector:w(t=>/^\s*timeline/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>eWt),void 0);return{id:eI,diagram:t}},"loader")},rI="mindmap",Tmt={id:rI,detector:w(t=>/^\s*mindmap/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>FXt),void 0);return{id:rI,diagram:t}},"loader")},nI="kanban",Emt={id:nI,detector:w(t=>/^\s*kanban/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>XXt),void 0);return{id:nI,diagram:t}},"loader")},iI="sankey",_mt={id:iI,detector:w(t=>/^\s*sankey-beta/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>IKt),void 0);return{id:iI,diagram:t}},"loader")},oI="packet",Smt={id:oI,detector:w(t=>/^\s*packet-beta/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>HKt),void 0);return{id:oI,diagram:t}},"loader")},aI="block",Amt={id:aI,detector:w(t=>/^\s*block-beta/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>YZt),void 0);return{id:aI,diagram:t}},"loader")},sI="architecture",Cmt={id:sI,detector:w(t=>/^\s*architecture/.test(t),"detector"),loader:w(async()=>{const{diagram:t}=await Ur(()=>Promise.resolve().then(()=>_Qt),void 0);return{id:sI,diagram:t}},"loader")},lI=!1,S4=w(()=>{lI||(lI=!0,Wb("error",xmt,t=>t.toLowerCase().trim()==="error"),Wb("---",{db:{clear:w(()=>{},"clear")},styles:{},renderer:{draw:w(()=>{},"draw")},parser:{parse:w(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:w(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),PU(rmt,Emt,gmt,fmt,omt,smt,lmt,cmt,dmt,pmt,wmt,imt,nmt,Tmt,kmt,amt,ymt,mmt,vmt,umt,_mt,Smt,hmt,Amt,Cmt))},"addDiagrams"),$mt=w(async()=>{et.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(v0).map(async([e,{detector:r,loader:n}])=>{if(n)try{CE(e)}catch{try{const{diagram:i,id:o}=await n();Wb(o,i,r)}catch(i){throw et.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete v0[e],i}}}))).filter(e=>e.status==="rejected");if(t.length>0){et.error(`Failed to load ${t.length} external diagrams`);for(const e of t)et.error(e);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams");function WY(t,e){t.attr("role","graphics-document document"),e!==""&&t.attr("aria-roledescription",e)}function VY(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}w(WY,"setA11yDiagramInfo"),w(VY,"addSVGa11yTitleDescription");var _d,f_=(_d=class{constructor(e,r,n,i,o){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=o}static async fromText(e,r={}){var u,h;const n=Nn(),i=NA(e,n);e=ugt(e)+`
`;try{CE(i)}catch{const d=iut(i);if(!d)throw new BU(`Diagram ${i} not found.`);const{id:p,diagram:f}=await d();Wb(p,f)}const{db:o,parser:a,renderer:s,init:l}=CE(i);return a.parser&&(a.parser.yy=o),(u=o.clear)==null||u.call(o),l==null||l(n),r.title&&((h=o.setDiagramTitle)==null||h.call(o,r.title)),await a.parse(e),new _d(i,e,o,a,s)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},w(_d,"Diagram"),_d),cI=[],Nmt=w(()=>{cI.forEach(t=>{t()}),cI=[]},"attachFunctions"),Imt=w(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function YY(t){const e=t.match(MU);if(!e)return{text:t,metadata:{}};let r=qA(e[1],{schema:UA})??{};r=typeof r!="object"||Array.isArray(r)?{}:r;const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}w(YY,"extractFrontMatter");var Lmt=w(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Rmt=w(t=>{const{text:e,metadata:r}=YY(t),{displayMode:n,title:i,config:o={}}=r;return n&&(o.gantt||(o.gantt={}),o.gantt.displayMode=n),{title:i,config:o,text:e}},"processFrontmatter"),Dmt=w(t=>{const e=dr.detectInit(t)??{},r=dr.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:tgt(t),directive:e}},"processDirectives");function AC(t){const e=Lmt(t),r=Rmt(e),n=Dmt(r.text),i=Xc(r.config,n.directive);return{code:t=Imt(n.text),title:r.title,config:i}}function XY(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}w(AC,"preprocessDiagram"),w(XY,"toBase64");var Omt=["foreignobject"],Mmt=["dominant-baseline"];function CC(t){const e=AC(t);return qb(),vut(e.config??{}),e}async function KY(t,e){S4();try{const{code:r,config:n}=CC(t);return{diagramType:(await QY(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}w(CC,"processAndSetConfigs"),w(KY,"parse");var uI=w((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Bmt=w((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const i=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(o=>{Gr(o.styles)||i.forEach(a=>{r+=uI(o.id,a,o.styles)}),Gr(o.textStyles)||(r+=uI(o.id,"tspan",((o==null?void 0:o.textStyles)||[]).map(a=>a.replace("color","fill"))))})}return r},"createCssStyles"),Pmt=w((t,e,r,n)=>{const i=Bmt(t,r),o=Mut(e,i,t.themeVariables);return Id(SC(`${n}{${o}}`),_C)},"createUserStyles"),Fmt=w((t="",e,r)=>{let n=t;return r||e||(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Dc(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),zmt=w((t="",e)=>{var r,n;return`<iframe style="width:100%;height:${(n=(r=e==null?void 0:e.viewBox)==null?void 0:r.baseVal)!=null&&n.height?e.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${XY(`<body style="margin:0">${t}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),hI=w((t,e,r,n,i)=>{const o=t.append("div");o.attr("id",r),n&&o.attr("style",n);const a=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&a.attr("xmlns:xlink",i),a.append("g"),t},"appendDivSvgG");function g_(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}w(g_,"sandboxedIframe");var jmt=w((t,e,r,n)=>{var i,o,a;(i=t.getElementById(e))==null||i.remove(),(o=t.getElementById(r))==null||o.remove(),(a=t.getElementById(n))==null||a.remove()},"removeExistingElements"),Hmt=w(async function(t,e,r){var E,$,I,L,O,B;S4();const n=CC(e);e=n.code;const i=Nn();et.debug(i),e.length>((i==null?void 0:i.maxTextSize)??5e4)&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const o="#"+t,a="i"+t,s="#"+a,l="d"+t,u="#"+l,h=w(()=>{const R=he(p?s:u).node();R&&"remove"in R&&R.remove()},"removeTempElements");let d=he("body");const p=i.securityLevel==="sandbox",f=i.securityLevel==="loose",g=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),p){const R=g_(he(r),a);d=he(R.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=he(r);hI(d,t,l,`font-family: ${g}`,"http://www.w3.org/1999/xlink")}else{if(jmt(document,t,l,a),p){const R=g_(he("body"),a);d=he(R.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=he("body");hI(d,t,l)}let m,y;try{m=await f_.fromText(e,{title:n.title})}catch(R){if(i.suppressErrorRendering)throw h(),R;m=await f_.fromText("error"),y=R}const v=d.select(u).node(),x=m.type,b=v.firstChild,k=b.firstChild,N=($=(E=m.renderer).getClasses)==null?void 0:$.call(E,e,m),_=Pmt(i,x,N,o),S=document.createElement("style");S.innerHTML=_,b.insertBefore(S,k);try{await m.renderer.draw(e,t,c_,m)}catch(R){throw i.suppressErrorRendering?h():bmt.draw(e,t,c_),R}const T=d.select(`${u} svg`),A=(L=(I=m.db).getAccTitle)==null?void 0:L.call(I),C=(B=(O=m.db).getAccDescription)==null?void 0:B.call(O);JY(x,T,A,C),d.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let D=d.select(u).node().innerHTML;if(et.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),D=Fmt(D,p,sn(i.arrowMarkerAbsolute)),p){const R=d.select(u+" svg").node();D=zmt(D,R)}else f||(D=y0.sanitize(D,{ADD_TAGS:Omt,ADD_ATTR:Mmt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Nmt(),y)throw y;return h(),{diagramType:x,svg:D,bindFunctions:m.db.bindFunctions}},"render");function ZY(t={}){var n;const e=Ti({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),mut(e),e!=null&&e.theme&&e.theme in Ac?e.themeVariables=Ac[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Ac.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?gut(e):HU();$A(r.logLevel),S4()}w(ZY,"initialize");var QY=w((t,e={})=>{const{code:r}=AC(t);return f_.fromText(r,e)},"getDiagramFromText");function JY(t,e,r,n){WY(e,t),VY(e,r,n,e.attr("id"))}w(JY,"addA11yInfo");var Ld=Object.freeze({render:Hmt,parse:KY,getDiagramFromText:QY,initialize:ZY,getConfig:Nn,setConfig:UU,getSiteConfig:HU,updateSiteConfig:yut,reset:w(()=>{qb()},"reset"),globalReset:w(()=>{qb(b0)},"globalReset"),defaultConfig:b0});$A(Nn().logLevel),qb(Nn());var Umt=w((t,e,r)=>{et.warn(t),uC(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),tX=w(async function(t={querySelector:".mermaid"}){try{await qmt(t)}catch(e){if(uC(e)&&et.error(e.str),ja.parseError&&ja.parseError(e),!t.suppressErrors)throw et.error("Use the suppressErrors option to suppress these errors"),e}},"run"),qmt=w(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=Ld.getConfig();let i;if(et.debug((t?"":"No ")+"Callback function found"),r)i=r;else{if(!e)throw new Error("Nodes and querySelector are both undefined");i=document.querySelectorAll(e)}et.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(et.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Ld.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const o=new dr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const s=[];for(const l of Array.from(i)){if(et.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${o.next()}`;a=l.innerHTML,a=UW(dr.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=dr.detectInit(a);h&&et.debug("Detected early reinit: ",h);try{const{svg:d,bindFunctions:p}=await iX(u,a,l);l.innerHTML=d,t&&await t(u),p&&p(l)}catch(d){Umt(d,s,ja.parseError)}}if(s.length>0)throw s[0]},"runThrowsErrors"),eX=w(function(t){Ld.initialize(t)},"initialize"),Gmt=w(async function(t,e,r){et.warn("mermaid.init is deprecated. Please use run instead."),t&&eX(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await tX(n)},"init"),Wmt=w(async(t,{lazyLoad:e=!0}={})=>{S4(),PU(...t),e===!1&&await $mt()},"registerExternalDiagrams"),rX=w(function(){if(ja.startOnLoad){const{startOnLoad:t}=Ld.getConfig();t&&ja.run().catch(e=>et.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",rX,!1);var Vmt=w(function(t){ja.parseError=t},"setParseErrorHandler"),bx=[],ww=!1,nX=w(async()=>{if(!ww){for(ww=!0;bx.length>0;){const t=bx.shift();if(t)try{await t()}catch(e){et.error("Error executing queue",e)}}ww=!1}},"executeQueue"),Ymt=w(async(t,e)=>new Promise((r,n)=>{const i=w(()=>new Promise((o,a)=>{Ld.parse(t,e).then(s=>{o(s),r(s)},s=>{var l;et.error("Error parsing",s),(l=ja.parseError)==null||l.call(ja,s),a(s),n(s)})}),"performCall");bx.push(i),nX().catch(n)}),"parse"),iX=w((t,e,r)=>new Promise((n,i)=>{const o=w(()=>new Promise((a,s)=>{Ld.render(t,e,r).then(l=>{a(l),n(l)},l=>{var u;et.error("Error parsing",l),(u=ja.parseError)==null||u.call(ja,l),s(l),i(l)})}),"performCall");bx.push(o),nX().catch(i)}),"render"),ja={startOnLoad:!0,mermaidAPI:Ld,parse:Ymt,render:iX,init:Gmt,run:tX,registerExternalDiagrams:Wmt,registerLayoutLoaders:IY,initialize:eX,parseError:void 0,contentLoaded:rX,setParseErrorHandler:Vmt,detectType:NA,registerIconPacks:_G},oX=ja;let Xmt=class{constructor(){this.CHAT_INSTRUCTIONS="",this.REALTIME_VOICE_INSTRUCTIONS="",this.apps={}}};const aX={ABOUT_TEXT:"Codicent APP SDK",ANONYMOUS_CODICENT:void 0,ANONYMOUS_TOKEN:void 0,API_BASE_URL:"https://codicent.com/",APP_BUTTONS:void 0,APP_CHAT_TEXT_PLACEHOLDER:void 0,APP_CHAT_TITLE:void 0,APP_CONFIG:new Xmt,APP_FOOTER_COLOR:void 0,APP_FOOTER_SELECTED_COLOR:void 0,APP_FOOTER_TEXT_COLOR:void 0,APP_HEADER_COLOR:void 0,APP_HEADER_ICON_URL:void 0,APP_HEADER_TEXT_COLOR:void 0,APP_ICON_URL:void 0,APP_LOG_CODICENT:"",APP_LOG_TOKEN:"",APP_MENU_TITLE:void 0,APP_NAME:void 0,APP_PREFIX:void 0,APP_SAVE_TITLE:void 0,APP_SEARCH_TITLE:void 0,APP_SLOGAN:void 0,APP_SPLASH_TEXT:void 0,APP_SPLASH_URL:void 0,APP_TEMPLATE:"",APP_TITLE:void 0,AUTH_REDIRECT_URL:void 0,AUTH0_AUDIENCE:"https://codicent.com/api",AUTH0_CLIENT_ID:"80STzWmmzN3Tgf76HgFRyv54keYmvnaw",AUTH0_DOMAIN:"auth.codicent.com",AUTH0_PROVIDER_SCOPE:"read:current_user update:current_user_metadata openid profile email",AUTH0_SCOPE:"read:current_user",AUTH0_USER_DOMAIN:void 0,BUTTON_ACTIVE_COLOR:void 0,BUTTON_BACKGROUND_COLOR:void 0,BUTTON_BORDER_RADIUS:void 0,BUTTON_HOVER_COLOR:void 0,BUTTON_TAG:"app-button",BUTTON_TEXT_COLOR:void 0,CHAT_BACKGROUND_IMAGE_URL:void 0,CHAT_BOT_BACKGROUND_COLOR:void 0,CHAT_BOT_TEXT_COLOR:void 0,CHAT_INSTRUCTIONS:void 0,CHAT_USER_BACKGROUND_COLOR:void 0,CHAT_USER_TEXT_COLOR:void 0,CHAT_WELCOME:"Welcome",COMPOSE_BACKGROUND_IMAGE_URL:void 0,COMPOSE_HIDE_LOCATION:void 0,COMPOSE_SIMPLE_ATTACH_FILE:void 0,DEFAULT_LANGUAGE:"en",HIDE_CHAT_BUTTON:!1,HIDE_MENU_BUTTON:!1,HIDE_REGISTER_BUTTON:!1,HIDE_SAVE_BUTTON:!1,HOME_BACKGROUND_IMAGE_URL:void 0,INDEX_TITLE:void 0,LOGBOOK_TAG_DEFINITIONS:{},LOGBOOK_TAGS:"[]",MENU_BACKGROUND_IMAGE_URL:void 0,MESSAGE_HIDE_BAR:!1,MODULE_VOICE:!1,PUBLIC_FLOW_CODICENT:void 0,REALTIME_VOICE_API_KEY:"",SEND_BUTTON_ROUND_BACKGROUND:!1,SHOW_CANVAS_BUTTON:!1,SHOW_CHAT_PROMPTS:!1,SHOW_HELP_BUTTON:!1,SHOW_LOGBOOK_BUTTON:!1,SHOW_MICROPHONE_BUTTON:!1,SHOW_SETTINGS_BUTTON:!1,SHOW_SNAP_BUTTON:!1,SHOW_VOICE_BUTTON:!1,STRIP_CUSTOMER_PORTAL:"",STRIPE_PRICE_ID:"",STRIPE_PUBLIC_KEY:"",SUBSCRIPTION_NEEDED:!1,THEME_WELCOME:void 0,USER_PREFIX:void 0,WELCOME_STATUS_PROMPT:"",SHOW_SEND_BUTTON_TEXT:!1,SHOW_SAVE_BUTTON_TEXT:!1,FORM_BACKGROUND_IMAGE_URL:void 0,AUTO_TRANSLATE:!0},Kmt=function(t){return new Proxy(t,{get:(e,r,n)=>Reflect.get(e,r,n)})}(aX);function Qt(t){return Kmt[t]}function iJt(t={}){for(const[e,r]of Object.entries(t))r!==void 0&&(aX[e]=r);oX.initialize({startOnLoad:!1})}let jh=class{static floatTo16BitPCM(e){const r=new ArrayBuffer(2*e.length),n=new DataView(r);let i=0;for(let o=0;o<e.length;o++,i+=2){let a=Math.max(-1,Math.min(1,e[o]));n.setInt16(i,a<0?32768*a:32767*a,!0)}return r}static mergeBuffers(e,r){const n=new Uint8Array(e.byteLength+r.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(r),e.byteLength),n.buffer}_packData(e,r){return[new Uint8Array([r,r>>8]),new Uint8Array([r,r>>8,r>>16,r>>24])][e]}pack(e,r){if(!(r!=null&&r.bitsPerSample))throw new Error('Missing "bitsPerSample"');if(!(r!=null&&r.channels))throw new Error('Missing "channels"');if(!(r!=null&&r.data))throw new Error('Missing "data"');const{bitsPerSample:n,channels:i,data:o}=r,a=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,i.length),this._packData(1,e),this._packData(1,e*i.length*n/8),this._packData(0,i.length*n/8),this._packData(0,n),"data",this._packData(1,i[0].length*i.length*n/8),o],s=new Blob(a,{type:"audio/mpeg"});return{blob:s,url:URL.createObjectURL(s),channelCount:i.length,sampleRate:e,duration:o.byteLength/(i.length*e*2)}}};globalThis.WavPacker=jh;const dI=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],Zmt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],zu=[],$C=[];for(let t=1;t<=8;t++)for(let e=0;e<dI.length;e++){const r=dI[e];zu.push(r/Math.pow(2,8-t)),$C.push(Zmt[e]+t)}const xx=[32,2e3],pI=zu.filter((t,e)=>zu[e]>xx[0]&&zu[e]<xx[1]),Qmt=$C.filter((t,e)=>zu[e]>xx[0]&&zu[e]<xx[1]);let NC=class sX{static getFrequencies(e,r,n,i="frequency",o=-100,a=-30){n||(n=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(n));const s=r/2,l=1/n.length*s;let u,h,d;if(i==="music"||i==="voice"){const f=i==="voice"?pI:zu,g=Array(f.length).fill(o);for(let m=0;m<n.length;m++){const y=m*l,v=n[m];for(let x=f.length-1;x>=0;x--)if(y>f[x]){g[x]=Math.max(g[x],v);break}}u=g,h=i==="voice"?pI:zu,d=i==="voice"?Qmt:$C}else u=Array.from(n),h=u.map((f,g)=>l*g),d=h.map(f=>`${f.toFixed(2)} Hz`);const p=u.map(f=>Math.max(0,Math.min((f-o)/(a-o),1)));return{values:new Float32Array(p),frequencies:h,labels:d}}constructor(e,r=null){if(this.fftResults=[],r){const{length:n,sampleRate:i}=r,o=new OfflineAudioContext({length:n,sampleRate:i}),a=o.createBufferSource();a.buffer=r;const s=o.createAnalyser();s.fftSize=8192,s.smoothingTimeConstant=.1,a.connect(s);const l=1/60,u=n/i,h=d=>{const p=l*d;p<u&&o.suspend(p).then(()=>{const f=new Float32Array(s.frequencyBinCount);s.getFloatFrequencyData(f),this.fftResults.push(f),h(d+1)}),d===1?o.startRendering():o.resume()};a.start(0),h(1),this.audio=e,this.context=o,this.analyser=s,this.sampleRate=i,this.audioBuffer=r}else{const n=new AudioContext,i=n.createMediaElementSource(e),o=n.createAnalyser();o.fftSize=8192,o.smoothingTimeConstant=.1,i.connect(o),o.connect(n.destination),this.audio=e,this.context=n,this.analyser=o,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(e="frequency",r=-100,n=-30){let i=null;if(this.audioBuffer&&this.fftResults.length){const o=this.audio.currentTime/this.audio.duration,a=Math.min(o*this.fftResults.length|0,this.fftResults.length-1);i=this.fftResults[a]}return sX.getFrequencies(this.analyser,this.sampleRate,i,e,r,n)}async resumeIfSuspended(){return this.context.state==="suspended"&&await this.context.resume(),!0}};globalThis.AudioAnalysis=NC;const Jmt=`
class StreamProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.hasStarted = false;
    this.hasInterrupted = false;
    this.outputBuffers = [];
    this.bufferLength = 128;
    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };
    this.writeOffset = 0;
    this.trackSampleOffsets = {};
    this.port.onmessage = (event) => {
      if (event.data) {
        const payload = event.data;
        if (payload.event === 'write') {
          const int16Array = payload.buffer;
          const float32Array = new Float32Array(int16Array.length);
          for (let i = 0; i < int16Array.length; i++) {
            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32
          }
          this.writeData(float32Array, payload.trackId);
        } else if (
          payload.event === 'offset' ||
          payload.event === 'interrupt'
        ) {
          const requestId = payload.requestId;
          const trackId = this.write.trackId;
          const offset = this.trackSampleOffsets[trackId] || 0;
          this.port.postMessage({
            event: 'offset',
            requestId,
            trackId,
            offset,
          });
          if (payload.event === 'interrupt') {
            this.hasInterrupted = true;
          }
        } else {
          throw new Error(\`Unhandled event "\${payload.event}"\`);
        }
      }
    };
  }

  writeData(float32Array, trackId = null) {
    let { buffer } = this.write;
    let offset = this.writeOffset;
    for (let i = 0; i < float32Array.length; i++) {
      buffer[offset++] = float32Array[i];
      if (offset >= buffer.length) {
        this.outputBuffers.push(this.write);
        this.write = { buffer: new Float32Array(this.bufferLength), trackId };
        buffer = this.write.buffer;
        offset = 0;
      }
    }
    this.writeOffset = offset;
    return true;
  }

  process(inputs, outputs, parameters) {
    const output = outputs[0];
    const outputChannelData = output[0];
    const outputBuffers = this.outputBuffers;
    if (this.hasInterrupted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else if (outputBuffers.length) {
      this.hasStarted = true;
      const { buffer, trackId } = outputBuffers.shift();
      for (let i = 0; i < outputChannelData.length; i++) {
        outputChannelData[i] = buffer[i] || 0;
      }
      if (trackId) {
        this.trackSampleOffsets[trackId] =
          this.trackSampleOffsets[trackId] || 0;
        this.trackSampleOffsets[trackId] += buffer.length;
      }
      return true;
    } else if (this.hasStarted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else {
      return true;
    }
  }
}

registerProcessor('stream_processor', StreamProcessor);
`,tyt=new Blob([Jmt],{type:"application/javascript"}),eyt=URL.createObjectURL(tyt);let lX=class{constructor({sampleRate:e=44100}={}){this.scriptSrc=eyt,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={}}async connect(){this.context=new AudioContext({sampleRate:this.sampleRate}),this.context.state==="suspended"&&await this.context.resume();try{await this.context.audioWorklet.addModule(this.scriptSrc)}catch(r){throw console.error(r),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const e=this.context.createAnalyser();return e.fftSize=8192,e.smoothingTimeConstant=.1,this.analyser=e,!0}getFrequencies(e="frequency",r=-100,n=-30){if(!this.analyser)throw new Error("Not connected, please call .connect() first");return NC.getFrequencies(this.analyser,this.sampleRate,null,e,r,n)}_start(){const e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.port.onmessage=r=>{const{event:n}=r.data;if(n==="stop")e.disconnect(),this.stream=null;else if(n==="offset"){const{requestId:i,trackId:o,offset:a}=r.data,s=a/this.sampleRate;this.trackSampleOffsets[i]={trackId:o,offset:a,currentTime:s}}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e,r="default"){if(typeof r!="string")throw new Error("trackId must be a string");if(this.interruptedTrackIds[r])return;let n;if(this.stream||this._start(),e instanceof Int16Array)n=e;else{if(!(e instanceof ArrayBuffer))throw new Error("argument must be Int16Array or ArrayBuffer");n=new Int16Array(e)}return this.stream.port.postMessage({event:"write",buffer:n,trackId:r}),n}async getTrackSampleOffset(e=!1){if(!this.stream)return null;const r=crypto.randomUUID();let n;for(this.stream.port.postMessage({event:e?"interrupt":"offset",requestId:r});!n;)n=this.trackSampleOffsets[r],await new Promise(o=>setTimeout(()=>o(),1));const{trackId:i}=n;return e&&i&&(this.interruptedTrackIds[i]=!0),n}async interrupt(){return this.getTrackSampleOffset(!0)}};globalThis.WavStreamPlayer=lX;const ryt=new Blob([`
class AudioProcessor extends AudioWorkletProcessor {

  constructor() {
    super();
    this.port.onmessage = this.receive.bind(this);
    this.initialize();
  }

  initialize() {
    this.foundAudio = false;
    this.recording = false;
    this.chunks = [];
  }

  /**
   * Concatenates sampled chunks into channels
   * Format is chunk[Left[], Right[]]
   */
  readChannelData(chunks, channel = -1, maxChannels = 9) {
    let channelLimit;
    if (channel !== -1) {
      if (chunks[0] && chunks[0].length - 1 < channel) {
        throw new Error(
          \`Channel \${channel} out of range: max \${chunks[0].length}\`
        );
      }
      channelLimit = channel + 1;
    } else {
      channel = 0;
      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);
    }
    const channels = [];
    for (let n = channel; n < channelLimit; n++) {
      const length = chunks.reduce((sum, chunk) => {
        return sum + chunk[n].length;
      }, 0);
      const buffers = chunks.map((chunk) => chunk[n]);
      const result = new Float32Array(length);
      let offset = 0;
      for (let i = 0; i < buffers.length; i++) {
        result.set(buffers[i], offset);
        offset += buffers[i].length;
      }
      channels[n] = result;
    }
    return channels;
  }

  /**
   * Combines parallel audio data into correct format,
   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]
   */
  formatAudioData(channels) {
    if (channels.length === 1) {
      // Simple case is only one channel
      const float32Array = channels[0].slice();
      const meanValues = channels[0].slice();
      return { float32Array, meanValues };
    } else {
      const float32Array = new Float32Array(
        channels[0].length * channels.length
      );
      const meanValues = new Float32Array(channels[0].length);
      for (let i = 0; i < channels[0].length; i++) {
        const offset = i * channels.length;
        let meanValue = 0;
        for (let n = 0; n < channels.length; n++) {
          float32Array[offset + n] = channels[n][i];
          meanValue += channels[n][i];
        }
        meanValues[i] = meanValue / channels.length;
      }
      return { float32Array, meanValues };
    }
  }

  /**
   * Converts 32-bit float data to 16-bit integers
   */
  floatTo16BitPCM(float32Array) {
    const buffer = new ArrayBuffer(float32Array.length * 2);
    const view = new DataView(buffer);
    let offset = 0;
    for (let i = 0; i < float32Array.length; i++, offset += 2) {
      let s = Math.max(-1, Math.min(1, float32Array[i]));
      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);
    }
    return buffer;
  }

  /**
   * Retrieves the most recent amplitude values from the audio stream
   * @param {number} channel
   */
  getValues(channel = -1) {
    const channels = this.readChannelData(this.chunks, channel);
    const { meanValues } = this.formatAudioData(channels);
    return { meanValues, channels };
  }

  /**
   * Exports chunks as an audio/wav file
   */
  export() {
    const channels = this.readChannelData(this.chunks);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const audioData = this.floatTo16BitPCM(float32Array);
    return {
      meanValues: meanValues,
      audio: {
        bitsPerSample: 16,
        channels: channels,
        data: audioData,
      },
    };
  }

  receive(e) {
    const { event, id } = e.data;
    let receiptData = {};
    switch (event) {
      case 'start':
        this.recording = true;
        break;
      case 'stop':
        this.recording = false;
        break;
      case 'clear':
        this.initialize();
        break;
      case 'export':
        receiptData = this.export();
        break;
      case 'read':
        receiptData = this.getValues();
        break;
      default:
        break;
    }
    // Always send back receipt
    this.port.postMessage({ event: 'receipt', id, data: receiptData });
  }

  sendChunk(chunk) {
    const channels = this.readChannelData([chunk]);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const rawAudioData = this.floatTo16BitPCM(float32Array);
    const monoAudioData = this.floatTo16BitPCM(meanValues);
    this.port.postMessage({
      event: 'chunk',
      data: {
        mono: monoAudioData,
        raw: rawAudioData,
      },
    });
  }

  process(inputList, outputList, parameters) {
    // Copy input to output (e.g. speakers)
    // Note that this creates choppy sounds with Mac products
    const sourceLimit = Math.min(inputList.length, outputList.length);
    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {
      const input = inputList[inputNum];
      const output = outputList[inputNum];
      const channelCount = Math.min(input.length, output.length);
      for (let channelNum = 0; channelNum < channelCount; channelNum++) {
        input[channelNum].forEach((sample, i) => {
          output[channelNum][i] = sample;
        });
      }
    }
    const inputs = inputList[0];
    // There's latency at the beginning of a stream before recording starts
    // Make sure we actually receive audio data before we start storing chunks
    let sliceIndex = 0;
    if (!this.foundAudio) {
      for (const channel of inputs) {
        sliceIndex = 0; // reset for each channel
        if (this.foundAudio) {
          break;
        }
        if (channel) {
          for (const value of channel) {
            if (value !== 0) {
              // find only one non-zero entry in any channel
              this.foundAudio = true;
              break;
            } else {
              sliceIndex++;
            }
          }
        }
      }
    }
    if (inputs && inputs[0] && this.foundAudio && this.recording) {
      // We need to copy the TypedArray, because the \`process\`
      // internals will reuse the same buffer to hold each input
      const chunk = inputs.map((input) => input.slice(sliceIndex));
      this.chunks.push(chunk);
      this.sendChunk(chunk);
    }
    return true;
  }
}

registerProcessor('audio_processor', AudioProcessor);
`],{type:"application/javascript"}),nyt=URL.createObjectURL(ryt);let m_=class{constructor({sampleRate:e=44100,outputToSpeakers:r=!1,debug:n=!1}={}){this.scriptSrc=nyt,this.sampleRate=e,this.outputToSpeakers=r,this.debug=!!n,this._deviceChangeCallback=null,this._devices=[],this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static async decode(e,r=44100,n=-1){const i=new AudioContext({sampleRate:r});let o,a;if(e instanceof Blob){if(n!==-1)throw new Error('Can not specify "fromSampleRate" when reading from Blob');a=e,o=await a.arrayBuffer()}else if(e instanceof ArrayBuffer){if(n!==-1)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');o=e,a=new Blob([o],{type:"audio/wav"})}else{let u,h;if(e instanceof Int16Array){h=e,u=new Float32Array(e.length);for(let p=0;p<e.length;p++)u[p]=e[p]/32768}else if(e instanceof Float32Array)u=e;else{if(!(e instanceof Array))throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');u=new Float32Array(e)}if(n===-1)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(n<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');h||(h=jh.floatTo16BitPCM(u));const d={bitsPerSample:16,channels:[u],data:h};a=new jh().pack(n,d).blob,o=await a.arrayBuffer()}const s=await i.decodeAudioData(o),l=s.getChannelData(0);return{blob:a,url:URL.createObjectURL(a),values:l,audioBuffer:s}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,r={},n=null){if(!(n=n||this.processor))throw new Error("Can not send events without recording first");const i={event:e,id:this._lastEventId++,data:r};n.port.postMessage(i);const o=new Date().valueOf();for(;!this.eventReceipts[i.id];){if(new Date().valueOf()-o>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(s=>setTimeout(()=>s(!0),1))}const a=this.eventReceipts[i.id];return delete this.eventReceipts[i.id],a}listenForDeviceChange(e){if(e===null&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(e!==null){let r=0,n=[];const i=a=>a.map(s=>s.deviceId).sort().join(","),o=async()=>{let a=++r;const s=await this.listDevices();a===r&&i(n)!==i(s)&&(n=s,e(s.slice()))};navigator.mediaDevices.addEventListener("devicechange",o),o(),this._deviceChangeCallback=o}return!0}async requestPermission(){const e=await navigator.permissions.query({name:"microphone"});if(e.state==="denied")window.alert("You must grant microphone access to use this feature.");else if(e.state==="prompt")try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(n=>n.stop())}catch{window.alert("You must grant microphone access to use this feature.")}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");await this.requestPermission();const e=(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="audioinput"),r=e.findIndex(i=>i.deviceId==="default"),n=[];if(r!==-1){let i=e.splice(r,1)[0],o=e.findIndex(a=>a.groupId===i.groupId);o!==-1&&(i=e.splice(o,1)[0]),i.default=!0,n.push(i)}return n.concat(e)}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw new Error("Could not request user media");try{const s={audio:!0};e&&(s.audio={deviceId:{exact:e}}),this.stream=await navigator.mediaDevices.getUserMedia(s)}catch{throw new Error("Could not start media stream")}const r=new AudioContext({sampleRate:this.sampleRate}),n=r.createMediaStreamSource(this.stream);try{await r.audioWorklet.addModule(this.scriptSrc)}catch(s){throw console.error(s),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const i=new AudioWorkletNode(r,"audio_processor");i.port.onmessage=s=>{const{event:l,id:u,data:h}=s.data;if(l==="receipt")this.eventReceipts[u]=h;else if(l==="chunk")if(this._chunkProcessorSize){const d=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:jh.mergeBuffers(d.raw,h.raw),mono:jh.mergeBuffers(d.mono,h.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(h)};const o=n.connect(i),a=r.createAnalyser();return a.fftSize=8192,a.smoothingTimeConstant=.1,o.connect(a),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),a.connect(r.destination)),this.source=n,this.node=o,this.analyser=a,this.processor=i,!0}getFrequencies(e="frequency",r=-100,n=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return NC.getFrequencies(this.analyser,this.sampleRate,null,e,r,n)}async pause(){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!this.recording)throw new Error("Already paused: please call .record() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},r=8192){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(this.recording)throw new Error("Already recording: please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function");return this._chunkProcessor=e,this._chunkProcessorSize=r,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const r=await this._event("export");return new jh().pack(this.sampleRate,r.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.stream.getTracks().forEach(n=>n.stop()),this.log("Exporting ...");const r=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new jh().pack(this.sampleRate,r.audio)}async quit(){return this.listenForDeviceChange(null),this.processor&&await this.end(),!0}};globalThis.WavRecorder=m_;var fI;let an="https://codicent.com/",Hp="-";const cX=()=>window.Codicent!==void 0&&(window.Codicent.init({token:Hp,baseUrl:an}),!0);let kw=cX();if(!kw){const t=setInterval(()=>{kw=cX(),kw&&clearInterval(t)},100)}let Cl=class{constructor(e){this.getAppTheme=async()=>{try{const r=await window.Codicent.getDataMessages({tags:["app-theme"],codicent:this.codicent});return r.length>0?r[0].data:null}catch(r){return console.error("Error fetching app theme:",r),null}},this.getAppButtons=async()=>{const r=(await window.Codicent.getDataMessages({tags:[this.options.BUTTON_TAG],codicent:this.codicent})).map(n=>n.data);return r.sort((n,i)=>n.title>i.title?1:-1),r},this.getAppTasks=async()=>(await window.Codicent.getMessages({search:`@${this.codicent} #app-task`,length:50})).map(r=>{const n=new ua(r.content).content.split(`
`),i=n[0],o=n.slice(1).join(`
`);return{id:r.id,title:i,content:o}}),this.getAppPrompts=async()=>(await window.Codicent.getDataMessages({tags:["chatprompt"],codicent:this.codicent})).map(r=>r.data).map(({title:r,prompt:n})=>({title:r,prompt:n})),this.uploadFile=async(r,n)=>await window.Codicent.upload(n,r),this.getFileInfo=async r=>await window.Codicent.getFileInfo(r),this.sendMessage=(r,n)=>window.Codicent.postMessage({message:`@${this.codicent} ${r}`,type:"text",parentId:n}),this.chat=(r,n)=>window.Codicent.getChatReply3({message:r,codicent:this.codicent,messageId:n}),this.getMessagesFast=async(r,n,i=100,o=void 0)=>{const a=await fetch(`${an}app/AppGetMessages`,{method:"POST",headers:[["Authorization",`Bearer ${this.getToken()}`],["Content-Type","application/json; charset=utf-8"]],body:JSON.stringify({tags:r,codicent:this.codicent,search:n,length:i})});if(!a.ok)throw a.status,new Error(`${a.statusText}`);let s=await a.json();if(s.forEach(l=>{l.createdAt=new Date(Date.parse(l.createdAt))}),o){const l=await this.getPublicFlow(o);s=s.concat(l),s.sort((u,h)=>h.createdAt.getTime()-u.createdAt.getTime())}return s},this.getMessages=async(r,n)=>{let i=[];for(const o of r){const a=await window.Codicent.getMessages({search:`@${this.codicent} #${o}`,length:10});o==="chat"&&a.forEach(s=>s.content=`#chat
${s.content}`),i=i.concat(a)}if(n)try{const o=await this.getPublicFlow(n);i=i.concat(o)}catch(o){console.warn("Error fetching public flow, PUBLIC_TAG missing in codicent?",o)}return i=i.filter((o,a,s)=>a===s.findIndex(l=>l.id===o.id)),i.sort((o,a)=>a.createdAt.getTime()-o.createdAt.getTime()),i},this.registerUser=async(r,n,i,o)=>{const a=await fetch(`${an}app/RegisterAuth0User`,{method:"POST",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${o}`]],body:JSON.stringify({nickname:r,email:n,userId:i})});if(!a.ok)return"";const s=await a.text();return window.Codicent.init({token:o,baseUrl:an}),s},this.loginUser=async(r,n)=>{try{const i=await fetch(`${an}app/LoginAuth0User`,{method:"POST",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${n}`]],body:JSON.stringify({userId:r})});if(!i.ok)return i.status===404||i.status===400||i.status===401?null:"";const o=await i.text();return this.setToken(o),o}catch(i){return console.warn("Error logging in user:",i),""}},this.nicknameExists=async r=>{const n=await fetch(`${an}app/NicknameExists?nickname=${encodeURIComponent(r)}`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"]]});return n.ok?await n.json():!1},this.logout=()=>{this.setToken("")},this.isRegistered=()=>localStorage.getItem("codicent_nickname")!==null,this.getApps=async()=>{try{const r=await fetch(`${an}app/AppGetApps`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]});if(!r.ok)throw r.status,new Error(`${r.statusText}`);return(await r.json()).filter((i,o,a)=>o===a.findIndex(s=>s.id===i.id)&&(this.options.APP_NAME||i.id.startsWith(this.options.APP_PREFIX)))}catch(r){return console.warn("Error fetching apps:",r),null}},this.addFollower=async(r,n)=>{const i=await fetch(`${an}app/AddFollower?nickname=${r}&followerNickname=${n}`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]]});if(!i.ok)throw i.status,new Error(`${i.statusText||"Failed to add follower!"}`);return await i.json()},this.cloneProject=async(r,n)=>{const i=await fetch(`${an}app/CloneProject?project=${r}&newProject=${n}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]});if(!i.ok)throw i.status,new Error(`${i.statusText}`);let o=await i.json();if(o){const a=`#data #app-theme 
{
  "textcolor": "#212121",
  "backgroundcolor": "#273044",
  "color": "#ffffff",
  "logo": "https://codicent.com/logo512.png",
  "title": "",
  "themeColor": "#581d71",
  "buttonColor": "#c0c0c0",
  "buttonTextColor": "#000000",
  "font": "Montserrat",
  "welcome": "Hej {{username}}!",
  "chatPlaceholder": "Tjena, Loociz här! Vad vill du?",
  "textPlaceholder": "Skriv det du vill spara, så tar jag (Loociz alltså) hand om det!",
  "transcriptionInstructions": "Tryck på knappen för att start och sedan stoppa ljudinspelning."
}`;try{await window.Codicent.postMessage({message:`@${n} ${a}`,type:"text"})||(o=!1)}catch{o=!1}if(o){const s=`#data #app-button
{
  "title": "Ta fram företagsinfo",
  "url": "/#/chat?text=Hej!%20Jag%20vill%20spara%20f%C3%B6retagsinfo.%20Guida%20mig%20steg%20f%C3%B6r%20steg%2C%20ett%20i%20taget%2C%20tills%20vi%20har%20all%20info%20om%20mitt%20f%C3%B6retag.%20Exempel%20p%C3%A5%20data%3A%20f%C3%B6retagsnamn%20eller%20id%C3%A9namn%2C%20org.nr.%2C%20%C3%A4gare%2C%20kontaktinformation%2C%20vision%2C%20aff%C3%A4rsid%C3%A9%2C%20mm."
}`;try{await window.Codicent.postMessage({message:`@${n} ${s}`,type:"text"})||(o=!1)}catch{o=!1}}}return o},this.getNickname=async()=>{try{const r=Hp.split(".")[1],n=atob(r),i=JSON.parse(n),o=i.sub||i.userId,a=await fetch(`${an}app/GetNickname?userId=${o}`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]]});if(!a.ok)throw a.status===401?new Error("Unauthorized"):new Error(`${a.statusText}`);return await a.text()}catch{return""}},this.getChatInstructions=async()=>{try{const r=await window.Codicent.getMessages({search:`@${this.codicent} #instructions`,length:1});if(r.length>0)return r[0].content}catch{console.warn("Error fetching chat instructions")}return""},this.updateChatInstructions=async r=>{try{const n=await window.Codicent.getMessages({search:`@${this.codicent} #instructions`,length:100}),i=`@${this.codicent} #instructions
${r}`;n.length>0?n[0].content!==i&&(console.log("updating instructions",i),await window.Codicent.postMessage({message:i,type:"text",parentId:n[0].id})):(console.log("new instructions",i),await window.Codicent.postMessage({message:i,type:"text"}))}catch{console.warn("Error updating chat instructions")}},this.getUserInfo=async(r,n=!1)=>{const i=await fetch(`${an}/app/GetUserInfo?nickname=${r}${n?"&t="+Date.now():""}`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]]});if(!i.ok)throw i.status===401?new Error("Unauthorized"):new Error(`${i.statusText}`);const o=await i.json(),{email:a,picture:s,description:l,followers:u,properties:h}=o;return{nickname:r,email:a,name:l,picture:s,followers:u,properties:h}},this.updateUserInfo=async({nickname:r,email:n,name:i,picture:o})=>{const a=await fetch(`${an}/app/AddOrUpdateUser`,{method:"POST",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]],body:JSON.stringify({nickname:r,email:n,name:i,picture:o,description:""})});if(!a.ok)throw a.status,new Error(`${a.statusText}`);return await this.getUserInfo(r,!0)},this.requestInvite=async(r,n)=>{const i=await fetch(`${an}/app/CreateInvitationOrRequest?forUserNickname=${r}&toProjectNickname=${n}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]});return!!i.ok||(console.warn(`requestInvite() => ${i.statusText}`),!1)},this.getProjectInfo=this.getUserInfo,this.updateMembersAccess=async(r,n)=>{const i=await fetch(`${an}/app/AddOrUpdateProjectProperty?project=${r}&key=APP_EDITORS&value=${n.join(",")}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]});return!!i.ok||(console.warn(`updateMembersAccess() => ${i.statusText}`),!1)},this.getMembersAccess=async r=>{const n=(await this.getProjectInfo(r,!0)).properties.find(i=>i.name==="APP_EDITORS");return n&&n.value?n.value.split(","):[]},this.setToken=r=>{Hp=r,Hp&&window.Codicent.init({token:Hp,baseUrl:an})},this.getToken=()=>Hp,this.checkPurchaseStatus=async()=>{const r=await fetch(`${an}payments/GetPaymentStatus`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]]});if(!r.ok)throw new Error("Failed to check purchase status");const{isPaid:n}=await r.json();return n},this.checkSubscriptionStatus=async()=>{if(!this.options.SUBSCRIPTION_NEEDED)return"active";const r=await fetch(`${an}payments/GetSubscriptionStatus?t=${Date.now()}`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`],["Cache-Control","no-cache, no-store, must-revalidate"],["Pragma","no-cache"],["Expires","0"]]});if(!r.ok)throw new Error("Failed to check subscription status");const{status:n}=await r.json();return n},this.createCheckoutSession=async r=>{const n=await fetch(`${an}payments/CreateCheckoutSession`,{method:"POST",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]],body:JSON.stringify({priceId:r,successUrl:window.location.href,cancelUrl:window.location.href})});if(!n.ok)throw new Error("Failed to create checkout session");const{id:i}=await n.json();return i},this.redirectToCheckout=async r=>{const n=await kct(this.options.STRIPE_PUBLIC_KEY);if(!n)throw new Error("Stripe failed to load");const i=await this.createCheckoutSession(r),{error:o}=await n.redirectToCheckout({sessionId:i});if(o)throw new Error(o.message)},this.getChatHistory=async r=>{const n=await fetch(`${an}api/GetMessageHistory?messageId=${r}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]});if(!n.ok)throw new Error("Failed to get chat history");let i=await n.json();return i=i.filter(o=>!o.content.includes("#function_result")&&!o.content.includes("#finish_reason_function_call")),i},this.getPublicFlow=async r=>{const n=await fetch(`${an}/app/GetPublicFlow?codicent=${r}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]});if(!n.ok)throw new Error("Failed to get public flow");const i=await n.json();return i.forEach(o=>{o.createdAt=new Date(Date.parse(o.createdAt))}),i},this.getMessageContent=async r=>{const n=await fetch(`${an}app/GetMessageContent?id=${r}`,{method:"GET",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.getToken()}`]]});if(n.ok){const i=await n.json();return{content:i.content,url:i.url}}return{content:"",url:""}},this.logAction=async(r,n)=>{if(!this.options.APP_LOG_CODICENT)return"";const i={content:`@${this.options.APP_LOG_CODICENT} #debug #${n}
${r}`,type:"text"},o=await fetch(`${an}app/AddChatMessage`,{method:"POST",headers:[["Content-Type","application/json; charset=utf-8"],["Authorization",`Bearer ${this.options.APP_LOG_TOKEN}`]],body:JSON.stringify(i)});if(!o.ok)throw new Error(`${o.statusText||"Failed to post log message!"}`);return(await o.json()).id},this.createApp=async()=>{try{for(let r=0;r<50;r++){const n=Math.floor(99999*Math.random())+1,i=`${this.options.APP_PREFIX}${n}`;if(!await this.nicknameExists(i)){if(!await this.cloneProject(this.options.APP_TEMPLATE,i)){if(this.options.ANONYMOUS_TOKEN)try{const o=this.options.ANONYMOUS_TOKEN.split(".")[1],a=atob(o),s=JSON.parse(a).nickname;if(!await this.addFollower(i,s))throw new Error("Failed to add follower: "+s)}catch(o){console.error("Error extracting adding anonymous follower:",o)}return null}return i}}}catch(r){console.error("Error creating app:",r)}return null},this.findUsername=async()=>{try{for(let r=0;r<50;r++){const n=Math.floor(99999*Math.random())+1,i=`${this.options.USER_PREFIX}${n}`;if(!await this.nicknameExists(i))return i}}catch(r){console.warn("Error finding username:",r)}return null},this.getForms=async()=>await(await fetch(`${an}app/GetForms?codicent=${this.codicent}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]})).json(),this.getFormById=async r=>await(await fetch(`${an}app/GetFormById?id=${r}`,{method:"GET",headers:[["Authorization",`Bearer ${this.getToken()}`]]})).json(),this.codicent="",this.options=e}};fI=Cl,Cl.getImageUrl=(t,e)=>`${an}app/GetImage?fileId=${t}&width=${e}`,Cl.getFileUrl=(t,e)=>`${an}app/DownloadFile?fileId=${t}${e?`&extension=${e}`:""}`,Cl.downloadFile=async t=>{fetch(fI.getFileUrl(t.id)).then(e=>{if(e.headers.forEach((r,n)=>{console.log(`${n}: ${r}`)}),e.ok)return e.blob();throw new Error("Network response was not ok.")}).then(e=>{const r=window.URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=r,n.download=t.filename,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r)}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})},Cl.getMiniChatReply=async(t,e="codicent-mini",r)=>{const n=await fetch(`${an}app/GetAi2ChatReply?message=${t}&project=${e}${r?"&messageId="+r:""}`,{method:"GET",headers:[["Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjJlMTliNjNmLWQxNDgtNGRmMi04MzMxLTZlZGE3ZTQzNjQ1ZCIsIm5pY2tuYW1lIjoiam9oYW4iLCJuYW1lIjoiSm9oYW4gSXNha3Nzb24iLCJ1c2VySWQiOiIyZTE5YjYzZi1kMTQ4LTRkZjItODMzMS02ZWRhN2U0MzY0NWQiLCJwcm9qZWN0IjoiY29kaWNlbnQtbWluaSIsIm5iZiI6MTczNjkzMjcyOCwiZXhwIjoxNzY4NDY4NzI4LCJpYXQiOjE3MzY5MzI3Mjh9.l2J7GgfU01iihdud7QP1aYBCM3NgxxqiM4VrplLO1s0"]]});return n.ok?(await n.json()).content.replace("@codicent-mini","").trim():void n.status};const iyt=({chart:t})=>{const e=Z.useRef(null);return Z.useEffect(()=>{e.current&&(async()=>{try{const r=`mermaid-${Math.random().toString(36).substring(2,11)}`,n=await oX.render(r,t);e.current&&(e.current.innerHTML=n.svg)}catch(r){console.error("Mermaid Error:",r)}})()},[t]),bt.jsx("div",{ref:e})};function oyt(){return typeof window<"u"&&!(!window.document||!window.document.createElement)}const gI=Z.useInsertionEffect?Z.useInsertionEffect:void 0,IC=()=>{const t={};return function(e,r){gI&&oyt()?gI(()=>{e.insertCSSRules(r)},[e,r]):t[e.id]===void 0&&(e.insertCSSRules(r),t[e.id]=!0)}},Tw=typeof window>"u"?global:window,Ew="@griffel/";function uX(t,e){return Tw[Symbol.for(Ew+t)]||(Tw[Symbol.for(Ew+t)]=e),Tw[Symbol.for(Ew+t)]}uX("DEBUG_RESET_CLASSES",{});const y_=uX("DEFINITION_LOOKUP_TABLE",{}),A1="data-make-styles-bucket",ayt="data-priority",v_="f",mI=7,hX="___",syt=10,lyt=0,cyt=1,uyt={all:1,borderColor:1,borderStyle:1,borderWidth:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1},b_="DO_NOT_USE_DIRECTLY: @griffel/reset-value";function Nm(t){for(var e,r=0,n=0,i=t.length;i>=4;++n,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+(59797*(e>>>16)<<16),r=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&t.charCodeAt(n+2))<<16;case 2:r^=(255&t.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}function hyt(t){const e=t.length;if(e===mI)return t;for(let r=e;r<mI;r++)t+="0";return t}function dX(t,e,r=[]){return hX+hyt(Nm(t+e))}function pX(t,e){let r="",n="";for(const i in t){const o=t[i];if(o===0){n+=i+" ";continue}const a=Array.isArray(o),s=e==="rtl"?(a?o[1]:o)+" ":(a?o[0]:o)+" ";r+=s,n+=s}return[r.slice(0,-1),n.slice(0,-1)]}function wx(t,e){const r={};for(const n in t){const[i,o]=pX(t[n],e);if(o===""){r[n]="";continue}const a=dX(o,e),s=a+(i===""?"":" "+i);y_[a]=[t[n],e],r[n]=s}return r}const yI={};function Ee(){let t=null,e="",r="";const n=new Array(arguments.length);for(let d=0;d<arguments.length;d++){const p=arguments[d];if(typeof p=="string"&&p!==""){const f=p.indexOf(hX);if(f===-1)e+=p+" ";else{const g=p.substr(f,syt);f>0&&(e+=p.slice(0,f)),r+=g,n[d]=g}}}if(r==="")return e.slice(0,-1);const i=yI[r];if(i!==void 0)return e+i;const o=[];for(let d=0;d<arguments.length;d++){const p=n[d];if(p){const f=y_[p];f&&(o.push(f[lyt]),t=f[cyt])}}const a=Object.assign.apply(Object,[{}].concat(o)),[s,l]=pX(a,t),u=dX(l,t,n),h=u+" "+s;return yI[r]=h,y_[u]=[a,t],e+h}(()=>{var t;try{return!!(typeof window<"u"&&(!((t=window.sessionStorage)===null||t===void 0)&&t.getItem("__GRIFFEL_DEVTOOLS__")))}catch{return!1}})();function dyt(t){return Array.isArray(t)?t:[t]}function pyt(t,e,r,n){const i=[];if(n[A1]=e,n[ayt]=String(r),t)for(const o in n)t.setAttribute(o,n[o]);return{elementAttributes:n,insertRule:function(o){return t!=null&&t.sheet?t.sheet.insertRule(o,t.sheet.cssRules.length):i.push(o)},element:t,bucketName:e,cssRules:()=>t!=null&&t.sheet?Array.from(t.sheet.cssRules).map(o=>o.cssText):i}}const fyt=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"],vI=fyt.reduce((t,e,r)=>(t[e]=r,t),{});function gyt(t,e,r){return(t==="m"?t+e:t)+r}function myt(t,e,r,n,i={}){var o,a;const s=t==="m",l=(o=i.m)!==null&&o!==void 0?o:"0",u=(a=i.p)!==null&&a!==void 0?a:0,h=gyt(t,l,u);if(!n.stylesheets[h]){const d=e&&e.createElement("style"),p=pyt(d,t,u,Object.assign({},n.styleElementAttributes,s&&{media:l}));n.stylesheets[h]=p,e&&d&&e.head.insertBefore(d,function(f,g,m,y,v={}){var x,b;const k=vI[m],N=(x=v.m)!==null&&x!==void 0?x:"",_=(b=v.p)!==null&&b!==void 0?b:0;let S=E=>k-vI[E.getAttribute(A1)],T=f.head.querySelectorAll(`[${A1}]`);if(m==="m"){const E=f.head.querySelectorAll(`[${A1}="${m}"]`);E.length&&(T=E,S=$=>y.compareMediaQueries(N,$.media))}const A=E=>function($,I,L){var O,B;const R=I+((O=L.m)!==null&&O!==void 0?O:""),M=$.getAttribute(A1)+((B=$.media)!==null&&B!==void 0?B:"");return R===M}(E,m,v)?_-Number(E.getAttribute("data-priority")):S(E),C=T.length;let D=C-1;for(;D>=0;){const E=T.item(D);if(A(E)>0)return E.nextSibling;D--}return C>0?T.item(0):g?g.nextSibling:null}(e,r,t,n,i))}return n.stylesheets[h]}function bI(t,e){try{t.insertRule(e)}catch{}}let yyt=0;const vyt=(t,e)=>t<e?-1:t>e?1:0;function byt(t=typeof document>"u"?void 0:document,e={}){const{classNameHashSalt:r,unstable_filterCSSRule:n,insertionPoint:i,styleElementAttributes:o,compareMediaQueries:a=vyt}=e,s={classNameHashSalt:r,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(o),compareMediaQueries:a,id:"d"+yyt++,insertCSSRules(l){for(const u in l){const h=l[u];for(let d=0,p=h.length;d<p;d++){const[f,g]=dyt(h[d]),m=myt(u,t,i||null,s,g);s.insertionCache[f]||(s.insertionCache[f]=u,n?n(f)&&bI(m,f):bI(m,f))}}}};return s}const xyt=Z.createContext(byt());function LC(){return Z.useContext(xyt)}const wyt=Z.createContext("ltr");function RC(){return Z.useContext(wyt)}const DC=()=>{const t={};return function(e,r){t[e.id]===void 0&&(e.insertCSSRules(r),t[e.id]=!0)}};function fX(t){return t.reduce(function(e,r){var n=r[0],i=r[1];return e[n]=i,e[i]=n,e},{})}function kyt(t){return typeof t=="boolean"}function Tyt(t){return typeof t=="function"}function C1(t){return typeof t=="number"}function Eyt(t){return t==null}function _yt(t){return t&&typeof t=="object"}function Syt(t){return typeof t=="string"}function eb(t,e){return t.indexOf(e)!==-1}function Ayt(t){return parseFloat(t)===0?t:t[0]==="-"?t.slice(1):"-"+t}function $v(t,e,r,n){return e+Ayt(r)+n}function Cyt(t){var e=t.indexOf(".");if(e===-1)t=100-parseFloat(t)+"%";else{var r=t.length-e-2;t=(t=100-parseFloat(t)).toFixed(r)+"%"}return t}function gX(t){return t.replace(/ +/g," ").split(" ").map(function(e){return e.trim()}).filter(Boolean).reduce(function(e,r){var n=e.list,i=e.state,o=(r.match(/\(/g)||[]).length,a=(r.match(/\)/g)||[]).length;return i.parensDepth>0?n[n.length-1]=n[n.length-1]+" "+r:n.push(r),i.parensDepth+=o-a,{list:n,state:i}},{list:[],state:{parensDepth:0}}).list}function xI(t){var e=gX(t);if(e.length<=3||e.length>4)return t;var r=e[0],n=e[1],i=e[2];return[r,e[3],i,n].join(" ")}function $yt(t){return!kyt(t)&&!Eyt(t)}function Nyt(t){for(var e=[],r=0,n=0,i=!1;n<t.length;)i||t[n]!==","?t[n]==="("?(i=!0,n++):(t[n]===")"&&(i=!1),n++):(e.push(t.substring(r,n).trim()),r=++n);return r!=n&&e.push(t.substring(r,n+1)),e}var ee={padding:function(t){var e=t.value;return C1(e)?e:xI(e)},textShadow:function(t){return Nyt(t.value).map(function(e){return e.replace(/(^|\s)(-*)([.|\d]+)/,function(r,n,i,o){return o==="0"?r:""+n+(i===""?"-":"")+o})}).join(",")},borderColor:function(t){return xI(t.value)},borderRadius:function(t){var e=t.value;if(C1(e))return e;if(eb(e,"/")){var r=e.split("/"),n=r[0],i=r[1];return ee.borderRadius({value:n.trim()})+" / "+ee.borderRadius({value:i.trim()})}var o=gX(e);switch(o.length){case 2:return o.reverse().join(" ");case 4:var a=o[0],s=o[1],l=o[2];return[s,a,o[3],l].join(" ");default:return e}},background:function(t){var e=t.value,r=t.valuesToConvert,n=t.isRtl,i=t.bgImgDirectionRegex,o=t.bgPosDirectionRegex;if(C1(e))return e;var a=e.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return e=e.replace(a,ee.backgroundPosition({value:a,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:o})),ee.backgroundImage({value:e,valuesToConvert:r,bgImgDirectionRegex:i})},backgroundImage:function(t){var e=t.value,r=t.valuesToConvert,n=t.bgImgDirectionRegex;return eb(e,"url(")||eb(e,"linear-gradient(")?e.replace(n,function(i,o,a){return i.replace(a,r[a])}):e},backgroundPosition:function(t){var e=t.value,r=t.valuesToConvert,n=t.isRtl,i=t.bgPosDirectionRegex;return e.replace(n?/^((-|\d|\.)+%)/:null,function(o,a){return Cyt(a)}).replace(i,function(o){return r[o]})},backgroundPositionX:function(t){var e=t.value,r=t.valuesToConvert,n=t.isRtl,i=t.bgPosDirectionRegex;return C1(e)?e:ee.backgroundPosition({value:e,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:i})},transition:function(t){var e=t.value,r=t.propertiesToConvert;return e.split(/,\s*/g).map(function(n){var i=n.split(" ");return i[0]=r[i[0]]||i[0],i.join(" ")}).join(", ")},transitionProperty:function(t){var e=t.value,r=t.propertiesToConvert;return e.split(/,\s*/g).map(function(n){return r[n]||n}).join(", ")},transform:function(t){var e=t.value,r="[^\\u0020-\\u007e]",n="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",i="((?:-?(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|"+r+"|"+n+")(?:[_a-z0-9-]|"+r+"|"+n+")*)?)|(?:inherit|auto))",o=new RegExp("(translateX\\s*\\(\\s*)"+i+"(\\s*\\))","gi"),a=new RegExp("(translate\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,1}\\s*\\))","gi"),s=new RegExp("(translate3d\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,2}\\s*\\))","gi"),l=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+i+"(\\s*\\))","gi");return e.replace(o,$v).replace(a,$v).replace(s,$v).replace(l,$v)}};ee.objectPosition=ee.backgroundPosition,ee.margin=ee.padding,ee.borderWidth=ee.padding,ee.boxShadow=ee.textShadow,ee.webkitBoxShadow=ee.boxShadow,ee.mozBoxShadow=ee.boxShadow,ee.WebkitBoxShadow=ee.boxShadow,ee.MozBoxShadow=ee.boxShadow,ee.borderStyle=ee.borderColor,ee.webkitTransform=ee.transform,ee.mozTransform=ee.transform,ee.WebkitTransform=ee.transform,ee.MozTransform=ee.transform,ee.transformOrigin=ee.backgroundPosition,ee.webkitTransformOrigin=ee.transformOrigin,ee.mozTransformOrigin=ee.transformOrigin,ee.WebkitTransformOrigin=ee.transformOrigin,ee.MozTransformOrigin=ee.transformOrigin,ee.webkitTransition=ee.transition,ee.mozTransition=ee.transition,ee.WebkitTransition=ee.transition,ee.MozTransition=ee.transition,ee.webkitTransitionProperty=ee.transitionProperty,ee.mozTransitionProperty=ee.transitionProperty,ee.WebkitTransitionProperty=ee.transitionProperty,ee.MozTransitionProperty=ee.transitionProperty,ee["text-shadow"]=ee.textShadow,ee["border-color"]=ee.borderColor,ee["border-radius"]=ee.borderRadius,ee["background-image"]=ee.backgroundImage,ee["background-position"]=ee.backgroundPosition,ee["background-position-x"]=ee.backgroundPositionX,ee["object-position"]=ee.objectPosition,ee["border-width"]=ee.padding,ee["box-shadow"]=ee.textShadow,ee["-webkit-box-shadow"]=ee.textShadow,ee["-moz-box-shadow"]=ee.textShadow,ee["border-style"]=ee.borderColor,ee["-webkit-transform"]=ee.transform,ee["-moz-transform"]=ee.transform,ee["transform-origin"]=ee.transformOrigin,ee["-webkit-transform-origin"]=ee.transformOrigin,ee["-moz-transform-origin"]=ee.transformOrigin,ee["-webkit-transition"]=ee.transition,ee["-moz-transition"]=ee.transition,ee["transition-property"]=ee.transitionProperty,ee["-webkit-transition-property"]=ee.transitionProperty,ee["-moz-transition-property"]=ee.transitionProperty;var mX=fX([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),Iyt=["content"],wI=fX([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),Lyt=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),Ryt=new RegExp("(left)|(right)");function yX(t){return Object.keys(t).reduce(function(e,r){var n=t[r];if(Syt(n)&&(n=n.trim()),eb(Iyt,r))return e[r]=n,e;var i=x_(r,n),o=i.key,a=i.value;return e[o]=a,e},Array.isArray(t)?[]:{})}function x_(t,e){var r=/\/\*\s?@noflip\s?\*\//.test(e),n=r?t:Dyt(t);return{key:n,value:r?e:Oyt(n,e)}}function Dyt(t){return mX[t]||t}function Oyt(t,e){if(!$yt(e))return e;if(_yt(e))return yX(e);var r,n=C1(e),i=Tyt(e),o=n||i?e:e.replace(/ !important.*?$/,""),a=!n&&o.length!==e.length,s=ee[t];return r=s?s({value:o,valuesToConvert:wI,propertiesToConvert:mX,isRtl:!0,bgImgDirectionRegex:Lyt,bgPosDirectionRegex:Ryt}):wI[o]||o,a?r+" !important":r}const Myt=/[A-Z]/g,Byt=/^ms-/,_w={};function Pyt(t){return"-"+t.toLowerCase()}function ef(t){if(Object.prototype.hasOwnProperty.call(_w,t))return _w[t];if(t.substr(0,2)==="--")return t;const e=t.replace(Myt,Pyt);return _w[t]=Byt.test(e)?"-"+e:e}function vX(t){return t.charAt(0)==="&"?t.slice(1):t}const Fyt=t=>{if(t.type===w4){if(typeof t.props=="string")return;t.props=t.props.map(e=>e.indexOf(":global(")===-1?e:K1t(e).reduce((r,n,i,o)=>{if(n==="")return r;if(n===":"&&o[i+1]==="global"){const a=o[i+2].slice(1,-1)+" ";return r.unshift(a),o[i+1]="",o[i+2]="",r}return r.push(n),r},[]).join(""))}};function bX(t,e,r){switch(W1t(t,e)){case 5103:return Rs+"print-"+t+t;case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:return Rs+t+t;case 4215:if(So(t,9)===102||So(t,e+1)===116)return Rs+t+t;break;case 4789:return nm+t+t;case 5349:case 4246:case 6968:return Rs+t+nm+t+t;case 6187:if(!PY(t,/grab/))return ha(ha(ha(t,/(zoom-|grab)/,Rs+"$1"),/(image-set)/,Rs+"$1"),t,"")+t;case 5495:case 3959:return ha(t,/(image-set\([^]*)/,Rs+"$1$`$1");case 4095:case 3583:case 4068:case 2532:return ha(t,/(.+)-inline(.+)/,Rs+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ps(t)-1-e>6)switch(So(t,e+1)){case 102:if(So(t,e+3)===108)return ha(t,/(.+:)(.+)-([^]+)/,"$1"+Rs+"$2-$3$1"+nm+(So(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~FY(t,"stretch")?bX(ha(t,"stretch","fill-available"),e)+t:t}}return t}function xX(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case EC:return void(t.return=bX(t.value,t.length));case w4:if(t.length)return V1t(t.props,function(i){switch(PY(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Id([xw(t,{props:[ha(i,/:(read-\w+)/,":"+nm+"$1")]})],n);case"::placeholder":return Id([xw(t,{props:[ha(i,/:(plac\w+)/,":"+Rs+"input-$1")]}),xw(t,{props:[ha(i,/:(plac\w+)/,":"+nm+"$1")]})],n)}return""})}}function zyt(t){switch(t.type){case"@container":case z1t:case H1t:case OY:return!0}return!1}const jyt=t=>{zyt(t)&&Array.isArray(t.children)&&t.children.sort((e,r)=>e.props[0]>r.props[0]?1:-1)};function wX(t){var e=zY(t);return function(r,n,i,o){for(var a="",s=0;s<e;s++)a+=t[s](r,n,i,o)||"";return a}}function kX(t){return function(e){e.root||(e=e.return)&&t(e)}}function Hyt(t,e){const r=[];return Id(SC(t),wX([Fyt,jyt,xX,_C,kX(n=>r.push(n))])),r}const Uyt=/,( *[^ &])/g;function qyt(t){return"&"+vX(t.replace(Uyt,",&$1"))}function kI(t,e,r){let n=e;return r.length>0&&(n=r.reduceRight((i,o)=>`${qyt(o)} { ${i} }`,e)),`${t}{${n}}`}function TI(t,e){const{className:r,selectors:n,property:i,rtlClassName:o,rtlProperty:a,rtlValue:s,value:l}=t,{container:u,layer:h,media:d,supports:p}=e;let f=kI(`.${r}`,Array.isArray(l)?`${l.map(g=>`${ef(i)}: ${g}`).join(";")};`:`${ef(i)}: ${l};`,n);return a&&o&&(f+=kI(`.${o}`,Array.isArray(s)?`${s.map(g=>`${ef(a)}: ${g}`).join(";")};`:`${ef(a)}: ${s};`,n)),d&&(f=`@media ${d} { ${f} }`),h&&(f=`@layer ${h} { ${f} }`),p&&(f=`@supports ${p} { ${f} }`),u&&(f=`@container ${u} { ${f} }`),Hyt(f)}function Gyt(t){let e="";for(const r in t){const n=t[r];if(typeof n!="string"&&typeof n!="number"){if(Array.isArray(n))for(const i of n)e+=ef(r)+":"+i+";"}else e+=ef(r)+":"+n+";"}return e}function EI(t){let e="";for(const r in t)e+=`${r}{${Gyt(t[r])}}`;return e}function _I(t,e){const r=[];return Id(SC(`@keyframes ${t} {${e}}`),wX([_C,xX,kX(n=>r.push(n))])),r}const Wyt={animation:[-1,["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimeline","animationTimingFunction"]],animationRange:[-1,["animationRangeEnd","animationRangeStart"]],background:[-2,["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"]],backgroundPosition:[-1,["backgroundPositionX","backgroundPositionY"]],border:[-2,["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderTop","borderTopColor","borderTopStyle","borderTopWidth"]],borderBottom:[-1,["borderBottomColor","borderBottomStyle","borderBottomWidth"]],borderImage:[-1,["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"]],borderLeft:[-1,["borderLeftColor","borderLeftStyle","borderLeftWidth"]],borderRadius:[-1,["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"]],borderRight:[-1,["borderRightColor","borderRightStyle","borderRightWidth"]],borderTop:[-1,["borderTopColor","borderTopStyle","borderTopWidth"]],caret:[-1,["caretColor","caretShape"]],columnRule:[-1,["columnRuleColor","columnRuleStyle","columnRuleWidth"]],columns:[-1,["columnCount","columnWidth"]],containIntrinsicSize:[-1,["containIntrinsicHeight","containIntrinsicWidth"]],container:[-1,["containerName","containerType"]],flex:[-1,["flexBasis","flexGrow","flexShrink"]],flexFlow:[-1,["flexDirection","flexWrap"]],font:[-1,["fontFamily","fontSize","fontStretch","fontStyle","fontVariant","fontWeight","lineHeight"]],gap:[-1,["columnGap","rowGap"]],grid:[-1,["columnGap","gridAutoColumns","gridAutoFlow","gridAutoRows","gridColumnGap","gridRowGap","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","rowGap"]],gridArea:[-1,["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"]],gridColumn:[-1,["gridColumnEnd","gridColumnStart"]],gridRow:[-1,["gridRowEnd","gridRowStart"]],gridTemplate:[-1,["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"]],inset:[-1,["bottom","left","right","top"]],insetBlock:[-1,["insetBlockEnd","insetBlockStart"]],insetInline:[-1,["insetInlineEnd","insetInlineStart"]],listStyle:[-1,["listStyleImage","listStylePosition","listStyleType"]],margin:[-1,["marginBottom","marginLeft","marginRight","marginTop"]],marginBlock:[-1,["marginBlockEnd","marginBlockStart"]],marginInline:[-1,["marginInlineEnd","marginInlineStart"]],mask:[-1,["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPosition","maskRepeat","maskSize"]],maskBorder:[-1,["maskBorderMode","maskBorderOutset","maskBorderRepeat","maskBorderSlice","maskBorderSource","maskBorderWidth"]],offset:[-1,["offsetAnchor","offsetDistance","offsetPath","offsetPosition","offsetRotate"]],outline:[-1,["outlineColor","outlineStyle","outlineWidth"]],overflow:[-1,["overflowX","overflowY"]],overscrollBehavior:[-1,["overscrollBehaviorX","overscrollBehaviorY"]],padding:[-1,["paddingBottom","paddingLeft","paddingRight","paddingTop"]],paddingBlock:[-1,["paddingBlockEnd","paddingBlockStart"]],paddingInline:[-1,["paddingInlineEnd","paddingInlineStart"]],placeContent:[-1,["alignContent","justifyContent"]],placeItems:[-1,["alignItems","justifyItems"]],placeSelf:[-1,["alignSelf","justifySelf"]],scrollMargin:[-1,["scrollMarginBottom","scrollMarginLeft","scrollMarginRight","scrollMarginTop"]],scrollMarginBlock:[-1,["scrollMarginBlockEnd","scrollMarginBlockStart"]],scrollMarginInline:[-1,["scrollMarginInlineEnd","scrollMarginInlineStart"]],scrollPadding:[-1,["scrollPaddingBottom","scrollPaddingLeft","scrollPaddingRight","scrollPaddingTop"]],scrollPaddingBlock:[-1,["scrollPaddingBlockEnd","scrollPaddingBlockStart"]],scrollPaddingInline:[-1,["scrollPaddingInlineEnd","scrollPaddingInlineStart"]],scrollTimeline:[-1,["scrollTimelineAxis","scrollTimelineName"]],textDecoration:[-1,["textDecorationColor","textDecorationLine","textDecorationStyle","textDecorationThickness"]],textEmphasis:[-1,["textEmphasisColor","textEmphasisStyle"]],transition:[-1,["transitionBehavior","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]],viewTimeline:[-1,["viewTimelineAxis","viewTimelineName"]]};function SI(t,e){return t.length===0?e:`${t} and ${e}`}function Vyt(t){return t.substr(0,6)==="@media"}function Yyt(t){return t.substr(0,6)==="@layer"}const Xyt=/^(:|\[|>|&)/;function Kyt(t){return Xyt.test(t)}function Zyt(t){return t.substr(0,9)==="@supports"}function Qyt(t){return t.substring(0,10)==="@container"}function Jyt(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1}const AI={"us-w":"w","us-v":"i",nk:"l",si:"v",cu:"f",ve:"h",ti:"a"};function CI(t,e){if(e.media)return"m";if(e.layer||e.supports)return"t";if(e.container)return"c";if(t.length>0){const r=t[0].trim();if(r.charCodeAt(0)===58)return AI[r.slice(4,8)]||AI[r.slice(3,5)]||"d"}return"d"}function Nv(t,e){return t&&e+t}function TX(t){return Nv(t.container,"c")+Nv(t.media,"m")+Nv(t.layer,"l")+Nv(t.supports,"s")}function Sw(t,e,r){const n=t+TX(r)+e,i=Nm(n),o=i.charCodeAt(0);return o>=48&&o<=57?String.fromCharCode(o+17)+i.slice(1):i}function Iv({property:t,selector:e,salt:r,value:n},i){return v_+Nm(r+e+TX(i)+t+n.trim())}function tvt(t){return t===b_}function Aw(t){return t.replace(/>\s+/g,">")}function evt(...t){}function rvt(t,e){evt((()=>{const r=JSON.stringify(e,null,2),n=["@griffel/react: A rule was not resolved to CSS properly. Please check your `makeStyles` or `makeResetStyles` calls for following:"," ".repeat(2)+"makeStyles({"," ".repeat(4)+"[slot]: {"," ".repeat(6)+`"${t}": ${r.split(`
`).map((i,o)=>" ".repeat(o===0?0:6)+i).join(`
`)}`," ".repeat(4)+"}"," ".repeat(2)+"})",""];return t.indexOf("&")===-1?(n.push("It looks that you're are using a nested selector, but it is missing an ampersand placeholder where the generated class name should be injected."),n.push(`Try to update a property to include it i.e "${t}" => "&${t}".`)):(n.push(""),n.push("If it's not obvious what triggers a problem, please report an issue at https://github.com/microsoft/griffel/issues")),n.join(`
`)})())}function $I(t){return Wyt[t]}function NI(t){var e;return(e=t==null?void 0:t[0])!==null&&e!==void 0?e:0}function Cw(t,e,r,n){t[e]=n?[r,n]:r}function II(t,e){return e.length>0?[t,Object.fromEntries(e)]:t}function $w(t,e,r,n,i,o){var a;const s=[];o!==0&&s.push(["p",o]),e==="m"&&i&&s.push(["m",i]),(a=t[e])!==null&&a!==void 0||(t[e]=[]),r&&t[e].push(II(r,s)),n&&t[e].push(II(n,s))}function uc(t,e="",r=[],n={container:"",layer:"",media:"",supports:""},i={},o={},a){for(const s in t){if(uyt.hasOwnProperty(s)){t[s];continue}const l=t[s];if(l!=null){if(tvt(l)){const u=Aw(r.join(""));Cw(i,Sw(u,s,n),0,void 0)}else if(typeof l=="string"||typeof l=="number"){const u=Aw(r.join("")),h=$I(s);if(h){const k=h[1],N=Object.fromEntries(k.map(_=>[_,b_]));uc(N,e,r,n,i,o)}const d=Sw(u,s,n),p=Iv({value:l.toString(),salt:e,selector:u,property:s},n),f=a&&{key:s,value:a}||x_(s,l),g=f.key!==s||f.value!==l,m=g?Iv({value:f.value.toString(),property:f.key,salt:e,selector:u},n):void 0,y=g?{rtlClassName:m,rtlProperty:f.key,rtlValue:f.value}:void 0,v=CI(r,n),[x,b]=TI(Object.assign({className:p,selectors:r,property:s,value:l},y),n);Cw(i,d,p,m),$w(o,v,x,b,n.media,NI(h))}else if(s==="animationName"){const u=Array.isArray(l)?l:[l],h=[],d=[];for(const p of u){const f=EI(p),g=EI(yX(p)),m=v_+Nm(f);let y;const v=_I(m,f);let x=[];f===g?y=m:(y=v_+Nm(g),x=_I(y,g));for(let b=0;b<v.length;b++)$w(o,"k",v[b],x[b],n.media,0);h.push(m),d.push(y)}uc({animationName:h.join(", ")},e,r,n,i,o,d.join(", "))}else if(Array.isArray(l)){if(l.length===0)continue;const u=Aw(r.join("")),h=$I(s);if(h){const k=h[1],N=Object.fromEntries(k.map(_=>[_,b_]));uc(N,e,r,n,i,o)}const d=Sw(u,s,n),p=Iv({value:l.map(k=>(k??"").toString()).join(";"),salt:e,selector:u,property:s},n),f=l.map(k=>x_(s,k));if(f.some(k=>k.key!==f[0].key))continue;const g=f[0].key!==s||f.some((k,N)=>k.value!==l[N]),m=g?Iv({value:f.map(k=>{var N;return((N=k==null?void 0:k.value)!==null&&N!==void 0?N:"").toString()}).join(";"),salt:e,property:f[0].key,selector:u},n):void 0,y=g?{rtlClassName:m,rtlProperty:f[0].key,rtlValue:f.map(k=>k.value)}:void 0,v=CI(r,n),[x,b]=TI(Object.assign({className:p,selectors:r,property:s,value:l},y),n);Cw(i,d,p,m),$w(o,v,x,b,n.media,NI(h))}else if(Jyt(l))if(Kyt(s))uc(l,e,r.concat(vX(s)),n,i,o);else if(Vyt(s)){const u=SI(n.media,s.slice(6).trim());uc(l,e,r,Object.assign({},n,{media:u}),i,o)}else if(Yyt(s)){const u=(n.layer?`${n.layer}.`:"")+s.slice(6).trim();uc(l,e,r,Object.assign({},n,{layer:u}),i,o)}else if(Zyt(s)){const u=SI(n.supports,s.slice(9).trim());uc(l,e,r,Object.assign({},n,{supports:u}),i,o)}else if(Qyt(s)){const u=s.slice(10).trim();uc(l,e,r,Object.assign({},n,{container:u}),i,o)}else rvt(s,l)}}return[i,o]}function nvt(t,e=""){const r={},n={};for(const i in t){const o=t[i],[a,s]=uc(o,e);r[i]=a,Object.keys(s).forEach(l=>{n[l]=(n[l]||[]).concat(s[l])})}return[r,n]}function ivt(t,e=DC){const r=e();let n=null,i=null,o=null,a=null;return function(s){const{dir:l,renderer:u}=s;n===null&&([n,i]=nvt(t,u.classNameHashSalt));const h=l==="ltr";return h?o===null&&(o=wx(n,l)):a===null&&(a=wx(n,l)),r(u,i),h?o:a}}function Fr(t){const e=ivt(t,IC);return function(){const r=RC(),n=LC();return e({dir:r,renderer:n})}}function LI(t){if(t)throw t}var rb=Object.prototype.hasOwnProperty,EX=Object.prototype.toString,RI=Object.defineProperty,DI=Object.getOwnPropertyDescriptor,OI=function(t){return typeof Array.isArray=="function"?Array.isArray(t):EX.call(t)==="[object Array]"},MI=function(t){if(!t||EX.call(t)!=="[object Object]")return!1;var e,r=rb.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&rb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;for(e in t);return e===void 0||rb.call(t,e)},BI=function(t,e){RI&&e.name==="__proto__"?RI(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},PI=function(t,e){if(e==="__proto__"){if(!rb.call(t,e))return;if(DI)return DI(t,e).value}return t[e]},Nw=dh(function t(){var e,r,n,i,o,a,s=arguments[0],l=1,u=arguments.length,h=!1;for(typeof s=="boolean"&&(h=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if((e=arguments[l])!=null)for(r in e)n=PI(s,r),s!==(i=PI(e,r))&&(h&&i&&(MI(i)||(o=OI(i)))?(o?(o=!1,a=n&&OI(n)?n:[]):a=n&&MI(n)?n:{},BI(s,{name:r,newValue:t(h,a,i)})):i!==void 0&&BI(s,{name:r,newValue:i}));return s});function w_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return!(e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.toStringTag in t||Symbol.iterator in t)}const ovt=function(t){const e=this.constructor.prototype,r=e[t],n=function(){return r.apply(n,arguments)};return Object.setPrototypeOf(n,e),n};function avt(){const t=[],e={run:function(...r){let n=-1;const i=r.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);(function o(a,...s){const l=t[++n];let u=-1;if(a)i(a);else{for(;++u<r.length;)s[u]!==null&&s[u]!==void 0||(s[u]=r[u]);r=s,l?svt(l,o)(...s):i(null,...s)}})(null,...r)},use:function(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}};return e}function svt(t,e){let r;return function(...o){const a=t.length>o.length;let s;a&&o.push(n);try{s=t.apply(this,o)}catch(l){if(a&&r)throw l;return n(l)}a||(s&&s.then&&typeof s.then=="function"?s.then(i,n):s instanceof Error?n(s):i(s))};function n(o,...a){r||(r=!0,e(o,...a))}function i(o){n(null,o)}}const wl={basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ug(t);let r,n=0,i=-1,o=t.length;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(r){n=o+1;break}}else i<0&&(r=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let a=-1,s=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(r){n=o+1;break}}else a<0&&(r=!0,a=o+1),s>-1&&(t.codePointAt(o)===e.codePointAt(s--)?s<0&&(i=o):(s=-1,i=a));return n===i?i=a:i<0&&(i=t.length),t.slice(n,i)},dirname:function(t){if(Ug(t),t.length===0)return".";let e,r=-1,n=t.length;for(;--n;)if(t.codePointAt(n)===47){if(e){r=n;break}}else e||(e=!0);return r<0?t.codePointAt(0)===47?"/":".":r===1&&t.codePointAt(0)===47?"//":t.slice(0,r)},extname:function(t){Ug(t);let e,r=t.length,n=-1,i=0,o=-1,a=0;for(;r--;){const s=t.codePointAt(r);if(s!==47)n<0&&(e=!0,n=r+1),s===46?o<0?o=r:a!==1&&(a=1):o>-1&&(a=-1);else if(e){i=r+1;break}}return o<0||n<0||a===0||a===1&&o===n-1&&o===i+1?"":t.slice(o,n)},join:function(...t){let e,r=-1;for(;++r<t.length;)Ug(t[r]),t[r]&&(e=e===void 0?t[r]:e+"/"+t[r]);return e===void 0?".":function(n){Ug(n);const i=n.codePointAt(0)===47;let o=function(a,s){let l,u,h="",d=0,p=-1,f=0,g=-1;for(;++g<=a.length;){if(g<a.length)l=a.codePointAt(g);else{if(l===47)break;l=47}if(l===47){if(!(p===g-1||f===1))if(p!==g-1&&f===2){if(h.length<2||d!==2||h.codePointAt(h.length-1)!==46||h.codePointAt(h.length-2)!==46){if(h.length>2){if(u=h.lastIndexOf("/"),u!==h.length-1){u<0?(h="",d=0):(h=h.slice(0,u),d=h.length-1-h.lastIndexOf("/")),p=g,f=0;continue}}else if(h.length>0){h="",d=0,p=g,f=0;continue}}s&&(h=h.length>0?h+"/..":"..",d=2)}else h.length>0?h+="/"+a.slice(p+1,g):h=a.slice(p+1,g),d=g-p-1;p=g,f=0}else l===46&&f>-1?f++:f=-1}return h}(n,!i);return o.length!==0||i||(o="."),o.length>0&&n.codePointAt(n.length-1)===47&&(o+="/"),i?"/"+o:o}(e)},sep:"/"};function Ug(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const lvt={cwd:function(){return"/"}};function k_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cvt(t){if(typeof t=="string")t=new URL(t);else if(!k_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const r=e.pathname;let n=-1;for(;++n<r.length;)if(r.codePointAt(n)===37&&r.codePointAt(n+1)===50){const i=r.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(r)}(t)}function im(t){return t&&typeof t=="object"?"position"in t||"type"in t?FI(t.position):"start"in t||"end"in t?FI(t):"line"in t||"column"in t?T_(t):"":""}function T_(t){return zI(t&&t.line)+":"+zI(t&&t.column)}function FI(t){return T_(t&&t.start)+"-"+T_(t&&t.end)}function zI(t){return t&&typeof t=="number"?t:1}let ko=class extends Error{constructor(e,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",o={},a=!1;if(r&&(o="line"in r&&"column"in r||"start"in r&&"end"in r?{place:r}:"type"in r?{ancestors:[r],place:r.position}:{...r}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?o.ruleId=n:(o.source=n.slice(0,l),o.ruleId=n.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=im(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}};ko.prototype.file="",ko.prototype.name="",ko.prototype.reason="",ko.prototype.message="",ko.prototype.stack="",ko.prototype.column=void 0,ko.prototype.line=void 0,ko.prototype.ancestors=void 0,ko.prototype.cause=void 0,ko.prototype.fatal=void 0,ko.prototype.place=void 0,ko.prototype.ruleId=void 0,ko.prototype.source=void 0;const Iw=["history","path","basename","stem","extname","dirname"];let _X=class{constructor(e){let r;r=e?k_(e)?{path:e}:typeof e=="string"||function(o){return!!(o&&typeof o=="object"&&"byteLength"in o&&"byteOffset"in o)}(e)?{value:e}:e:{},this.cwd="cwd"in r?"":lvt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<Iw.length;){const o=Iw[i];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}for(n in r)Iw.includes(n)||(this[n]=r[n])}get basename(){return typeof this.path=="string"?wl.basename(this.path):void 0}set basename(e){Rw(e,"basename"),Lw(e,"basename"),this.path=wl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?wl.dirname(this.path):void 0}set dirname(e){jI(this.basename,"dirname"),this.path=wl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?wl.extname(this.path):void 0}set extname(e){if(Lw(e,"extname"),jI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){k_(e)&&(e=cvt(e)),Rw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?wl.basename(this.path,this.extname):void 0}set stem(e){Rw(e,"stem"),Lw(e,"stem"),this.path=wl.join(this.dirname||"",e+(this.extname||""))}fail(e,r,n){const i=this.message(e,r,n);throw i.fatal=!0,i}info(e,r,n){const i=this.message(e,r,n);return i.fatal=void 0,i}message(e,r,n){const i=new ko(e,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Lw(t,e){if(t&&t.includes(wl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+wl.sep+"`")}function Rw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function jI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}const uvt={}.hasOwnProperty;let hvt=class SX extends ovt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=avt()}copy(){const e=new SX;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];e.use(...n)}return e.data(Nw(!0,{},this.namespace)),e}data(e,r){return typeof e=="string"?arguments.length===2?(Mw("data",this.frozen),this.namespace[e]=r,this):uvt.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Mw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const r=Lv(e),n=this.parser||this.Parser;return Dw("parse",n),n(String(r),r)}process(e,r){const n=this;return this.freeze(),Dw("process",this.parser||this.Parser),Ow("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,a){const s=Lv(e),l=n.parse(s);function u(h,d){h||!d?a(h):o?o(d):r(void 0,d)}n.run(l,s,function(h,d,p){if(h||!d||!p)return u(h);const f=d,g=n.stringify(f,p);var m;typeof(m=g)=="string"||function(y){return!!(y&&typeof y=="object"&&"byteLength"in y&&"byteOffset"in y)}(m)?p.value=g:p.result=g,u(h,p)})}}processSync(e){let r,n=!1;return this.freeze(),Dw("processSync",this.parser||this.Parser),Ow("processSync",this.compiler||this.Compiler),this.process(e,function(i,o){n=!0,LI(i),r=o}),UI("processSync","process",n),r}run(e,r,n){HI(e),this.freeze();const i=this.transformers;return n||typeof r!="function"||(n=r,r=void 0),n?o(void 0,n):new Promise(o);function o(a,s){const l=Lv(r);i.run(e,l,function(u,h,d){const p=h||e;u?s(u):a?a(p):n(void 0,p,d)})}}runSync(e,r){let n,i=!1;return this.run(e,r,function(o,a){LI(o),n=a,i=!0}),UI("runSync","run",i),n}stringify(e,r){this.freeze();const n=Lv(r),i=this.compiler||this.Compiler;return Ow("stringify",i),HI(e),i(e,n)}use(e,...r){const n=this.attachers,i=this.namespace;if(Mw("use",this.frozen),e!=null)if(typeof e=="function")l(e,r);else{if(typeof e!="object")throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?s(e):a(e)}return this;function o(u){if(typeof u=="function")l(u,[]);else{if(typeof u!="object")throw new TypeError("Expected usable value, not `"+u+"`");if(Array.isArray(u)){const[h,...d]=u;l(h,d)}else a(u)}}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=Nw(!0,i.settings,u.settings))}function s(u){let h=-1;if(u!=null){if(!Array.isArray(u))throw new TypeError("Expected a list of plugins, not `"+u+"`");for(;++h<u.length;)o(u[h])}}function l(u,h){let d=-1,p=-1;for(;++d<n.length;)if(n[d][0]===u){p=d;break}if(p===-1)n.push([u,...h]);else if(h.length>0){let[f,...g]=h;const m=n[p][1];w_(m)&&w_(f)&&(f=Nw(!0,m,f)),n[p]=[u,f,...g]}}}};const dvt=new hvt().freeze();function Dw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ow(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Mw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HI(t){if(!w_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function UI(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Lv(t){return function(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}(t)?t:new _X(t)}function AX(t,e){const r=Number.parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||!(65535&~r)||(65535&r)==65534||r>1114111?"�":String.fromCodePoint(r)}const qI={AElig:"Æ",AMP:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Aring:"Å",Ascr:"𝒜",Assign:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COPY:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrave:"Ì",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",REG:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THORN:"Þ",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"	",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acirc:"â",acute:"´",acy:"а",aelig:"æ",af:"⁡",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",aring:"å",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",auml:"ä",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedil:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",copy:"©",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",ecirc:"ê",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacute:"í",ic:"⁣",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laquo:"«",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",not:"¬",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacute:"ó",oast:"⊛",ocir:"⊚",ocirc:"ô",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslash:"ø",osol:"⊘",otilde:"õ",otimes:"⊗",otimesas:"⨶",ouml:"ö",ovbar:"⌽",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pound:"£",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thorn:"þ",tilde:"˜",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacute:"ú",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uml:"¨",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},pvt={}.hasOwnProperty;function OC(t){return!!pvt.call(qI,t)&&qI[t]}const fvt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gvt(t){return t.replace(fvt,mvt)}function mvt(t,e,r){if(e)return e;if(r.charCodeAt(0)===35){const n=r.charCodeAt(1),i=n===120||n===88;return AX(r.slice(i?2:1),i?16:10)}return OC(r)||t}function Zs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function Ha(t,e,r,n){const i=t.length;let o,a=0;if(e=e<0?-e>i?0:i+e:e>i?i:e,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(e,r),t.splice(...o);else for(r&&t.splice(e,r);a<n.length;)o=n.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function cs(t,e){return t.length>0?(Ha(t,t.length,0,e),t):e}let yvt=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,r,n){const i=r||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&qg(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),qg(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),qg(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const r=this.left.splice(e,Number.POSITIVE_INFINITY);qg(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);qg(this.left,r.reverse())}}};function qg(t,e){let r=0;if(e.length<1e4)t.push(...e);else for(;r<e.length;)t.push(...e.slice(r,r+1e4)),r+=1e4}function CX(t){const e={};let r,n,i,o,a,s,l,u=-1;const h=new yvt(t);for(;++u<h.length;){for(;u in e;)u=e[u];if(r=h.get(u),u&&r[1].type==="chunkFlow"&&h.get(u-1)[1].type==="listItemPrefix"&&(s=r[1]._tokenizer.events,i=0,i<s.length&&s[i][1].type==="lineEndingBlank"&&(i+=2),i<s.length&&s[i][1].type==="content"))for(;++i<s.length&&s[i][1].type!=="content";)s[i][1].type==="chunkText"&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,vvt(h,u)),u=e[u],l=!0);else if(r[1]._container){for(i=u,n=void 0;i--;)if(o=h.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(n&&(h.get(n)[1].type="lineEndingBlank"),o[1].type="lineEnding",n=i);else if(o[1].type!=="linePrefix"&&o[1].type!=="listItemIndent")break;n&&(r[1].end={...h.get(n)[1].start},a=h.slice(n,u),a.unshift(r),h.splice(n,u-n+1,a))}}return Ha(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!l}function vvt(t,e){const r=t.get(e)[1],n=t.get(e)[2];let i=e-1;const o=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let h,d,p=-1,f=r,g=0,m=0;const y=[m];for(;f;){for(;t.get(++i)[1]!==f;);o.push(i),f._tokenizer||(h=n.sliceStream(f),f.next||h.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(m=p+1,y.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),p=y.length;p--;){const v=s.slice(y[p],y[p+1]),x=o.pop();l.push([x,x+v.length-1]),t.splice(x,2,v)}for(l.reverse(),p=-1;++p<l.length;)u[g+l[p][0]]=g+l[p][1],g+=l[p][1]-l[p][0]-1;return u}function bvt(t){for(;!CX(t););return t}const GI={}.hasOwnProperty;function $X(t){const e={};let r=-1;for(;++r<t.length;)xvt(e,t[r]);return e}function xvt(t,e){let r;for(r in e){const n=(GI.call(t,r)?t[r]:void 0)||(t[r]={}),i=e[r];let o;if(i)for(o in i){GI.call(n,o)||(n[o]=[]);const a=i[o];wvt(n[o],Array.isArray(a)?a:a?[a]:[])}}}function wvt(t,e){let r=-1;const n=[];for(;++r<e.length;)(e[r].add==="after"?t:n).push(e[r]);Ha(t,0,0,n)}const qo=yh(/[A-Za-z]/),Co=yh(/[\dA-Za-z]/),kvt=yh(/[#-'*+\--9=?A-Z^-~]/);function kx(t){return t!==null&&(t<32||t===127)}const E_=yh(/\d/),Tvt=yh(/[\dA-Fa-f]/),Evt=yh(/[!-/:-@[-`{-~]/);function tr(t){return t!==null&&t<-2}function un(t){return t!==null&&(t<0||t===32)}function _r(t){return t===-2||t===-1||t===32}const A4=yh(new RegExp("\\p{P}|\\p{S}","u")),Rd=yh(/\s/);function yh(t){return function(e){return e!==null&&e>-1&&t.test(String.fromCharCode(e))}}function Lr(t,e,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let o=0;return function(s){return _r(s)?(t.enter(r),a(s)):e(s)};function a(s){return _r(s)&&o++<i?(t.consume(s),a):(t.exit(r),e(s))}}const _vt={tokenize:function(t){const e=t.attempt(this.parser.constructs.contentInitial,function(o){return o===null?void t.consume(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Lr(t,e,"linePrefix"))},function(o){return t.enter("paragraph"),n(o)});let r;return e;function n(o){const a=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=a),r=a,i(o)}function i(o){return o===null?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(o)):tr(o)?(t.consume(o),t.exit("chunkText"),n):(t.consume(o),i)}}},Svt={tokenize:function(t){const e=this,r=[];let n,i,o,a=0;return s;function s(b){if(a<r.length){const k=r[a];return e.containerState=k[1],t.attempt(k[0].continuation,l,u)(b)}return u(b)}function l(b){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,n&&x();const k=e.events.length;let N,_=k;for(;_--;)if(e.events[_][0]==="exit"&&e.events[_][1].type==="chunkFlow"){N=e.events[_][1].end;break}v(a);let S=k;for(;S<e.events.length;)e.events[S][1].end={...N},S++;return Ha(e.events,_+1,0,e.events.slice(k)),e.events.length=S,u(b)}return s(b)}function u(b){if(a===r.length){if(!n)return p(b);if(n.currentConstruct&&n.currentConstruct.concrete)return g(b);e.interrupt=!!(n.currentConstruct&&!n._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(WI,h,d)(b)}function h(b){return n&&x(),v(a),p(b)}function d(b){return e.parser.lazy[e.now().line]=a!==r.length,o=e.now().offset,g(b)}function p(b){return e.containerState={},t.attempt(WI,f,g)(b)}function f(b){return a++,r.push([e.currentConstruct,e.containerState]),p(b)}function g(b){return b===null?(n&&x(),v(0),void t.consume(b)):(n=n||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:n,contentType:"flow",previous:i}),m(b))}function m(b){return b===null?(y(t.exit("chunkFlow"),!0),v(0),void t.consume(b)):tr(b)?(t.consume(b),y(t.exit("chunkFlow")),a=0,e.interrupt=void 0,s):(t.consume(b),m)}function y(b,k){const N=e.sliceStream(b);if(k&&N.push(null),b.previous=i,i&&(i.next=b),i=b,n.defineSkip(b.start),n.write(N),e.parser.lazy[b.start.line]){let _=n.events.length;for(;_--;)if(n.events[_][1].start.offset<o&&(!n.events[_][1].end||n.events[_][1].end.offset>o))return;const S=e.events.length;let T,A,C=S;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(T){A=e.events[C][1].end;break}T=!0}for(v(a),_=S;_<e.events.length;)e.events[_][1].end={...A},_++;Ha(e.events,C+1,0,e.events.slice(S)),e.events.length=_}}function v(b){let k=r.length;for(;k-- >b;){const N=r[k];e.containerState=N[1],N[0].exit.call(e,t)}r.length=b}function x(){n.write([null]),i=void 0,n=void 0,e.containerState._closeFlow=void 0}}},WI={tokenize:function(t,e,r){return Lr(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},Im={partial:!0,tokenize:function(t,e,r){return function(i){return _r(i)?Lr(t,n,"linePrefix")(i):n(i)};function n(i){return i===null||tr(i)?e(i):r(i)}}},Avt={resolve:function(t){return CX(t),t},tokenize:function(t,e){let r;return function(a){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),n(a)};function n(a){return a===null?i(a):tr(a)?t.check(Cvt,o,i)(a):(t.consume(a),n)}function i(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,n}}},Cvt={partial:!0,tokenize:function(t,e,r){const n=this;return function(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Lr(t,i,"linePrefix")};function i(o){if(o===null||tr(o))return r(o);const a=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(n.parser.constructs.flow,r,e)(o)}}},$vt={tokenize:function(t){const e=this,r=t.attempt(Im,function(i){return i===null?void t.consume(i):(t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r)},t.attempt(this.parser.constructs.flowInitial,n,Lr(t,t.attempt(this.parser.constructs.flow,n,t.attempt(Avt,n)),"linePrefix")));return r;function n(i){if(i!==null)return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,r;t.consume(i)}}},Nvt={resolveAll:IX()},Ivt=NX("string"),Lvt=NX("text");function NX(t){return{resolveAll:IX(t==="text"?Rvt:void 0),tokenize:function(e){const r=this,n=this.parser.constructs[t],i=e.attempt(n,o,a);return o;function o(u){return l(u)?i(u):a(u)}function a(u){if(u!==null)return e.enter("data"),e.consume(u),s;e.consume(u)}function s(u){return l(u)?(e.exit("data"),i(u)):(e.consume(u),s)}function l(u){if(u===null)return!0;const h=n[u];let d=-1;if(h)for(;++d<h.length;){const p=h[d];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}}function IX(t){return function(e,r){let n,i=-1;for(;++i<=e.length;)n===void 0?e[i]&&e[i][1].type==="data"&&(n=i,i++):e[i]&&e[i][1].type==="data"||(i!==n+2&&(e[n][1].end=e[i-1][1].end,e.splice(n+2,i-n-2),i=n+2),n=void 0);return t?t(e,r):e}}function Rvt(t,e){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const n=t[r-1][1],i=e.sliceStream(n);let o,a=i.length,s=-1,l=0;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)o=!0,l++;else if(u!==-1){a++;break}}if(e._contentTypeTextTrailing&&r===t.length&&(l=0),l){const u={type:r===t.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(t.splice(r,0,["enter",u,e],["exit",u,e]),r+=2)}r++}return t}const nb={name:"thematicBreak",tokenize:function(t,e,r){let n,i=0;return function(s){return t.enter("thematicBreak"),function(l){return n=l,o(l)}(s)};function o(s){return s===n?(t.enter("thematicBreakSequence"),a(s)):i>=3&&(s===null||tr(s))?(t.exit("thematicBreak"),e(s)):r(s)}function a(s){return s===n?(t.consume(s),i++,a):(t.exit("thematicBreakSequence"),_r(s)?Lr(t,o,"whitespace")(s):o(s))}}},sa={continuation:{tokenize:function(t,e,r){const n=this;return n.containerState._closeFlow=void 0,t.check(Im,function(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Lr(t,e,"listItemIndent",n.containerState.size+1)(o)},function(o){return n.containerState.furtherBlankLines||!_r(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,i(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,t.attempt(Ovt,e,i)(o))});function i(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Lr(t,t.attempt(sa,e,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(t){t.exit(this.containerState.type)},name:"list",tokenize:function(t,e,r){const n=this,i=n.events[n.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(p){const f=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(f==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:E_(p)){if(n.containerState.type||(n.containerState.type=f,t.enter(f,{_container:!0})),f==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(nb,r,l)(p):l(p);if(!n.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(p)}return r(p)};function s(p){return E_(p)&&++a<10?(t.consume(p),s):(!n.interrupt||a<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),l(p)):r(p)}function l(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,t.check(Im,n.interrupt?r:u,t.attempt(Dvt,d,h))}function u(p){return n.containerState.initialBlankLine=!0,o++,d(p)}function h(p){return _r(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),d):r(p)}function d(p){return n.containerState.size=o+n.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}},Dvt={partial:!0,tokenize:function(t,e,r){const n=this;return Lr(t,function(i){const o=n.events[n.events.length-1];return!_r(i)&&o&&o[1].type==="listItemPrefixWhitespace"?e(i):r(i)},"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Ovt={partial:!0,tokenize:function(t,e,r){const n=this;return Lr(t,function(i){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?e(i):r(i)},"listItemIndent",n.containerState.size+1)}},LX={continuation:{tokenize:function(t,e,r){const n=this;return function(o){return _r(o)?Lr(t,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)};function i(o){return t.attempt(LX,e,r)(o)}}},exit:function(t){t.exit("blockQuote")},name:"blockQuote",tokenize:function(t,e,r){const n=this;return function(o){if(o===62){const a=n.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),i}return r(o)};function i(o){return _r(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}};function RX(t,e,r,n,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return function(y){return y===60?(t.enter(n),t.enter(i),t.enter(o),t.consume(y),t.exit(o),d):y===null||y===32||y===41||kx(y)?r(y):(t.enter(n),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),g(y))};function d(y){return y===62?(t.enter(o),t.consume(y),t.exit(o),t.exit(i),t.exit(n),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(s),d(y)):y===null||y===60||tr(y)?r(y):(t.consume(y),y===92?f:p)}function f(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function g(y){return h||y!==null&&y!==41&&!un(y)?h<u&&y===40?(t.consume(y),h++,g):y===41?(t.consume(y),h--,g):y===null||y===32||y===40||kx(y)?r(y):(t.consume(y),y===92?m:g):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(n),e(y))}function m(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function DX(t,e,r,n,i,o){const a=this;let s,l=0;return function(p){return t.enter(n),t.enter(i),t.consume(p),t.exit(i),t.enter(o),u};function u(p){return l>999||p===null||p===91||p===93&&!s||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?r(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(n),e):tr(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||tr(p)||l++>999?(t.exit("chunkString"),u(p)):(t.consume(p),s||(s=!_r(p)),p===92?d:h)}function d(p){return p===91||p===92||p===93?(t.consume(p),l++,h):h(p)}}function OX(t,e,r,n,i,o){let a;return function(d){return d===34||d===39||d===40?(t.enter(n),t.enter(i),t.consume(d),t.exit(i),a=d===40?41:d,s):r(d)};function s(d){return d===a?(t.enter(i),t.consume(d),t.exit(i),t.exit(n),e):(t.enter(o),l(d))}function l(d){return d===a?(t.exit(o),s(a)):d===null?r(d):tr(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Lr(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(d))}function u(d){return d===a||d===null||tr(d)?(t.exit("chunkString"),l(d)):(t.consume(d),d===92?h:u)}function h(d){return d===a||d===92?(t.consume(d),u):u(d)}}function om(t,e){let r;return function n(i){return tr(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):_r(i)?Lr(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}const Mvt={name:"definition",tokenize:function(t,e,r){const n=this;let i;return function(d){return t.enter("definition"),function(p){return DX.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}(d)};function o(d){return i=Zs(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),a):r(d)}function a(d){return un(d)?om(t,s)(d):s(d)}function s(d){return RX(t,l,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function l(d){return t.attempt(Bvt,u,u)(d)}function u(d){return _r(d)?Lr(t,h,"whitespace")(d):h(d)}function h(d){return d===null||tr(d)?(t.exit("definition"),n.parser.defined.push(i),e(d)):r(d)}}},Bvt={partial:!0,tokenize:function(t,e,r){return function(a){return un(a)?om(t,n)(a):r(a)};function n(a){return OX(t,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return _r(a)?Lr(t,o,"whitespace")(a):o(a)}function o(a){return a===null||tr(a)?e(a):r(a)}}},Bw={name:"codeIndented",tokenize:function(t,e,r){const n=this;return function(l){return t.enter("codeIndented"),Lr(t,i,"linePrefix",5)(l)};function i(l){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(l):r(l)}function o(l){return l===null?s(l):tr(l)?t.attempt(Pvt,o,s)(l):(t.enter("codeFlowValue"),a(l))}function a(l){return l===null||tr(l)?(t.exit("codeFlowValue"),o(l)):(t.consume(l),a)}function s(l){return t.exit("codeIndented"),e(l)}}},Pvt={partial:!0,tokenize:function(t,e,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):tr(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Lr(t,o,"linePrefix",5)(a)}function o(a){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):tr(a)?i(a):r(a)}}},Fvt={name:"headingAtx",resolve:function(t,e){let r,n,i=t.length-2,o=3;return t[o][1].type==="whitespace"&&(o+=2),i-2>o&&t[i][1].type==="whitespace"&&(i-=2),t[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&t[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(r={type:"atxHeadingText",start:t[o][1].start,end:t[i][1].end},n={type:"chunkText",start:t[o][1].start,end:t[i][1].end,contentType:"text"},Ha(t,o,i-o+1,[["enter",r,e],["enter",n,e],["exit",n,e],["exit",r,e]])),t},tokenize:function(t,e,r){let n=0;return function(l){return t.enter("atxHeading"),function(u){return t.enter("atxHeadingSequence"),i(u)}(l)};function i(l){return l===35&&n++<6?(t.consume(l),i):l===null||un(l)?(t.exit("atxHeadingSequence"),o(l)):r(l)}function o(l){return l===35?(t.enter("atxHeadingSequence"),a(l)):l===null||tr(l)?(t.exit("atxHeading"),e(l)):_r(l)?Lr(t,o,"whitespace")(l):(t.enter("atxHeadingText"),s(l))}function a(l){return l===35?(t.consume(l),a):(t.exit("atxHeadingSequence"),o(l))}function s(l){return l===null||l===35||un(l)?(t.exit("atxHeadingText"),o(l)):(t.consume(l),s)}}},VI={name:"setextUnderline",resolveTo:function(t,e){let r,n,i,o=t.length;for(;o--;)if(t[o][0]==="enter"){if(t[o][1].type==="content"){r=o;break}t[o][1].type==="paragraph"&&(n=o)}else t[o][1].type==="content"&&t.splice(o,1),i||t[o][1].type!=="definition"||(i=o);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[n][1].type="setextHeadingText",i?(t.splice(n,0,["enter",a,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=a,t.push(["exit",a,e]),t},tokenize:function(t,e,r){const n=this;let i;return function(s){let l,u=n.events.length;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){l=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||l)?(t.enter("setextHeadingLine"),i=s,function(h){return t.enter("setextHeadingLineSequence"),o(h)}(s)):r(s)};function o(s){return s===i?(t.consume(s),o):(t.exit("setextHeadingLineSequence"),_r(s)?Lr(t,a,"lineSuffix")(s):a(s))}function a(s){return s===null||tr(s)?(t.exit("setextHeadingLine"),e(s)):r(s)}}},zvt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],YI=["pre","script","style","textarea"],jvt={concrete:!0,name:"htmlFlow",resolveTo:function(t){let e=t.length;for(;e--&&(t[e][0]!=="enter"||t[e][1].type!=="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t},tokenize:function(t,e,r){const n=this;let i,o,a,s,l;return function(P){return function(U){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(U),u}(P)};function u(P){return P===33?(t.consume(P),h):P===47?(t.consume(P),o=!0,f):P===63?(t.consume(P),i=3,n.interrupt?e:R):qo(P)?(t.consume(P),a=String.fromCharCode(P),g):r(P)}function h(P){return P===45?(t.consume(P),i=2,d):P===91?(t.consume(P),i=5,s=0,p):qo(P)?(t.consume(P),i=4,n.interrupt?e:R):r(P)}function d(P){return P===45?(t.consume(P),n.interrupt?e:R):r(P)}function p(P){return P==="CDATA[".charCodeAt(s++)?(t.consume(P),s===6?n.interrupt?e:C:p):r(P)}function f(P){return qo(P)?(t.consume(P),a=String.fromCharCode(P),g):r(P)}function g(P){if(P===null||P===47||P===62||un(P)){const U=P===47,W=a.toLowerCase();return U||o||!YI.includes(W)?zvt.includes(a.toLowerCase())?(i=6,U?(t.consume(P),m):n.interrupt?e(P):C(P)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(P):o?y(P):v(P)):(i=1,n.interrupt?e(P):C(P))}return P===45||Co(P)?(t.consume(P),a+=String.fromCharCode(P),g):r(P)}function m(P){return P===62?(t.consume(P),n.interrupt?e:C):r(P)}function y(P){return _r(P)?(t.consume(P),y):T(P)}function v(P){return P===47?(t.consume(P),T):P===58||P===95||qo(P)?(t.consume(P),x):_r(P)?(t.consume(P),v):T(P)}function x(P){return P===45||P===46||P===58||P===95||Co(P)?(t.consume(P),x):b(P)}function b(P){return P===61?(t.consume(P),k):_r(P)?(t.consume(P),b):v(P)}function k(P){return P===null||P===60||P===61||P===62||P===96?r(P):P===34||P===39?(t.consume(P),l=P,N):_r(P)?(t.consume(P),k):_(P)}function N(P){return P===l?(t.consume(P),l=null,S):P===null||tr(P)?r(P):(t.consume(P),N)}function _(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||un(P)?b(P):(t.consume(P),_)}function S(P){return P===47||P===62||_r(P)?v(P):r(P)}function T(P){return P===62?(t.consume(P),A):r(P)}function A(P){return P===null||tr(P)?C(P):_r(P)?(t.consume(P),A):r(P)}function C(P){return P===45&&i===2?(t.consume(P),I):P===60&&i===1?(t.consume(P),L):P===62&&i===4?(t.consume(P),M):P===63&&i===3?(t.consume(P),R):P===93&&i===5?(t.consume(P),B):!tr(P)||i!==6&&i!==7?P===null||tr(P)?(t.exit("htmlFlowData"),D(P)):(t.consume(P),C):(t.exit("htmlFlowData"),t.check(Hvt,F,D)(P))}function D(P){return t.check(Uvt,E,F)(P)}function E(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),$}function $(P){return P===null||tr(P)?D(P):(t.enter("htmlFlowData"),C(P))}function I(P){return P===45?(t.consume(P),R):C(P)}function L(P){return P===47?(t.consume(P),a="",O):C(P)}function O(P){if(P===62){const U=a.toLowerCase();return YI.includes(U)?(t.consume(P),M):C(P)}return qo(P)&&a.length<8?(t.consume(P),a+=String.fromCharCode(P),O):C(P)}function B(P){return P===93?(t.consume(P),R):C(P)}function R(P){return P===62?(t.consume(P),M):P===45&&i===2?(t.consume(P),R):C(P)}function M(P){return P===null||tr(P)?(t.exit("htmlFlowData"),F(P)):(t.consume(P),M)}function F(P){return t.exit("htmlFlow"),e(P)}}},Hvt={partial:!0,tokenize:function(t,e,r){return function(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),t.attempt(Im,e,r)}}},Uvt={partial:!0,tokenize:function(t,e,r){const n=this;return function(o){return tr(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):r(o)};function i(o){return n.parser.lazy[n.now().line]?r(o):e(o)}}},XI={partial:!0,tokenize:function(t,e,r){const n=this;return function(o){return o===null?r(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i)};function i(o){return n.parser.lazy[n.now().line]?r(o):e(o)}}},KI={concrete:!0,name:"codeFenced",tokenize:function(t,e,r){const n=this,i={partial:!0,tokenize:function(b,k,N){let _=0;return S;function S(E){return b.enter("lineEnding"),b.consume(E),b.exit("lineEnding"),T}function T(E){return b.enter("codeFencedFence"),_r(E)?Lr(b,A,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):A(E)}function A(E){return E===o?(b.enter("codeFencedFenceSequence"),C(E)):N(E)}function C(E){return E===o?(_++,b.consume(E),C):_>=s?(b.exit("codeFencedFenceSequence"),_r(E)?Lr(b,D,"whitespace")(E):D(E)):N(E)}function D(E){return E===null||tr(E)?(b.exit("codeFencedFence"),k(E)):N(E)}}};let o,a=0,s=0;return function(b){return function(k){const N=n.events[n.events.length-1];return a=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,o=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),l(k)}(b)};function l(b){return b===o?(s++,t.consume(b),l):s<3?r(b):(t.exit("codeFencedFenceSequence"),_r(b)?Lr(t,u,"whitespace")(b):u(b))}function u(b){return b===null||tr(b)?(t.exit("codeFencedFence"),n.interrupt?e(b):t.check(XI,f,x)(b)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||tr(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),u(b)):_r(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Lr(t,d,"whitespace")(b)):b===96&&b===o?r(b):(t.consume(b),h)}function d(b){return b===null||tr(b)?u(b):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||tr(b)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),u(b)):b===96&&b===o?r(b):(t.consume(b),p)}function f(b){return t.attempt(i,x,g)(b)}function g(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m}function m(b){return a>0&&_r(b)?Lr(t,y,"linePrefix",a+1)(b):y(b)}function y(b){return b===null||tr(b)?t.check(XI,f,x)(b):(t.enter("codeFlowValue"),v(b))}function v(b){return b===null||tr(b)?(t.exit("codeFlowValue"),y(b)):(t.consume(b),v)}function x(b){return t.exit("codeFenced"),e(b)}}},MX={name:"characterReference",tokenize:function(t,e,r){const n=this;let i,o,a=0;return function(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),s};function s(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),l):(t.enter("characterReferenceValue"),i=31,o=Co,u(h))}function l(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,o=Tvt,u):(t.enter("characterReferenceValue"),i=7,o=E_,u(h))}function u(h){if(h===59&&a){const d=t.exit("characterReferenceValue");return o!==Co||OC(n.sliceSerialize(d))?(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e):r(h)}return o(h)&&a++<i?(t.consume(h),u):r(h)}}},BX={name:"characterEscape",tokenize:function(t,e,r){return function(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),n};function n(i){return Evt(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(i)}}},Pw={name:"lineEnding",tokenize:function(t,e){return function(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Lr(t,e,"linePrefix")}}};function C4(t,e,r){const n=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!n.includes(o)&&(e=o(e,r),n.push(o))}return e}const MC={name:"labelEnd",resolveAll:function(t){let e=-1;const r=[];for(;++e<t.length;){const n=t[e][1];if(r.push(t[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return t.length!==r.length&&Ha(t,0,t.length,r),t},resolveTo:function(t,e){let r,n,i,o,a=t.length,s=0;for(;a--;)if(r=t[a][1],n){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[a][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(i){if(t[a][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(n=a,r.type!=="labelLink")){s=2;break}}else r.type==="labelEnd"&&(i=a);const l={type:t[n][1].type==="labelLink"?"link":"image",start:{...t[n][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[n][1].start},end:{...t[i][1].end}},h={type:"labelText",start:{...t[n+s+2][1].end},end:{...t[i-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=cs(o,t.slice(n+1,n+s+3)),o=cs(o,[["enter",h,e]]),o=cs(o,C4(e.parser.constructs.insideSpan.null,t.slice(n+s+4,i-3),e)),o=cs(o,[["exit",h,e],t[i-2],t[i-1],["exit",u,e]]),o=cs(o,t.slice(i+1)),o=cs(o,[["exit",l,e]]),Ha(t,n,t.length,o),t},tokenize:function(t,e,r){const n=this;let i,o,a=n.events.length;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return function(d){return i?i._inactive?h(d):(o=n.parser.defined.includes(Zs(n.sliceSerialize({start:i.end,end:n.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),s):r(d)};function s(d){return d===40?t.attempt(qvt,u,o?u:h)(d):d===91?t.attempt(Gvt,u,o?l:h)(d):o?u(d):h(d)}function l(d){return t.attempt(Wvt,u,h)(d)}function u(d){return e(d)}function h(d){return i._balanced=!0,r(d)}}},qvt={tokenize:function(t,e,r){return function(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),n};function n(h){return un(h)?om(t,i)(h):i(h)}function i(h){return h===41?u(h):RX(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return un(h)?om(t,s)(h):u(h)}function a(h){return r(h)}function s(h){return h===34||h===39||h===40?OX(t,l,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function l(h){return un(h)?om(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):r(h)}}},Gvt={tokenize:function(t,e,r){const n=this;return function(a){return DX.call(n,t,i,o,"reference","referenceMarker","referenceString")(a)};function i(a){return n.parser.defined.includes(Zs(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(a):r(a)}function o(a){return r(a)}}},Wvt={tokenize:function(t,e,r){return function(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),n};function n(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):r(i)}}},Vvt={name:"labelStartImage",resolveAll:MC.resolveAll,tokenize:function(t,e,r){const n=this;return function(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),i};function i(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):r(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):e(a)}}};function C0(t){return t===null||un(t)||Rd(t)?1:A4(t)?2:void 0}const __={name:"attention",resolveAll:function(t,e){let r,n,i,o,a,s,l,u,h=-1;for(;++h<t.length;)if(t[h][0]==="enter"&&t[h][1].type==="attentionSequence"&&t[h][1]._close){for(r=h;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[h][1]).charCodeAt(0)){if((t[r][1]._close||t[h][1]._open)&&(t[h][1].end.offset-t[h][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[h][1].end.offset-t[h][1].start.offset)%3))continue;s=t[r][1].end.offset-t[r][1].start.offset>1&&t[h][1].end.offset-t[h][1].start.offset>1?2:1;const d={...t[r][1].end},p={...t[h][1].start};ZI(d,-s),ZI(p,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...t[h][1].start},end:p},i={type:s>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[h][1].start}},n={type:s>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[h][1].start={...a.end},l=[],t[r][1].end.offset-t[r][1].start.offset&&(l=cs(l,[["enter",t[r][1],e],["exit",t[r][1],e]])),l=cs(l,[["enter",n,e],["enter",o,e],["exit",o,e],["enter",i,e]]),l=cs(l,C4(e.parser.constructs.insideSpan.null,t.slice(r+1,h),e)),l=cs(l,[["exit",i,e],["enter",a,e],["exit",a,e],["exit",n,e]]),t[h][1].end.offset-t[h][1].start.offset?(u=2,l=cs(l,[["enter",t[h][1],e],["exit",t[h][1],e]])):u=0,Ha(t,r-1,h-r+3,l),h=r+l.length-u-2;break}}for(h=-1;++h<t.length;)t[h][1].type==="attentionSequence"&&(t[h][1].type="data");return t},tokenize:function(t,e){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=C0(n);let o;return function(s){return o=s,t.enter("attentionSequence"),a(s)};function a(s){if(s===o)return t.consume(s),a;const l=t.exit("attentionSequence"),u=C0(s),h=!u||u===2&&i||r.includes(s),d=!i||i===2&&u||r.includes(n);return l._open=!!(o===42?h:h&&(i||!d)),l._close=!!(o===42?d:d&&(u||!h)),e(s)}}};function ZI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Yvt={name:"autolink",tokenize:function(t,e,r){let n=0;return function(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i};function i(p){return qo(p)?(t.consume(p),o):p===64?r(p):l(p)}function o(p){return p===43||p===45||p===46||Co(p)?(n=1,a(p)):l(p)}function a(p){return p===58?(t.consume(p),n=0,s):(p===43||p===45||p===46||Co(p))&&n++<32?(t.consume(p),a):(n=0,l(p))}function s(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||kx(p)?r(p):(t.consume(p),s)}function l(p){return p===64?(t.consume(p),u):kvt(p)?(t.consume(p),l):r(p)}function u(p){return Co(p)?h(p):r(p)}function h(p){return p===46?(t.consume(p),n=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):d(p)}function d(p){if((p===45||Co(p))&&n++<63){const f=p===45?d:h;return t.consume(p),f}return r(p)}}},Xvt={name:"htmlText",tokenize:function(t,e,r){const n=this;let i,o,a;return function(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),s};function s(M){return M===33?(t.consume(M),l):M===47?(t.consume(M),k):M===63?(t.consume(M),x):qo(M)?(t.consume(M),S):r(M)}function l(M){return M===45?(t.consume(M),u):M===91?(t.consume(M),o=0,f):qo(M)?(t.consume(M),v):r(M)}function u(M){return M===45?(t.consume(M),p):r(M)}function h(M){return M===null?r(M):M===45?(t.consume(M),d):tr(M)?(a=h,O(M)):(t.consume(M),h)}function d(M){return M===45?(t.consume(M),p):h(M)}function p(M){return M===62?L(M):M===45?d(M):h(M)}function f(M){return M==="CDATA[".charCodeAt(o++)?(t.consume(M),o===6?g:f):r(M)}function g(M){return M===null?r(M):M===93?(t.consume(M),m):tr(M)?(a=g,O(M)):(t.consume(M),g)}function m(M){return M===93?(t.consume(M),y):g(M)}function y(M){return M===62?L(M):M===93?(t.consume(M),y):g(M)}function v(M){return M===null||M===62?L(M):tr(M)?(a=v,O(M)):(t.consume(M),v)}function x(M){return M===null?r(M):M===63?(t.consume(M),b):tr(M)?(a=x,O(M)):(t.consume(M),x)}function b(M){return M===62?L(M):x(M)}function k(M){return qo(M)?(t.consume(M),N):r(M)}function N(M){return M===45||Co(M)?(t.consume(M),N):_(M)}function _(M){return tr(M)?(a=_,O(M)):_r(M)?(t.consume(M),_):L(M)}function S(M){return M===45||Co(M)?(t.consume(M),S):M===47||M===62||un(M)?T(M):r(M)}function T(M){return M===47?(t.consume(M),L):M===58||M===95||qo(M)?(t.consume(M),A):tr(M)?(a=T,O(M)):_r(M)?(t.consume(M),T):L(M)}function A(M){return M===45||M===46||M===58||M===95||Co(M)?(t.consume(M),A):C(M)}function C(M){return M===61?(t.consume(M),D):tr(M)?(a=C,O(M)):_r(M)?(t.consume(M),C):T(M)}function D(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(t.consume(M),i=M,E):tr(M)?(a=D,O(M)):_r(M)?(t.consume(M),D):(t.consume(M),$)}function E(M){return M===i?(t.consume(M),i=void 0,I):M===null?r(M):tr(M)?(a=E,O(M)):(t.consume(M),E)}function $(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===47||M===62||un(M)?T(M):(t.consume(M),$)}function I(M){return M===47||M===62||un(M)?T(M):r(M)}function L(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):r(M)}function O(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),B}function B(M){return _r(M)?Lr(t,R,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):R(M)}function R(M){return t.enter("htmlTextData"),a(M)}}},Kvt={name:"labelStartLink",resolveAll:MC.resolveAll,tokenize:function(t,e,r){const n=this;return function(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),i};function i(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}},Zvt={name:"hardBreakEscape",tokenize:function(t,e,r){return function(i){return t.enter("hardBreakEscape"),t.consume(i),n};function n(i){return tr(i)?(t.exit("hardBreakEscape"),e(i)):r(i)}}},Qvt={name:"codeText",previous:function(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"},resolve:function(t){let e,r,n=t.length-4,i=3;if(!(t[i][1].type!=="lineEnding"&&t[i][1].type!=="space"||t[n][1].type!=="lineEnding"&&t[n][1].type!=="space")){for(e=i;++e<n;)if(t[e][1].type==="codeTextData"){t[i][1].type="codeTextPadding",t[n][1].type="codeTextPadding",i+=2,n-=2;break}}for(e=i-1,n++;++e<=n;)r===void 0?e!==n&&t[e][1].type!=="lineEnding"&&(r=e):e!==n&&t[e][1].type!=="lineEnding"||(t[r][1].type="codeTextData",e!==r+2&&(t[r][1].end=t[e-1][1].end,t.splice(r+2,e-r-2),n-=e-r-2,e=r+2),r=void 0);return t},tokenize:function(t,e,r){let n,i,o=0;return function(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)};function a(h){return h===96?(t.consume(h),o++,a):(t.exit("codeTextSequence"),s(h))}function s(h){return h===null?r(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),s):h===96?(i=t.enter("codeTextSequence"),n=0,u(h)):tr(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),s):(t.enter("codeTextData"),l(h))}function l(h){return h===null||h===32||h===96||tr(h)?(t.exit("codeTextData"),s(h)):(t.consume(h),l)}function u(h){return h===96?(t.consume(h),n++,u):n===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(i.type="codeTextData",l(h))}}},Jvt={42:sa,43:sa,45:sa,48:sa,49:sa,50:sa,51:sa,52:sa,53:sa,54:sa,55:sa,56:sa,57:sa,62:LX},t2t={91:Mvt},e2t={[-2]:Bw,[-1]:Bw,32:Bw},r2t={35:Fvt,42:nb,45:[VI,nb],60:jvt,61:VI,95:nb,96:KI,126:KI},n2t={38:MX,92:BX},i2t={[-5]:Pw,[-4]:Pw,[-3]:Pw,33:Vvt,38:MX,42:__,60:[Yvt,Xvt],91:Kvt,92:[Zvt,BX],93:MC,95:__,96:Qvt},o2t={null:[__,Nvt]},a2t={null:[42,95]},s2t={null:[]},l2t=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:a2t,contentInitial:t2t,disable:s2t,document:Jvt,flow:r2t,flowInitial:e2t,insideSpan:o2t,string:n2t,text:i2t},Symbol.toStringTag,{value:"Module"}));function c2t(t,e,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:y(function(b,k){v(b,k.from)}),check:y(m),consume:function(b){tr(b)?(n.line++,n.column=1,n.offset+=b===-3?2:1,x()):b!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=b},enter:function(b,k){const N=k||{};return N.type=b,N.start=p(),u.events.push(["enter",N,u]),s.push(N),N},exit:function(b){const k=s.pop();return k.end=p(),u.events.push(["exit",k,u]),k},interrupt:y(m,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(b){i[b.line]=b.column,x()},events:[],now:p,parser:t,previous:null,sliceSerialize:function(b,k){return function(N,_){let S=-1;const T=[];let A;for(;++S<N.length;){const C=N[S];let D;if(typeof C=="string")D=C;else switch(C){case-5:D="\r";break;case-4:D=`
`;break;case-3:D=`\r
`;break;case-2:D=_?" ":"	";break;case-1:if(!_&&A)continue;D=" ";break;default:D=String.fromCharCode(C)}A=C===-2,T.push(D)}return T.join("")}(d(b),k)},sliceStream:d,write:function(b){return a=cs(a,b),f(),a[a.length-1]!==null?[]:(v(e,0),u.events=C4(o,u.events,u),u.events)}};let h=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function d(b){return function(k,N){const _=N.start._index,S=N.start._bufferIndex,T=N.end._index,A=N.end._bufferIndex;let C;if(_===T)C=[k[_].slice(S,A)];else{if(C=k.slice(_,T),S>-1){const D=C[0];typeof D=="string"?C[0]=D.slice(S):C.shift()}A>0&&C.push(k[T].slice(0,A))}return C}(a,b)}function p(){const{_bufferIndex:b,_index:k,line:N,column:_,offset:S}=n;return{_bufferIndex:b,_index:k,line:N,column:_,offset:S}}function f(){let b;for(;n._index<a.length;){const k=a[n._index];if(typeof k=="string")for(b=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===b&&n._bufferIndex<k.length;)g(k.charCodeAt(n._bufferIndex));else g(k)}}function g(b){h=h(b)}function m(b,k){k.restore()}function y(b,k){return function(N,_,S){let T,A,C,D;return Array.isArray(N)?E(N):"tokenize"in N?E([N]):function(O){return B;function B(R){const M=R!==null&&O[R],F=R!==null&&O.null;return E([...Array.isArray(M)?M:M?[M]:[],...Array.isArray(F)?F:F?[F]:[]])(R)}}(N);function E(O){return T=O,A=0,O.length===0?S:$(O[A])}function $(O){return function(B){return D=function(){const R=p(),M=u.previous,F=u.currentConstruct,P=u.events.length,U=Array.from(s);return{from:P,restore:W};function W(){n=R,u.previous=M,u.currentConstruct=F,u.events.length=P,s=U,x()}}(),C=O,O.partial||(u.currentConstruct=O),O.name&&u.parser.constructs.disable.null.includes(O.name)?L():O.tokenize.call(k?Object.assign(Object.create(u),k):u,l,I,L)(B)}}function I(O){return b(C,D),_}function L(O){return D.restore(),++A<T.length?$(T[A]):S}}}function v(b,k){b.resolveAll&&!o.includes(b)&&o.push(b),b.resolve&&Ha(u.events,k,u.events.length-k,b.resolve(u.events.slice(k),u)),b.resolveTo&&(u.events=b.resolveTo(u.events,u))}function x(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function u2t(t){const e={constructs:$X([l2t,...(t||{}).extensions||[]]),content:r(_vt),defined:[],document:r(Svt),flow:r($vt),lazy:{},string:r(Ivt),text:r(Lvt)};return e;function r(n){return function(i){return c2t(e,n,i)}}}const QI=/[\0\t\n\r]/g;function h2t(){let t,e=1,r="",n=!0;return function(i,o,a){const s=[];let l,u,h,d,p;for(i=r+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,r="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(QI.lastIndex=h,l=QI.exec(i),d=l&&l.index!==void 0?l.index:i.length,p=i.charCodeAt(d),!l){r=i.slice(h);break}if(p===10&&h===d&&t)s.push(-3),t=void 0;else switch(t&&(s.push(-5),t=void 0),h<d&&(s.push(i.slice(h,d)),e+=d-h),p){case 0:s.push(65533),e++;break;case 9:for(u=4*Math.ceil(e/4),s.push(-2);e++<u;)s.push(-1);break;case 10:s.push(-4),e=1;break;default:t=!0,e=1}h=d+1}return a&&(t&&s.push(-5),r&&s.push(r),s.push(null)),s}}const d2t={};function BC(t,e){const r=d2t;return PX(t,typeof r.includeImageAlt!="boolean"||r.includeImageAlt,typeof r.includeHtml!="boolean"||r.includeHtml)}function PX(t,e,r){if(function(n){return!!(n&&typeof n=="object")}(t)){if("value"in t)return t.type!=="html"||r?t.value:"";if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return JI(t.children,e,r)}return Array.isArray(t)?JI(t,e,r):""}function JI(t,e,r){const n=[];let i=-1;for(;++i<t.length;)n[i]=PX(t[i],e,r);return n.join("")}const FX={}.hasOwnProperty;function p2t(t,e,r){return typeof e!="string"&&(r=e,e=void 0),function(n){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l($t),autolinkProtocol:E,autolinkEmail:E,atxHeading:l(dt),blockQuote:l(_t),characterEscape:E,characterReference:E,codeFenced:l(X),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(X,u),codeText:l(Et,u),codeTextData:E,data:E,codeFlowValue:E,definition:l(H),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(ct),hardBreakEscape:l(Nt),hardBreakTrailing:l(Nt),htmlFlow:l(ft,u),htmlFlowData:E,htmlText:l(ft,u),htmlTextData:E,image:l(Dt),label:u,link:l($t),listItem:l(It),listItemValue:m,listOrdered:l(mt,g),listUnordered:l(mt),paragraph:l(gt),reference:G,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(dt),strong:l(xt),thematicBreak:l(lt)},exit:{atxHeading:d(),atxHeadingSequence:T,autolink:d(),autolinkEmail:st,autolinkProtocol:ut,blockQuote:d(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:rt,characterReferenceMarkerNumeric:rt,characterReferenceValue:tt,characterReference:at,codeFenced:d(b),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:$,codeIndented:d(k),codeText:d(R),codeTextData:$,data:$,definition:d(),definitionDestinationString:S,definitionLabelString:N,definitionTitleString:_,emphasis:d(),hardBreakEscape:d(L),hardBreakTrailing:d(L),htmlFlow:d(O),htmlFlowData:$,htmlText:d(B),htmlTextData:$,image:d(F),label:U,labelText:P,lineEnding:I,link:d(M),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:W,resourceTitleString:Q,resource:K,setextHeading:d(D),setextHeadingLineSequence:C,setextHeadingText:A,strong:d(),thematicBreak:d()}};zX(i,(n||{}).mdastExtensions||[]);const o={};return a;function a(ot){let Y={type:"root",children:[]};const Ot={stack:[Y],tokenStack:[],config:i,enter:h,exit:p,buffer:u,resume:f,data:o},nt=[];let Ut=-1;for(;++Ut<ot.length;)(ot[Ut][1].type==="listOrdered"||ot[Ut][1].type==="listUnordered")&&(ot[Ut][0]==="enter"?nt.push(Ut):Ut=s(ot,nt.pop(),Ut));for(Ut=-1;++Ut<ot.length;){const Ft=i[ot[Ut][0]];FX.call(Ft,ot[Ut][1].type)&&Ft[ot[Ut][1].type].call(Object.assign({sliceSerialize:ot[Ut][2].sliceSerialize},Ot),ot[Ut][1])}if(Ot.tokenStack.length>0){const Ft=Ot.tokenStack[Ot.tokenStack.length-1];(Ft[1]||tL).call(Ot,void 0,Ft[0])}for(Y.position={start:Jc(ot.length>0?ot[0][1].start:{line:1,column:1,offset:0}),end:Jc(ot.length>0?ot[ot.length-2][1].end:{line:1,column:1,offset:0})},Ut=-1;++Ut<i.transforms.length;)Y=i.transforms[Ut](Y)||Y;return Y}function s(ot,Y,Ot){let nt,Ut,Ft,qt,Wt=Y-1,Ht=-1,Xe=!1;for(;++Wt<=Ot;){const Vt=ot[Wt];switch(Vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":Vt[0]==="enter"?Ht++:Ht--,qt=void 0;break;case"lineEndingBlank":Vt[0]==="enter"&&(!nt||qt||Ht||Ft||(Ft=Wt),qt=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qt=void 0}if(!Ht&&Vt[0]==="enter"&&Vt[1].type==="listItemPrefix"||Ht===-1&&Vt[0]==="exit"&&(Vt[1].type==="listUnordered"||Vt[1].type==="listOrdered")){if(nt){let xe=Wt;for(Ut=void 0;xe--;){const Kt=ot[xe];if(Kt[1].type==="lineEnding"||Kt[1].type==="lineEndingBlank"){if(Kt[0]==="exit")continue;Ut&&(ot[Ut][1].type="lineEndingBlank",Xe=!0),Kt[1].type="lineEnding",Ut=xe}else if(Kt[1].type!=="linePrefix"&&Kt[1].type!=="blockQuotePrefix"&&Kt[1].type!=="blockQuotePrefixWhitespace"&&Kt[1].type!=="blockQuoteMarker"&&Kt[1].type!=="listItemIndent")break}Ft&&(!Ut||Ft<Ut)&&(nt._spread=!0),nt.end=Object.assign({},Ut?ot[Ut][1].start:Vt[1].end),ot.splice(Ut||Wt,0,["exit",nt,Vt[2]]),Wt++,Ot++}if(Vt[1].type==="listItemPrefix"){const xe={type:"listItem",_spread:!1,start:Object.assign({},Vt[1].start),end:void 0};nt=xe,ot.splice(Wt,0,["enter",xe,Vt[2]]),Wt++,Ot++,Ft=void 0,qt=!0}}}return ot[Y][1]._spread=Xe,Ot}function l(ot,Y){return Ot;function Ot(nt){h.call(this,ot(nt),nt),Y&&Y.call(this,nt)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(ot,Y,Ot){this.stack[this.stack.length-1].children.push(ot),this.stack.push(ot),this.tokenStack.push([Y,Ot||void 0]),ot.position={start:Jc(Y.start),end:void 0}}function d(ot){return Y;function Y(Ot){ot&&ot.call(this,Ot),p.call(this,Ot)}}function p(ot,Y){const Ot=this.stack.pop(),nt=this.tokenStack.pop();if(!nt)throw new Error("Cannot close `"+ot.type+"` ("+im({start:ot.start,end:ot.end})+"): it’s not open");nt[0].type!==ot.type&&(Y?Y.call(this,ot,nt[0]):(nt[1]||tL).call(this,ot,nt[0])),Ot.position.end=Jc(ot.end)}function f(){return BC(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function m(ot){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(ot),10),this.data.expectingFirstListItemValue=void 0)}function y(){const ot=this.resume();this.stack[this.stack.length-1].lang=ot}function v(){const ot=this.resume();this.stack[this.stack.length-1].meta=ot}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ot=this.resume();this.stack[this.stack.length-1].value=ot.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ot=this.resume();this.stack[this.stack.length-1].value=ot.replace(/(\r?\n|\r)$/g,"")}function N(ot){const Y=this.resume(),Ot=this.stack[this.stack.length-1];Ot.label=Y,Ot.identifier=Zs(this.sliceSerialize(ot)).toLowerCase()}function _(){const ot=this.resume();this.stack[this.stack.length-1].title=ot}function S(){const ot=this.resume();this.stack[this.stack.length-1].url=ot}function T(ot){const Y=this.stack[this.stack.length-1];if(!Y.depth){const Ot=this.sliceSerialize(ot).length;Y.depth=Ot}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function C(ot){this.stack[this.stack.length-1].depth=this.sliceSerialize(ot).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function E(ot){const Y=this.stack[this.stack.length-1].children;let Ot=Y[Y.length-1];Ot&&Ot.type==="text"||(Ot=Ct(),Ot.position={start:Jc(ot.start),end:void 0},Y.push(Ot)),this.stack.push(Ot)}function $(ot){const Y=this.stack.pop();Y.value+=this.sliceSerialize(ot),Y.position.end=Jc(ot.end)}function I(ot){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak)return Y.children[Y.children.length-1].position.end=Jc(ot.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(Y.type)&&(E.call(this,ot),$.call(this,ot))}function L(){this.data.atHardBreak=!0}function O(){const ot=this.resume();this.stack[this.stack.length-1].value=ot}function B(){const ot=this.resume();this.stack[this.stack.length-1].value=ot}function R(){const ot=this.resume();this.stack[this.stack.length-1].value=ot}function M(){const ot=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";ot.type+="Reference",ot.referenceType=Y,delete ot.url,delete ot.title}else delete ot.identifier,delete ot.label;this.data.referenceType=void 0}function F(){const ot=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";ot.type+="Reference",ot.referenceType=Y,delete ot.url,delete ot.title}else delete ot.identifier,delete ot.label;this.data.referenceType=void 0}function P(ot){const Y=this.sliceSerialize(ot),Ot=this.stack[this.stack.length-2];Ot.label=gvt(Y),Ot.identifier=Zs(Y).toLowerCase()}function U(){const ot=this.stack[this.stack.length-1],Y=this.resume(),Ot=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ot.type==="link"){const nt=ot.children;Ot.children=nt}else Ot.alt=Y}function W(){const ot=this.resume();this.stack[this.stack.length-1].url=ot}function Q(){const ot=this.resume();this.stack[this.stack.length-1].title=ot}function K(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function V(ot){const Y=this.resume(),Ot=this.stack[this.stack.length-1];Ot.label=Y,Ot.identifier=Zs(this.sliceSerialize(ot)).toLowerCase(),this.data.referenceType="full"}function rt(ot){this.data.characterReferenceType=ot.type}function tt(ot){const Y=this.sliceSerialize(ot),Ot=this.data.characterReferenceType;let nt;Ot?(nt=AX(Y,Ot==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=OC(Y),this.stack[this.stack.length-1].value+=nt}function at(ot){this.stack.pop().position.end=Jc(ot.end)}function ut(ot){$.call(this,ot),this.stack[this.stack.length-1].url=this.sliceSerialize(ot)}function st(ot){$.call(this,ot),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(ot)}function _t(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function Et(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function dt(){return{type:"heading",depth:0,children:[]}}function Nt(){return{type:"break"}}function ft(){return{type:"html",value:""}}function Dt(){return{type:"image",title:null,url:"",alt:null}}function $t(){return{type:"link",title:null,url:"",children:[]}}function mt(ot){return{type:"list",ordered:ot.type==="listOrdered",start:null,spread:ot._spread,children:[]}}function It(ot){return{type:"listItem",spread:ot._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function xt(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function lt(){return{type:"thematicBreak"}}}(r)(bvt(u2t(r).document().write(h2t()(t,e,!0))))}function Jc(t){return{line:t.line,column:t.column,offset:t.offset}}function zX(t,e){let r=-1;for(;++r<e.length;){const n=e[r];Array.isArray(n)?zX(t,n):f2t(t,n)}}function f2t(t,e){let r;for(r in e)if(FX.call(e,r))switch(r){case"canContainEols":{const n=e[r];n&&t[r].push(...n);break}case"transforms":{const n=e[r];n&&t[r].push(...n);break}case"enter":case"exit":{const n=e[r];n&&Object.assign(t[r],n);break}}}function tL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+im({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+im({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+im({start:e.start,end:e.end})+") is still open")}function g2t(t){const e=this;e.parser=function(r){return p2t(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const jX=-1,$4=0,am=1,Tx=2,PC=3,FC=4,zC=5,jC=6,HX=7,UX=8,eL=typeof self=="object"?self:globalThis,rL=t=>((e,r)=>{const n=(o,a)=>(e.set(a,o),o),i=o=>{if(e.has(o))return e.get(o);const[a,s]=r[o];switch(a){case $4:case jX:return n(s,o);case am:{const l=n([],o);for(const u of s)l.push(i(u));return l}case Tx:{const l=n({},o);for(const[u,h]of s)l[i(u)]=i(h);return l}case PC:return n(new Date(s),o);case FC:{const{source:l,flags:u}=s;return n(new RegExp(l,u),o)}case zC:{const l=n(new Map,o);for(const[u,h]of s)l.set(i(u),i(h));return l}case jC:{const l=n(new Set,o);for(const u of s)l.add(i(u));return l}case HX:{const{name:l,message:u}=s;return n(new eL[l](u),o)}case UX:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new eL[a](s),o)};return i})(new Map,t)(0),pp="",{toString:m2t}={},{keys:y2t}=Object,Gg=t=>{const e=typeof t;if(e!=="object"||!t)return[$4,e];const r=m2t.call(t).slice(8,-1);switch(r){case"Array":return[am,pp];case"Object":return[Tx,pp];case"Date":return[PC,pp];case"RegExp":return[FC,pp];case"Map":return[zC,pp];case"Set":return[jC,pp];case"DataView":return[am,r]}return r.includes("Array")?[am,r]:r.includes("Error")?[HX,r]:[Tx,r]},Rv=([t,e])=>t===$4&&(e==="function"||e==="symbol"),nL=(t,{json:e,lossy:r}={})=>{const n=[];return((i,o,a,s)=>{const l=(h,d)=>{const p=s.push(h)-1;return a.set(d,p),p},u=h=>{if(a.has(h))return a.get(h);let[d,p]=Gg(h);switch(d){case $4:{let g=h;switch(p){case"bigint":d=UX,g=h.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return l([jX],h)}return l([d,g],h)}case am:{if(p){let y=h;return p==="DataView"?y=new Uint8Array(h.buffer):p==="ArrayBuffer"&&(y=new Uint8Array(h)),l([p,[...y]],h)}const g=[],m=l([d,g],h);for(const y of h)g.push(u(y));return m}case Tx:{if(p)switch(p){case"BigInt":return l([p,h.toString()],h);case"Boolean":case"Number":case"String":return l([p,h.valueOf()],h)}if(o&&"toJSON"in h)return u(h.toJSON());const g=[],m=l([d,g],h);for(const y of y2t(h))!i&&Rv(Gg(h[y]))||g.push([u(y),u(h[y])]);return m}case PC:return l([d,h.toISOString()],h);case FC:{const{source:g,flags:m}=h;return l([d,{source:g,flags:m}],h)}case zC:{const g=[],m=l([d,g],h);for(const[y,v]of h)(i||!Rv(Gg(y))&&!Rv(Gg(v)))&&g.push([u(y),u(v)]);return m}case jC:{const g=[],m=l([d,g],h);for(const y of h)!i&&Rv(Gg(y))||g.push(u(y));return m}}const{message:f}=h;return l([d,{name:p,message:f}],h)};return u})(!(e||r),!!e,new Map,n)(t),n};var $0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?rL(nL(t,e)):structuredClone(t):(t,e)=>rL(nL(t,e));function pg(t){const e=[];let r=-1,n=0,i=0;for(;++r<t.length;){const o=t.charCodeAt(r);let a="";if(o===37&&Co(t.charCodeAt(r+1))&&Co(t.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(r+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="�"}else a=String.fromCharCode(o);a&&(e.push(t.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return e.join("")+t.slice(n)}function v2t(t,e){const r=[{type:"text",value:"↩"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function b2t(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function x2t(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||v2t,n=t.options.footnoteBackLabel||b2t,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),d=String(u.identifier).toUpperCase(),p=pg(d.toLowerCase());let f=0;const g=[],m=t.footnoteCounts.get(d);for(;m!==void 0&&++f<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof r=="string"?r:r(l,f);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const y=h[h.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const x=y.children[y.children.length-1];x&&x.type==="text"?x.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...g)}else h.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(h,!0)};t.patch(u,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$0(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}function w2t(t,e){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function k2t(t,e){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function T2t(t,e){const r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function E2t(t,e){const r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function _2t(t,e){const r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function S2t(t,e){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=pg(n.toLowerCase()),o=t.footnoteOrder.indexOf(n);let a,s=t.footnoteCounts.get(n);s===void 0?(s=0,t.footnoteOrder.push(n),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function A2t(t,e){const r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function C2t(t,e){if(t.options.allowDangerousHtml){const r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}function qX(t,e){const r=e.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function $2t(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return qX(t,e);const i={src:pg(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function N2t(t,e){const r={src:pg(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function I2t(t,e){const r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}function L2t(t,e){const r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return qX(t,e);const i={href:pg(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function R2t(t,e){const r={href:pg(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);const n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function D2t(t,e,r){const n=t.all(e),i=r?function(h){let d=!1;if(h.type==="list"){d=h.spread||!1;const p=h.children;let f=-1;for(;!d&&++f<p.length;)d=iL(p[f])}return d}(r):iL(e),o={},a=[];if(typeof e.checked=="boolean"){const h=n[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const h=n[s];(i||s!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type!=="element"||h.tagName!=="p"||i?a.push(h):a.push(...h.children)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,u),t.applyData(e,u)}function iL(t){const e=t.spread;return e??t.children.length>1}function O2t(t,e){const r={},n=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,o),t.applyData(e,o)}function M2t(t,e){const r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function B2t(t,e){const r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function P2t(t,e){const r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}const N4=GX("end"),Kl=GX("start");function GX(t){return function(e){const r=e&&e.position&&e.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function WX(t){const e=Kl(t),r=N4(t);if(e&&r)return{start:e,end:r}}function F2t(t,e){const r=t.all(e),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},s=Kl(e.children[1]),l=N4(e.children[e.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function z2t(t,e,r){const n=r?r.children:void 0,i=(n?n.indexOf(e):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,a=o?o.length:e.children.length;let s=-1;const l=[];for(;++s<a;){const h=e.children[s],d={},p=o?o[s]:void 0;p&&(d.align=p);let f={type:"element",tagName:i,properties:d,children:[]};h&&(f.children=t.all(h),t.patch(h,f),f=t.applyData(h,f)),l.push(f)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(l,!0)};return t.patch(e,u),t.applyData(e,u)}function j2t(t,e){const r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function H2t(t){const e=String(t),r=/\r?\n|\r/g;let n=r.exec(e),i=0;const o=[];for(;n;)o.push(oL(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(e);return o.push(oL(e.slice(i),i>0,!1)),o.join("")}function oL(t,e,r){let n=0,i=t.length;if(e){let o=t.codePointAt(n);for(;o===9||o===32;)n++,o=t.codePointAt(n)}if(r){let o=t.codePointAt(i-1);for(;o===9||o===32;)i--,o=t.codePointAt(i-1)}return i>n?t.slice(n,i):""}function U2t(t,e){const r={type:"text",value:H2t(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function q2t(t,e){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}const G2t={blockquote:w2t,break:k2t,code:T2t,delete:E2t,emphasis:_2t,footnoteReference:S2t,heading:A2t,html:C2t,imageReference:$2t,image:N2t,inlineCode:I2t,linkReference:L2t,link:R2t,listItem:D2t,list:O2t,paragraph:M2t,root:B2t,strong:P2t,table:F2t,tableCell:j2t,tableRow:z2t,text:U2t,thematicBreak:q2t,toml:Dv,yaml:Dv,definition:Dv,footnoteDefinition:Dv};function Dv(){}const I4=function(t){if(t==null)return W2t;if(typeof t=="function")return Ov(t);if(typeof t=="object")return Array.isArray(t)?function(e){const r=[];let n=-1;for(;++n<e.length;)r[n]=I4(e[n]);return Ov(i);function i(...o){let a=-1;for(;++a<r.length;)if(r[a].apply(this,o))return!0;return!1}}(t):function(e){const r=e;return Ov(n);function n(i){const o=i;let a;for(a in e)if(o[a]!==r[a])return!1;return!0}}(t);if(typeof t=="string")return function(e){return Ov(r);function r(n){return n&&n.type===e}}(t);throw new Error("Expected function, string, or object as test")};function Ov(t){return function(e,r,n){return!!(function(i){return i!==null&&typeof i=="object"&&"type"in i}(e)&&t.call(this,e,typeof r=="number"?r:void 0,n||void 0))}}function W2t(){return!0}const aL=[],V2t=!0,S_=!1,Y2t="skip";function VX(t,e,r,n){let i;typeof e=="function"&&typeof r!="function"?(n=r,r=e):i=e;const o=I4(i),a=n?-1:1;(function s(l,u,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return p;function p(){let f,g,m,y=aL;if((!e||o(l,u,h[h.length-1]||void 0))&&(y=function(v){return Array.isArray(v)?v:typeof v=="number"?[V2t,v]:v==null?aL:[v]}(r(l,h)),y[0]===S_))return y;if("children"in l&&l.children){const v=l;if(v.children&&y[0]!==Y2t)for(g=(n?v.children.length:-1)+a,m=h.concat(v);g>-1&&g<v.children.length;){const x=v.children[g];if(f=s(x,g,m)(),f[0]===S_)return f;g=typeof f[1]=="number"?f[1]:g+a}}return y}})(t,void 0,[])()}function L4(t,e,r,n){let i,o,a;typeof e=="function"&&typeof r!="function"?(o=void 0,a=e,i=r):(o=e,a=r,i=n),VX(t,o,function(s,l){const u=l[l.length-1],h=u?u.children.indexOf(s):void 0;return a(s,h,u)},i)}const A_={}.hasOwnProperty,X2t={};function K2t(t,e){const r=e||X2t,n=new Map,i=new Map,o=new Map,a={...G2t,...r.handlers},s={all:function(l){const u=[];if("children"in l){const h=l.children;let d=-1;for(;++d<h.length;){const p=s.one(h[d],l);if(p){if(d&&h[d-1].type==="break"&&(Array.isArray(p)||p.type!=="text"||(p.value=sL(p.value)),!Array.isArray(p)&&p.type==="element")){const f=p.children[0];f&&f.type==="text"&&(f.value=sL(f.value))}Array.isArray(p)?u.push(...p):u.push(p)}}}return u},applyData:Q2t,definitionById:n,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(l,u){const h=l.type,d=s.handlers[h];if(A_.call(s.handlers,h)&&d)return d(s,l,u);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in l){const{children:p,...f}=l,g=$0(f);return g.children=s.all(l),g}return $0(l)}return(s.options.unknownHandler||J2t)(s,l,u)},options:r,patch:Z2t,wrap:tbt};return L4(t,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){const u=l.type==="definition"?n:i,h=String(l.identifier).toUpperCase();u.has(h)||u.set(h,l)}}),s}function Z2t(t,e){t.position&&(e.position=WX(t))}function Q2t(t,e){let r=e;if(t&&t.data){const n=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;typeof n=="string"&&(r.type==="element"?r.tagName=n:r={type:"element",tagName:n,properties:{},children:"children"in r?r.children:[r]}),r.type==="element"&&o&&Object.assign(r.properties,$0(o)),"children"in r&&r.children&&i!=null&&(r.children=i)}return r}function J2t(t,e){const r=e.data||{},n=!("value"in e)||A_.call(r,"hProperties")||A_.call(r,"hChildren")?{type:"element",tagName:"div",properties:{},children:t.all(e)}:{type:"text",value:e.value};return t.patch(e,n),t.applyData(e,n)}function tbt(t,e){const r=[];let n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function sL(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function lL(t,e){const r=K2t(t,e),n=r.one(t,void 0),i=x2t(r),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function ebt(t,e){return t&&"run"in t?async function(r,n){const i=lL(r,{file:n,...e});await t.run(i,n)}:function(r,n){return lL(r,{file:n,...t||e})}}function cL(t){const e=[],r=String(t||"");let n=r.indexOf(","),i=0,o=!1;for(;!o;){n===-1&&(n=r.length,o=!0);const a=r.slice(i,n).trim();!a&&o||e.push(a),i=n+1,n=r.indexOf(",",i)}return e}function YX(t,e){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}let sm=class{constructor(e,r,n){this.normal=r,this.property=e,n&&(this.space=n)}};sm.prototype.normal={},sm.prototype.property={},sm.prototype.space=void 0;function XX(t,e){const r={},n={};for(const i of t)Object.assign(r,i.property),Object.assign(n,i.normal);return new sm(r,n,e)}function Lm(t){return t.toLowerCase()}let la=class{constructor(e,r){this.attribute=r,this.property=e}};la.prototype.attribute="",la.prototype.booleanish=!1,la.prototype.boolean=!1,la.prototype.commaOrSpaceSeparated=!1,la.prototype.commaSeparated=!1,la.prototype.defined=!1,la.prototype.mustUseProperty=!1,la.prototype.number=!1,la.prototype.overloadedBoolean=!1,la.prototype.property="",la.prototype.spaceSeparated=!1,la.prototype.space=void 0;let rbt=0;const gr=ep(),oi=ep(),KX=ep(),le=ep(),yn=ep(),mf=ep(),Ra=ep();function ep(){return 2**++rbt}const C_=Object.freeze(Object.defineProperty({__proto__:null,boolean:gr,booleanish:oi,commaOrSpaceSeparated:Ra,commaSeparated:mf,number:le,overloadedBoolean:KX,spaceSeparated:yn},Symbol.toStringTag,{value:"Module"})),Fw=Object.keys(C_);let HC=class extends la{constructor(e,r,n,i){let o=-1;if(super(e,r),uL(this,"space",i),typeof n=="number")for(;++o<Fw.length;){const a=Fw[o];uL(this,Fw[o],(n&C_[a])===C_[a])}}};function uL(t,e,r){r&&(t[e]=r)}HC.prototype.defined=!0;function fg(t){const e={},r={};for(const[n,i]of Object.entries(t.properties)){const o=new HC(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,r[Lm(n)]=n,r[Lm(o.attribute)]=n}return new sm(e,r,t.space)}const ZX=fg({properties:{ariaActiveDescendant:null,ariaAtomic:oi,ariaAutoComplete:null,ariaBusy:oi,ariaChecked:oi,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:yn,ariaCurrent:null,ariaDescribedBy:yn,ariaDetails:null,ariaDisabled:oi,ariaDropEffect:yn,ariaErrorMessage:null,ariaExpanded:oi,ariaFlowTo:yn,ariaGrabbed:oi,ariaHasPopup:null,ariaHidden:oi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yn,ariaLevel:le,ariaLive:null,ariaModal:oi,ariaMultiLine:oi,ariaMultiSelectable:oi,ariaOrientation:null,ariaOwns:yn,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:oi,ariaReadOnly:oi,ariaRelevant:null,ariaRequired:oi,ariaRoleDescription:yn,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:oi,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform:(t,e)=>e==="role"?e:"aria-"+e.slice(4).toLowerCase()});function QX(t,e){return e in t?t[e]:e}function JX(t,e){return QX(t,e.toLowerCase())}const nbt=fg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mf,acceptCharset:yn,accessKey:yn,action:null,allow:null,allowFullScreen:gr,allowPaymentRequest:gr,allowUserMedia:gr,alt:null,as:null,async:gr,autoCapitalize:null,autoComplete:yn,autoFocus:gr,autoPlay:gr,blocking:yn,capture:null,charSet:null,checked:gr,cite:null,className:yn,cols:le,colSpan:null,content:null,contentEditable:oi,controls:gr,controlsList:yn,coords:le|mf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:gr,defer:gr,dir:null,dirName:null,disabled:gr,download:KX,draggable:oi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:gr,formTarget:null,headers:yn,height:le,hidden:gr,high:le,href:null,hrefLang:null,htmlFor:yn,httpEquiv:yn,id:null,imageSizes:null,imageSrcSet:null,inert:gr,inputMode:null,integrity:null,is:null,isMap:gr,itemId:null,itemProp:yn,itemRef:yn,itemScope:gr,itemType:yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:gr,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:gr,muted:gr,name:null,nonce:null,noModule:gr,noValidate:gr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:gr,optimum:le,pattern:null,ping:yn,placeholder:null,playsInline:gr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:gr,referrerPolicy:null,rel:yn,required:gr,reversed:gr,rows:le,rowSpan:le,sandbox:yn,scope:null,scoped:gr,seamless:gr,selected:gr,shadowRootClonable:gr,shadowRootDelegatesFocus:gr,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:oi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:gr,useMap:null,value:oi,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yn,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:gr,declare:gr,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:gr,noHref:gr,noShade:gr,noWrap:gr,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:oi,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:gr,disableRemotePlayback:gr,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:JX}),ibt=fg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ra,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:gr,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mf,g2:mf,glyphName:mf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:Ra,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ra,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ra,rev:Ra,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ra,requiredFeatures:Ra,requiredFonts:Ra,requiredFormats:Ra,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:Ra,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ra,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ra,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:QX}),tK=fg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(t,e)=>"xlink:"+e.slice(5).toLowerCase()}),eK=fg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JX}),rK=fg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(t,e)=>"xml:"+e.slice(3).toLowerCase()}),R4=XX([ZX,nbt,tK,eK,rK],"html"),N0=XX([ZX,ibt,tK,eK,rK],"svg");function hL(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function nK(t){return t.join(" ").trim()}var $_={},dL=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,obt=/\n/g,abt=/^\s*/,sbt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,lbt=/^:\s*/,cbt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ubt=/^[;\s]*/,hbt=/^\s+|\s+$/g,td="",dbt=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function i(f){var g=f.match(obt);g&&(r+=g.length);var m=f.lastIndexOf(`
`);n=~m?f.length-m:n+f.length}function o(){var f={line:r,column:n};return function(g){return g.position=new a(f),u(),g}}function a(f){this.start=f,this.end={line:r,column:n},this.source=e.source}function s(f){var g=new Error(e.source+":"+r+":"+n+": "+f);if(g.reason=f,g.filename=e.source,g.line=r,g.column=n,g.source=t,!e.silent)throw g}function l(f){var g=f.exec(t);if(g){var m=g[0];return i(m),t=t.slice(m.length),g}}function u(){l(abt)}function h(f){var g;for(f=f||[];g=d();)g!==!1&&f.push(g);return f}function d(){var f=o();if(t.charAt(0)=="/"&&t.charAt(1)=="*"){for(var g=2;td!=t.charAt(g)&&(t.charAt(g)!="*"||t.charAt(g+1)!="/");)++g;if(g+=2,td===t.charAt(g-1))return s("End of comment missing");var m=t.slice(2,g-2);return n+=2,i(m),t=t.slice(g),n+=2,f({type:"comment",comment:m})}}function p(){var f=o(),g=l(sbt);if(g){if(d(),!l(lbt))return s("property missing ':'");var m=l(cbt),y=f({type:"declaration",property:pL(g[0].replace(dL,td)),value:m?pL(m[0].replace(dL,td)):td});return l(ubt),y}}return a.prototype.content=t,u(),function(){var f,g=[];for(h(g);f=p();)f!==!1&&(g.push(f),h(g));return g}()};function pL(t){return t?t.replace(hbt,td):td}var pbt=Wu&&Wu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($_,"__esModule",{value:!0}),$_.default=function(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,fbt.default)(t),i=typeof e=="function";return n.forEach(function(o){if(o.type==="declaration"){var a=o.property,s=o.value;i?e(a,s,o):s&&((r=r||{})[a]=s)}}),r};var fbt=pbt(dbt),Ex={};Object.defineProperty(Ex,"__esModule",{value:!0}),Ex.camelCase=void 0;var gbt=/^--[a-zA-Z0-9_-]+$/,mbt=/-([a-z])/g,ybt=/^[^-]+$/,vbt=/^-(webkit|moz|ms|o|khtml)-/,bbt=/^-(ms)-/,xbt=function(t,e){return e.toUpperCase()},fL=function(t,e){return"".concat(e,"-")};Ex.camelCase=function(t,e){return e===void 0&&(e={}),function(r){return!r||ybt.test(r)||gbt.test(r)}(t)?t:(t=t.toLowerCase(),(t=e.reactCompat?t.replace(bbt,fL):t.replace(vbt,fL)).replace(mbt,xbt))};var wbt=(Wu&&Wu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})($_),kbt=Ex;function N_(t,e){var r={};return t&&typeof t=="string"&&(0,wbt.default)(t,function(n,i){n&&i&&(r[(0,kbt.camelCase)(n,e)]=i)}),r}N_.default=N_;var Tbt=dh(N_);const Ebt=/[ \t\n\f\r]/g;function _bt(t){return typeof t=="object"?t.type==="text"&&gL(t.value):gL(t)}function gL(t){return t.replace(Ebt,"")===""}const Sbt=/[A-Z]/g,mL=/-[a-z]/g,Abt=/^data[-\w.:]+$/i;function UC(t,e){const r=Lm(e);let n=e,i=la;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Abt.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(mL,$bt);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!mL.test(o)){let a=o.replace(Sbt,Cbt);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=HC}return new i(n,e)}function Cbt(t){return"-"+t.toLowerCase()}function $bt(t){return t.charAt(1).toUpperCase()}const Nbt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ibt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lbt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rbt={};function yL(t,e){return(Rbt.jsx?Lbt:Ibt).test(t)}const qC={}.hasOwnProperty,Dbt=new Map,Obt=/[A-Z]/g,Mbt=new Set(["table","tbody","thead","tfoot","tr"]),Bbt=new Set(["td","th"]),iK="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Pbt(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=function(a,s){return l;function l(u,h,d,p){const f=Array.isArray(d.children),g=Kl(u);return s(h,d,p,f,{columnNumber:g?g.column-1:void 0,fileName:a,lineNumber:g?g.line:void 0},void 0)}}(r,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=function(a,s,l){return u;function u(h,d,p,f){const g=Array.isArray(p.children)?l:s;return f?g(d,p,f):g(d,p)}}(0,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?N0:R4,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=oK(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function oK(t,e,r){return e.type==="element"?function(n,i,o){const a=n.schema;let s=a;i.tagName.toLowerCase()==="svg"&&a.space==="html"&&(s=N0,n.schema=s),n.ancestors.push(i);const l=bL(n,i.tagName,!1),u=function(d,p){const f={};let g,m;for(m in p.properties)if(m!=="children"&&qC.call(p.properties,m)){const y=Fbt(d,m,p.properties[m]);if(y){const[v,x]=y;d.tableCellAlignToStyle&&v==="align"&&typeof x=="string"&&Bbt.has(p.tagName)?g=x:f[v]=x}}return g&&((f.style||(f.style={}))[d.stylePropertyNameCase==="css"?"text-align":"textAlign"]=g),f}(n,i);let h=jw(n,i);return Mbt.has(i.tagName)&&(h=h.filter(function(d){return typeof d!="string"||!_bt(d)})),vL(n,u,l,i),zw(u,h),n.ancestors.pop(),n.schema=a,n.create(i,l,u,o)}(t,e,r):e.type==="mdxFlowExpression"||e.type==="mdxTextExpression"?function(n,i){if(i.data&&i.data.estree&&n.evaluater){const o=i.data.estree.body[0];return o.type,n.evaluater.evaluateExpression(o.expression)}$1(n,i.position)}(t,e):e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement"?function(n,i,o){const a=n.schema;let s=a;i.name==="svg"&&a.space==="html"&&(s=N0,n.schema=s),n.ancestors.push(i);const l=i.name===null?n.Fragment:bL(n,i.name,!0),u=function(d,p){const f={};for(const g of p.attributes)if(g.type==="mdxJsxExpressionAttribute")if(g.data&&g.data.estree&&d.evaluater){const m=g.data.estree.body[0];m.type;const y=m.expression;y.type;const v=y.properties[0];v.type,Object.assign(f,d.evaluater.evaluateExpression(v.argument))}else $1(d,p.position);else{const m=g.name;let y;if(g.value&&typeof g.value=="object")if(g.value.data&&g.value.data.estree&&d.evaluater){const v=g.value.data.estree.body[0];v.type,y=d.evaluater.evaluateExpression(v.expression)}else $1(d,p.position);else y=g.value===null||g.value;f[m]=y}return f}(n,i),h=jw(n,i);return vL(n,u,l,i),zw(u,h),n.ancestors.pop(),n.schema=a,n.create(i,l,u,o)}(t,e,r):e.type==="mdxjsEsm"?function(n,i){if(i.data&&i.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(i.data.estree);$1(n,i.position)}(t,e):e.type==="root"?function(n,i,o){const a={};return zw(a,jw(n,i)),n.create(i,n.Fragment,a,o)}(t,e,r):e.type==="text"?function(n,i){return i.value}(0,e):void 0}function vL(t,e,r,n){typeof r!="string"&&r!==t.Fragment&&t.passNode&&(e.node=n)}function zw(t,e){if(e.length>0){const r=e.length>1?e:e[0];r&&(t.children=r)}}function jw(t,e){const r=[];let n=-1;const i=t.passKeys?new Map:Dbt;for(;++n<e.children.length;){const o=e.children[n];let a;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const s=oK(t,o,a);s!==void 0&&r.push(s)}return r}function Fbt(t,e,r){const n=UC(t.schema,e);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?YX(r):nK(r)),n.property==="style"){let i=typeof r=="object"?r:function(o,a){try{return Tbt(a,{reactCompat:!0})}catch(s){if(o.ignoreInvalidStyle)return{};const l=s,u=new ko("Cannot parse `style` attribute",{ancestors:o.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=o.filePath||void 0,u.url=iK+"#cannot-parse-style-attribute",u}}(t,String(r));return t.stylePropertyNameCase==="css"&&(i=function(o){const a={};let s;for(s in o)qC.call(o,s)&&(a[zbt(s)]=o[s]);return a}(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&n.space?Nbt[n.property]||n.property:n.attribute,r]}}function bL(t,e,r){let n;if(r)if(e.includes(".")){const i=e.split(".");let o,a=-1;for(;++a<i.length;){const s=yL(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}n=o}else n=yL(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};else n={type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return qC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(n);$1(t)}function $1(t,e){const r=new ko("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=iK+"#cannot-handle-mdx-estrees-without-createevaluater",r}function zbt(t){let e=t.replace(Obt,jbt);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jbt(t){return"-"+t.toLowerCase()}const Hw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Hbt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xL=[],wL={allowDangerousHtml:!0},Ubt=/^(https?|ircs?|mailto|xmpp)$/i,qbt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Gbt(t){const e=function(n){const i=n.rehypePlugins||xL,o=n.remarkPlugins||xL,a=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...wL}:wL;return dvt().use(g2t).use(o).use(ebt,a).use(i)}(t),r=function(n){const i=n.children||"",o=new _X;return typeof i=="string"&&(o.value=i),o}(t);return function(n,i){const o=i.allowedElements,a=i.allowElement,s=i.components,l=i.disallowedElements,u=i.skipHtml,h=i.unwrapDisallowed,d=i.urlTransform||Wbt;for(const f of qbt)Object.hasOwn(i,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Hbt+f.id,void 0);return i.className&&(n={type:"element",tagName:"div",properties:{className:i.className},children:n.type==="root"?n.children:[n]}),L4(n,p),Pbt(n,{Fragment:bt.Fragment,components:s,ignoreInvalidStyle:!0,jsx:bt.jsx,jsxs:bt.jsxs,passKeys:!0,passNode:!0});function p(f,g,m){if(f.type==="raw"&&m&&typeof g=="number")return u?m.children.splice(g,1):m.children[g]={type:"text",value:f.value},g;if(f.type==="element"){let y;for(y in Hw)if(Object.hasOwn(Hw,y)&&Object.hasOwn(f.properties,y)){const v=f.properties[y],x=Hw[y];(x===null||x.includes(f.tagName))&&(f.properties[y]=d(String(v||""),y,f))}}if(f.type==="element"){let y=o?!o.includes(f.tagName):!!l&&l.includes(f.tagName);if(!y&&a&&typeof g=="number"&&(y=!a(f,g,m)),y&&m&&typeof g=="number")return h&&f.children?m.children.splice(g,1,...f.children):m.children.splice(g,1),g}}}(e.runSync(e.parse(r),r),t)}function Wbt(t){const e=t.indexOf(":"),r=t.indexOf("?"),n=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||r!==-1&&e>r||n!==-1&&e>n||Ubt.test(t.slice(0,e))?t:""}const Vbt={tokenize:function(t,e,r){let n=0;return function o(a){return(a===87||a===119)&&n<3?(n++,t.consume(a),o):a===46&&n===3?(t.consume(a),i):r(a)};function i(o){return o===null?r(o):e(o)}},partial:!0},aK={tokenize:function(t,e,r){let n,i,o;return a;function a(u){return u===46||u===95?t.check(lK,l,s)(u):u===null||un(u)||Rd(u)||u!==45&&A4(u)?l(u):(o=!0,t.consume(u),a)}function s(u){return u===95?n=!0:(i=n,n=void 0),t.consume(u),a}function l(u){return i||n||!o?r(u):e(u)}},partial:!0},sK={tokenize:function(t,e){let r=0,n=0;return i;function i(a){return a===40?(r++,t.consume(a),i):a===41&&n<r?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(lK,e,o)(a):a===null||un(a)||Rd(a)?e(a):(t.consume(a),i)}function o(a){return a===41&&n++,t.consume(a),i}},partial:!0},lK={tokenize:function(t,e,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),n):s===38?(t.consume(s),o):s===93?(t.consume(s),i):s===60||s===null||un(s)||Rd(s)?e(s):r(s)}function i(s){return s===null||s===40||s===91||un(s)||Rd(s)?e(s):n(s)}function o(s){return qo(s)?a(s):r(s)}function a(s){return s===59?(t.consume(s),n):qo(s)?(t.consume(s),a):r(s)}},partial:!0},Ybt={tokenize:function(t,e,r){return function(i){return t.consume(i),n};function n(i){return Co(i)?r(i):e(i)}},partial:!0},kL={name:"wwwAutolink",tokenize:function(t,e,r){const n=this;return function(o){return o!==87&&o!==119||!EL.call(n,n.previous)||GC(n.events)?r(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Vbt,t.attempt(aK,t.attempt(sK,i),r),r)(o))};function i(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}},previous:EL},TL={name:"protocolAutolink",tokenize:function(t,e,r){const n=this;let i="",o=!1;return function(h){return(h===72||h===104)&&_L.call(n,n.previous)&&!GC(n.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),a):r(h)};function a(h){if(qo(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),a;if(h===58){const d=i.toLowerCase();if(d==="http"||d==="https")return t.consume(h),s}return r(h)}function s(h){return h===47?(t.consume(h),o?l:(o=!0,s)):r(h)}function l(h){return h===null||kx(h)||un(h)||Rd(h)||A4(h)?r(h):t.attempt(aK,t.attempt(sK,u),r)(h)}function u(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}},previous:_L},hc={name:"emailAutolink",tokenize:function(t,e,r){const n=this;let i,o;return function(h){return!I_(h)||!SL.call(n,n.previous)||GC(n.events)?r(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(h))};function a(h){return I_(h)?(t.consume(h),a):h===64?(t.consume(h),s):r(h)}function s(h){return h===46?t.check(Ybt,u,l)(h):h===45||h===95||Co(h)?(o=!0,t.consume(h),s):u(h)}function l(h){return t.consume(h),i=!0,s}function u(h){return o&&i&&qo(n.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):r(h)}},previous:SL},kl={};function Xbt(){return{text:kl}}let _h=48;for(;_h<123;)kl[_h]=hc,_h++,_h===58?_h=65:_h===91&&(_h=97);function EL(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||un(t)}function _L(t){return!qo(t)}function SL(t){return!(t===47||I_(t))}function I_(t){return t===43||t===45||t===46||t===95||Co(t)}function GC(t){let e=t.length,r=!1;for(;e--;){const n=t[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}kl[43]=hc,kl[45]=hc,kl[46]=hc,kl[95]=hc,kl[72]=[hc,TL],kl[104]=[hc,TL],kl[87]=[hc,kL],kl[119]=[hc,kL];const Kbt={tokenize:function(t,e,r){const n=this;return Lr(t,function(i){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(i):r(i)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function Zbt(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ext,continuation:{tokenize:rxt},exit:nxt}},text:{91:{name:"gfmFootnoteCall",tokenize:txt},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Qbt,resolveTo:Jbt}}}}function Qbt(t,e,r){const n=this;let i=n.events.length;const o=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const s=n.events[i][1];if(s.type==="labelImage"){a=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return function(s){if(!a||!a._balanced)return r(s);const l=Zs(n.sliceSerialize({start:a.end,end:n.now()}));return l.codePointAt(0)!==94||!o.includes(l.slice(1))?r(s):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(s),t.exit("gfmFootnoteCallLabelMarker"),e(s))}}function Jbt(t,e){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[t[r+1],t[r+2],["enter",n,e],t[r+3],t[r+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",n,e]];return t.splice(r,t.length-r+1,...s),t}function txt(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o,a=0;return function(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),s};function s(h){return h!==94?r(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",l)}function l(h){if(a>999||h===93&&!o||h===null||h===91||un(h))return r(h);if(h===93){t.exit("chunkString");const d=t.exit("gfmFootnoteCallString");return i.includes(Zs(n.sliceSerialize(d)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):r(h)}return un(h)||(o=!0),a++,t.consume(h),h===92?u:l}function u(h){return h===91||h===92||h===93?(t.consume(h),a++,l):l(h)}}function ext(t,e,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o,a,s=0;return function(f){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(f){return f===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):r(f)}function u(f){if(s>999||f===93&&!a||f===null||f===91||un(f))return r(f);if(f===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return o=Zs(n.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),d}return un(f)||(a=!0),s++,t.consume(f),f===92?h:u}function h(f){return f===91||f===92||f===93?(t.consume(f),s++,u):u(f)}function d(f){return f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),i.includes(o)||i.push(o),Lr(t,p,"gfmFootnoteDefinitionWhitespace")):r(f)}function p(f){return e(f)}}function rxt(t,e,r){return t.check(Im,e,t.attempt(Kbt,e,r))}function nxt(t){t.exit("gfmFootnoteDefinition")}function ixt(t){let e=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:function(n,i,o){const a=this.previous,s=this.events;let l=0;return function(h){return a===126&&s[s.length-1][1].type!=="characterEscape"?o(h):(n.enter("strikethroughSequenceTemporary"),u(h))};function u(h){const d=C0(a);if(h===126)return l>1?o(h):(n.consume(h),l++,u);if(l<2&&!e)return o(h);const p=n.exit("strikethroughSequenceTemporary"),f=C0(h);return p._open=!f||f===2&&!!d,p._close=!d||d===2&&!!f,i(h)}},resolveAll:function(n,i){let o=-1;for(;++o<n.length;)if(n[o][0]==="enter"&&n[o][1].type==="strikethroughSequenceTemporary"&&n[o][1]._close){let a=o;for(;a--;)if(n[a][0]==="exit"&&n[a][1].type==="strikethroughSequenceTemporary"&&n[a][1]._open&&n[o][1].end.offset-n[o][1].start.offset==n[a][1].end.offset-n[a][1].start.offset){n[o][1].type="strikethroughSequence",n[a][1].type="strikethroughSequence";const s={type:"strikethrough",start:Object.assign({},n[a][1].start),end:Object.assign({},n[o][1].end)},l={type:"strikethroughText",start:Object.assign({},n[a][1].end),end:Object.assign({},n[o][1].start)},u=[["enter",s,i],["enter",n[a][1],i],["exit",n[a][1],i],["enter",l,i]],h=i.parser.constructs.insideSpan.null;h&&Ha(u,u.length,0,C4(h,n.slice(a+1,o),i)),Ha(u,u.length,0,[["exit",l,i],["enter",n[o][1],i],["exit",n[o][1],i],["exit",s,i]]),Ha(n,a-1,o-a+3,u),o=a+u.length-2;break}}for(o=-1;++o<n.length;)n[o][1].type==="strikethroughSequenceTemporary"&&(n[o][1].type="data");return n}};return e==null&&(e=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}}}let oxt=class{constructor(){this.map=[]}add(e,r,n){(function(i,o,a,s){let l=0;if(!(a===0&&s.length===0)){for(;l<i.map.length;){if(i.map[l][0]===o)return i.map[l][1]+=a,void i.map[l][2].push(...s);l+=1}i.map.push([o,a,s])}})(this,e,r,n)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(e.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),e.length=this.map[r][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const o of i)e.push(o);i=n.pop()}this.map.length=0}};function axt(t,e){let r=!1;const n=[];for(;e<t.length;){const i=t[e];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=n.length-1;n[o]=n[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);e+=1}return n}function sxt(){return{flow:{null:{name:"table",tokenize:lxt,resolveAll:cxt}}}}function lxt(t,e,r){const n=this;let i,o=0,a=0;return function(T){let A=n.events.length-1;for(;A>-1;){const E=n.events[A][1].type;if(E!=="lineEnding"&&E!=="linePrefix")break;A--}const C=A>-1?n.events[A][1].type:null,D=C==="tableHead"||C==="tableRow"?k:s;return D===k&&n.parser.lazy[n.now().line]?r(T):D(T)};function s(T){return t.enter("tableHead"),t.enter("tableRow"),function(A){return A===124||(i=!0,a+=1),l(A)}(T)}function l(T){return T===null?r(T):tr(T)?a>1?(a=0,n.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),d):r(T):_r(T)?Lr(t,l,"whitespace")(T):(a+=1,i&&(i=!1,o+=1),T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),i=!0,l):(t.enter("data"),u(T)))}function u(T){return T===null||T===124||un(T)?(t.exit("data"),l(T)):(t.consume(T),T===92?h:u)}function h(T){return T===92||T===124?(t.consume(T),u):u(T)}function d(T){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(T):(t.enter("tableDelimiterRow"),i=!1,_r(T)?Lr(t,p,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?g(T):T===124?(i=!0,t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),f):b(T)}function f(T){return _r(T)?Lr(t,g,"whitespace")(T):g(T)}function g(T){return T===58?(a+=1,i=!0,t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),m):T===45?(a+=1,m(T)):T===null||tr(T)?x(T):b(T)}function m(T){return T===45?(t.enter("tableDelimiterFiller"),y(T)):b(T)}function y(T){return T===45?(t.consume(T),y):T===58?(i=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),v):(t.exit("tableDelimiterFiller"),v(T))}function v(T){return _r(T)?Lr(t,x,"whitespace")(T):x(T)}function x(T){return T===124?p(T):(T===null||tr(T))&&i&&o===a?(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(T)):b(T)}function b(T){return r(T)}function k(T){return t.enter("tableRow"),N(T)}function N(T){return T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),N):T===null||tr(T)?(t.exit("tableRow"),e(T)):_r(T)?Lr(t,N,"whitespace")(T):(t.enter("data"),_(T))}function _(T){return T===null||T===124||un(T)?(t.exit("data"),N(T)):(t.consume(T),T===92?S:_)}function S(T){return T===92||T===124?(t.consume(T),_):_(T)}}function cxt(t,e){let r,n,i,o=-1,a=!0,s=0,l=[0,0,0,0],u=[0,0,0,0],h=!1,d=0;const p=new oxt;for(;++o<t.length;){const f=t[o],g=f[1];f[0]==="enter"?g.type==="tableHead"?(h=!1,d!==0&&(AL(p,e,d,r,n),n=void 0,d=0),r={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(o,0,[["enter",r,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(a=!0,i=void 0,l=[0,0,0,0],u=[0,o+1,0,0],h&&(h=!1,n={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(o,0,[["enter",n,e]])),s=g.type==="tableDelimiterRow"?2:n?3:1):!s||g.type!=="data"&&g.type!=="tableDelimiterMarker"&&g.type!=="tableDelimiterFiller"?g.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(u[0]=u[1],i=Mv(p,e,l,s,void 0,i)),l=u,u=[l[1],o,0,0])):(a=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],i=Mv(p,e,l,s,void 0,i),l=[0,0,0,0]),u[2]=o)):g.type==="tableHead"?(h=!0,d=o):g.type==="tableRow"||g.type==="tableDelimiterRow"?(d=o,l[1]!==0?(u[0]=u[1],i=Mv(p,e,l,s,o,i)):u[1]!==0&&(i=Mv(p,e,u,s,o,i)),s=0):!s||g.type!=="data"&&g.type!=="tableDelimiterMarker"&&g.type!=="tableDelimiterFiller"||(u[3]=o)}for(d!==0&&AL(p,e,d,r,n),p.consume(e.events),o=-1;++o<e.events.length;){const f=e.events[o];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=axt(e.events,o))}return t}function Mv(t,e,r,n,i,o){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData";r[0]!==0&&(o.end=Object.assign({},Up(e.events,r[0])),t.add(r[0],0,[["exit",o,e]]));const s=Up(e.events,r[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},t.add(r[1],0,[["enter",o,e]]),r[2]!==0){const l=Up(e.events,r[2]),u=Up(e.events,r[3]),h={type:"tableContent",start:Object.assign({},l),end:Object.assign({},u)};if(t.add(r[2],0,[["enter",h,e]]),n!==2){const d=e.events[r[2]],p=e.events[r[3]];if(d[1].end=Object.assign({},p[1].end),d[1].type="chunkText",d[1].contentType="text",r[3]>r[2]+1){const f=r[2]+1,g=r[3]-r[2]-1;t.add(f,g,[])}}t.add(r[3]+1,0,[["exit",h,e]])}return i!==void 0&&(o.end=Object.assign({},Up(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function AL(t,e,r,n,i){const o=[],a=Up(e.events,r);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),n.end=Object.assign({},a),o.push(["exit",n,e]),t.add(r+1,0,o)}function Up(t,e){const r=t[e],n=r[0]==="enter"?"start":"end";return r[1][n]}const uxt={name:"tasklistCheck",tokenize:function(t,e,r){const n=this;return function(s){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(s):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),i)};function i(s){return un(s)?(t.enter("taskListCheckValueUnchecked"),t.consume(s),t.exit("taskListCheckValueUnchecked"),o):s===88||s===120?(t.enter("taskListCheckValueChecked"),t.consume(s),t.exit("taskListCheckValueChecked"),o):r(s)}function o(s){return s===93?(t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):r(s)}function a(s){return tr(s)?e(s):_r(s)?t.check({tokenize:dxt},e,r)(s):r(s)}}};function hxt(){return{text:{91:uxt}}}function dxt(t,e,r){return Lr(t,function(n){return n===null?r(n):e(n)},"whitespace")}function pxt(t){return $X([Xbt(),Zbt(),ixt(t),sxt(),hxt()])}function CL(t,e){const r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(e);for(;i!==-1;)n++,i=r.indexOf(e,i+e.length);return n}function fxt(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function gxt(t,e,r){const n=I4((r||{}).ignore||[]),i=function(s){const l=[];if(!Array.isArray(s))throw new TypeError("Expected find and replace tuple or list of tuples");const u=!s[0]||Array.isArray(s[0])?s:[s];let h=-1;for(;++h<u.length;){const d=u[h];l.push([mxt(d[0]),yxt(d[1])])}return l}(e);let o=-1;for(;++o<i.length;)VX(t,"text",a);function a(s,l){let u,h=-1;for(;++h<l.length;){const d=l[h],p=u?u.children:void 0;if(n(d,p?p.indexOf(d):void 0,u))return;u=d}if(u)return function(d,p){const f=p[p.length-1],g=i[o][0],m=i[o][1];let y=0;const v=f.children.indexOf(d);let x=!1,b=[];g.lastIndex=0;let k=g.exec(d.value);for(;k;){const N=k.index,_={index:k.index,input:k.input,stack:[...p,d]};let S=m(...k,_);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?g.lastIndex=N+1:(y!==N&&b.push({type:"text",value:d.value.slice(y,N)}),Array.isArray(S)?b.push(...S):S&&b.push(S),y=N+k[0].length,x=!0),!g.global)break;k=g.exec(d.value)}return x?(y<d.value.length&&b.push({type:"text",value:d.value.slice(y)}),f.children.splice(v,1,...b)):b=[d],v+b.length}(s,l)}}function mxt(t){return typeof t=="string"?new RegExp(fxt(t),"g"):t}function yxt(t){return typeof t=="function"?t:function(){return t}}const Uw="phrasing",qw=["autolink","link","image","label"];function vxt(){return{transforms:[_xt],enter:{literalAutolink:xxt,literalAutolinkEmail:Gw,literalAutolinkHttp:Gw,literalAutolinkWww:Gw},exit:{literalAutolink:Ext,literalAutolinkEmail:Txt,literalAutolinkHttp:wxt,literalAutolinkWww:kxt}}}function bxt(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Uw,notInConstruct:qw},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Uw,notInConstruct:qw},{character:":",before:"[ps]",after:"\\/",inConstruct:Uw,notInConstruct:qw}]}}function xxt(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Gw(t){this.config.enter.autolinkProtocol.call(this,t)}function wxt(t){this.config.exit.autolinkProtocol.call(this,t)}function kxt(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Txt(t){this.config.exit.autolinkEmail.call(this,t)}function Ext(t){this.exit(t)}function _xt(t){gxt(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Sxt],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Axt]],{ignore:["link","linkReference"]})}function Sxt(t,e,r,n,i){let o="";if(!cK(i)||(/^w/i.test(e)&&(r=e+r,e="",o="http://"),!function(l){const u=l.split(".");return!(u.length<2||u[u.length-1]&&(/_/.test(u[u.length-1])||!/[a-zA-Z\d]/.test(u[u.length-1]))||u[u.length-2]&&(/_/.test(u[u.length-2])||!/[a-zA-Z\d]/.test(u[u.length-2])))}(r)))return!1;const a=function(l){const u=/[!"&'),.:;<>?\]}]+$/.exec(l);if(!u)return[l,void 0];l=l.slice(0,u.index);let h=u[0],d=h.indexOf(")");const p=CL(l,"(");let f=CL(l,")");for(;d!==-1&&p>f;)l+=h.slice(0,d+1),h=h.slice(d+1),d=h.indexOf(")"),f++;return[l,h]}(r+n);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function Axt(t,e,r,n){return!(!cK(n,!0)||/[-\d_]$/.test(r))&&{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function cK(t,e){const r=t.input.charCodeAt(t.index-1);return(t.index===0||Rd(r)||A4(r))&&(!e||r!==47)}function Cxt(){this.buffer()}function $xt(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Nxt(){this.buffer()}function Ixt(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Lxt(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Zs(this.sliceSerialize(t)).toLowerCase(),r.label=e}function Rxt(t){this.exit(t)}function Dxt(t){const e=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Zs(this.sliceSerialize(t)).toLowerCase(),r.label=e}function Oxt(t){this.exit(t)}function uK(t,e,r,n){const i=r.createTracker(n);let o=i.move("[^");const a=r.enter("footnoteReference"),s=r.enter("reference");return o+=i.move(r.safe(r.associationId(t),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function Mxt(){return{enter:{gfmFootnoteCallString:Cxt,gfmFootnoteCall:$xt,gfmFootnoteDefinitionLabelString:Nxt,gfmFootnoteDefinition:Ixt},exit:{gfmFootnoteCallString:Lxt,gfmFootnoteCall:Rxt,gfmFootnoteDefinitionLabelString:Dxt,gfmFootnoteDefinition:Oxt}}}function Bxt(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:function(r,n,i,o){const a=i.createTracker(o);let s=a.move("[^");const l=i.enter("footnoteDefinition"),u=i.enter("label");return s+=a.move(i.safe(i.associationId(r),{before:s,after:"]"})),u(),s+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),s+=a.move((e?`
`:" ")+i.indentLines(i.containerFlow(r,a.current()),e?hK:Pxt))),l(),s},footnoteReference:uK},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function Pxt(t,e,r){return e===0?t:hK(t,e,r)}function hK(t,e,r){return(r?"":"    ")+t}uK.peek=function(){return"["};const Fxt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function zxt(){return{canContainEols:["delete"],enter:{strikethrough:Hxt},exit:{strikethrough:Uxt}}}function jxt(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Fxt}],handlers:{delete:dK}}}function Hxt(t){this.enter({type:"delete",children:[]},t)}function Uxt(t){this.exit(t)}function dK(t,e,r,n){const i=r.createTracker(n),o=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}dK.peek=function(){return"~"};function qxt(t){return t.length}function Gxt(t,e){const r=e||{},n=(r.align||[]).concat(),i=r.stringLength||qxt,o=[],a=[],s=[],l=[];let u=0,h=-1;for(;++h<t.length;){const y=[],v=[];let x=-1;for(t[h].length>u&&(u=t[h].length);++x<t[h].length;){const b=(d=t[h][x])==null?"":String(d);if(r.alignDelimiters!==!1){const k=i(b);v[x]=k,(l[x]===void 0||k>l[x])&&(l[x]=k)}y.push(b)}a[h]=y,s[h]=v}var d;let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<u;)o[p]=$L(n[p]);else{const y=$L(n);for(;++p<u;)o[p]=y}p=-1;const f=[],g=[];for(;++p<u;){const y=o[p];let v="",x="";y===99?(v=":",x=":"):y===108?v=":":y===114&&(x=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[p]-v.length-x.length);const k=v+"-".repeat(b)+x;r.alignDelimiters!==!1&&(b=v.length+b+x.length,b>l[p]&&(l[p]=b),g[p]=b),f[p]=k}a.splice(1,0,f),s.splice(1,0,g),h=-1;const m=[];for(;++h<a.length;){const y=a[h],v=s[h];p=-1;const x=[];for(;++p<u;){const b=y[p]||"";let k="",N="";if(r.alignDelimiters!==!1){const _=l[p]-(v[p]||0),S=o[p];S===114?k=" ".repeat(_):S===99?_%2?(k=" ".repeat(_/2+.5),N=" ".repeat(_/2-.5)):(k=" ".repeat(_/2),N=k):N=" ".repeat(_)}r.delimiterStart===!1||p||x.push("|"),r.padding===!1||r.alignDelimiters===!1&&b===""||r.delimiterStart===!1&&!p||x.push(" "),r.alignDelimiters!==!1&&x.push(k),x.push(b),r.alignDelimiters!==!1&&x.push(N),r.padding!==!1&&x.push(" "),r.delimiterEnd===!1&&p===u-1||x.push("|")}m.push(r.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return m.join(`
`)}function $L(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Wxt(t,e,r,n){const i=r.enter("blockquote"),o=r.createTracker(n);o.move("> "),o.shift(2);const a=r.indentLines(r.containerFlow(t,o.current()),Vxt);return i(),a}function Vxt(t,e,r){return">"+(r?"":" ")+t}function Yxt(t,e){return NL(t,e.inConstruct,!0)&&!NL(t,e.notInConstruct,!1)}function NL(t,e,r){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return r;let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function IL(t,e,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Yxt(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Xxt(t,e){const r=String(t);let n=r.indexOf(e),i=n,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++o>a&&(a=o):o=1,i=n+e.length,n=r.indexOf(e,i);return a}function Kxt(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Zxt(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Qxt(t,e,r,n){const i=Zxt(r),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Kxt(t,r)){const d=r.enter("codeIndented"),p=r.indentLines(o,Jxt);return d(),p}const s=r.createTracker(n),l=i.repeat(Math.max(Xxt(o,i)+1,3)),u=r.enter("codeFenced");let h=s.move(l);if(t.lang){const d=r.enter(`codeFencedLang${a}`);h+=s.move(r.safe(t.lang,{before:h,after:" ",encode:["`"],...s.current()})),d()}if(t.lang&&t.meta){const d=r.enter(`codeFencedMeta${a}`);h+=s.move(" "),h+=s.move(r.safe(t.meta,{before:h,after:`
`,encode:["`"],...s.current()})),d()}return h+=s.move(`
`),o&&(h+=s.move(o+`
`)),h+=s.move(l),u(),h}function Jxt(t,e,r){return(r?"":"    ")+t}function WC(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function t5t(t,e,r,n){const i=WC(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=r.enter("destinationRaw"),u+=l.move(r.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),s(),t.title&&(s=r.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(r.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),a(),u}function e5t(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Rm(t){return"&#x"+t.toString(16).toUpperCase()+";"}function _x(t,e,r){const n=C0(t),i=C0(e);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function pK(t,e,r,n){const i=e5t(r),o=r.enter("emphasis"),a=r.createTracker(n),s=a.move(i);let l=a.move(r.containerPhrasing(t,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),h=_x(n.before.charCodeAt(n.before.length-1),u,i);h.inside&&(l=Rm(u)+l.slice(1));const d=l.charCodeAt(l.length-1),p=_x(n.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+Rm(d));const f=a.move(i);return o(),r.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},s+l+f}pK.peek=function(t,e,r){return r.options.emphasis||"*"};function r5t(t,e){let r=!1;return L4(t,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,S_}),!!((!t.depth||t.depth<3)&&BC(t)&&(e.options.setext||r))}function n5t(t,e,r,n){const i=Math.max(Math.min(6,t.depth||1),1),o=r.createTracker(n);if(r5t(t,r)){const h=r.enter("headingSetext"),d=r.enter("phrasing"),p=r.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return d(),h(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");o.move(a+" ");let u=r.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Rm(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),l(),s(),u}function fK(t){return t.value||""}fK.peek=function(){return"<"};function gK(t,e,r,n){const i=WC(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=r.enter("destinationRaw"),u+=l.move(r.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=r.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(r.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),a(),u}gK.peek=function(){return"!"};function mK(t,e,r,n){const i=t.referenceType,o=r.enter("imageReference");let a=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const u=r.safe(t.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const d=r.safe(r.associationId(t),{before:l,after:"]",...s.current()});return a(),r.stack=h,o(),i!=="full"&&u&&u===d?i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}mK.peek=function(){return"!"};function yK(t,e,r){let n=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++o<r.unsafe.length;){const a=r.unsafe[o],s=r.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return i+n+i}yK.peek=function(){return"`"};function vK(t,e){const r=BC(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}function bK(t,e,r,n){const i=WC(r),o=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let s,l;if(vK(t,r)){const h=r.stack;r.stack=[],s=r.enter("autolink");let d=a.move("<");return d+=a.move(r.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),s(),r.stack=h,d}s=r.enter("link"),l=r.enter("label");let u=a.move("[");return u+=a.move(r.containerPhrasing(t,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(r.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=r.enter("destinationRaw"),u+=a.move(r.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=r.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(r.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}bK.peek=function(t,e,r){return vK(t,r)?"<":"["};function xK(t,e,r,n){const i=t.referenceType,o=r.enter("linkReference");let a=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const u=r.containerPhrasing(t,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const d=r.safe(r.associationId(t),{before:l,after:"]",...s.current()});return a(),r.stack=h,o(),i!=="full"&&u&&u===d?i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}xK.peek=function(){return"["};function VC(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function i5t(t){const e=VC(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}function o5t(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function wK(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function a5t(t,e,r,n){const i=r.enter("list"),o=r.bulletCurrent;let a=t.ordered?o5t(r):VC(r);const s=t.ordered?a==="."?")":".":i5t(r);let l=!(!e||!r.bulletLastUsed)&&a===r.bulletLastUsed;if(!t.ordered){const h=t.children?t.children[0]:void 0;if(a!=="*"&&a!=="-"||!h||h.children&&h.children[0]||r.stack[r.stack.length-1]!=="list"||r.stack[r.stack.length-2]!=="listItem"||r.stack[r.stack.length-3]!=="list"||r.stack[r.stack.length-4]!=="listItem"||r.indexStack[r.indexStack.length-1]!==0||r.indexStack[r.indexStack.length-2]!==0||r.indexStack[r.indexStack.length-3]!==0||(l=!0),wK(r)===a&&h){let d=-1;for(;++d<t.children.length;){const p=t.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),r.bulletCurrent=a;const u=r.containerFlow(t,n);return r.bulletLastUsed=a,r.bulletCurrent=o,i(),u}function s5t(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function l5t(t,e,r,n){const i=s5t(r);let o=r.bulletCurrent||VC(r);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=4*Math.ceil(a/4));const s=r.createTracker(n);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(t,s.current()),function(h,d,p){return d?(p?"":" ".repeat(a))+h:(p?o:o+" ".repeat(a-o.length))+h});return l(),u}function c5t(t,e,r,n){const i=r.enter("paragraph"),o=r.enter("phrasing"),a=r.containerPhrasing(t,n);return o(),i(),a}const u5t=I4(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function h5t(t,e,r,n){return(t.children.some(function(i){return u5t(i)})?r.containerPhrasing:r.containerFlow).call(r,t,n)}function d5t(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}function kK(t,e,r,n){const i=d5t(r),o=r.enter("strong"),a=r.createTracker(n),s=a.move(i+i);let l=a.move(r.containerPhrasing(t,{after:i,before:s,...a.current()}));const u=l.charCodeAt(0),h=_x(n.before.charCodeAt(n.before.length-1),u,i);h.inside&&(l=Rm(u)+l.slice(1));const d=l.charCodeAt(l.length-1),p=_x(n.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+Rm(d));const f=a.move(i+i);return o(),r.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},s+l+f}kK.peek=function(t,e,r){return r.options.strong||"*"};function p5t(t,e,r,n){return r.safe(t.value,n)}function f5t(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function g5t(t,e,r){const n=(wK(r)+(r.options.ruleSpaces?" ":"")).repeat(f5t(r));return r.options.ruleSpaces?n.slice(0,-1):n}const TK={blockquote:Wxt,break:IL,code:Qxt,definition:t5t,emphasis:pK,hardBreak:IL,heading:n5t,html:fK,image:gK,imageReference:mK,inlineCode:yK,link:bK,linkReference:xK,list:a5t,listItem:l5t,paragraph:c5t,root:h5t,strong:kK,text:p5t,thematicBreak:g5t};function m5t(){return{enter:{table:y5t,tableData:LL,tableHeader:LL,tableRow:b5t},exit:{codeText:x5t,table:v5t,tableData:Ww,tableHeader:Ww,tableRow:Ww}}}function y5t(t){const e=t._align;this.enter({type:"table",align:e.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}function v5t(t){this.exit(t),this.data.inTable=void 0}function b5t(t){this.enter({type:"tableRow",children:[]},t)}function Ww(t){this.exit(t)}function LL(t){this.enter({type:"tableCell",children:[]},t)}function x5t(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,w5t));const r=this.stack[this.stack.length-1];r.type,r.value=e,this.exit(t)}function w5t(t,e){return e==="|"?e:t}function k5t(t){const e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(u,h,d){let p=TK.inlineCode(u,h,d);return d.stack.includes("tableCell")&&(p=p.replace(/\|/g,"\\$&")),p},table:function(u,h,d,p){return s(function(f,g,m){const y=f.children;let v=-1;const x=[],b=g.enter("table");for(;++v<y.length;)x[v]=l(y[v],g,m);return b(),x}(u,d,p),u.align)},tableCell:a,tableRow:function(u,h,d,p){const f=s([l(u,d,p)]);return f.slice(0,f.indexOf(`
`))}}};function a(u,h,d,p){const f=d.enter("tableCell"),g=d.enter("phrasing"),m=d.containerPhrasing(u,{...p,before:o,after:o});return g(),f(),m}function s(u,h){return Gxt(u,{align:h,alignDelimiters:n,padding:r,stringLength:i})}function l(u,h,d){const p=u.children;let f=-1;const g=[],m=h.enter("tableRow");for(;++f<p.length;)g[f]=a(p[f],0,h,d);return m(),g}}function T5t(){return{exit:{taskListCheckValueChecked:RL,taskListCheckValueUnchecked:RL,paragraph:_5t}}}function E5t(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:S5t}}}function RL(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function _5t(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=e.children;let o,a=-1;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(t)}function S5t(t,e,r,n){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=r.createTracker(n);o&&s.move(a);let l=TK.listItem(t,e,r,{...n,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(u){return u+a})),l}function A5t(){return[vxt(),Mxt(),zxt(),m5t(),T5t()]}function C5t(t){return{extensions:[bxt(),Bxt(t),jxt(),k5t(t),E5t()]}}const $5t={};function N5t(t){const e=t||$5t,r=this.data(),n=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);n.push(pxt(e)),i.push(A5t()),o.push(C5t(e))}const I5t=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],L5t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),An="�";var ht;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ht||(ht={}));const ia={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function EK(t){return t>=55296&&t<=57343}function R5t(t){return t>=56320&&t<=57343}function D5t(t,e){return 1024*(t-55296)+9216+e}function _K(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function SK(t){return t>=64976&&t<=65007||L5t.has(t)}var Gt;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Gt||(Gt={}));let O5t=class{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,r){const{line:n,col:i,offset:o}=this,a=i+r,s=o+r;return{code:e,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:s,endOffset:s}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(R5t(r))return this.pos++,this._addGap(),D5t(e,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ht.EOF;return this._err(Gt.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,r){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,r){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++)if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1;return!0}peek(e){const r=this.pos+e;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ht.EOF;const n=this.html.charCodeAt(r);return n===ht.CARRIAGE_RETURN?ht.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ht.EOF;let e=this.html.charCodeAt(this.pos);return e===ht.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ht.LINE_FEED):e===ht.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,EK(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===ht.LINE_FEED||e===ht.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){_K(e)?this._err(Gt.controlCharacterInInputStream):SK(e)&&this._err(Gt.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};var Tr;function AK(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Tr||(Tr={}));var CK=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),M5t=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0))),Vw;const B5t=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),P5t=(Vw=String.fromCodePoint)!==null&&Vw!==void 0?Vw:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};function F5t(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=B5t.get(t))!==null&&e!==void 0?e:t}var Pi;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Pi||(Pi={}));var Au,Mi,vc;function L_(t){return t>=Pi.ZERO&&t<=Pi.NINE}function z5t(t){return t===Pi.EQUALS||function(e){return e>=Pi.UPPER_A&&e<=Pi.UPPER_Z||e>=Pi.LOWER_A&&e<=Pi.LOWER_Z||L_(e)}(t)}(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Au||(Au={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(Mi||(Mi={})),function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"}(vc||(vc={}));let $K=class{constructor(e,r,n){this.decodeTree=e,this.emitCodePoint=r,this.errors=n,this.state=Mi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=vc.Strict}startEntity(e){this.decodeMode=e,this.state=Mi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case Mi.EntityStart:return e.charCodeAt(r)===Pi.NUM?(this.state=Mi.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=Mi.NamedEntity,this.stateNamedEntity(e,r));case Mi.NumericStart:return this.stateNumericStart(e,r);case Mi.NumericDecimal:return this.stateNumericDecimal(e,r);case Mi.NumericHex:return this.stateNumericHex(e,r);case Mi.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(32|e.charCodeAt(r))===Pi.LOWER_X?(this.state=Mi.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=Mi.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,n,i){if(r!==n){const o=n-r;this.result=this.result*Math.pow(i,o)+parseInt(e.substr(r,o),i),this.consumed+=o}}stateNumericHex(e,r){const n=r;for(;r<e.length;){const o=e.charCodeAt(r);if(!(L_(o)||(i=o,i>=Pi.UPPER_A&&i<=Pi.UPPER_F||i>=Pi.LOWER_A&&i<=Pi.LOWER_F)))return this.addToNumericResult(e,n,r,16),this.emitNumericEntity(o,3);r+=1}var i;return this.addToNumericResult(e,n,r,16),-1}stateNumericDecimal(e,r){const n=r;for(;r<e.length;){const i=e.charCodeAt(r);if(!L_(i))return this.addToNumericResult(e,n,r,10),this.emitNumericEntity(i,2);r+=1}return this.addToNumericResult(e,n,r,10),-1}emitNumericEntity(e,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Pi.SEMI)this.consumed+=1;else if(this.decodeMode===vc.Strict)return 0;return this.emitCodePoint(F5t(this.result),this.consumed),this.errors&&(e!==Pi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){const{decodeTree:n}=this;let i=n[this.treeIndex],o=(i&Au.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){const a=e.charCodeAt(r);if(this.treeIndex=j5t(n,i,this.treeIndex+Math.max(1,o),a),this.treeIndex<0)return this.result===0||this.decodeMode===vc.Attribute&&(o===0||z5t(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],o=(i&Au.VALUE_LENGTH)>>14,o!==0){if(a===Pi.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==vc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:r,decodeTree:n}=this,i=(n[r]&Au.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[e]&~Au.VALUE_LENGTH:i[e+1],n),r===3&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case Mi.NamedEntity:return this.result===0||this.decodeMode===vc.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Mi.NumericDecimal:return this.emitNumericEntity(0,2);case Mi.NumericHex:return this.emitNumericEntity(0,3);case Mi.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Mi.EntityStart:return 0}}};function DL(t){let e="";const r=new $K(t,n=>e+=P5t(n));return function(n,i){let o=0,a=0;for(;(a=n.indexOf("&",a))>=0;){e+=n.slice(o,a),r.startEntity(i);const l=r.write(n,a+1);if(l<0){o=a+r.end();break}o=a+l,a=l===0?o+1:o}const s=e+n.slice(o);return e="",s}}function j5t(t,e,r,n){const i=(e&Au.BRANCH_LENGTH)>>7,o=e&Au.JUMP_TABLE;if(i===0)return o!==0&&n===o?r:-1;if(o){const l=n-o;return l<0||l>=i?-1:t[r+l]-1}let a=r,s=a+i-1;for(;a<=s;){const l=a+s>>>1,u=t[l];if(u<n)a=l+1;else{if(!(u>n))return t[l+i];s=l-1}}return-1}DL(CK),DL(M5t);var re,xd,us,Pt,z;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(re||(re={})),function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"}(xd||(xd={})),function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"}(us||(us={})),function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"}(Pt||(Pt={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"}(z||(z={}));const H5t=new Map([[Pt.A,z.A],[Pt.ADDRESS,z.ADDRESS],[Pt.ANNOTATION_XML,z.ANNOTATION_XML],[Pt.APPLET,z.APPLET],[Pt.AREA,z.AREA],[Pt.ARTICLE,z.ARTICLE],[Pt.ASIDE,z.ASIDE],[Pt.B,z.B],[Pt.BASE,z.BASE],[Pt.BASEFONT,z.BASEFONT],[Pt.BGSOUND,z.BGSOUND],[Pt.BIG,z.BIG],[Pt.BLOCKQUOTE,z.BLOCKQUOTE],[Pt.BODY,z.BODY],[Pt.BR,z.BR],[Pt.BUTTON,z.BUTTON],[Pt.CAPTION,z.CAPTION],[Pt.CENTER,z.CENTER],[Pt.CODE,z.CODE],[Pt.COL,z.COL],[Pt.COLGROUP,z.COLGROUP],[Pt.DD,z.DD],[Pt.DESC,z.DESC],[Pt.DETAILS,z.DETAILS],[Pt.DIALOG,z.DIALOG],[Pt.DIR,z.DIR],[Pt.DIV,z.DIV],[Pt.DL,z.DL],[Pt.DT,z.DT],[Pt.EM,z.EM],[Pt.EMBED,z.EMBED],[Pt.FIELDSET,z.FIELDSET],[Pt.FIGCAPTION,z.FIGCAPTION],[Pt.FIGURE,z.FIGURE],[Pt.FONT,z.FONT],[Pt.FOOTER,z.FOOTER],[Pt.FOREIGN_OBJECT,z.FOREIGN_OBJECT],[Pt.FORM,z.FORM],[Pt.FRAME,z.FRAME],[Pt.FRAMESET,z.FRAMESET],[Pt.H1,z.H1],[Pt.H2,z.H2],[Pt.H3,z.H3],[Pt.H4,z.H4],[Pt.H5,z.H5],[Pt.H6,z.H6],[Pt.HEAD,z.HEAD],[Pt.HEADER,z.HEADER],[Pt.HGROUP,z.HGROUP],[Pt.HR,z.HR],[Pt.HTML,z.HTML],[Pt.I,z.I],[Pt.IMG,z.IMG],[Pt.IMAGE,z.IMAGE],[Pt.INPUT,z.INPUT],[Pt.IFRAME,z.IFRAME],[Pt.KEYGEN,z.KEYGEN],[Pt.LABEL,z.LABEL],[Pt.LI,z.LI],[Pt.LINK,z.LINK],[Pt.LISTING,z.LISTING],[Pt.MAIN,z.MAIN],[Pt.MALIGNMARK,z.MALIGNMARK],[Pt.MARQUEE,z.MARQUEE],[Pt.MATH,z.MATH],[Pt.MENU,z.MENU],[Pt.META,z.META],[Pt.MGLYPH,z.MGLYPH],[Pt.MI,z.MI],[Pt.MO,z.MO],[Pt.MN,z.MN],[Pt.MS,z.MS],[Pt.MTEXT,z.MTEXT],[Pt.NAV,z.NAV],[Pt.NOBR,z.NOBR],[Pt.NOFRAMES,z.NOFRAMES],[Pt.NOEMBED,z.NOEMBED],[Pt.NOSCRIPT,z.NOSCRIPT],[Pt.OBJECT,z.OBJECT],[Pt.OL,z.OL],[Pt.OPTGROUP,z.OPTGROUP],[Pt.OPTION,z.OPTION],[Pt.P,z.P],[Pt.PARAM,z.PARAM],[Pt.PLAINTEXT,z.PLAINTEXT],[Pt.PRE,z.PRE],[Pt.RB,z.RB],[Pt.RP,z.RP],[Pt.RT,z.RT],[Pt.RTC,z.RTC],[Pt.RUBY,z.RUBY],[Pt.S,z.S],[Pt.SCRIPT,z.SCRIPT],[Pt.SEARCH,z.SEARCH],[Pt.SECTION,z.SECTION],[Pt.SELECT,z.SELECT],[Pt.SOURCE,z.SOURCE],[Pt.SMALL,z.SMALL],[Pt.SPAN,z.SPAN],[Pt.STRIKE,z.STRIKE],[Pt.STRONG,z.STRONG],[Pt.STYLE,z.STYLE],[Pt.SUB,z.SUB],[Pt.SUMMARY,z.SUMMARY],[Pt.SUP,z.SUP],[Pt.TABLE,z.TABLE],[Pt.TBODY,z.TBODY],[Pt.TEMPLATE,z.TEMPLATE],[Pt.TEXTAREA,z.TEXTAREA],[Pt.TFOOT,z.TFOOT],[Pt.TD,z.TD],[Pt.TH,z.TH],[Pt.THEAD,z.THEAD],[Pt.TITLE,z.TITLE],[Pt.TR,z.TR],[Pt.TRACK,z.TRACK],[Pt.TT,z.TT],[Pt.U,z.U],[Pt.UL,z.UL],[Pt.SVG,z.SVG],[Pt.VAR,z.VAR],[Pt.WBR,z.WBR],[Pt.XMP,z.XMP]]);function I0(t){var e;return(e=H5t.get(t))!==null&&e!==void 0?e:z.UNKNOWN}const oe=z,U5t={[re.HTML]:new Set([oe.ADDRESS,oe.APPLET,oe.AREA,oe.ARTICLE,oe.ASIDE,oe.BASE,oe.BASEFONT,oe.BGSOUND,oe.BLOCKQUOTE,oe.BODY,oe.BR,oe.BUTTON,oe.CAPTION,oe.CENTER,oe.COL,oe.COLGROUP,oe.DD,oe.DETAILS,oe.DIR,oe.DIV,oe.DL,oe.DT,oe.EMBED,oe.FIELDSET,oe.FIGCAPTION,oe.FIGURE,oe.FOOTER,oe.FORM,oe.FRAME,oe.FRAMESET,oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6,oe.HEAD,oe.HEADER,oe.HGROUP,oe.HR,oe.HTML,oe.IFRAME,oe.IMG,oe.INPUT,oe.LI,oe.LINK,oe.LISTING,oe.MAIN,oe.MARQUEE,oe.MENU,oe.META,oe.NAV,oe.NOEMBED,oe.NOFRAMES,oe.NOSCRIPT,oe.OBJECT,oe.OL,oe.P,oe.PARAM,oe.PLAINTEXT,oe.PRE,oe.SCRIPT,oe.SECTION,oe.SELECT,oe.SOURCE,oe.STYLE,oe.SUMMARY,oe.TABLE,oe.TBODY,oe.TD,oe.TEMPLATE,oe.TEXTAREA,oe.TFOOT,oe.TH,oe.THEAD,oe.TITLE,oe.TR,oe.TRACK,oe.UL,oe.WBR,oe.XMP]),[re.MATHML]:new Set([oe.MI,oe.MO,oe.MN,oe.MS,oe.MTEXT,oe.ANNOTATION_XML]),[re.SVG]:new Set([oe.TITLE,oe.FOREIGN_OBJECT,oe.DESC]),[re.XLINK]:new Set,[re.XML]:new Set,[re.XMLNS]:new Set},R_=new Set([oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6]);Pt.STYLE,Pt.SCRIPT,Pt.XMP,Pt.IFRAME,Pt.NOEMBED,Pt.NOFRAMES,Pt.PLAINTEXT;var pt;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(pt||(pt={}));const Qn={DATA:pt.DATA,RCDATA:pt.RCDATA,RAWTEXT:pt.RAWTEXT,SCRIPT_DATA:pt.SCRIPT_DATA,PLAINTEXT:pt.PLAINTEXT,CDATA_SECTION:pt.CDATA_SECTION};function N1(t){return t>=ht.LATIN_CAPITAL_A&&t<=ht.LATIN_CAPITAL_Z}function du(t){return function(e){return e>=ht.LATIN_SMALL_A&&e<=ht.LATIN_SMALL_Z}(t)||N1(t)}function OL(t){return du(t)||function(e){return e>=ht.DIGIT_0&&e<=ht.DIGIT_9}(t)}function Bv(t){return t+32}function NK(t){return t===ht.SPACE||t===ht.LINE_FEED||t===ht.TABULATION||t===ht.FORM_FEED}function ML(t){return NK(t)||t===ht.SOLIDUS||t===ht.GREATER_THAN_SIGN}let q5t=class{constructor(e,r){this.options=e,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=pt.DATA,this.returnState=pt.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new O5t(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new $K(CK,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Gt.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(Gt.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=function(o){return o===ht.NULL?Gt.nullCharacterReference:o>1114111?Gt.characterReferenceOutsideUnicodeRange:EK(o)?Gt.surrogateCharacterReference:SK(o)?Gt.noncharacterCharacterReference:_K(o)||o===ht.CARRIAGE_RETURN?Gt.controlCharacterReference:null}(n);i&&this._err(i,1)}}:void 0)}_err(e,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(e,r))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||e==null||e())}write(e,r,n){this.active=!0,this.preprocessor.write(e,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let r=0;r<e;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,r){return!!this.preprocessor.startsWith(e,r)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:Tr.START_TAG,tagName:"",tagID:z.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Tr.END_TAG,tagName:"",tagID:z.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Tr.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Tr.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,r){this.currentCharacterToken={type:e,chars:r,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,r;const n=this.currentToken;AK(n,this.currentAttr.name)===null?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&(((e=(r=n.location).attrs)!==null&&e!==void 0?e:r.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(Gt.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=I0(e.tagName),e.type===Tr.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Gt.endTagWithAttributes),e.selfClosing&&this._err(Gt.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Tr.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Tr.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Tr.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Tr.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,r){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=r);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,r)}_emitCodePoint(e){const r=NK(e)?Tr.WHITESPACE_CHARACTER:e===ht.NULL?Tr.NULL_CHARACTER:Tr.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Tr.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=pt.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?vc.Attribute:vc.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===pt.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===pt.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===pt.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case pt.DATA:this._stateData(e);break;case pt.RCDATA:this._stateRcdata(e);break;case pt.RAWTEXT:this._stateRawtext(e);break;case pt.SCRIPT_DATA:this._stateScriptData(e);break;case pt.PLAINTEXT:this._statePlaintext(e);break;case pt.TAG_OPEN:this._stateTagOpen(e);break;case pt.END_TAG_OPEN:this._stateEndTagOpen(e);break;case pt.TAG_NAME:this._stateTagName(e);break;case pt.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case pt.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case pt.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case pt.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case pt.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case pt.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case pt.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case pt.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case pt.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case pt.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case pt.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case pt.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case pt.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case pt.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case pt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case pt.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case pt.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case pt.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case pt.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case pt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case pt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case pt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case pt.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case pt.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case pt.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case pt.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case pt.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case pt.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case pt.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case pt.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case pt.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case pt.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case pt.BOGUS_COMMENT:this._stateBogusComment(e);break;case pt.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case pt.COMMENT_START:this._stateCommentStart(e);break;case pt.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case pt.COMMENT:this._stateComment(e);break;case pt.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case pt.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case pt.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case pt.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case pt.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case pt.COMMENT_END:this._stateCommentEnd(e);break;case pt.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case pt.DOCTYPE:this._stateDoctype(e);break;case pt.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case pt.DOCTYPE_NAME:this._stateDoctypeName(e);break;case pt.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case pt.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case pt.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case pt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case pt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case pt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case pt.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case pt.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case pt.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case pt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case pt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case pt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case pt.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case pt.CDATA_SECTION:this._stateCdataSection(e);break;case pt.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case pt.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case pt.CHARACTER_REFERENCE:this._stateCharacterReference();break;case pt.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case ht.LESS_THAN_SIGN:this.state=pt.TAG_OPEN;break;case ht.AMPERSAND:this._startCharacterReference();break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitCodePoint(e);break;case ht.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case ht.AMPERSAND:this._startCharacterReference();break;case ht.LESS_THAN_SIGN:this.state=pt.RCDATA_LESS_THAN_SIGN;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitChars(An);break;case ht.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case ht.LESS_THAN_SIGN:this.state=pt.RAWTEXT_LESS_THAN_SIGN;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitChars(An);break;case ht.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_LESS_THAN_SIGN;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitChars(An);break;case ht.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitChars(An);break;case ht.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(du(e))this._createStartTagToken(),this.state=pt.TAG_NAME,this._stateTagName(e);else switch(e){case ht.EXCLAMATION_MARK:this.state=pt.MARKUP_DECLARATION_OPEN;break;case ht.SOLIDUS:this.state=pt.END_TAG_OPEN;break;case ht.QUESTION_MARK:this._err(Gt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=pt.BOGUS_COMMENT,this._stateBogusComment(e);break;case ht.EOF:this._err(Gt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(Gt.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=pt.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(du(e))this._createEndTagToken(),this.state=pt.TAG_NAME,this._stateTagName(e);else switch(e){case ht.GREATER_THAN_SIGN:this._err(Gt.missingEndTagName),this.state=pt.DATA;break;case ht.EOF:this._err(Gt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(Gt.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=pt.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this.state=pt.BEFORE_ATTRIBUTE_NAME;break;case ht.SOLIDUS:this.state=pt.SELF_CLOSING_START_TAG;break;case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentTagToken();break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.tagName+=An;break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:r.tagName+=String.fromCodePoint(N1(e)?Bv(e):e)}}_stateRcdataLessThanSign(e){e===ht.SOLIDUS?this.state=pt.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=pt.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){du(e)?(this.state=pt.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=pt.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=pt.BEFORE_ATTRIBUTE_NAME,!1;case ht.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=pt.SELF_CLOSING_START_TAG,!1;case ht.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=pt.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=pt.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===ht.SOLIDUS?this.state=pt.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=pt.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){du(e)?(this.state=pt.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=pt.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=pt.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case ht.SOLIDUS:this.state=pt.SCRIPT_DATA_END_TAG_OPEN;break;case ht.EXCLAMATION_MARK:this.state=pt.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=pt.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){du(e)?(this.state=pt.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=pt.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=pt.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===ht.HYPHEN_MINUS?(this.state=pt.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=pt.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===ht.HYPHEN_MINUS?(this.state=pt.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=pt.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case ht.HYPHEN_MINUS:this.state=pt.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitChars(An);break;case ht.EOF:this._err(Gt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case ht.HYPHEN_MINUS:this.state=pt.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.state=pt.SCRIPT_DATA_ESCAPED,this._emitChars(An);break;case ht.EOF:this._err(Gt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=pt.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case ht.HYPHEN_MINUS:this._emitChars("-");break;case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case ht.GREATER_THAN_SIGN:this.state=pt.SCRIPT_DATA,this._emitChars(">");break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.state=pt.SCRIPT_DATA_ESCAPED,this._emitChars(An);break;case ht.EOF:this._err(Gt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=pt.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===ht.SOLIDUS?this.state=pt.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:du(e)?(this._emitChars("<"),this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=pt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){du(e)?(this.state=pt.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=pt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=pt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(ia.SCRIPT,!1)&&ML(this.preprocessor.peek(ia.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<ia.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=pt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case ht.HYPHEN_MINUS:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._emitChars(An);break;case ht.EOF:this._err(Gt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case ht.HYPHEN_MINUS:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(An);break;case ht.EOF:this._err(Gt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case ht.HYPHEN_MINUS:this._emitChars("-");break;case ht.LESS_THAN_SIGN:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case ht.GREATER_THAN_SIGN:this.state=pt.SCRIPT_DATA,this._emitChars(">");break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(An);break;case ht.EOF:this._err(Gt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===ht.SOLIDUS?(this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(ia.SCRIPT,!1)&&ML(this.preprocessor.peek(ia.SCRIPT.length))){this._emitCodePoint(e);for(let r=0;r<ia.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=pt.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=pt.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.SOLIDUS:case ht.GREATER_THAN_SIGN:case ht.EOF:this.state=pt.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case ht.EQUALS_SIGN:this._err(Gt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=pt.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=pt.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:case ht.SOLIDUS:case ht.GREATER_THAN_SIGN:case ht.EOF:this._leaveAttrName(),this.state=pt.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case ht.EQUALS_SIGN:this._leaveAttrName(),this.state=pt.BEFORE_ATTRIBUTE_VALUE;break;case ht.QUOTATION_MARK:case ht.APOSTROPHE:case ht.LESS_THAN_SIGN:this._err(Gt.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.currentAttr.name+=An;break;default:this.currentAttr.name+=String.fromCodePoint(N1(e)?Bv(e):e)}}_stateAfterAttributeName(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.SOLIDUS:this.state=pt.SELF_CLOSING_START_TAG;break;case ht.EQUALS_SIGN:this.state=pt.BEFORE_ATTRIBUTE_VALUE;break;case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentTagToken();break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=pt.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.QUOTATION_MARK:this.state=pt.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case ht.APOSTROPHE:this.state=pt.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case ht.GREATER_THAN_SIGN:this._err(Gt.missingAttributeValue),this.state=pt.DATA,this.emitCurrentTagToken();break;default:this.state=pt.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case ht.QUOTATION_MARK:this.state=pt.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case ht.AMPERSAND:this._startCharacterReference();break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.currentAttr.value+=An;break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case ht.APOSTROPHE:this.state=pt.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case ht.AMPERSAND:this._startCharacterReference();break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.currentAttr.value+=An;break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this._leaveAttrValue(),this.state=pt.BEFORE_ATTRIBUTE_NAME;break;case ht.AMPERSAND:this._startCharacterReference();break;case ht.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=pt.DATA,this.emitCurrentTagToken();break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this.currentAttr.value+=An;break;case ht.QUOTATION_MARK:case ht.APOSTROPHE:case ht.LESS_THAN_SIGN:case ht.EQUALS_SIGN:case ht.GRAVE_ACCENT:this._err(Gt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this._leaveAttrValue(),this.state=pt.BEFORE_ATTRIBUTE_NAME;break;case ht.SOLIDUS:this._leaveAttrValue(),this.state=pt.SELF_CLOSING_START_TAG;break;case ht.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=pt.DATA,this.emitCurrentTagToken();break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:this._err(Gt.missingWhitespaceBetweenAttributes),this.state=pt.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case ht.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=pt.DATA,this.emitCurrentTagToken();break;case ht.EOF:this._err(Gt.eofInTag),this._emitEOFToken();break;default:this._err(Gt.unexpectedSolidusInTag),this.state=pt.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const r=this.currentToken;switch(e){case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentComment(r);break;case ht.EOF:this.emitCurrentComment(r),this._emitEOFToken();break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.data+=An;break;default:r.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(ia.DASH_DASH,!0)?(this._createCommentToken(ia.DASH_DASH.length+1),this.state=pt.COMMENT_START):this._consumeSequenceIfMatch(ia.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ia.DOCTYPE.length+1),this.state=pt.DOCTYPE):this._consumeSequenceIfMatch(ia.CDATA_START,!0)?this.inForeignNode?this.state=pt.CDATA_SECTION:(this._err(Gt.cdataInHtmlContent),this._createCommentToken(ia.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=pt.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Gt.incorrectlyOpenedComment),this._createCommentToken(2),this.state=pt.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case ht.HYPHEN_MINUS:this.state=pt.COMMENT_START_DASH;break;case ht.GREATER_THAN_SIGN:{this._err(Gt.abruptClosingOfEmptyComment),this.state=pt.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=pt.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const r=this.currentToken;switch(e){case ht.HYPHEN_MINUS:this.state=pt.COMMENT_END;break;case ht.GREATER_THAN_SIGN:this._err(Gt.abruptClosingOfEmptyComment),this.state=pt.DATA,this.emitCurrentComment(r);break;case ht.EOF:this._err(Gt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break;default:r.data+="-",this.state=pt.COMMENT,this._stateComment(e)}}_stateComment(e){const r=this.currentToken;switch(e){case ht.HYPHEN_MINUS:this.state=pt.COMMENT_END_DASH;break;case ht.LESS_THAN_SIGN:r.data+="<",this.state=pt.COMMENT_LESS_THAN_SIGN;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.data+=An;break;case ht.EOF:this._err(Gt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break;default:r.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const r=this.currentToken;switch(e){case ht.EXCLAMATION_MARK:r.data+="!",this.state=pt.COMMENT_LESS_THAN_SIGN_BANG;break;case ht.LESS_THAN_SIGN:r.data+="<";break;default:this.state=pt.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===ht.HYPHEN_MINUS?this.state=pt.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=pt.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===ht.HYPHEN_MINUS?this.state=pt.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=pt.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==ht.GREATER_THAN_SIGN&&e!==ht.EOF&&this._err(Gt.nestedComment),this.state=pt.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const r=this.currentToken;switch(e){case ht.HYPHEN_MINUS:this.state=pt.COMMENT_END;break;case ht.EOF:this._err(Gt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break;default:r.data+="-",this.state=pt.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const r=this.currentToken;switch(e){case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentComment(r);break;case ht.EXCLAMATION_MARK:this.state=pt.COMMENT_END_BANG;break;case ht.HYPHEN_MINUS:r.data+="-";break;case ht.EOF:this._err(Gt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break;default:r.data+="--",this.state=pt.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const r=this.currentToken;switch(e){case ht.HYPHEN_MINUS:r.data+="--!",this.state=pt.COMMENT_END_DASH;break;case ht.GREATER_THAN_SIGN:this._err(Gt.incorrectlyClosedComment),this.state=pt.DATA,this.emitCurrentComment(r);break;case ht.EOF:this._err(Gt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break;default:r.data+="--!",this.state=pt.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this.state=pt.BEFORE_DOCTYPE_NAME;break;case ht.GREATER_THAN_SIGN:this.state=pt.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case ht.EOF:{this._err(Gt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Gt.missingWhitespaceBeforeDoctypeName),this.state=pt.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(N1(e))this._createDoctypeToken(String.fromCharCode(Bv(e))),this.state=pt.DOCTYPE_NAME;else switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),this._createDoctypeToken(An),this.state=pt.DOCTYPE_NAME;break;case ht.GREATER_THAN_SIGN:{this._err(Gt.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=pt.DATA;break}case ht.EOF:{this._err(Gt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=pt.DOCTYPE_NAME}}_stateDoctypeName(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this.state=pt.AFTER_DOCTYPE_NAME;break;case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.name+=An;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:r.name+=String.fromCodePoint(N1(e)?Bv(e):e)}}_stateAfterDoctypeName(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(ia.PUBLIC,!1)?this.state=pt.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ia.SYSTEM,!1)?this.state=pt.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Gt.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this.state=pt.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case ht.QUOTATION_MARK:this._err(Gt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=pt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case ht.APOSTROPHE:this._err(Gt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=pt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case ht.GREATER_THAN_SIGN:this._err(Gt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.QUOTATION_MARK:r.publicId="",this.state=pt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case ht.APOSTROPHE:r.publicId="",this.state=pt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case ht.GREATER_THAN_SIGN:this._err(Gt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case ht.QUOTATION_MARK:this.state=pt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.publicId+=An;break;case ht.GREATER_THAN_SIGN:this._err(Gt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:r.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case ht.APOSTROPHE:this.state=pt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.publicId+=An;break;case ht.GREATER_THAN_SIGN:this._err(Gt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:r.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this.state=pt.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case ht.GREATER_THAN_SIGN:this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.QUOTATION_MARK:this._err(Gt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ht.APOSTROPHE:this._err(Gt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.GREATER_THAN_SIGN:this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.QUOTATION_MARK:r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ht.APOSTROPHE:r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:this.state=pt.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case ht.QUOTATION_MARK:this._err(Gt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ht.APOSTROPHE:this._err(Gt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ht.GREATER_THAN_SIGN:this._err(Gt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.QUOTATION_MARK:r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case ht.APOSTROPHE:r.systemId="",this.state=pt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case ht.GREATER_THAN_SIGN:this._err(Gt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=pt.DATA,this.emitCurrentDoctype(r);break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const r=this.currentToken;switch(e){case ht.QUOTATION_MARK:this.state=pt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.systemId+=An;break;case ht.GREATER_THAN_SIGN:this._err(Gt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:r.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const r=this.currentToken;switch(e){case ht.APOSTROPHE:this.state=pt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter),r.systemId+=An;break;case ht.GREATER_THAN_SIGN:this._err(Gt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:r.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const r=this.currentToken;switch(e){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.GREATER_THAN_SIGN:this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.EOF:this._err(Gt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break;default:this._err(Gt.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=pt.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const r=this.currentToken;switch(e){case ht.GREATER_THAN_SIGN:this.emitCurrentDoctype(r),this.state=pt.DATA;break;case ht.NULL:this._err(Gt.unexpectedNullCharacter);break;case ht.EOF:this.emitCurrentDoctype(r),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case ht.RIGHT_SQUARE_BRACKET:this.state=pt.CDATA_SECTION_BRACKET;break;case ht.EOF:this._err(Gt.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===ht.RIGHT_SQUARE_BRACKET?this.state=pt.CDATA_SECTION_END:(this._emitChars("]"),this.state=pt.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case ht.GREATER_THAN_SIGN:this.state=pt.DATA;break;case ht.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=pt.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ht.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&OL(this.preprocessor.peek(1))?pt.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){OL(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===ht.SEMICOLON&&this._err(Gt.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}};const IK=new Set([z.DD,z.DT,z.LI,z.OPTGROUP,z.OPTION,z.P,z.RB,z.RP,z.RT,z.RTC]),BL=new Set([...IK,z.CAPTION,z.COLGROUP,z.TBODY,z.TD,z.TFOOT,z.TH,z.THEAD,z.TR]),Sx=new Set([z.APPLET,z.CAPTION,z.HTML,z.MARQUEE,z.OBJECT,z.TABLE,z.TD,z.TEMPLATE,z.TH]),G5t=new Set([...Sx,z.OL,z.UL]),W5t=new Set([...Sx,z.BUTTON]),PL=new Set([z.ANNOTATION_XML,z.MI,z.MN,z.MO,z.MS,z.MTEXT]),FL=new Set([z.DESC,z.FOREIGN_OBJECT,z.TITLE]),V5t=new Set([z.TR,z.TEMPLATE,z.HTML]),Y5t=new Set([z.TBODY,z.TFOOT,z.THEAD,z.TEMPLATE,z.HTML]),X5t=new Set([z.TABLE,z.TEMPLATE,z.HTML]),K5t=new Set([z.TD,z.TH]);let Z5t=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=z.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===z.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,r){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,r,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,r){const n=this._indexOf(e);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(e,r,n){const i=this._indexOf(e)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(e,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==re.HTML);this.shortenToLength(r<0?0:r)}shortenToLength(e){for(;this.stackTop>=e;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<e)}}popUntilElementPopped(e){const r=this._indexOf(e);this.shortenToLength(r<0?0:r)}popUntilPopped(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(R_,re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(K5t,re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,r){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(e,r){const n=this._indexOfTagNames(e,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(X5t,re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Y5t,re.HTML)}clearBackToTableRowContext(){this.clearBackTo(V5t,re.HTML)}remove(e){const r=this._indexOf(e);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===z.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const r=this._indexOf(e)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===z.HTML}hasInDynamicScope(e,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case re.HTML:if(i===e)return!0;if(r.has(i))return!1;break;case re.SVG:if(FL.has(i))return!1;break;case re.MATHML:if(PL.has(i))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Sx)}hasInListItemScope(e){return this.hasInDynamicScope(e,G5t)}hasInButtonScope(e){return this.hasInDynamicScope(e,W5t)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const r=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case re.HTML:if(R_.has(r))return!0;if(Sx.has(r))return!1;break;case re.SVG:if(FL.has(r))return!1;break;case re.MATHML:if(PL.has(r))return!1}}return!0}hasInTableScope(e){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===re.HTML)switch(this.tagIDs[r]){case e:return!0;case z.TABLE:case z.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===re.HTML)switch(this.tagIDs[e]){case z.TBODY:case z.THEAD:case z.TFOOT:return!0;case z.TABLE:case z.HTML:return!1}return!0}hasInSelectScope(e){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===re.HTML)switch(this.tagIDs[r]){case e:return!0;case z.OPTION:case z.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;IK.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;BL.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&BL.has(this.currentTagId);)this.pop()}};var El;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(El||(El={}));const zL={type:El.Marker};let Q5t=class{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,r){const n=[],i=r.length,o=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let s=0;s<this.entries.length;s++){const l=this.entries[s];if(l.type===El.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===a){const h=this.treeAdapter.getAttrList(u);h.length===i&&n.push({idx:s,attrs:h})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const r=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,r);if(n.length<3)return;const i=new Map(r.map(a=>[a.name,a.value]));let o=0;for(let a=0;a<n.length;a++){const s=n[a];s.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=3&&this.entries.splice(s.idx,1))}}insertMarker(){this.entries.unshift(zL)}pushElement(e,r){this._ensureNoahArkCondition(e),this.entries.unshift({type:El.Element,element:e,token:r})}insertElementAfterBookmark(e,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:El.Element,element:e,token:r})}removeEntry(e){const r=this.entries.indexOf(e);r>=0&&this.entries.splice(r,1)}clearToLastMarker(){const e=this.entries.indexOf(zL);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const r=this.entries.find(n=>n.type===El.Marker||this.treeAdapter.getTagName(n.element)===e);return r&&r.type===El.Element?r:null}getElementEntry(e){return this.entries.find(r=>r.type===El.Element&&r.element===e)}};const pu={createDocument:()=>({nodeName:"#document",mode:us.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(t,e,r)=>({nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}),createCommentNode:t=>({nodeName:"#comment",data:t,parentNode:null}),createTextNode:t=>({nodeName:"#text",value:t,parentNode:null}),appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const n=t.childNodes.indexOf(r);t.childNodes.splice(n,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent:t=>t.content,setDocumentType(t,e,r,n){const i=t.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=e,i.publicId=r,i.systemId=n;else{const o={nodeName:"#documentType",name:e,publicId:r,systemId:n,parentNode:null};pu.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode:t=>t.mode,detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(pu.isTextNode(r))return void(r.value+=e)}pu.appendChild(t,pu.createTextNode(e))},insertTextBefore(t,e,r){const n=t.childNodes[t.childNodes.indexOf(r)-1];n&&pu.isTextNode(n)?n.value+=e:pu.insertBefore(t,pu.createTextNode(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map(n=>n.name));for(let n=0;n<e.length;n++)r.has(e[n].name)||t.attrs.push(e[n])},getFirstChild:t=>t.childNodes[0],getChildNodes:t=>t.childNodes,getParentNode:t=>t.parentNode,getAttrList:t=>t.attrs,getTagName:t=>t.tagName,getNamespaceURI:t=>t.namespaceURI,getTextNodeContent:t=>t.value,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName:t=>t.name,getDocumentTypeNodePublicId:t=>t.publicId,getDocumentTypeNodeSystemId:t=>t.systemId,isTextNode:t=>t.nodeName==="#text",isCommentNode:t=>t.nodeName==="#comment",isDocumentTypeNode:t=>t.nodeName==="#documentType",isElementNode:t=>Object.prototype.hasOwnProperty.call(t,"tagName"),setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},LK="html",RK=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],J5t=[...RK,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],t4t=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),DK=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],e4t=[...DK,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function jL(t,e){return e.some(r=>t.startsWith(r))}function r4t(t){return t.name===LK&&t.publicId===null&&(t.systemId===null||t.systemId==="about:legacy-compat")}function n4t(t){if(t.name!==LK)return us.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()==="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd")return us.QUIRKS;let{publicId:r}=t;if(r!==null){if(r=r.toLowerCase(),t4t.has(r))return us.QUIRKS;let n=e===null?J5t:RK;if(jL(r,n))return us.QUIRKS;if(n=e===null?DK:e4t,jL(r,n))return us.LIMITED_QUIRKS}return us.NO_QUIRKS}const i4t="text/html",o4t="application/xhtml+xml",a4t=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),s4t=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:re.XMLNS}]]),l4t=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),c4t=new Set([z.B,z.BIG,z.BLOCKQUOTE,z.BODY,z.BR,z.CENTER,z.CODE,z.DD,z.DIV,z.DL,z.DT,z.EM,z.EMBED,z.H1,z.H2,z.H3,z.H4,z.H5,z.H6,z.HEAD,z.HR,z.I,z.IMG,z.LI,z.LISTING,z.MENU,z.META,z.NOBR,z.OL,z.P,z.PRE,z.RUBY,z.S,z.SMALL,z.SPAN,z.STRONG,z.STRIKE,z.SUB,z.SUP,z.TABLE,z.TT,z.U,z.UL,z.VAR]);function u4t(t){const e=t.tagID;return e===z.FONT&&t.attrs.some(({name:r})=>r===xd.COLOR||r===xd.SIZE||r===xd.FACE)||c4t.has(e)}function OK(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name==="definitionurl"){t.attrs[e].name="definitionURL";break}}function MK(t){for(let e=0;e<t.attrs.length;e++){const r=a4t.get(t.attrs[e].name);r!=null&&(t.attrs[e].name=r)}}function D_(t){for(let e=0;e<t.attrs.length;e++){const r=s4t.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function h4t(t){const e=l4t.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=I0(t.tagName))}function d4t(t,e,r,n){return(!n||n===re.HTML)&&function(i,o,a){if(o===re.MATHML&&i===z.ANNOTATION_XML){for(let s=0;s<a.length;s++)if(a[s].name===xd.ENCODING){const l=a[s].value.toLowerCase();return l===i4t||l===o4t}}return o===re.SVG&&(i===z.FOREIGN_OBJECT||i===z.DESC||i===z.TITLE)}(t,e,r)||(!n||n===re.MATHML)&&function(i,o){return o===re.MATHML&&(i===z.MI||i===z.MO||i===z.MN||i===z.MS||i===z.MTEXT)}(t,e)}var kt;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(kt||(kt={}));const p4t={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},BK=new Set([z.TABLE,z.TBODY,z.TFOOT,z.THEAD,z.TR]),HL={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:pu,onParseError:null};let UL=class{constructor(e,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=kt.INITIAL,this.originalInsertionMode=kt.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...HL,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new q5t(this.options,this),this.activeFormattingElements=new Q5t(this.treeAdapter),this.fragmentContextID=n?I0(this.treeAdapter.getTagName(n)):z.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Z5t(this.document,this.treeAdapter,this)}static parse(e,r){const n=new this(r);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,r){const n={...HL,...r};e!=null||(e=n.treeAdapter.createElement(Pt.TEMPLATE,re.HTML,[]));const i=n.treeAdapter.createElement("documentmock",re.HTML,[]),o=new this(n,i,e);return o.fragmentContextID===z.TEMPLATE&&o.tmplInsertionModeStack.unshift(kt.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,r),r}_err(e,r,n){var i;if(!this.onParseError)return;const o=(i=e.location)!==null&&i!==void 0?i:p4t,a={code:r,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:n?o.startLine:o.endLine,endCol:n?o.startCol:o.endCol,endOffset:n?o.startOffset:o.endOffset};this.onParseError(a)}onItemPush(e,r,n){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,r)}onItemPop(e,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,e,this.openElements.current),r){let o,a;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,a=this.fragmentContextID):{current:o,currentTagId:a}=this.openElements,this._setContextModes(o,a)}}_setContextModes(e,r){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===re.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(r,e)}_switchToTextParsing(e,r){this._insertElement(e,re.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=kt.TEXT}switchToPlaintextParsing(){this.insertionMode=kt.TEXT,this.originalInsertionMode=kt.IN_BODY,this.tokenizer.state=Qn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Pt.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===re.HTML)switch(this.fragmentContextID){case z.TITLE:case z.TEXTAREA:this.tokenizer.state=Qn.RCDATA;break;case z.STYLE:case z.XMP:case z.IFRAME:case z.NOEMBED:case z.NOFRAMES:case z.NOSCRIPT:this.tokenizer.state=Qn.RAWTEXT;break;case z.SCRIPT:this.tokenizer.state=Qn.SCRIPT_DATA;break;case z.PLAINTEXT:this.tokenizer.state=Qn.PLAINTEXT}}_setDocumentType(e){const r=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),e.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}}_attachElementToTree(e,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n,e)}}_appendElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,r){const n=this.treeAdapter.createElement(e.tagName,r,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,r){const n=this.treeAdapter.createElement(e,re.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(e){const r=this.treeAdapter.createElement(e.tagName,re.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Pt.HTML,re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,z.HTML)}_appendCommentNode(e,r){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,e.chars,n):this.treeAdapter.insertText(r,e.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(r),o=n?i.lastIndexOf(n):i.length,a=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:s,endCol:l,endOffset:u}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:s,endCol:l,endOffset:u})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,r){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(e,r){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(e),o=r.type===Tr.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,(e.tagID!==z.SVG||this.treeAdapter.getTagName(r)!==Pt.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(r)!==re.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===z.MGLYPH||e.tagID===z.MALIGNMARK)&&!this._isIntegrationPoint(n,r,re.HTML))}_processToken(e){switch(e.type){case Tr.CHARACTER:this.onCharacter(e);break;case Tr.NULL_CHARACTER:this.onNullCharacter(e);break;case Tr.COMMENT:this.onComment(e);break;case Tr.DOCTYPE:this.onDoctype(e);break;case Tr.START_TAG:this._processStartTag(e);break;case Tr.END_TAG:this.onEndTag(e);break;case Tr.EOF:this.onEof(e);break;case Tr.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,r,n){const i=this.treeAdapter.getNamespaceURI(r),o=this.treeAdapter.getAttrList(r);return d4t(e,i,o,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const r=this.activeFormattingElements.entries.findIndex(n=>n.type===El.Marker||this.openElements.contains(n.element));for(let n=r<0?e-1:r-1;n>=0;n--){const i=this.activeFormattingElements.entries[n];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=kt.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(z.P),this.openElements.popUntilTagNamePopped(z.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case z.TR:return void(this.insertionMode=kt.IN_ROW);case z.TBODY:case z.THEAD:case z.TFOOT:return void(this.insertionMode=kt.IN_TABLE_BODY);case z.CAPTION:return void(this.insertionMode=kt.IN_CAPTION);case z.COLGROUP:return void(this.insertionMode=kt.IN_COLUMN_GROUP);case z.TABLE:return void(this.insertionMode=kt.IN_TABLE);case z.BODY:return void(this.insertionMode=kt.IN_BODY);case z.FRAMESET:return void(this.insertionMode=kt.IN_FRAMESET);case z.SELECT:return void this._resetInsertionModeForSelect(e);case z.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case z.HTML:return void(this.insertionMode=this.headElement?kt.AFTER_HEAD:kt.BEFORE_HEAD);case z.TD:case z.TH:if(e>0)return void(this.insertionMode=kt.IN_CELL);break;case z.HEAD:if(e>0)return void(this.insertionMode=kt.IN_HEAD)}this.insertionMode=kt.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let r=e-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===z.TEMPLATE)break;if(n===z.TABLE)return void(this.insertionMode=kt.IN_SELECT_IN_TABLE)}this.insertionMode=kt.IN_SELECT}_isElementCausesFosterParenting(e){return BK.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const r=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case z.TEMPLATE:if(this.treeAdapter.getNamespaceURI(r)===re.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break;case z.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,e,r.beforeElement):this.treeAdapter.appendChild(r.parent,e)}_isSpecialElement(e,r){const n=this.treeAdapter.getNamespaceURI(e);return U5t[n].has(r)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)(function(r,n){r._insertCharacters(n),r.framesetOk=!1})(this,e);else switch(this.insertionMode){case kt.INITIAL:Wg(this,e);break;case kt.BEFORE_HTML:Vg(this,e);break;case kt.BEFORE_HEAD:Yg(this,e);break;case kt.IN_HEAD:I1(this,e);break;case kt.IN_HEAD_NO_SCRIPT:Xg(this,e);break;case kt.AFTER_HEAD:Kg(this,e);break;case kt.IN_BODY:case kt.IN_CAPTION:case kt.IN_CELL:case kt.IN_TEMPLATE:FK(this,e);break;case kt.TEXT:case kt.IN_SELECT:case kt.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case kt.IN_TABLE:case kt.IN_TABLE_BODY:case kt.IN_ROW:Yw(this,e);break;case kt.IN_TABLE_TEXT:qK(this,e);break;case kt.IN_COLUMN_GROUP:ob(this,e);break;case kt.AFTER_BODY:sb(this,e);break;case kt.AFTER_AFTER_BODY:Pv(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)(function(r,n){n.chars=An,r._insertCharacters(n)})(this,e);else switch(this.insertionMode){case kt.INITIAL:Wg(this,e);break;case kt.BEFORE_HTML:Vg(this,e);break;case kt.BEFORE_HEAD:Yg(this,e);break;case kt.IN_HEAD:I1(this,e);break;case kt.IN_HEAD_NO_SCRIPT:Xg(this,e);break;case kt.AFTER_HEAD:Kg(this,e);break;case kt.TEXT:this._insertCharacters(e);break;case kt.IN_TABLE:case kt.IN_TABLE_BODY:case kt.IN_ROW:Yw(this,e);break;case kt.IN_COLUMN_GROUP:ob(this,e);break;case kt.AFTER_BODY:sb(this,e);break;case kt.AFTER_AFTER_BODY:Pv(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)M_(this,e);else switch(this.insertionMode){case kt.INITIAL:case kt.BEFORE_HTML:case kt.BEFORE_HEAD:case kt.IN_HEAD:case kt.IN_HEAD_NO_SCRIPT:case kt.AFTER_HEAD:case kt.IN_BODY:case kt.IN_TABLE:case kt.IN_CAPTION:case kt.IN_COLUMN_GROUP:case kt.IN_TABLE_BODY:case kt.IN_ROW:case kt.IN_CELL:case kt.IN_SELECT:case kt.IN_SELECT_IN_TABLE:case kt.IN_TEMPLATE:case kt.IN_FRAMESET:case kt.AFTER_FRAMESET:M_(this,e);break;case kt.IN_TABLE_TEXT:Zg(this,e);break;case kt.AFTER_BODY:(function(r,n){r._appendCommentNode(n,r.openElements.items[0])})(this,e);break;case kt.AFTER_AFTER_BODY:case kt.AFTER_AFTER_FRAMESET:(function(r,n){r._appendCommentNode(n,r.document)})(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case kt.INITIAL:(function(r,n){r._setDocumentType(n);const i=n.forceQuirks?us.QUIRKS:n4t(n);r4t(n)||r._err(n,Gt.nonConformingDoctype),r.treeAdapter.setDocumentMode(r.document,i),r.insertionMode=kt.BEFORE_HTML})(this,e);break;case kt.BEFORE_HEAD:case kt.IN_HEAD:case kt.IN_HEAD_NO_SCRIPT:case kt.AFTER_HEAD:this._err(e,Gt.misplacedDoctype);break;case kt.IN_TABLE_TEXT:Zg(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Gt.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(r,n){if(u4t(n))ZL(r),r._startTagOutsideForeignContent(n);else{const i=r._getAdjustedCurrentElement(),o=r.treeAdapter.getNamespaceURI(i);o===re.MATHML?OK(n):o===re.SVG&&(h4t(n),MK(n)),D_(n),n.selfClosing?r._appendElement(n,o):r._insertElement(n,o),n.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case kt.INITIAL:Wg(this,e);break;case kt.BEFORE_HTML:(function(r,n){n.tagID===z.HTML?(r._insertElement(n,re.HTML),r.insertionMode=kt.BEFORE_HEAD):Vg(r,n)})(this,e);break;case kt.BEFORE_HEAD:(function(r,n){switch(n.tagID){case z.HTML:To(r,n);break;case z.HEAD:r._insertElement(n,re.HTML),r.headElement=r.openElements.current,r.insertionMode=kt.IN_HEAD;break;default:Yg(r,n)}})(this,e);break;case kt.IN_HEAD:Fs(this,e);break;case kt.IN_HEAD_NO_SCRIPT:(function(r,n){switch(n.tagID){case z.HTML:To(r,n);break;case z.BASEFONT:case z.BGSOUND:case z.HEAD:case z.LINK:case z.META:case z.NOFRAMES:case z.STYLE:Fs(r,n);break;case z.NOSCRIPT:r._err(n,Gt.nestedNoscriptInHead);break;default:Xg(r,n)}})(this,e);break;case kt.AFTER_HEAD:(function(r,n){switch(n.tagID){case z.HTML:To(r,n);break;case z.BODY:r._insertElement(n,re.HTML),r.framesetOk=!1,r.insertionMode=kt.IN_BODY;break;case z.FRAMESET:r._insertElement(n,re.HTML),r.insertionMode=kt.IN_FRAMESET;break;case z.BASE:case z.BASEFONT:case z.BGSOUND:case z.LINK:case z.META:case z.NOFRAMES:case z.SCRIPT:case z.STYLE:case z.TEMPLATE:case z.TITLE:r._err(n,Gt.abandonedHeadElementChild),r.openElements.push(r.headElement,z.HEAD),Fs(r,n),r.openElements.remove(r.headElement);break;case z.HEAD:r._err(n,Gt.misplacedStartTagForHeadElement);break;default:Kg(r,n)}})(this,e);break;case kt.IN_BODY:To(this,e);break;case kt.IN_TABLE:yf(this,e);break;case kt.IN_TABLE_TEXT:Zg(this,e);break;case kt.IN_CAPTION:(function(r,n){const i=n.tagID;VL.has(i)?r.openElements.hasInTableScope(z.CAPTION)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(z.CAPTION),r.activeFormattingElements.clearToLastMarker(),r.insertionMode=kt.IN_TABLE,yf(r,n)):To(r,n)})(this,e);break;case kt.IN_COLUMN_GROUP:B_(this,e);break;case kt.IN_TABLE_BODY:Ax(this,e);break;case kt.IN_ROW:ab(this,e);break;case kt.IN_CELL:(function(r,n){const i=n.tagID;VL.has(i)?(r.openElements.hasInTableScope(z.TD)||r.openElements.hasInTableScope(z.TH))&&(r._closeTableCell(),ab(r,n)):To(r,n)})(this,e);break;case kt.IN_SELECT:XL(this,e);break;case kt.IN_SELECT_IN_TABLE:(function(r,n){const i=n.tagID;i===z.CAPTION||i===z.TABLE||i===z.TBODY||i===z.TFOOT||i===z.THEAD||i===z.TR||i===z.TD||i===z.TH?(r.openElements.popUntilTagNamePopped(z.SELECT),r._resetInsertionMode(),r._processStartTag(n)):XL(r,n)})(this,e);break;case kt.IN_TEMPLATE:(function(r,n){switch(n.tagID){case z.BASE:case z.BASEFONT:case z.BGSOUND:case z.LINK:case z.META:case z.NOFRAMES:case z.SCRIPT:case z.STYLE:case z.TEMPLATE:case z.TITLE:Fs(r,n);break;case z.CAPTION:case z.COLGROUP:case z.TBODY:case z.TFOOT:case z.THEAD:r.tmplInsertionModeStack[0]=kt.IN_TABLE,r.insertionMode=kt.IN_TABLE,yf(r,n);break;case z.COL:r.tmplInsertionModeStack[0]=kt.IN_COLUMN_GROUP,r.insertionMode=kt.IN_COLUMN_GROUP,B_(r,n);break;case z.TR:r.tmplInsertionModeStack[0]=kt.IN_TABLE_BODY,r.insertionMode=kt.IN_TABLE_BODY,Ax(r,n);break;case z.TD:case z.TH:r.tmplInsertionModeStack[0]=kt.IN_ROW,r.insertionMode=kt.IN_ROW,ab(r,n);break;default:r.tmplInsertionModeStack[0]=kt.IN_BODY,r.insertionMode=kt.IN_BODY,To(r,n)}})(this,e);break;case kt.AFTER_BODY:(function(r,n){n.tagID===z.HTML?To(r,n):sb(r,n)})(this,e);break;case kt.IN_FRAMESET:(function(r,n){switch(n.tagID){case z.HTML:To(r,n);break;case z.FRAMESET:r._insertElement(n,re.HTML);break;case z.FRAME:r._appendElement(n,re.HTML),n.ackSelfClosing=!0;break;case z.NOFRAMES:Fs(r,n)}})(this,e);break;case kt.AFTER_FRAMESET:(function(r,n){switch(n.tagID){case z.HTML:To(r,n);break;case z.NOFRAMES:Fs(r,n)}})(this,e);break;case kt.AFTER_AFTER_BODY:(function(r,n){n.tagID===z.HTML?To(r,n):Pv(r,n)})(this,e);break;case kt.AFTER_AFTER_FRAMESET:(function(r,n){switch(n.tagID){case z.HTML:To(r,n);break;case z.NOFRAMES:Fs(r,n)}})(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(r,n){if(n.tagID===z.P||n.tagID===z.BR)return ZL(r),void r._endTagOutsideForeignContent(n);for(let i=r.openElements.stackTop;i>0;i--){const o=r.openElements.items[i];if(r.treeAdapter.getNamespaceURI(o)===re.HTML){r._endTagOutsideForeignContent(n);break}const a=r.treeAdapter.getTagName(o);if(a.toLowerCase()===n.tagName){n.tagName=a,r.openElements.shortenToLength(i);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case kt.INITIAL:Wg(this,e);break;case kt.BEFORE_HTML:(function(r,n){const i=n.tagID;i!==z.HTML&&i!==z.HEAD&&i!==z.BODY&&i!==z.BR||Vg(r,n)})(this,e);break;case kt.BEFORE_HEAD:(function(r,n){const i=n.tagID;i===z.HEAD||i===z.BODY||i===z.HTML||i===z.BR?Yg(r,n):r._err(n,Gt.endTagWithoutMatchingOpenElement)})(this,e);break;case kt.IN_HEAD:(function(r,n){switch(n.tagID){case z.HEAD:r.openElements.pop(),r.insertionMode=kt.AFTER_HEAD;break;case z.BODY:case z.BR:case z.HTML:I1(r,n);break;case z.TEMPLATE:pd(r,n);break;default:r._err(n,Gt.endTagWithoutMatchingOpenElement)}})(this,e);break;case kt.IN_HEAD_NO_SCRIPT:(function(r,n){switch(n.tagID){case z.NOSCRIPT:r.openElements.pop(),r.insertionMode=kt.IN_HEAD;break;case z.BR:Xg(r,n);break;default:r._err(n,Gt.endTagWithoutMatchingOpenElement)}})(this,e);break;case kt.AFTER_HEAD:(function(r,n){switch(n.tagID){case z.BODY:case z.HTML:case z.BR:Kg(r,n);break;case z.TEMPLATE:pd(r,n);break;default:r._err(n,Gt.endTagWithoutMatchingOpenElement)}})(this,e);break;case kt.IN_BODY:ib(this,e);break;case kt.TEXT:(function(r,n){var i;n.tagID===z.SCRIPT&&((i=r.scriptHandler)===null||i===void 0||i.call(r,r.openElements.current)),r.openElements.pop(),r.insertionMode=r.originalInsertionMode})(this,e);break;case kt.IN_TABLE:Dm(this,e);break;case kt.IN_TABLE_TEXT:Zg(this,e);break;case kt.IN_CAPTION:(function(r,n){const i=n.tagID;switch(i){case z.CAPTION:case z.TABLE:r.openElements.hasInTableScope(z.CAPTION)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(z.CAPTION),r.activeFormattingElements.clearToLastMarker(),r.insertionMode=kt.IN_TABLE,i===z.TABLE&&Dm(r,n));break;case z.BODY:case z.COL:case z.COLGROUP:case z.HTML:case z.TBODY:case z.TD:case z.TFOOT:case z.TH:case z.THEAD:case z.TR:break;default:ib(r,n)}})(this,e);break;case kt.IN_COLUMN_GROUP:(function(r,n){switch(n.tagID){case z.COLGROUP:r.openElements.currentTagId===z.COLGROUP&&(r.openElements.pop(),r.insertionMode=kt.IN_TABLE);break;case z.TEMPLATE:pd(r,n);break;case z.COL:break;default:ob(r,n)}})(this,e);break;case kt.IN_TABLE_BODY:P_(this,e);break;case kt.IN_ROW:YL(this,e);break;case kt.IN_CELL:(function(r,n){const i=n.tagID;switch(i){case z.TD:case z.TH:r.openElements.hasInTableScope(i)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(i),r.activeFormattingElements.clearToLastMarker(),r.insertionMode=kt.IN_ROW);break;case z.TABLE:case z.TBODY:case z.TFOOT:case z.THEAD:case z.TR:r.openElements.hasInTableScope(i)&&(r._closeTableCell(),YL(r,n));break;case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:break;default:ib(r,n)}})(this,e);break;case kt.IN_SELECT:KL(this,e);break;case kt.IN_SELECT_IN_TABLE:(function(r,n){const i=n.tagID;i===z.CAPTION||i===z.TABLE||i===z.TBODY||i===z.TFOOT||i===z.THEAD||i===z.TR||i===z.TD||i===z.TH?r.openElements.hasInTableScope(i)&&(r.openElements.popUntilTagNamePopped(z.SELECT),r._resetInsertionMode(),r.onEndTag(n)):KL(r,n)})(this,e);break;case kt.IN_TEMPLATE:(function(r,n){n.tagID===z.TEMPLATE&&pd(r,n)})(this,e);break;case kt.AFTER_BODY:WK(this,e);break;case kt.IN_FRAMESET:(function(r,n){n.tagID!==z.FRAMESET||r.openElements.isRootHtmlElementCurrent()||(r.openElements.pop(),r.fragmentContext||r.openElements.currentTagId===z.FRAMESET||(r.insertionMode=kt.AFTER_FRAMESET))})(this,e);break;case kt.AFTER_FRAMESET:(function(r,n){n.tagID===z.HTML&&(r.insertionMode=kt.AFTER_AFTER_FRAMESET)})(this,e);break;case kt.AFTER_AFTER_BODY:Pv(this,e)}}onEof(e){switch(this.insertionMode){case kt.INITIAL:Wg(this,e);break;case kt.BEFORE_HTML:Vg(this,e);break;case kt.BEFORE_HEAD:Yg(this,e);break;case kt.IN_HEAD:I1(this,e);break;case kt.IN_HEAD_NO_SCRIPT:Xg(this,e);break;case kt.AFTER_HEAD:Kg(this,e);break;case kt.IN_BODY:case kt.IN_TABLE:case kt.IN_CAPTION:case kt.IN_COLUMN_GROUP:case kt.IN_TABLE_BODY:case kt.IN_ROW:case kt.IN_CELL:case kt.IN_SELECT:case kt.IN_SELECT_IN_TABLE:HK(this,e);break;case kt.TEXT:(function(r,n){r._err(n,Gt.eofInElementThatCanContainOnlyText),r.openElements.pop(),r.insertionMode=r.originalInsertionMode,r.onEof(n)})(this,e);break;case kt.IN_TABLE_TEXT:Zg(this,e);break;case kt.IN_TEMPLATE:GK(this,e);break;case kt.AFTER_BODY:case kt.IN_FRAMESET:case kt.AFTER_FRAMESET:case kt.AFTER_AFTER_BODY:case kt.AFTER_AFTER_FRAMESET:YC(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===ht.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case kt.IN_HEAD:case kt.IN_HEAD_NO_SCRIPT:case kt.AFTER_HEAD:case kt.TEXT:case kt.IN_COLUMN_GROUP:case kt.IN_SELECT:case kt.IN_SELECT_IN_TABLE:case kt.IN_FRAMESET:case kt.AFTER_FRAMESET:this._insertCharacters(e);break;case kt.IN_BODY:case kt.IN_CAPTION:case kt.IN_CELL:case kt.IN_TEMPLATE:case kt.AFTER_BODY:case kt.AFTER_AFTER_BODY:case kt.AFTER_AFTER_FRAMESET:PK(this,e);break;case kt.IN_TABLE:case kt.IN_TABLE_BODY:case kt.IN_ROW:Yw(this,e);break;case kt.IN_TABLE_TEXT:UK(this,e)}}};function f4t(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):jK(t,e),r}function g4t(t,e){let r=null,n=t.openElements.stackTop;for(;n>=0;n--){const i=t.openElements.items[n];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[n])&&(r=i)}return r||(t.openElements.shortenToLength(n<0?0:n),t.activeFormattingElements.removeEntry(e)),r}function m4t(t,e,r){let n=e,i=t.openElements.getCommonAncestor(e);for(let o=0,a=i;a!==r;o++,a=i){i=t.openElements.getCommonAncestor(a);const s=t.activeFormattingElements.getElementEntry(a),l=s&&o>=3;!s||l?(l&&t.activeFormattingElements.removeEntry(s),t.openElements.remove(a)):(a=y4t(t,s),n===e&&(t.activeFormattingElements.bookmark=s),t.treeAdapter.detachNode(n),t.treeAdapter.appendChild(a,n),n=a)}return n}function y4t(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),n=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,n),e.element=n,n}function v4t(t,e,r){const n=t.treeAdapter.getTagName(e),i=I0(n);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(r);else{const o=t.treeAdapter.getNamespaceURI(e);i===z.TEMPLATE&&o===re.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function b4t(t,e,r){const n=t.treeAdapter.getNamespaceURI(r.element),{token:i}=r,o=t.treeAdapter.createElement(i.tagName,n,i.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,i),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,o,i.tagID)}function O_(t,e){for(let r=0;r<8;r++){const n=f4t(t,e);if(!n)break;const i=g4t(t,n);if(!i)break;t.activeFormattingElements.bookmark=n;const o=m4t(t,i,n.element),a=t.openElements.getCommonAncestor(n.element);t.treeAdapter.detachNode(o),a&&v4t(t,a,o),b4t(t,i,n)}}function M_(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function YC(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let n=t.openElements.stackTop;n>=r;n--)t._setEndLocation(t.openElements.items[n],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const n=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(t._setEndLocation(n,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(o);a&&!a.endTag&&t._setEndLocation(o,e)}}}}function Wg(t,e){t._err(e,Gt.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,us.QUIRKS),t.insertionMode=kt.BEFORE_HTML,t._processToken(e)}function Vg(t,e){t._insertFakeRootElement(),t.insertionMode=kt.BEFORE_HEAD,t._processToken(e)}function Yg(t,e){t._insertFakeElement(Pt.HEAD,z.HEAD),t.headElement=t.openElements.current,t.insertionMode=kt.IN_HEAD,t._processToken(e)}function Fs(t,e){switch(e.tagID){case z.HTML:To(t,e);break;case z.BASE:case z.BASEFONT:case z.BGSOUND:case z.LINK:case z.META:t._appendElement(e,re.HTML),e.ackSelfClosing=!0;break;case z.TITLE:t._switchToTextParsing(e,Qn.RCDATA);break;case z.NOSCRIPT:t.options.scriptingEnabled?t._switchToTextParsing(e,Qn.RAWTEXT):(t._insertElement(e,re.HTML),t.insertionMode=kt.IN_HEAD_NO_SCRIPT);break;case z.NOFRAMES:case z.STYLE:t._switchToTextParsing(e,Qn.RAWTEXT);break;case z.SCRIPT:t._switchToTextParsing(e,Qn.SCRIPT_DATA);break;case z.TEMPLATE:t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=kt.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(kt.IN_TEMPLATE);break;case z.HEAD:t._err(e,Gt.misplacedStartTagForHeadElement);break;default:I1(t,e)}}function pd(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==z.TEMPLATE&&t._err(e,Gt.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(z.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Gt.endTagWithoutMatchingOpenElement)}function I1(t,e){t.openElements.pop(),t.insertionMode=kt.AFTER_HEAD,t._processToken(e)}function Xg(t,e){const r=e.type===Tr.EOF?Gt.openElementsLeftAfterEof:Gt.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=kt.IN_HEAD,t._processToken(e)}function Kg(t,e){t._insertFakeElement(Pt.BODY,z.BODY),t.insertionMode=kt.IN_BODY,D4(t,e)}function D4(t,e){switch(e.type){case Tr.CHARACTER:FK(t,e);break;case Tr.WHITESPACE_CHARACTER:PK(t,e);break;case Tr.COMMENT:M_(t,e);break;case Tr.START_TAG:To(t,e);break;case Tr.END_TAG:ib(t,e);break;case Tr.EOF:HK(t,e)}}function PK(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function FK(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function qL(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,re.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function zK(t){const e=AK(t,xd.TYPE);return e!=null&&e.toLowerCase()==="hidden"}function GL(t,e){t._switchToTextParsing(e,Qn.RAWTEXT)}function WL(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,re.HTML)}function To(t,e){switch(e.tagID){case z.I:case z.S:case z.B:case z.U:case z.EM:case z.TT:case z.BIG:case z.CODE:case z.FONT:case z.SMALL:case z.STRIKE:case z.STRONG:(function(r,n){r._reconstructActiveFormattingElements(),r._insertElement(n,re.HTML),r.activeFormattingElements.pushElement(r.openElements.current,n)})(t,e);break;case z.A:(function(r,n){const i=r.activeFormattingElements.getElementEntryInScopeWithTagName(Pt.A);i&&(O_(r,n),r.openElements.remove(i.element),r.activeFormattingElements.removeEntry(i)),r._reconstructActiveFormattingElements(),r._insertElement(n,re.HTML),r.activeFormattingElements.pushElement(r.openElements.current,n)})(t,e);break;case z.H1:case z.H2:case z.H3:case z.H4:case z.H5:case z.H6:(function(r,n){r.openElements.hasInButtonScope(z.P)&&r._closePElement(),R_.has(r.openElements.currentTagId)&&r.openElements.pop(),r._insertElement(n,re.HTML)})(t,e);break;case z.P:case z.DL:case z.OL:case z.UL:case z.DIV:case z.DIR:case z.NAV:case z.MAIN:case z.MENU:case z.ASIDE:case z.CENTER:case z.FIGURE:case z.FOOTER:case z.HEADER:case z.HGROUP:case z.DIALOG:case z.DETAILS:case z.ADDRESS:case z.ARTICLE:case z.SEARCH:case z.SECTION:case z.SUMMARY:case z.FIELDSET:case z.BLOCKQUOTE:case z.FIGCAPTION:(function(r,n){r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._insertElement(n,re.HTML)})(t,e);break;case z.LI:case z.DD:case z.DT:(function(r,n){r.framesetOk=!1;const i=n.tagID;for(let o=r.openElements.stackTop;o>=0;o--){const a=r.openElements.tagIDs[o];if(i===z.LI&&a===z.LI||(i===z.DD||i===z.DT)&&(a===z.DD||a===z.DT)){r.openElements.generateImpliedEndTagsWithExclusion(a),r.openElements.popUntilTagNamePopped(a);break}if(a!==z.ADDRESS&&a!==z.DIV&&a!==z.P&&r._isSpecialElement(r.openElements.items[o],a))break}r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._insertElement(n,re.HTML)})(t,e);break;case z.BR:case z.IMG:case z.WBR:case z.AREA:case z.EMBED:case z.KEYGEN:qL(t,e);break;case z.HR:(function(r,n){r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._appendElement(n,re.HTML),r.framesetOk=!1,n.ackSelfClosing=!0})(t,e);break;case z.RB:case z.RTC:(function(r,n){r.openElements.hasInScope(z.RUBY)&&r.openElements.generateImpliedEndTags(),r._insertElement(n,re.HTML)})(t,e);break;case z.RT:case z.RP:(function(r,n){r.openElements.hasInScope(z.RUBY)&&r.openElements.generateImpliedEndTagsWithExclusion(z.RTC),r._insertElement(n,re.HTML)})(t,e);break;case z.PRE:case z.LISTING:(function(r,n){r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._insertElement(n,re.HTML),r.skipNextNewLine=!0,r.framesetOk=!1})(t,e);break;case z.XMP:(function(r,n){r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._reconstructActiveFormattingElements(),r.framesetOk=!1,r._switchToTextParsing(n,Qn.RAWTEXT)})(t,e);break;case z.SVG:(function(r,n){r._reconstructActiveFormattingElements(),MK(n),D_(n),n.selfClosing?r._appendElement(n,re.SVG):r._insertElement(n,re.SVG),n.ackSelfClosing=!0})(t,e);break;case z.HTML:(function(r,n){r.openElements.tmplCount===0&&r.treeAdapter.adoptAttributes(r.openElements.items[0],n.attrs)})(t,e);break;case z.BASE:case z.LINK:case z.META:case z.STYLE:case z.TITLE:case z.SCRIPT:case z.BGSOUND:case z.BASEFONT:case z.TEMPLATE:Fs(t,e);break;case z.BODY:(function(r,n){const i=r.openElements.tryPeekProperlyNestedBodyElement();i&&r.openElements.tmplCount===0&&(r.framesetOk=!1,r.treeAdapter.adoptAttributes(i,n.attrs))})(t,e);break;case z.FORM:(function(r,n){const i=r.openElements.tmplCount>0;r.formElement&&!i||(r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._insertElement(n,re.HTML),i||(r.formElement=r.openElements.current))})(t,e);break;case z.NOBR:(function(r,n){r._reconstructActiveFormattingElements(),r.openElements.hasInScope(z.NOBR)&&(O_(r,n),r._reconstructActiveFormattingElements()),r._insertElement(n,re.HTML),r.activeFormattingElements.pushElement(r.openElements.current,n)})(t,e);break;case z.MATH:(function(r,n){r._reconstructActiveFormattingElements(),OK(n),D_(n),n.selfClosing?r._appendElement(n,re.MATHML):r._insertElement(n,re.MATHML),n.ackSelfClosing=!0})(t,e);break;case z.TABLE:(function(r,n){r.treeAdapter.getDocumentMode(r.document)!==us.QUIRKS&&r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._insertElement(n,re.HTML),r.framesetOk=!1,r.insertionMode=kt.IN_TABLE})(t,e);break;case z.INPUT:(function(r,n){r._reconstructActiveFormattingElements(),r._appendElement(n,re.HTML),zK(n)||(r.framesetOk=!1),n.ackSelfClosing=!0})(t,e);break;case z.PARAM:case z.TRACK:case z.SOURCE:(function(r,n){r._appendElement(n,re.HTML),n.ackSelfClosing=!0})(t,e);break;case z.IMAGE:(function(r,n){n.tagName=Pt.IMG,n.tagID=z.IMG,qL(r,n)})(t,e);break;case z.BUTTON:(function(r,n){r.openElements.hasInScope(z.BUTTON)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(z.BUTTON)),r._reconstructActiveFormattingElements(),r._insertElement(n,re.HTML),r.framesetOk=!1})(t,e);break;case z.APPLET:case z.OBJECT:case z.MARQUEE:(function(r,n){r._reconstructActiveFormattingElements(),r._insertElement(n,re.HTML),r.activeFormattingElements.insertMarker(),r.framesetOk=!1})(t,e);break;case z.IFRAME:(function(r,n){r.framesetOk=!1,r._switchToTextParsing(n,Qn.RAWTEXT)})(t,e);break;case z.SELECT:(function(r,n){r._reconstructActiveFormattingElements(),r._insertElement(n,re.HTML),r.framesetOk=!1,r.insertionMode=r.insertionMode===kt.IN_TABLE||r.insertionMode===kt.IN_CAPTION||r.insertionMode===kt.IN_TABLE_BODY||r.insertionMode===kt.IN_ROW||r.insertionMode===kt.IN_CELL?kt.IN_SELECT_IN_TABLE:kt.IN_SELECT})(t,e);break;case z.OPTION:case z.OPTGROUP:(function(r,n){r.openElements.currentTagId===z.OPTION&&r.openElements.pop(),r._reconstructActiveFormattingElements(),r._insertElement(n,re.HTML)})(t,e);break;case z.NOEMBED:case z.NOFRAMES:GL(t,e);break;case z.FRAMESET:(function(r,n){const i=r.openElements.tryPeekProperlyNestedBodyElement();r.framesetOk&&i&&(r.treeAdapter.detachNode(i),r.openElements.popAllUpToHtmlElement(),r._insertElement(n,re.HTML),r.insertionMode=kt.IN_FRAMESET)})(t,e);break;case z.TEXTAREA:(function(r,n){r._insertElement(n,re.HTML),r.skipNextNewLine=!0,r.tokenizer.state=Qn.RCDATA,r.originalInsertionMode=r.insertionMode,r.framesetOk=!1,r.insertionMode=kt.TEXT})(t,e);break;case z.NOSCRIPT:t.options.scriptingEnabled?GL(t,e):WL(t,e);break;case z.PLAINTEXT:(function(r,n){r.openElements.hasInButtonScope(z.P)&&r._closePElement(),r._insertElement(n,re.HTML),r.tokenizer.state=Qn.PLAINTEXT})(t,e);break;case z.COL:case z.TH:case z.TD:case z.TR:case z.HEAD:case z.FRAME:case z.TBODY:case z.TFOOT:case z.THEAD:case z.CAPTION:case z.COLGROUP:break;default:WL(t,e)}}function jK(t,e){const r=e.tagName,n=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const o=t.openElements.items[i],a=t.openElements.tagIDs[i];if(n===a&&(n!==z.UNKNOWN||t.treeAdapter.getTagName(o)===r)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(o,a))break}}function ib(t,e){switch(e.tagID){case z.A:case z.B:case z.I:case z.S:case z.U:case z.EM:case z.TT:case z.BIG:case z.CODE:case z.FONT:case z.NOBR:case z.SMALL:case z.STRIKE:case z.STRONG:O_(t,e);break;case z.P:(function(r){r.openElements.hasInButtonScope(z.P)||r._insertFakeElement(Pt.P,z.P),r._closePElement()})(t);break;case z.DL:case z.UL:case z.OL:case z.DIR:case z.DIV:case z.NAV:case z.PRE:case z.MAIN:case z.MENU:case z.ASIDE:case z.BUTTON:case z.CENTER:case z.FIGURE:case z.FOOTER:case z.HEADER:case z.HGROUP:case z.DIALOG:case z.ADDRESS:case z.ARTICLE:case z.DETAILS:case z.SEARCH:case z.SECTION:case z.SUMMARY:case z.LISTING:case z.FIELDSET:case z.BLOCKQUOTE:case z.FIGCAPTION:(function(r,n){const i=n.tagID;r.openElements.hasInScope(i)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(i))})(t,e);break;case z.LI:(function(r){r.openElements.hasInListItemScope(z.LI)&&(r.openElements.generateImpliedEndTagsWithExclusion(z.LI),r.openElements.popUntilTagNamePopped(z.LI))})(t);break;case z.DD:case z.DT:(function(r,n){const i=n.tagID;r.openElements.hasInScope(i)&&(r.openElements.generateImpliedEndTagsWithExclusion(i),r.openElements.popUntilTagNamePopped(i))})(t,e);break;case z.H1:case z.H2:case z.H3:case z.H4:case z.H5:case z.H6:(function(r){r.openElements.hasNumberedHeaderInScope()&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilNumberedHeaderPopped())})(t);break;case z.BR:(function(r){r._reconstructActiveFormattingElements(),r._insertFakeElement(Pt.BR,z.BR),r.openElements.pop(),r.framesetOk=!1})(t);break;case z.BODY:(function(r,n){if(r.openElements.hasInScope(z.BODY)&&(r.insertionMode=kt.AFTER_BODY,r.options.sourceCodeLocationInfo)){const i=r.openElements.tryPeekProperlyNestedBodyElement();i&&r._setEndLocation(i,n)}})(t,e);break;case z.HTML:(function(r,n){r.openElements.hasInScope(z.BODY)&&(r.insertionMode=kt.AFTER_BODY,WK(r,n))})(t,e);break;case z.FORM:(function(r){const n=r.openElements.tmplCount>0,{formElement:i}=r;n||(r.formElement=null),(i||n)&&r.openElements.hasInScope(z.FORM)&&(r.openElements.generateImpliedEndTags(),n?r.openElements.popUntilTagNamePopped(z.FORM):i&&r.openElements.remove(i))})(t);break;case z.APPLET:case z.OBJECT:case z.MARQUEE:(function(r,n){const i=n.tagID;r.openElements.hasInScope(i)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(i),r.activeFormattingElements.clearToLastMarker())})(t,e);break;case z.TEMPLATE:pd(t,e);break;default:jK(t,e)}}function HK(t,e){t.tmplInsertionModeStack.length>0?GK(t,e):YC(t,e)}function Yw(t,e){if(BK.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=kt.IN_TABLE_TEXT,e.type){case Tr.CHARACTER:qK(t,e);break;case Tr.WHITESPACE_CHARACTER:UK(t,e)}else Om(t,e)}function yf(t,e){switch(e.tagID){case z.TD:case z.TH:case z.TR:(function(r,n){r.openElements.clearBackToTableContext(),r._insertFakeElement(Pt.TBODY,z.TBODY),r.insertionMode=kt.IN_TABLE_BODY,Ax(r,n)})(t,e);break;case z.STYLE:case z.SCRIPT:case z.TEMPLATE:Fs(t,e);break;case z.COL:(function(r,n){r.openElements.clearBackToTableContext(),r._insertFakeElement(Pt.COLGROUP,z.COLGROUP),r.insertionMode=kt.IN_COLUMN_GROUP,B_(r,n)})(t,e);break;case z.FORM:(function(r,n){r.formElement||r.openElements.tmplCount!==0||(r._insertElement(n,re.HTML),r.formElement=r.openElements.current,r.openElements.pop())})(t,e);break;case z.TABLE:(function(r,n){r.openElements.hasInTableScope(z.TABLE)&&(r.openElements.popUntilTagNamePopped(z.TABLE),r._resetInsertionMode(),r._processStartTag(n))})(t,e);break;case z.TBODY:case z.TFOOT:case z.THEAD:(function(r,n){r.openElements.clearBackToTableContext(),r._insertElement(n,re.HTML),r.insertionMode=kt.IN_TABLE_BODY})(t,e);break;case z.INPUT:(function(r,n){zK(n)?r._appendElement(n,re.HTML):Om(r,n),n.ackSelfClosing=!0})(t,e);break;case z.CAPTION:(function(r,n){r.openElements.clearBackToTableContext(),r.activeFormattingElements.insertMarker(),r._insertElement(n,re.HTML),r.insertionMode=kt.IN_CAPTION})(t,e);break;case z.COLGROUP:(function(r,n){r.openElements.clearBackToTableContext(),r._insertElement(n,re.HTML),r.insertionMode=kt.IN_COLUMN_GROUP})(t,e);break;default:Om(t,e)}}function Dm(t,e){switch(e.tagID){case z.TABLE:t.openElements.hasInTableScope(z.TABLE)&&(t.openElements.popUntilTagNamePopped(z.TABLE),t._resetInsertionMode());break;case z.TEMPLATE:pd(t,e);break;case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:case z.TBODY:case z.TD:case z.TFOOT:case z.TH:case z.THEAD:case z.TR:break;default:Om(t,e)}}function Om(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,D4(t,e),t.fosterParentingEnabled=r}function UK(t,e){t.pendingCharacterTokens.push(e)}function qK(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Zg(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)Om(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const VL=new Set([z.CAPTION,z.COL,z.COLGROUP,z.TBODY,z.TD,z.TFOOT,z.TH,z.THEAD,z.TR]);function B_(t,e){switch(e.tagID){case z.HTML:To(t,e);break;case z.COL:t._appendElement(e,re.HTML),e.ackSelfClosing=!0;break;case z.TEMPLATE:Fs(t,e);break;default:ob(t,e)}}function ob(t,e){t.openElements.currentTagId===z.COLGROUP&&(t.openElements.pop(),t.insertionMode=kt.IN_TABLE,t._processToken(e))}function Ax(t,e){switch(e.tagID){case z.TR:t.openElements.clearBackToTableBodyContext(),t._insertElement(e,re.HTML),t.insertionMode=kt.IN_ROW;break;case z.TH:case z.TD:t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(Pt.TR,z.TR),t.insertionMode=kt.IN_ROW,ab(t,e);break;case z.CAPTION:case z.COL:case z.COLGROUP:case z.TBODY:case z.TFOOT:case z.THEAD:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE,yf(t,e));break;default:yf(t,e)}}function P_(t,e){const r=e.tagID;switch(e.tagID){case z.TBODY:case z.TFOOT:case z.THEAD:t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE);break;case z.TABLE:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE,Dm(t,e));break;case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:case z.TD:case z.TH:case z.TR:break;default:Dm(t,e)}}function ab(t,e){switch(e.tagID){case z.TH:case z.TD:t.openElements.clearBackToTableRowContext(),t._insertElement(e,re.HTML),t.insertionMode=kt.IN_CELL,t.activeFormattingElements.insertMarker();break;case z.CAPTION:case z.COL:case z.COLGROUP:case z.TBODY:case z.TFOOT:case z.THEAD:case z.TR:t.openElements.hasInTableScope(z.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE_BODY,Ax(t,e));break;default:yf(t,e)}}function YL(t,e){switch(e.tagID){case z.TR:t.openElements.hasInTableScope(z.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE_BODY);break;case z.TABLE:t.openElements.hasInTableScope(z.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE_BODY,P_(t,e));break;case z.TBODY:case z.TFOOT:case z.THEAD:(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(z.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=kt.IN_TABLE_BODY,P_(t,e));break;case z.BODY:case z.CAPTION:case z.COL:case z.COLGROUP:case z.HTML:case z.TD:case z.TH:break;default:Dm(t,e)}}function XL(t,e){switch(e.tagID){case z.HTML:To(t,e);break;case z.OPTION:t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t._insertElement(e,re.HTML);break;case z.OPTGROUP:t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t.openElements.currentTagId===z.OPTGROUP&&t.openElements.pop(),t._insertElement(e,re.HTML);break;case z.HR:t.openElements.currentTagId===z.OPTION&&t.openElements.pop(),t.openElements.currentTagId===z.OPTGROUP&&t.openElements.pop(),t._appendElement(e,re.HTML),e.ackSelfClosing=!0;break;case z.INPUT:case z.KEYGEN:case z.TEXTAREA:case z.SELECT:t.openElements.hasInSelectScope(z.SELECT)&&(t.openElements.popUntilTagNamePopped(z.SELECT),t._resetInsertionMode(),e.tagID!==z.SELECT&&t._processStartTag(e));break;case z.SCRIPT:case z.TEMPLATE:Fs(t,e)}}function KL(t,e){switch(e.tagID){case z.OPTGROUP:t.openElements.stackTop>0&&t.openElements.currentTagId===z.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===z.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===z.OPTGROUP&&t.openElements.pop();break;case z.OPTION:t.openElements.currentTagId===z.OPTION&&t.openElements.pop();break;case z.SELECT:t.openElements.hasInSelectScope(z.SELECT)&&(t.openElements.popUntilTagNamePopped(z.SELECT),t._resetInsertionMode());break;case z.TEMPLATE:pd(t,e)}}function GK(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(z.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):YC(t,e)}function WK(t,e){var r;if(e.tagID===z.HTML){if(t.fragmentContext||(t.insertionMode=kt.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===z.HTML){t._setEndLocation(t.openElements.items[0],e);const n=t.openElements.items[1];n&&!(!((r=t.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&t._setEndLocation(n,e)}}else sb(t,e)}function sb(t,e){t.insertionMode=kt.IN_BODY,D4(t,e)}function Pv(t,e){t.insertionMode=kt.IN_BODY,D4(t,e)}function ZL(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==re.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}Pt.AREA,Pt.BASE,Pt.BASEFONT,Pt.BGSOUND,Pt.BR,Pt.COL,Pt.EMBED,Pt.FRAME,Pt.HR,Pt.IMG,Pt.INPUT,Pt.KEYGEN,Pt.LINK,Pt.META,Pt.PARAM,Pt.SOURCE,Pt.TRACK,Pt.WBR;const fd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},QL={}.hasOwnProperty;function VK(t,e){const r=e||{};function n(i,...o){let a=n.invalid;const s=n.handlers;if(i&&QL.call(i,t)){const l=String(i[t]);a=QL.call(s,l)?s[l]:n.unknown}if(a)return a.call(this,i,...o)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}const JL=/[#.]/g;function x4t(t,e){const r=t||"",n={};let i,o,a=0;for(;a<r.length;){JL.lastIndex=a;const s=JL.exec(r),l=r.slice(a,s?s.index:r.length);l&&(i?i==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:o=l,a+=l.length),s&&(i=s[0],a++)}return{type:"element",tagName:o||e||"div",properties:n,children:[]}}function YK(t,e,r){const n=r?function(i){const o=new Map;for(const a of i)o.set(a.toLowerCase(),a);return o}(r):void 0;return function(i,o,...a){let s;if(i==null){s={type:"root",children:[]};const l=o;a.unshift(l)}else{s=x4t(i,e);const l=s.tagName.toLowerCase(),u=n?n.get(l):void 0;if(s.tagName=u||l,function(h){if(h===null||typeof h!="object"||Array.isArray(h))return!0;if(typeof h.type!="string")return!1;const d=h,p=Object.keys(h);for(const f of p){const g=d[f];if(g&&typeof g=="object"){if(!Array.isArray(g))return!0;const m=g;for(const y of m)if(typeof y!="number"&&typeof y!="string")return!0}}return!!("children"in h&&Array.isArray(h.children))}(o))a.unshift(o);else for(const[h,d]of Object.entries(o))w4t(t,s.properties,h,d)}for(const l of a)F_(s.children,l);return s.type==="element"&&s.tagName==="template"&&(s.content={type:"root",children:s.children},s.children=[]),s}}function w4t(t,e,r,n){const i=UC(t,r);let o;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;o=n}else o=typeof n=="boolean"?n:typeof n=="string"?i.spaceSeparated?hL(n):i.commaSeparated?cL(n):i.commaOrSpaceSeparated?hL(cL(n).join(" ")):tR(i,i.property,n):Array.isArray(n)?[...n]:i.property==="style"?function(a){const s=[];for(const[l,u]of Object.entries(a))s.push([l,u].join(": "));return s.join("; ")}(n):String(n);if(Array.isArray(o)){const a=[];for(const s of o)a.push(tR(i,i.property,s));o=a}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function F_(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const r of e)F_(t,r);else{if(typeof e!="object"||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");e.type==="root"?F_(t,e.children):t.push(e)}}function tR(t,e,r){if(typeof r=="string"){if(t.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((t.boolean||t.overloadedBoolean)&&(r===""||Lm(r)===Lm(e)))return!0}return r}const k4t=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],T4t=YK(R4,"div"),E4t=YK(N0,"g",k4t);function _4t(t){const e=String(t),r=[];return{toOffset:function(n){if(n&&typeof n.line=="number"&&typeof n.column=="number"&&!Number.isNaN(n.line)&&!Number.isNaN(n.column)){for(;r.length<n.line;){const o=r[r.length-1],a=eR(e,o),s=a===-1?e.length+1:a+1;if(o===s)break;r.push(s)}const i=(n.line>1?r[n.line-2]:0)+n.column-1;if(i<r[n.line-1])return i}},toPoint:function(n){if(typeof n=="number"&&n>-1&&n<=e.length){let i=0;for(;;){let o=r[i];if(o===void 0){const a=eR(e,r[i-1]);o=a===-1?e.length+1:a+1,r[i]=o}if(o>n)return{line:i+1,column:n-(i>0?r[i-1]:0)+1,offset:n};i++}}}}}function eR(t,e){const r=t.indexOf("\r",e),n=t.indexOf(`
`,e);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const XK={}.hasOwnProperty,S4t=Object.prototype;function A4t(t,e){const r=e||{};return XC({file:r.file||void 0,location:!1,schema:r.space==="svg"?N0:R4,verbose:r.verbose||!1},t)}function XC(t,e){let r;switch(e.nodeName){case"#comment":{const n=e;return r={type:"comment",value:n.data},Fv(t,n,r),r}case"#document":case"#document-fragment":{const n=e,i="mode"in n&&(n.mode==="quirks"||n.mode==="limited-quirks");if(r={type:"root",children:rR(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const o=String(t.file),a=_4t(o),s=a.toPoint(0),l=a.toPoint(o.length);r.position={start:s,end:l}}return r}case"#documentType":return r={type:"doctype"},Fv(t,e,r),r;case"#text":{const n=e;return r={type:"text",value:n.value},Fv(t,n,r),r}default:return r=function(n,i){const o=n.schema;n.schema=i.namespaceURI===fd.svg?N0:R4;let a=-1;const s={};for(;++a<i.attrs.length;){const h=i.attrs[a],d=(h.prefix?h.prefix+":":"")+h.name;XK.call(S4t,d)||(s[d]=h.value)}const l=n.schema.space==="svg"?E4t:T4t,u=l(i.tagName,s,rR(n,i.childNodes));if(Fv(n,i,u),u.tagName==="template"){const h=i,d=h.sourceCodeLocation,p=d&&d.startTag&&rf(d.startTag),f=d&&d.endTag&&rf(d.endTag),g=XC(n,h.content);p&&f&&n.file&&(g.position={start:p.end,end:f.start}),u.content=g}return n.schema=o,u}(t,e),r}}function rR(t,e){let r=-1;const n=[];for(;++r<e.length;){const i=XC(t,e[r]);n.push(i)}return n}function Fv(t,e,r){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const n=C4t(t,r,e.sourceCodeLocation);n&&(t.location=!0,r.position=n)}}function C4t(t,e,r){const n=rf(r);if(e.type==="element"){const i=e.children[e.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),t.verbose){const o={};let a;if(r.attrs)for(a in r.attrs)XK.call(r.attrs,a)&&(o[UC(t.schema,a).property]=rf(r.attrs[a]));r.startTag;const s=rf(r.startTag),l=r.endTag?rf(r.endTag):void 0,u={opening:s};l&&(u.closing=l),u.properties=o,e.data={position:u}}}return n}function rf(t){const e=nR({line:t.startLine,column:t.startCol,offset:t.startOffset}),r=nR({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||r?{start:e,end:r}:void 0}function nR(t){return t.line&&t.column?t:void 0}let lm=class{constructor(e,r,n){this.property=e,this.normal=r,n&&(this.space=n)}};lm.prototype.property={},lm.prototype.normal={},lm.prototype.space=null;function KK(t,e){const r={},n={};let i=-1;for(;++i<t.length;)Object.assign(r,t[i].property),Object.assign(n,t[i].normal);return new lm(r,n,e)}function z_(t){return t.toLowerCase()}let as=class{constructor(e,r){this.property=e,this.attribute=r}};as.prototype.space=null,as.prototype.boolean=!1,as.prototype.booleanish=!1,as.prototype.overloadedBoolean=!1,as.prototype.number=!1,as.prototype.commaSeparated=!1,as.prototype.spaceSeparated=!1,as.prototype.commaOrSpaceSeparated=!1,as.prototype.mustUseProperty=!1,as.prototype.defined=!1;let $4t=0;const mr=rp(),ai=rp(),ZK=rp(),ce=rp(),vn=rp(),vf=rp(),Da=rp();function rp(){return 2**++$4t}const j_=Object.freeze(Object.defineProperty({__proto__:null,boolean:mr,booleanish:ai,commaOrSpaceSeparated:Da,commaSeparated:vf,number:ce,overloadedBoolean:ZK,spaceSeparated:vn},Symbol.toStringTag,{value:"Module"})),Xw=Object.keys(j_);let KC=class extends as{constructor(e,r,n,i){let o=-1;if(super(e,r),iR(this,"space",i),typeof n=="number")for(;++o<Xw.length;){const a=Xw[o];iR(this,Xw[o],(n&j_[a])===j_[a])}}};function iR(t,e,r){r&&(t[e]=r)}KC.prototype.defined=!0;const N4t={}.hasOwnProperty;function gg(t){const e={},r={};let n;for(n in t.properties)if(N4t.call(t.properties,n)){const i=t.properties[n],o=new KC(n,t.transform(t.attributes||{},n),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,r[z_(n)]=n,r[z_(o.attribute)]=n}return new lm(e,r,t.space)}const QK=gg({space:"xlink",transform:(t,e)=>"xlink:"+e.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),JK=gg({space:"xml",transform:(t,e)=>"xml:"+e.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function tZ(t,e){return e in t?t[e]:e}function eZ(t,e){return tZ(t,e.toLowerCase())}const rZ=gg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:eZ,properties:{xmlns:null,xmlnsXLink:null}}),nZ=gg({transform:(t,e)=>e==="role"?e:"aria-"+e.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:ai,ariaAutoComplete:null,ariaBusy:ai,ariaChecked:ai,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:vn,ariaCurrent:null,ariaDescribedBy:vn,ariaDetails:null,ariaDisabled:ai,ariaDropEffect:vn,ariaErrorMessage:null,ariaExpanded:ai,ariaFlowTo:vn,ariaGrabbed:ai,ariaHasPopup:null,ariaHidden:ai,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vn,ariaLevel:ce,ariaLive:null,ariaModal:ai,ariaMultiLine:ai,ariaMultiSelectable:ai,ariaOrientation:null,ariaOwns:vn,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:ai,ariaReadOnly:ai,ariaRelevant:null,ariaRequired:ai,ariaRoleDescription:vn,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:ai,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null}}),I4t=gg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:eZ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vf,acceptCharset:vn,accessKey:vn,action:null,allow:null,allowFullScreen:mr,allowPaymentRequest:mr,allowUserMedia:mr,alt:null,as:null,async:mr,autoCapitalize:null,autoComplete:vn,autoFocus:mr,autoPlay:mr,blocking:vn,capture:null,charSet:null,checked:mr,cite:null,className:vn,cols:ce,colSpan:null,content:null,contentEditable:ai,controls:mr,controlsList:vn,coords:ce|vf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:mr,defer:mr,dir:null,dirName:null,disabled:mr,download:ZK,draggable:ai,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:mr,formTarget:null,headers:vn,height:ce,hidden:mr,high:ce,href:null,hrefLang:null,htmlFor:vn,httpEquiv:vn,id:null,imageSizes:null,imageSrcSet:null,inert:mr,inputMode:null,integrity:null,is:null,isMap:mr,itemId:null,itemProp:vn,itemRef:vn,itemScope:mr,itemType:vn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:mr,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:mr,muted:mr,name:null,nonce:null,noModule:mr,noValidate:mr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:mr,optimum:ce,pattern:null,ping:vn,placeholder:null,playsInline:mr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:mr,referrerPolicy:null,rel:vn,required:mr,reversed:mr,rows:ce,rowSpan:ce,sandbox:vn,scope:null,scoped:mr,seamless:mr,selected:mr,shadowRootClonable:mr,shadowRootDelegatesFocus:mr,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:ai,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:mr,useMap:null,value:ai,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vn,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:mr,declare:mr,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:mr,noHref:mr,noShade:mr,noWrap:mr,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:ai,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:mr,disableRemotePlayback:mr,prefix:null,property:null,results:ce,security:null,unselectable:null}}),L4t=gg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:tZ,properties:{about:Da,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:vn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:mr,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vf,g2:vf,glyphName:vf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Da,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Da,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Da,rev:Da,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Da,requiredFeatures:Da,requiredFonts:Da,requiredFormats:Da,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Da,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Da,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Da,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),R4t=KK([JK,QK,rZ,nZ,I4t],"html"),iZ=KK([JK,QK,rZ,nZ,L4t],"svg"),D4t=/^data[-\w.:]+$/i,oR=/-[a-z]/g,O4t=/[A-Z]/g;function M4t(t,e){const r=z_(e);let n=e,i=as;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&D4t.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(oR,P4t);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!oR.test(o)){let a=o.replace(O4t,B4t);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=KC}return new i(n,e)}function B4t(t){return"-"+t.toLowerCase()}function P4t(t){return t.charAt(1).toUpperCase()}const F4t={},z4t={}.hasOwnProperty,oZ=VK("type",{handlers:{root:function(t,e){const r={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=Kw(t.children,r,e),fp(t,r),r},element:function(t,e){const r=e;let n=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=iZ);const i=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&z4t.call(t.properties,o)){const l=H4t(n,o,t.properties[o]);l&&i.push(l)}}const a=n.space,s={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:fd[a],childNodes:[],parentNode:null};return s.childNodes=Kw(t.children,s,n),fp(t,s),t.tagName==="template"&&t.content&&(s.content=function(l,u){const h={nodeName:"#document-fragment",childNodes:[]};return h.childNodes=Kw(l.children,h,u),fp(l,h),h}(t.content,n)),s},text:function(t){const e={nodeName:"#text",value:t.value,parentNode:null};return fp(t,e),e},comment:function(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return fp(t,e),e},doctype:function(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return fp(t,e),e}}});function j4t(t,e){const r=(e||F4t).space;return oZ(t,r==="svg"?iZ:R4t)}function H4t(t,e,r){const n=M4t(t,e);if(r===!1||r==null||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?YX(r):nK(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=n.attribute.slice(0,o)),i.namespace=fd[n.space]}return i}function Kw(t,e,r){let n=-1;const i=[];if(t)for(;++n<t.length;){const o=oZ(t[n],r);o.parentNode=e,i.push(o)}return i}function fp(t,e){const r=t.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,e.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const U4t=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,q4t=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),aR={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function aZ(t,e){const r=function(s){const l=s.type==="root"?s.children[0]:s;return!!(l&&(l.type==="doctype"||l.type==="element"&&l.tagName.toLowerCase()==="html"))}(t),n=VK("type",{handlers:{root:G4t,element:W4t,text:V4t,comment:lZ,doctype:Y4t,raw:K4t},unknown:Z4t}),i={parser:r?new UL(aR):UL.getFragmentParser(void 0,aR),handle(s){n(s,i)},stitches:!1,options:e||{}};n(t,i),L0(i,Kl());const o=r?i.parser.document:i.parser.getFragment(),a=A4t(o,{file:i.options.file});return i.stitches&&L4(a,"comment",function(s,l,u){const h=s;if(h.value.stitch&&u&&l!==void 0)return u.children[l]=h.value.stitch,l}),a.type==="root"&&a.children.length===1&&a.children[0].type===t.type?a.children[0]:a}function sZ(t,e){let r=-1;if(t)for(;++r<t.length;)e.handle(t[r])}function G4t(t,e){sZ(t.children,e)}function W4t(t,e){(function(r,n){const i=r.tagName.toLowerCase();if(n.parser.tokenizer.state===Qn.PLAINTEXT)return;L0(n,Kl(r));const o=n.parser.openElements.current;let a="namespaceURI"in o?o.namespaceURI:fd.html;a===fd.html&&i==="svg"&&(a=fd.svg);const s=j4t({...r,children:[]},{space:a===fd.svg?"svg":"html"}),l={type:Tr.START_TAG,tagName:i,tagID:I0(i),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Mm(r)};n.parser.currentToken=l,n.parser._processToken(n.parser.currentToken),n.parser.tokenizer.lastStartTagName=i})(t,e),sZ(t.children,e),function(r,n){const i=r.tagName.toLowerCase();if(!n.parser.tokenizer.inForeignNode&&I5t.includes(i)||n.parser.tokenizer.state===Qn.PLAINTEXT)return;L0(n,N4(r));const o={type:Tr.END_TAG,tagName:i,tagID:I0(i),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Mm(r)};n.parser.currentToken=o,n.parser._processToken(n.parser.currentToken),i!==n.parser.tokenizer.lastStartTagName||n.parser.tokenizer.state!==Qn.RCDATA&&n.parser.tokenizer.state!==Qn.RAWTEXT&&n.parser.tokenizer.state!==Qn.SCRIPT_DATA||(n.parser.tokenizer.state=Qn.DATA)}(t,e)}function V4t(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const r={type:Tr.CHARACTER,chars:t.value,location:Mm(t)};L0(e,Kl(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function Y4t(t,e){const r={type:Tr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Mm(t)};L0(e,Kl(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function X4t(t,e){e.stitches=!0;const r=function(n){return $0("children"in n?{...n,children:[]}:n)}(t);if("children"in t&&"children"in r){const n=aZ({type:"root",children:t.children},e.options);r.children=n.children}lZ({type:"comment",value:{stitch:r}},e)}function lZ(t,e){const r=t.value,n={type:Tr.COMMENT,data:r,location:Mm(t)};L0(e,Kl(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function K4t(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,cZ(e,Kl(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(U4t,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=e.parser.tokenizer._consume();e.parser.tokenizer._callState(r)}}function Z4t(t,e){const r=t;if(!e.options.passThrough||!e.options.passThrough.includes(r.type)){let n="";throw q4t.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}X4t(r,e)}function L0(t,e){cZ(t,e);const r=t.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=t.parser.tokenizer.preprocessor.line,r.location.endCol=t.parser.tokenizer.preprocessor.col+1,r.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Qn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function cZ(t,e){if(e&&e.offset!==void 0){const r={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=1-e.column,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=r}}function Mm(t){const e=Kl(t)||{line:void 0,column:void 0,offset:void 0},r=N4(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function Q4t(t){return function(e,r){return aZ(e,{...t,file:r})}}const Sh=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],sR={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Sh,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Sh],h2:[["className","sr-only"]],img:[...Sh,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Sh,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Sh],table:[...Sh],ul:[...Sh,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},fu={}.hasOwnProperty;function J4t(t,e){let r={type:"root",children:[]};const n=uZ({schema:e?{...sR,...e}:sR,stack:[]},t);return n&&(Array.isArray(n)?n.length===1?r=n[0]:r.children=n:r=n),r}function uZ(t,e){if(e&&typeof e=="object"){const r=e;switch(typeof r.type=="string"?r.type:""){case"comment":return function(n,i){if(n.schema.allowComments){const o=typeof i.value=="string"?i.value:"",a=o.indexOf("-->"),s={type:"comment",value:a<0?o:o.slice(0,a)};return Qg(s,i),s}}(t,r);case"doctype":return function(n,i){if(n.schema.allowDoctypes){const o={type:"doctype"};return Qg(o,i),o}}(t,r);case"element":return function(n,i){const o=typeof i.tagName=="string"?i.tagName:"";n.stack.push(o);const a=lR(n,i.children),s=function(h,d){const p=h.stack[h.stack.length-1],f=h.schema.attributes,g=h.schema.required,m=f&&fu.call(f,p)?f[p]:void 0,y=f&&fu.call(f,"*")?f["*"]:void 0,v=d&&typeof d=="object"?d:{},x={};let b;for(b in v)if(fu.call(v,b)){const k=v[b];let N=cR(h,hR(m,b),b,k);N==null&&(N=cR(h,hR(y,b),b,k)),N!=null&&(x[b]=N)}if(g&&fu.call(g,p)){const k=g[p];for(b in k)fu.call(k,b)&&!fu.call(x,b)&&(x[b]=k[b])}return x}(n,i.properties);n.stack.pop();let l=!1;if(o&&o!=="*"&&(!n.schema.tagNames||n.schema.tagNames.includes(o))&&(l=!0,n.schema.ancestors&&fu.call(n.schema.ancestors,o))){const h=n.schema.ancestors[o];let d=-1;for(l=!1;++d<h.length;)n.stack.includes(h[d])&&(l=!0)}if(!l)return n.schema.strip&&!n.schema.strip.includes(o)?a:void 0;const u={type:"element",tagName:o,properties:s,children:a};return Qg(u,i),u}(t,r);case"root":return function(n,i){const o=lR(n,i.children),a={type:"root",children:o};return Qg(a,i),a}(t,r);case"text":return function(n,i){const o=typeof i.value=="string"?i.value:"",a={type:"text",value:o};return Qg(a,i),a}(0,r)}}}function lR(t,e){const r=[];if(Array.isArray(e)){const n=e;let i=-1;for(;++i<n.length;){const o=uZ(t,n[i]);o&&(Array.isArray(o)?r.push(...o):r.push(o))}}return r}function cR(t,e,r,n){return e?Array.isArray(n)?function(i,o,a,s){let l=-1;const u=[];for(;++l<s.length;){const h=uR(i,o,a,s[l]);typeof h!="number"&&typeof h!="string"||u.push(h)}return u}(t,e,r,n):uR(t,e,r,n):void 0}function uR(t,e,r,n){if((typeof n=="boolean"||typeof n=="number"||typeof n=="string")&&function(i,o,a){const s=i.schema.protocols&&fu.call(i.schema.protocols,o)?i.schema.protocols[o]:void 0;if(!s||s.length===0)return!0;const l=String(a),u=l.indexOf(":"),h=l.indexOf("?"),d=l.indexOf("#"),p=l.indexOf("/");if(u<0||p>-1&&u>p||h>-1&&u>h||d>-1&&u>d)return!0;let f=-1;for(;++f<s.length;){const g=s[f];if(u===g.length&&l.slice(0,g.length)===g)return!0}return!1}(t,r,n)){if(typeof e=="object"&&e.length>1){let i=!1,o=0;for(;++o<e.length;){const a=e[o];if(a&&typeof a=="object"&&"flags"in a){if(a.test(String(n))){i=!0;break}}else if(a===n){i=!0;break}}if(!i)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(r)?t.schema.clobberPrefix+n:n}}function Qg(t,e){const r=WX(e);e.data&&(t.data=$0(e.data)),r&&(t.position=r)}function hR(t,e){let r,n=-1;if(t)for(;++n<t.length;){const i=t[n],o=typeof i=="string"?i:i[0];if(o===e)return i;o==="data*"&&(r=i)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return r}function t3t(t){return function(e){return J4t(e,t)}}const e3t=Fr({markdownDiv:{"& ul":{paddingLeft:"8px",margin:"8px 0"},"& li":{marginLeft:"16px",marginBottom:"4px",marginTop:"4px"},"& a":{color:"inherit",textDecoration:"underline"}}});let r3t=class extends Z.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){console.error("Markdown rendering error:",e,r)}render(){return this.state.hasError?bt.jsx("div",{style:{color:"red"},children:"ERROR: failed to render markdown content"}):this.props.children}};const dR=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&/Macintosh/.test(navigator.userAgent)&&!/iPhone|iPad|iPod/.test(navigator.userAgent),H_=({content:t})=>{const e=e3t();return bt.jsx(r3t,{children:bt.jsx("div",{className:e.markdownDiv,children:bt.jsx(Gbt,{remarkPlugins:dR?[]:[N5t],rehypePlugins:[Q4t,t3t],components:{code({_node:r,inline:n,className:i,children:o,...a}){const s=/language-(\w+)/.exec(i||"");return!n&&s&&s[1]==="mermaid"?bt.jsx(iyt,{chart:String(o).replace(/\n$/,"")}):bt.jsx("code",{className:i,...a,children:o})},a:({href:r,children:n,...i})=>r?bt.jsx("a",{href:r,rel:"noopener noreferrer",...i,children:n}):bt.jsx(bt.Fragment,{children:n}),...dR&&{text:({children:r})=>{if(typeof r!="string")return bt.jsx(bt.Fragment,{children:r});const n=/https?:\/\/[^\s<>[\]{}|\\^]+/g,i=r.split(n),o=r.match(n)||[];return o.length===0?bt.jsx(bt.Fragment,{children:r}):bt.jsx(bt.Fragment,{children:i.map((a,s)=>bt.jsxs(bt.Fragment,{children:[a,o[s]&&bt.jsx("a",{href:o[s],rel:"noopener noreferrer",children:o[s]})]}))})}}},children:t})})})},hZ=Symbol.for("fui.slotRenderFunction"),O4=Symbol.for("fui.slotElementType");function n3t(t,e){return{...e,[O4]:t}}var dZ={exports:{}},en={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function i3t(){if(pR)return en;pR=1;var t=60103,e=60106,r=60107,n=60108,i=60114,o=60109,a=60110,s=60112,l=60113,u=60120,h=60115,d=60116,p=60121,f=60122,g=60117,m=60129,y=60131;if(typeof Symbol=="function"&&Symbol.for){var v=Symbol.for;t=v("react.element"),e=v("react.portal"),r=v("react.fragment"),n=v("react.strict_mode"),i=v("react.profiler"),o=v("react.provider"),a=v("react.context"),s=v("react.forward_ref"),l=v("react.suspense"),u=v("react.suspense_list"),h=v("react.memo"),d=v("react.lazy"),p=v("react.block"),f=v("react.server.block"),g=v("react.fundamental"),m=v("react.debug_trace_mode"),y=v("react.legacy_hidden")}function x($){if(typeof $=="object"&&$!==null){var I=$.$$typeof;switch(I){case t:switch($=$.type){case r:case i:case n:case l:case u:return $;default:switch($=$&&$.$$typeof){case a:case s:case d:case h:case o:return $;default:return I}}case e:return I}}}var b=o,k=t,N=s,_=r,S=d,T=h,A=e,C=i,D=n,E=l;return en.ContextConsumer=a,en.ContextProvider=b,en.Element=k,en.ForwardRef=N,en.Fragment=_,en.Lazy=S,en.Memo=T,en.Portal=A,en.Profiler=C,en.StrictMode=D,en.Suspense=E,en.isAsyncMode=function(){return!1},en.isConcurrentMode=function(){return!1},en.isContextConsumer=function($){return x($)===a},en.isContextProvider=function($){return x($)===o},en.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===t},en.isForwardRef=function($){return x($)===s},en.isFragment=function($){return x($)===r},en.isLazy=function($){return x($)===d},en.isMemo=function($){return x($)===h},en.isPortal=function($){return x($)===e},en.isProfiler=function($){return x($)===i},en.isStrictMode=function($){return x($)===n},en.isSuspense=function($){return x($)===l},en.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===r||$===i||$===m||$===n||$===l||$===u||$===y||typeof $=="object"&&$!==null&&($.$$typeof===d||$.$$typeof===h||$.$$typeof===o||$.$$typeof===a||$.$$typeof===s||$.$$typeof===g||$.$$typeof===p||$[0]===f)},en.typeOf=x,en}dZ.exports=i3t();var o3t=dZ.exports;function fR(t){return!!(t!=null&&t.hasOwnProperty(O4))}function pZ(t,e){return function(r,n,i,o,a){return fR(n)?e(n3t(r,n),null,i,o,a):fR(r)?e(r,n,i,o,a):t(r,n,i,o,a)}}function fZ(t){const{as:e,[O4]:r,[hZ]:n,...i}=t,o=i,a=typeof r=="string"&&e!=null?e:r;return typeof a!="string"&&e&&(o.as=e),{elementType:a,props:o,renderFunction:n}}const wd=gct,a3t=(t,e,r)=>{const{elementType:n,renderFunction:i,props:o}=fZ(t),a={...o,...e};return i?wd.jsx(Z.Fragment,{children:i(n,a)},r):wd.jsx(n,a,r)},s3t=(t,e,r)=>{const{elementType:n,renderFunction:i,props:o}=fZ(t),a={...o,...e};return i?wd.jsx(Z.Fragment,{children:i(n,{...a,children:wd.jsxs(Z.Fragment,{children:a.children},void 0)})},r):wd.jsxs(n,a,r)},ve=pZ(wd.jsx,a3t),Un=pZ(wd.jsxs,s3t);function Nr(t,e){const{defaultProps:r,elementType:n}=e,i=gZ(t),o={...r,...i,[O4]:n};return i&&typeof i.children=="function"&&(o[hZ]=i.children,o.children=r==null?void 0:r.children),o}function $r(t,e){if(t!==null&&(t!==void 0||e.renderByDefault))return Nr(t,e)}function gZ(t){return typeof t=="string"||typeof t=="number"||Array.isArray(t)||Z.isValidElement(t)?{children:t}:t}const mZ=Z.createContext(void 0),l3t=mZ.Provider,c3t=()=>Z.useContext(mZ);function M4(t,e){return yZ(c3t(),t,e)}function yZ(t,e,r){if(!t)return e;e={...e};const{generatedControlId:n,hintId:i,labelFor:o,labelId:a,required:s,validationMessageId:l,validationState:u}=t;var h,d,p,f,g,m,y,v,x,b,k,N;return n&&((d=(h=e).id)!==null&&d!==void 0||(h.id=n)),!a||r!=null&&r.supportsLabelFor&&o===e.id||(f=(p=e)["aria-labelledby"])!==null&&f!==void 0||(p["aria-labelledby"]=a),(l||i)&&(e["aria-describedby"]=[l,i,e==null?void 0:e["aria-describedby"]].filter(Boolean).join(" ")),u==="error"&&((m=(g=e)["aria-invalid"])!==null&&m!==void 0||(g["aria-invalid"]=!0)),s&&(r!=null&&r.supportsRequired?(v=(y=e).required)!==null&&v!==void 0||(y.required=!0):(b=(x=e)["aria-required"])!==null&&b!==void 0||(x["aria-required"]=!0)),r!=null&&r.supportsSize&&((N=(k=e).size)!==null&&N!==void 0||(k.size=t.size)),e}const u3t=(t,e)=>{let{children:r}=t;return typeof r=="function"&&(r=r(yZ(e.field)||{})),ve(l3t,{value:e==null?void 0:e.field,children:Un(t.root,{children:[t.label&&ve(t.label,{}),r,t.validationMessage&&Un(t.validationMessage,{children:[t.validationMessageIcon&&ve(t.validationMessageIcon,{}),t.validationMessage.children]}),t.hint&&ve(t.hint,{})]})})},h3t={current:0},d3t=Z.createContext(void 0);function p3t(){var t;return(t=Z.useContext(d3t))!==null&&t!==void 0?t:h3t}const vZ=Z.createContext(void 0);function Qu(t="fui-",e){const r=p3t(),n=Z.useContext(vZ)||"",i=Z.useId;if(i){const o=i(),a=Z.useMemo(()=>o.replace(/:/g,""),[o]);return e||`${n}${t}${a}`}return Z.useMemo(()=>e||`${n}${t}${++r.current}`,[n,t,e,r])}vZ.Provider;const wn=(...t)=>{const e={};for(const r of t){const n=Array.isArray(r)?r:Object.keys(r);for(const i of n)e[i]=1}return e},f3t=wn(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),g3t=wn(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),m3t=wn(["itemID","itemProp","itemRef","itemScope","itemType"]),di=wn(g3t,f3t,m3t),y3t=wn(di,["form"]),bZ=wn(di,["height","loop","muted","preload","src","width"]),v3t=wn(bZ,["poster"]),b3t=wn(di,["start"]),x3t=wn(di,["value"]),w3t=wn(di,["download","href","hrefLang","media","rel","target","type"]),k3t=wn(di,["dateTime"]),B4=wn(di,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),T3t=wn(B4,["accept","alt","autoCorrect","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),E3t=wn(B4,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),_3t=wn(B4,["form","multiple","required"]),S3t=wn(di,["selected","value"]),A3t=wn(di,["cellPadding","cellSpacing"]),C3t=di,$3t=wn(di,["colSpan","rowSpan","scope"]),N3t=wn(di,["colSpan","headers","rowSpan","scope"]),I3t=wn(di,["span"]),L3t=wn(di,["span"]),R3t=wn(di,["disabled","form"]),D3t=wn(di,["acceptCharset","action","encType","encType","method","noValidate","target"]),O3t=wn(di,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),M3t=wn(di,["alt","crossOrigin","height","src","srcSet","useMap","width"]),B3t=wn(di,["open","onCancel","onClose"]);function P3t(t,e,r){const n=Array.isArray(e),i={},o=Object.keys(t);for(const a of o)!(!n&&e[a]||n&&e.indexOf(a)>=0||a.indexOf("data-")===0||a.indexOf("aria-")===0)||r&&(r==null?void 0:r.indexOf(a))!==-1||(i[a]=t[a]);return i}const F3t={label:y3t,audio:bZ,video:v3t,ol:b3t,li:x3t,a:w3t,button:B4,input:T3t,textarea:E3t,select:_3t,option:S3t,table:A3t,tr:C3t,th:$3t,td:N3t,colGroup:I3t,col:L3t,fieldset:R3t,form:D3t,iframe:O3t,img:M3t,time:k3t,dialog:B3t};function xZ(t,e,r){const n=t&&F3t[t]||di;return n.as=1,P3t(e,n,r)}const P4=({primarySlotTagName:t,props:e,excludedPropNames:r})=>({root:{style:e.style,className:e.className},primary:xZ(t,e,[...r||[],"style","className"])}),ei=(t,e,r)=>{var n;return xZ((n=e.as)!==null&&n!==void 0?n:t,e,r)},z3t=(t,e)=>{const{disabled:r=!1,required:n=!1,weight:i="regular",size:o="medium"}=t;return{disabled:r,required:$r(n===!0?"*":n||void 0,{defaultProps:{"aria-hidden":"true"},elementType:"span"}),weight:i,size:o,components:{root:"label",required:"span"},root:Nr(ei("label",{ref:e,...t}),{elementType:"label"})}},j3t=t=>Un(t.root,{children:[t.root.children,t.required&&ve(t.required,{})]});function H3t(t,e,r=DC){const n=r();let i=null,o=null;return function(a){const{dir:s,renderer:l}=a,u=s==="ltr";return u?i===null&&(i=wx(t,s)):o===null&&(o=wx(t,s)),n(l,e),u?i:o}}function Ye(t,e){const r=H3t(t,e,IC);return function(){const n=RC(),i=LC();return r({dir:n,renderer:i})}}const gR={root:"fui-Label",required:"fui-Label__required"},U3t=Ye({root:{Bahqtrf:"fk6fouc",sj55zd:"f19n0e5"},disabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},required:{sj55zd:"f1whyuy6",uwmqm3:["fruq291","f7x41pl"]},small:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},medium:{Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi"},large:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k",Bhrd7zp:"fl43uef"},semibold:{Bhrd7zp:"fl43uef"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),q3t=t=>{const e=U3t();return t.root.className=Ee(gR.root,e.root,t.disabled&&e.disabled,e[t.size],t.weight==="semibold"&&e.semibold,t.root.className),t.required&&(t.required.className=Ee(gR.required,e.required,t.disabled&&e.disabled,t.required.className)),t},wZ=Z.createContext(void 0),G3t=()=>{};wZ.Provider;const ea=t=>{var e,r;return(r=(e=Z.useContext(wZ))===null||e===void 0?void 0:e[t])!==null&&r!==void 0?r:G3t},R0=Z.forwardRef((t,e)=>{const r=z3t(t,e);return q3t(r),ea("useLabelStyles_unstable")(r),j3t(r)});R0.displayName="Label";const U_=Z.createContext(void 0),W3t={};U_.Provider;const V3t=()=>Z.useContext(U_)?Z.useContext(U_):W3t,Y3t=Ye({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]}),X3t=(t,e)=>{const{title:r,primaryFill:n="currentColor",...i}=t,o={...i,title:void 0,fill:n},a=Y3t(),s=V3t();return o.className=Ee(a.root,(e==null?void 0:e.flipInRtl)&&(s==null?void 0:s.textDirection)==="rtl"&&a.rtl,o.className),r&&(o["aria-label"]=r),o["aria-label"]||o["aria-labelledby"]?o.role="img":o["aria-hidden"]=!0,o},De=(t,e,r,n)=>{const i=e==="1em"?"20":e,o=Z.forwardRef((a,s)=>{const l={...X3t(a,{flipInRtl:n==null?void 0:n.flipInRtl}),ref:s,width:e,height:e,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg"};return Z.createElement("svg",l,...r.map(u=>Z.createElement("path",{d:u,fill:l.fill})))});return o.displayName=t,o},kZ=De("Edit20Regular","20",["M17.18 2.93a2.97 2.97 0 0 0-4.26-.06l-9.37 9.38c-.33.33-.56.74-.66 1.2l-.88 3.94a.5.5 0 0 0 .6.6l3.93-.87c.46-.1.9-.34 1.23-.68l9.36-9.36a2.97 2.97 0 0 0 .05-4.15Zm-3.55.65a1.97 1.97 0 1 1 2.8 2.8l-.68.66-2.8-2.79.68-.67Zm-1.38 1.38 2.8 2.8-7.99 7.97c-.2.2-.46.35-.74.41l-3.16.7.7-3.18c.07-.27.2-.51.4-.7l8-8Z"]),K3t=De("ErrorCircle12Filled","12",["M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm-.75-2.75a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Zm.26-4.84a.5.5 0 0 1 .98 0l.01.09v2.59a.5.5 0 0 1-1 0V3.41Z"]),Z3t=De("Warning12Filled","12",["M5.21 1.46a.9.9 0 0 1 1.58 0l4.09 7.17a.92.92 0 0 1-.79 1.37H1.91a.92.92 0 0 1-.79-1.37l4.1-7.17ZM5.5 4.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-1 0ZM6 6.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"]);De("Camera24Regular","24",["M13.92 2.5c.8 0 1.54.43 1.94 1.11l.82 1.4h2.07C20.55 5 22 6.45 22 8.24v9.5c0 1.8-1.46 3.25-3.25 3.25H5.25A3.25 3.25 0 0 1 2 17.75v-9.5C2 6.45 3.46 5 5.25 5h2.08l.88-1.42a2.25 2.25 0 0 1 1.91-1.08h3.8Zm0 1.5h-3.8c-.22 0-.43.1-.57.27l-.07.1-1.1 1.77a.75.75 0 0 1-.63.36h-2.5c-.97 0-1.75.78-1.75 1.75v9.5c0 .97.78 1.75 1.75 1.75h13.5c.97 0 1.75-.78 1.75-1.75v-9.5c0-.97-.78-1.75-1.75-1.75h-2.5a.75.75 0 0 1-.65-.37l-1.03-1.76a.75.75 0 0 0-.65-.37ZM12 8a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Zm0 1.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"]);De("CameraSwitch24Regular","24",["M21.25 7.5c.38 0 .7.28.74.65l.01.1v8.5a3.25 3.25 0 0 1-3.07 3.24l-.18.01H6.06l.72.72c.27.27.3.68.07.98l-.07.08a.75.75 0 0 1-.98.07l-.08-.07-2-2-.06-.07-.01-.01.07.08a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.13.98l-.07.08-.72.72h12.69c.92 0 1.67-.7 1.74-1.6l.01-.15v-8.5c0-.41.34-.75.75-.75ZM18.2 2.15l.08.07 2 2 .07.08-.07-.08a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 0 1-1.13-.98l.07-.08.72-.72H5.25c-.92 0-1.67.7-1.74 1.6l-.01.15v8.5a.75.75 0 0 1-1.5.1v-8.6a3.25 3.25 0 0 1 3.07-3.24L5.25 4h12.69l-.72-.72a.75.75 0 0 1-.07-.98l.07-.08a.75.75 0 0 1 .98-.07ZM12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"]);const Q3t=De("Chat24Filled","24",["M12 2a10 10 0 1 1-4.64 18.86l-4.3 1.12a.85.85 0 0 1-1.03-1.04l1.11-4.29A10 10 0 0 1 12 2Zm1.25 11h-4.6a.75.75 0 0 0 0 1.5H13.35a.75.75 0 0 0 0-1.5h-.1Zm2-3.5h-6.6a.75.75 0 0 0 0 1.5H15.35a.75.75 0 0 0 0-1.5h-.1Z"]),J3t=De("Chat24Regular","24",["M12 2a10 10 0 1 1-4.59 18.89L3.6 21.96a1.25 1.25 0 0 1-1.54-1.54l1.06-3.83A10 10 0 0 1 12 2Zm0 1.5a8.5 8.5 0 0 0-7.43 12.64l.15.27-1.1 3.98 3.98-1.11.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.5a.75.75 0 0 1 .1 1.5h-4.6a.75.75 0 0 1-.1-1.5h4.6-4.5Zm0-3.5h6.5a.75.75 0 0 1 .1 1.5h-6.6a.75.75 0 0 1-.1-1.5h6.6-6.5Z"]),twt=De("Checkmark12Filled","12",["M9.76 3.2c.3.29.32.76.04 1.06l-4.25 4.5a.75.75 0 0 1-1.08.02L2.22 6.53a.75.75 0 0 1 1.06-1.06l1.7 1.7L8.7 3.24a.75.75 0 0 1 1.06-.04Z"]),ewt=De("CheckmarkCircle12Filled","12",["M1 6a5 5 0 1 1 10 0A5 5 0 0 1 1 6Zm7.35-.9a.5.5 0 1 0-.7-.7L5.5 6.54 4.35 5.4a.5.5 0 1 0-.7.7l1.5 1.5c.2.2.5.2.7 0l2.5-2.5Z"]),rwt={error:Z.createElement(K3t,null),warning:Z.createElement(Z3t,null),success:Z.createElement(ewt,null),none:void 0},nwt=(t,e)=>{const{children:r,orientation:n="vertical",required:i=!1,validationState:o=t.validationMessage?"error":"none",size:a="medium"}=t,s=Qu("field-"),l=s+"__control",u=Nr(ei("div",{...t,ref:e},["children"]),{elementType:"div"}),h=$r(t.label,{defaultProps:{htmlFor:l,id:s+"__label",required:i,size:a},elementType:R0}),d=$r(t.validationMessage,{defaultProps:{id:s+"__validationMessage",role:o==="error"||o==="warning"?"alert":void 0},elementType:"div"}),p=$r(t.hint,{defaultProps:{id:s+"__hint"},elementType:"div"}),f=rwt[o],g=$r(t.validationMessageIcon,{renderByDefault:!!f,defaultProps:{children:f},elementType:"span"});return{children:r,generatedControlId:l,orientation:n,required:i,size:a,validationState:o,components:{root:"div",label:R0,validationMessage:"div",validationMessageIcon:"span",hint:"div"},root:u,label:h,validationMessageIcon:g,validationMessage:d,hint:p}};function iwt(t,e,r,n=DC){const i=n();return function(o){const{dir:a,renderer:s}=o,l=a==="ltr"?t:e||t;return i(s,Array.isArray(r)?{r}:r),l}}function Zr(t,e,r){const n=iwt(t,e,r,IC);return function(){const i=RC(),o=LC();return n({dir:i,renderer:o})}}const Jg={root:"fui-Field",label:"fui-Field__label",validationMessage:"fui-Field__validationMessage",validationMessageIcon:"fui-Field__validationMessageIcon",hint:"fui-Field__hint"},owt=Ye({base:{mc9l5x:"f13qh94s"},horizontal:{Budl1dq:"f2wwaib",wkccdc:"f1645dqt"},horizontalNoLabel:{uwmqm3:["f15jqgz8","fggqkej"],Budl1dq:"f1c2z91y"}},{d:[".f13qh94s{display:grid;}",".f2wwaib{grid-template-columns:33% 1fr;}",".f1645dqt{grid-template-rows:auto auto auto 1fr;}",".f15jqgz8{padding-left:33%;}",".fggqkej{padding-right:33%;}",".f1c2z91y{grid-template-columns:1fr;}"]}),awt=Ye({vertical:{z8tnut:"fclwglc",Byoj8tv:"fywfov9",jrapky:"fyacil5"},verticalLarge:{z8tnut:"f1sl3k7w",Byoj8tv:"f1brlhvm",jrapky:"f8l5zjj"},horizontal:{z8tnut:"fp2oml8",Byoj8tv:"f1tdddsa",t21cq0:["fkujibs","f199hnxi"],Ijaq50:"f16hsg94",nk6f5a:"f1nzqi2z"},horizontalSmall:{z8tnut:"f1ywm7hm",Byoj8tv:"f14wxoun"},horizontalLarge:{z8tnut:"f1hqyr95",Byoj8tv:"fm4hlj0"}},{d:[".fclwglc{padding-top:var(--spacingVerticalXXS);}",".fywfov9{padding-bottom:var(--spacingVerticalXXS);}",".fyacil5{margin-bottom:var(--spacingVerticalXXS);}",".f1sl3k7w{padding-top:1px;}",".f1brlhvm{padding-bottom:1px;}",".f8l5zjj{margin-bottom:var(--spacingVerticalXS);}",".fp2oml8{padding-top:var(--spacingVerticalSNudge);}",".f1tdddsa{padding-bottom:var(--spacingVerticalSNudge);}",".fkujibs{margin-right:var(--spacingHorizontalM);}",".f199hnxi{margin-left:var(--spacingHorizontalM);}",".f16hsg94{grid-row-start:1;}",".f1nzqi2z{grid-row-end:-1;}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".f1hqyr95{padding-top:9px;}",".fm4hlj0{padding-bottom:9px;}"]}),swt=Zr("r5c4z9l",null,[".r5c4z9l{margin-top:var(--spacingVerticalXXS);color:var(--colorNeutralForeground3);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),lwt=Ye({error:{sj55zd:"f1hcrxcs"},withIcon:{uwmqm3:["frawy03","fg4c52"]}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".frawy03{padding-left:calc(12px + var(--spacingHorizontalXS));}",".fg4c52{padding-right:calc(12px + var(--spacingHorizontalXS));}"]}),cwt=Zr("ra7h1uk","r1rh6bd7",[".ra7h1uk{display:inline-block;font-size:12px;margin-left:calc(-12px - var(--spacingHorizontalXS));margin-right:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}",".r1rh6bd7{display:inline-block;font-size:12px;margin-right:calc(-12px - var(--spacingHorizontalXS));margin-left:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}"]),uwt=Ye({error:{sj55zd:"f1hcrxcs"},warning:{sj55zd:"f1k5f75o"},success:{sj55zd:"ffmvakt"}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".f1k5f75o{color:var(--colorPaletteDarkOrangeForeground1);}",".ffmvakt{color:var(--colorPaletteGreenForeground1);}"]}),hwt=t=>{const{validationState:e,size:r}=t,n=t.orientation==="horizontal",i=owt();t.root.className=Ee(Jg.root,i.base,n&&i.horizontal,n&&!t.label&&i.horizontalNoLabel,t.root.className);const o=awt();t.label&&(t.label.className=Ee(Jg.label,n&&o.horizontal,n&&r==="small"&&o.horizontalSmall,n&&r==="large"&&o.horizontalLarge,!n&&o.vertical,!n&&r==="large"&&o.verticalLarge,t.label.className));const a=cwt(),s=uwt();t.validationMessageIcon&&(t.validationMessageIcon.className=Ee(Jg.validationMessageIcon,a,e!=="none"&&s[e],t.validationMessageIcon.className));const l=swt(),u=lwt();return t.validationMessage&&(t.validationMessage.className=Ee(Jg.validationMessage,l,e==="error"&&u.error,!!t.validationMessageIcon&&u.withIcon,t.validationMessage.className)),t.hint&&(t.hint.className=Ee(Jg.hint,l,t.hint.className)),t},dwt=t=>{var e,r,n,i;const{generatedControlId:o,orientation:a,required:s,size:l,validationState:u}=t,h=(e=t.label)===null||e===void 0?void 0:e.htmlFor,d=(r=t.label)===null||r===void 0?void 0:r.id,p=(n=t.validationMessage)===null||n===void 0?void 0:n.id,f=(i=t.hint)===null||i===void 0?void 0:i.id;return{field:Z.useMemo(()=>({generatedControlId:o,hintId:f,labelFor:h,labelId:d,orientation:a,required:s,size:l,validationMessageId:p,validationState:u}),[o,f,h,d,a,s,l,p,u])}},TZ=Z.forwardRef((t,e)=>{const r=nwt(t,e);hwt(r);const n=dwt(r);return u3t(r,n)});TZ.displayName="Field";const pwt=t=>ve(t.root,{children:ve(t.textarea,{})}),EZ=Z.createContext(void 0);function _Z(){var t;return(t=Z.useContext(EZ))!==null&&t!==void 0?t:{}}EZ.Provider;const Ju=t=>{const[e,r]=Z.useState(()=>t.defaultState===void 0?t.initialState:typeof t.defaultState=="function"?t.defaultState():t.defaultState),n=Z.useRef(t.state);Z.useEffect(()=>{n.current=t.state},[t.state]);const i=Z.useCallback(o=>{(function(a){return typeof a=="function"})(o)&&o(n.current)},[]);return fwt(t.state)?[t.state,i]:[e,r]},fwt=t=>{const[e]=Z.useState(()=>t!==void 0);return e};function SZ(){return typeof window<"u"&&!(!window.document||!window.document.createElement)}const ll=SZ()?Z.useLayoutEffect:Z.useEffect,ar=t=>{const e=Z.useRef(()=>{throw new Error("Cannot call an event handler while rendering")});return ll(()=>{e.current=t},[t]),Z.useCallback((...r)=>(0,e.current)(...r),[e])},gwt=(t,e)=>{t=M4(t,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const r=_Z();var n;const{size:i="medium",appearance:o=(n=r.inputDefaultAppearance)!==null&&n!==void 0?n:"outline",resize:a="none",onChange:s}=t,[l,u]=Ju({state:t.value,defaultState:t.defaultValue,initialState:void 0}),h=P4({props:t,primarySlotTagName:"textarea",excludedPropNames:["onChange","value","defaultValue"]}),d={size:i,appearance:o,resize:a,components:{root:"span",textarea:"textarea"},textarea:Nr(t.textarea,{defaultProps:{ref:e,...h.primary},elementType:"textarea"}),root:Nr(t.root,{defaultProps:h.root,elementType:"span"})};return d.textarea.value=l,d.textarea.onChange=ar(p=>{const f=p.target.value;s==null||s(p,{value:f}),u(f)}),d},mR={root:"fui-Textarea",textarea:"fui-Textarea__textarea"},mwt=Ye({base:{mc9l5x:"ftuwxu6",B7ck84d:"f1ewtqcl",qhf8xq:"f10pi13n",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1yiegib",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",ha4doy:"f12kltsn"},disabled:{De3pzq:"f1c21dwh",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"ff3nzm7",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]},interactive:{li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"ffyw7fx",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"fj2g8qd",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51",Bbr2w1p:"f1vnc8sk",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7"},filled:{Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w",q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1gmd7mu",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1gmd7mu",E5pizo:"fyed02w"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{kzujx5:0,oetu4i:"f1l4zc64",gvrnp0:0,xv9156:0,jek2p4:0,gg5e9n:0,Beu9t3s:0,dt87k2:0,Bt1vbvt:0,Bwzppfd:0,Bop6t4b:0,B2zwrfe:0,Bwp2tzp:0,Bgoe8wy:0,Bf40cpq:0,ckks6v:0,Baalond:"f9mts5e",v2iqwr:0,wmxk5l:"f1z0osm6",Bj33j0h:0,Bs0cc2w:0,qwjtx1:0,B50zh58:0,f7epvg:0,e1hlit:0,B7mkhst:0,ak43y8:0,Bbcopvn:0,Bvecx4l:0,lwioe0:0,B6oc9vd:0,e2sjt0:0,uqwnxt:0,asj8p9:"f1acnei2",Br8fjdy:0,zoxjo1:"f1so894s",Bt3ojkv:0,B7pmvfx:0,Bfht2n1:0,an54nd:0,t1ykpo:0,Belqbek:0,bbt1vd:0,Brahy3i:0,r7b1zc:0,rexu52:0,ovtnii:0,Bvq3b66:0,Bawrxx6:0,Bbs6y8j:0,B2qpgjt:"fds4ob8"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]}},{d:[".ftuwxu6{display:inline-flex;}",".f1ewtqcl{box-sizing:border-box;}",".f10pi13n{position:relative;}",[".f1yiegib{padding:0 0 var(--strokeWidthThick) 0;}",{p:-1}],[".f1s184ao{margin:0;}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f12kltsn{vertical-align:top;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".ff3nzm7{border:var(--strokeWidthThin) solid var(--colorNeutralStrokeDisabled);}",{p:-2}],".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".ffyw7fx::after{height:max(var(--strokeWidthThick), var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".fj2g8qd::after{clip-path:inset(calc(100% - var(--strokeWidthThick)) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".f1gmd7mu{border:var(--strokeWidthThin) solid var(--colorTransparentStrokeInteractive);}",{p:-2}],".fyed02w{box-shadow:var(--shadow2);}",[".f1gmd7mu{border:var(--strokeWidthThin) solid var(--colorTransparentStrokeInteractive);}",{p:-2}],[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],w:[".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".f1vnc8sk:focus-within{outline-width:var(--strokeWidthThick);}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",[".fds4ob8:focus-within{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1so894s:focus-within{border-bottom-color:var(--colorCompoundBrandStroke);}"],h:[".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}",[".f9mts5e:hover{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Hover);}",{p:-2}],".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}"],a:[[".f1acnei2:active{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Pressed);}",{p:-2}],".f1z0osm6:active{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"]}),ywt=Ye({base:{icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],oivjwe:"f1h8hb77",wvpqe5:["f1deefiw","f1n71otn"],jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao",De3pzq:"f3rmtva",B7ck84d:"f1ewtqcl",sj55zd:"f19n0e5",Bh6795r:"fqerorx",Bahqtrf:"fk6fouc",Bqenvij:"f1l02sjl",yvdlaj:"fwyc1cq",B3o7kgh:"f13ta7ih",B4brmom:"f1vw9udw",Brrnbx2:"fbb3kq8",oeaueh:"f1s6fcnf"},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"},small:{sshi5w:"f1w5jphr",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1pnffij",Bxyxcbc:"f192z54u",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{sshi5w:"fvmd9f",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1ww82xo",Bxyxcbc:"f1if7ixc",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},large:{sshi5w:"f1kfson",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f15hvtkj",Bxyxcbc:"f3kip1f",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k"}},{d:[".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1h8hb77{border-bottom-style:none;}",[".f1s184ao{margin:0;}",{p:-1}],".f3rmtva{background-color:transparent;}",".f1ewtqcl{box-sizing:border-box;}",".f19n0e5{color:var(--colorNeutralForeground1);}",".fqerorx{flex-grow:1;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f1l02sjl{height:100%;}",".fwyc1cq::-webkit-input-placeholder{color:var(--colorNeutralForeground4);}",".fwyc1cq::-moz-placeholder{color:var(--colorNeutralForeground4);}",".f13ta7ih::-webkit-input-placeholder{opacity:1;}",".f13ta7ih::-moz-placeholder{opacity:1;}",".f1vw9udw::selection{color:var(--colorNeutralForegroundInverted);}",".fbb3kq8::selection{background-color:var(--colorNeutralBackgroundInverted);}",".f1s6fcnf{outline-style:none;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}",".f1w5jphr{min-height:40px;}",[".f1pnffij{padding:var(--spacingVerticalXS) calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],".f192z54u{max-height:200px;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fvmd9f{min-height:52px;}",[".f1ww82xo{padding:var(--spacingVerticalSNudge) calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",{p:-1}],".f1if7ixc{max-height:260px;}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1kfson{min-height:64px;}",[".f15hvtkj{padding:var(--spacingVerticalS) calc(var(--spacingHorizontalM) + var(--spacingHorizontalXXS));}",{p:-1}],".f3kip1f{max-height:320px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}"]}),vwt=Ye({none:{B3rzk8w:"f1o1s39h"},both:{B3rzk8w:"f1pxm0xe"},horizontal:{B3rzk8w:"fq6nmtn"},vertical:{B3rzk8w:"f1f5ktr4"}},{d:[".f1o1s39h{resize:none;}",".f1pxm0xe{resize:both;}",".fq6nmtn{resize:horizontal;}",".f1f5ktr4{resize:vertical;}"]}),bwt=t=>{const{size:e,appearance:r,resize:n}=t,i=t.textarea.disabled,o=`${t.textarea["aria-invalid"]}`=="true",a=r.startsWith("filled"),s=mwt();t.root.className=Ee(mR.root,s.base,i&&s.disabled,!i&&a&&s.filled,!i&&s[r],!i&&s.interactive,!i&&r==="outline"&&s.outlineInteractive,!i&&o&&s.invalid,t.root.className);const l=ywt(),u=vwt();return t.textarea.className=Ee(mR.textarea,l.base,l[e],u[n],i&&l.disabled,t.textarea.className),t},AZ=Z.forwardRef((t,e)=>{const r=gwt(t,e);return bwt(r),ea("useTextareaStyles_unstable")(r),pwt(r)});AZ.displayName="Textarea";const xwt=Fr({textarea:{width:"100%",minHeight:"80px",paddingBottom:"40px"}}),ZC=({value:t,onChange:e,size:r,...n})=>{const i=xwt();return bt.jsx(TZ,{size:r,children:bt.jsx(AZ,{className:i.textarea,value:t,onChange:(o,a)=>{if(e){const s={...o,target:{...o.target,value:a.value}};e(s,a.value)}},...n,"data-size":r})})},wwt=De("ChannelRegular","1em",["M3.5 5.5a1 1 0 0 0-1 1 1 1 0 1 0 1-1Zm0-1c-.1 0-.2 0-.3.02A2.5 2.5 0 0 1 5.5 3h9A2.5 2.5 0 0 1 17 5.5v9a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 3 14.5V8.44a2 2 0 0 0 1 0v6.06c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5v-9c0-.83-.67-1.5-1.5-1.5h-9c-.51 0-.97.26-1.24.65a2 2 0 0 0-.76-.15Zm3.5 4c0-.28.22-.5.5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm.5 2.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Z"]),kwt=De("CheckmarkFilled","1em",["M7.03 13.9 3.56 10a.75.75 0 0 0-1.12 1l4 4.5c.29.32.79.34 1.09.03l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.94 9.94Z"]),Twt=De("CheckmarkCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm3.36 5.65a.5.5 0 0 0-.64-.06l-.07.06L9 11.3 7.35 9.65l-.07-.06a.5.5 0 0 0-.7.7l.07.07 2 2 .07.06c.17.11.4.11.56 0l.07-.06 4-4 .07-.08a.5.5 0 0 0-.06-.63Z"]),CZ=De("ChevronDownRegular","1em",["M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 0 1-.78 0L4.15 8.35a.5.5 0 1 1 .7-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0Z"]),Ewt=De("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),_wt=De("ChevronLeftRegular","1em",["M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"]),$Z=De("ChevronRightFilled","1em",["M7.73 4.2a.75.75 0 0 1 1.06.03l5 5.25c.28.3.28.75 0 1.04l-5 5.25a.75.75 0 1 1-1.08-1.04L12.2 10l-4.5-4.73a.75.75 0 0 1 .02-1.06Z"]),Swt=De("ChevronRightRegular","1em",["M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"]),Awt=De("CopyRegular","1em",["M8 2a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h6a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8ZM7 4a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V4ZM4 6a2 2 0 0 1 1-1.73V14.5A2.5 2.5 0 0 0 7.5 17h6.23A2 2 0 0 1 12 18H7.5A3.5 3.5 0 0 1 4 14.5V6Z"]),Ny=De("DismissRegular","1em",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),Cwt=De("DismissCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM7.8 7.11a.5.5 0 0 0-.63.06l-.06.07a.5.5 0 0 0 .06.64L9.3 10l-2.12 2.12-.06.07a.5.5 0 0 0 .06.64l.07.06c.2.13.47.11.64-.06L10 10.7l2.12 2.12.07.06c.2.13.46.11.64-.06l.06-.07a.5.5 0 0 0-.06-.64L10.7 10l2.12-2.12.06-.07a.5.5 0 0 0-.06-.64l-.07-.06a.5.5 0 0 0-.64.06L10 9.3 7.88 7.17l-.07-.06Z"]),$wt=De("ShareRegular","1em",["m13.33 12.84 4.5-4.42.05-.07a.59.59 0 0 0-.05-.77l-4.5-4.42-.06-.05c-.36-.27-.9-.01-.9.47V5.7l-.22.01C8.6 6.01 6.5 8.26 6 12.35c-.06.53.54.85.93.5a9.64 9.64 0 0 1 4.45-2.38c.24-.06.5-.1.74-.12l.26-.02v2.17c.06.46.61.67.95.34Zm-1.1-6.12 1.15-.08V4.61L16.82 8l-3.44 3.39V9.23l-1.36.12c-1.7.19-3.32.87-4.83 2 .3-1.33.8-2.34 1.47-3.06a5.2 5.2 0 0 1 3.57-1.57ZM5.5 4A2.5 2.5 0 0 0 3 6.5v8A2.5 2.5 0 0 0 5.5 17h8a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1c0 .83-.67 1.5-1.5 1.5h-8A1.5 1.5 0 0 1 4 14.5v-8C4 5.67 4.67 5 5.5 5h3a.5.5 0 0 0 0-1h-3Z"]),Nwt=De("SignOut24Regular","24",["M8.5 11.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2ZM12 4.35V11h7.44l-1.72-1.72a.75.75 0 0 1-.07-.98l.07-.08a.75.75 0 0 1 .98-.07l.08.07 3 3c.26.26.29.68.07.97l-.07.09-3 3a.75.75 0 0 1-1.13-.97l.07-.09 1.71-1.72H12v6.75c0 .47-.42.82-.88.74l-8.5-1.5a.75.75 0 0 1-.62-.74v-12c0-.37.27-.68.63-.74l8.5-1.4c.46-.07.87.28.87.74Zm-1.5.89-7 1.15v10.73l7 1.24V5.24ZM13 18.5h.87a.75.75 0 0 0 .65-.75l-.01-4.25H13v5Zm0-8.5V5h.75c.37 0 .69.28.74.65v.1L14.5 10H13Z"]),Iwt=De("SlideText24Filled","24",["M2 6.75A2.75 2.75 0 0 1 4.75 4h14.5A2.75 2.75 0 0 1 22 6.75v10.5A2.75 2.75 0 0 1 19.25 20H4.75A2.75 2.75 0 0 1 2 17.25V6.75ZM6.75 8a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Zm0 3a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5ZM6 14.75c0 .41.34.75.75.75h6.5a.75.75 0 0 0 0-1.5h-6.5a.75.75 0 0 0-.75.75Z"],{flipInRtl:!0}),NZ=De("SlideText24Regular","24",["M6.75 8a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM6 11.75c0-.41.34-.75.75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1-.75-.75ZM6.75 14a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm-2-10A2.75 2.75 0 0 0 2 6.75v10.5A2.75 2.75 0 0 0 4.75 20h14.5A2.75 2.75 0 0 0 22 17.25V6.75A2.75 2.75 0 0 0 19.25 4H4.75ZM3.5 6.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25V6.75Z"],{flipInRtl:!0}),Lwt=De("Payment24Regular","24",["M15.75 14.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5ZM2 8.25C2 6.45 3.46 5 5.25 5h13.5C20.55 5 22 6.46 22 8.25v7.5c0 1.8-1.46 3.25-3.25 3.25H5.25A3.25 3.25 0 0 1 2 15.75v-7.5ZM20.5 9.5V8.25c0-.97-.78-1.75-1.75-1.75H5.25c-.97 0-1.75.78-1.75 1.75V9.5h17ZM3.5 11v4.75c0 .97.78 1.75 1.75 1.75h13.5c.97 0 1.75-.78 1.75-1.75V11h-17Z"]),Rwt=De("QuestionCircle24Regular","24",["M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm0 1.67a8.34 8.34 0 0 0 0 16.66 8.34 8.34 0 0 0 0-16.66Zm0 11.83a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.3 1.57-1.05 2.36l-.17.17c-.62.62-.78.89-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.3-1.57 1.05-2.36l.17-.17c.62-.62.78-.89.78-1.47a1.25 1.25 0 0 0-2.5-.13v.13a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75Z"]),Dwt=De("Settings24Regular","24",["M12.01 2.25c.74 0 1.47.1 2.18.25.32.07.55.33.59.65l.17 1.53a1.38 1.38 0 0 0 1.92 1.11l1.4-.61c.3-.13.64-.06.85.17a9.8 9.8 0 0 1 2.2 3.8c.1.3 0 .63-.26.82l-1.25.92a1.38 1.38 0 0 0 0 2.22l1.25.92c.26.19.36.52.27.82a9.8 9.8 0 0 1-2.2 3.8.75.75 0 0 1-.85.17l-1.4-.62a1.38 1.38 0 0 0-1.93 1.12l-.17 1.52a.75.75 0 0 1-.58.65 9.52 9.52 0 0 1-4.4 0 .75.75 0 0 1-.57-.65l-.17-1.52a1.38 1.38 0 0 0-1.93-1.11l-1.4.62a.75.75 0 0 1-.85-.18 9.8 9.8 0 0 1-2.2-3.8c-.1-.3 0-.63.26-.82l1.25-.92a1.38 1.38 0 0 0 0-2.22l-1.24-.92a.75.75 0 0 1-.28-.82 9.8 9.8 0 0 1 2.2-3.8c.23-.23.57-.3.86-.17l1.4.62c.4.17.86.15 1.25-.08.38-.22.63-.6.68-1.04l.17-1.53a.75.75 0 0 1 .58-.65c.72-.16 1.45-.24 2.2-.25Zm0 1.5c-.45 0-.9.04-1.35.12l-.11.97a2.89 2.89 0 0 1-4.03 2.33l-.9-.4A8.3 8.3 0 0 0 4.29 9.1l.8.59a2.88 2.88 0 0 1 0 4.64l-.8.59a8.3 8.3 0 0 0 1.35 2.32l.9-.4a2.88 2.88 0 0 1 4.02 2.32l.1.99c.9.15 1.8.15 2.7 0l.1-.99a2.88 2.88 0 0 1 4.02-2.32l.9.4a8.3 8.3 0 0 0 1.35-2.32l-.8-.59a2.88 2.88 0 0 1 0-4.64l.8-.59a8.3 8.3 0 0 0-1.35-2.32l-.9.4a2.88 2.88 0 0 1-4.02-2.32l-.1-.98c-.45-.08-.9-.11-1.34-.12ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"]);De("PrintRegular","1em",["M5 4.5C5 3.67 5.67 3 6.5 3h7c.83 0 1.5.67 1.5 1.5V5h.5A2.5 2.5 0 0 1 18 7.5v5c0 .83-.67 1.5-1.5 1.5H15v1.5c0 .83-.67 1.5-1.5 1.5h-7A1.5 1.5 0 0 1 5 15.5V14H3.5A1.5 1.5 0 0 1 2 12.5v-5A2.5 2.5 0 0 1 4.5 5H5v-.5ZM6 5h8v-.5a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0-.5.5V5Zm-1 8v-1.5c0-.83.67-1.5 1.5-1.5h7c.83 0 1.5.67 1.5 1.5V13h1.5a.5.5 0 0 0 .5-.5v-5c0-.83-.67-1.5-1.5-1.5h-11C3.67 6 3 6.67 3 7.5v5c0 .28.22.5.5.5H5Zm1.5-2a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h7a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5h-7Z"]);const Owt=De("SearchRegular","1em",["M12.73 13.44a6.5 6.5 0 1 1 .7-.7l3.42 3.4a.5.5 0 0 1-.63.77l-.07-.06-3.42-3.41Zm-.71-.71A5.54 5.54 0 0 0 14 8.5a5.5 5.5 0 1 0-1.98 4.23Z"]),IZ=De("SendFilled","1em",["M2.72 2.05a.5.5 0 0 0-.7.58l1.5 5.62c.05.19.2.33.4.36l6.85 1.14c.28.05.28.45 0 .5l-6.85 1.14a.5.5 0 0 0-.4.36l-1.5 5.62a.5.5 0 0 0 .7.58l15-7.5a.5.5 0 0 0 0-.9l-15-7.5Z"],{flipInRtl:!0}),Mwt=De("SendRegular","1em",["M2.18 2.11a.5.5 0 0 1 .54-.06l15 7.5a.5.5 0 0 1 0 .9l-15 7.5a.5.5 0 0 1-.7-.58L3.98 10 2.02 2.63a.5.5 0 0 1 .16-.52Zm2.7 8.39-1.61 6.06L16.38 10 3.27 3.44 4.88 9.5h6.62a.5.5 0 1 1 0 1H4.88Z"],{flipInRtl:!0}),LZ=De("AddRegular","1em",["M10 2.5c.28 0 .5.22.5.5v6.5H17a.5.5 0 0 1 0 1h-6.5V17a.5.5 0 0 1-1 0v-6.5H3a.5.5 0 0 1 0-1h6.5V3c0-.28.22-.5.5-.5Z"]),Bwt=De("ArrowClockwiseRegular","1em",["M4 10a6 6 0 0 1 10.47-4H12.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-1 0v1.6a7 7 0 1 0 1.98 4.36.5.5 0 1 0-1 .08L16 10a6 6 0 0 1-12 0Z"]),Pwt=De("ArrowCollapseAllRegular","1em",["M2 4.5c0-.28.22-.5.5-.5h15a.5.5 0 0 1 0 1h-15a.5.5 0 0 1-.5-.5Zm3.15 2.65c.2-.2.5-.2.7 0l2.5 2.5a.5.5 0 0 1-.7.7L6 8.71v6.79a.5.5 0 0 1-1 0V8.7l-1.65 1.65a.5.5 0 0 1-.7-.7l2.5-2.5ZM17.5 8h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1Z"],{flipInRtl:!0}),Fwt=De("ArrowExpandAllRegular","1em",["M2 4.5c0-.28.22-.5.5-.5h15a.5.5 0 0 1 0 1h-15a.5.5 0 0 1-.5-.5Zm3.15 11.35c.2.2.5.2.7 0l2.5-2.5a.5.5 0 0 0-.7-.7L6 14.29V7.5a.5.5 0 0 0-1 0v6.8l-1.65-1.65a.5.5 0 0 0-.7.7l2.5 2.5ZM17.5 8h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1Z"],{flipInRtl:!0}),zwt=De("AttachRegular","1em",["m4.83 10.48 5.65-5.65a3 3 0 0 1 4.25 4.24L8 15.8a1.5 1.5 0 0 1-2.12-2.12l6-6.01a.5.5 0 1 0-.7-.71l-6 6.01a2.5 2.5 0 0 0 3.53 3.54l6.71-6.72a4 4 0 1 0-5.65-5.66L4.12 9.78a.5.5 0 0 0 .7.7Z"]),jwt=De("CameraRegular","1em",["M10 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-3 4a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm1.12-8a1.5 1.5 0 0 0-1.34.83L6.2 4H4.5A2.5 2.5 0 0 0 2 6.5v8A2.5 2.5 0 0 0 4.5 17h11a2.5 2.5 0 0 0 2.5-2.5v-8A2.5 2.5 0 0 0 15.5 4h-1.69l-.58-1.17A1.5 1.5 0 0 0 11.89 2H8.12Zm-.44 1.28A.5.5 0 0 1 8.12 3h3.77c.19 0 .36.1.45.28l.72 1.44a.5.5 0 0 0 .45.28h2c.82 0 1.5.67 1.5 1.5v8c0 .83-.68 1.5-1.5 1.5h-11A1.5 1.5 0 0 1 3 14.5v-8C3 5.67 3.67 5 4.5 5h2a.5.5 0 0 0 .44-.28l.73-1.44Z"]),Hwt=De("FullScreenMaximizeRegular","1em",["M3 5c0-1.1.9-2 2-2h2a.5.5 0 0 1 0 1H5a1 1 0 0 0-1 1v2a.5.5 0 0 1-1 0V5Zm9.5-1.5c0-.28.22-.5.5-.5h2a2 2 0 0 1 2 2v2a.5.5 0 0 1-1 0V5a1 1 0 0 0-1-1h-2a.5.5 0 0 1-.5-.5Zm-9 9c.28 0 .5.22.5.5v2a1 1 0 0 0 1 1h2a.5.5 0 0 1 0 1H5a2 2 0 0 1-2-2v-2c0-.28.22-.5.5-.5Zm13 0c.28 0 .5.22.5.5v2a2 2 0 0 1-2 2h-2a.5.5 0 0 1 0-1h2a1 1 0 0 0 1-1v-2c0-.28.22-.5.5-.5Z"]),Uwt=De("ImageRegular","1em",["M14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0ZM3 6a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm3-2a2 2 0 0 0-2 2v8c0 .37.1.72.28 1.02l4.67-4.59a1.5 1.5 0 0 1 2.1 0l4.67 4.59c.18-.3.28-.65.28-1.02V6a2 2 0 0 0-2-2H6Zm0 12h8a2 2 0 0 0 1.01-.27l-4.66-4.58a.5.5 0 0 0-.7 0l-4.66 4.58A2 2 0 0 0 6 16Z"]),qwt=De("InfoFilled","1em",["M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM9.5 8.91a.5.5 0 0 1 1 0V13.6a.5.5 0 0 1-1 0V8.9Zm-.25-2.16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Z"]),Gwt=De("LocationFilled","1em",["M14.95 13.96a7 7 0 1 0-9.9 0l1.52 1.5 2.04 1.98.14.12a2 2 0 0 0 2.64-.12l2.43-2.37 1.13-1.12ZM10 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"]),Wwt=De("LocationRegular","1em",["M13 9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-1 0a2 2 0 1 0-4 0 2 2 0 0 0 4 0Zm2.95 4.96a7 7 0 1 0-9.9 0l1.52 1.5 2.04 1.98.14.12a2 2 0 0 0 2.64-.12l2.43-2.37 1.13-1.12Zm-9.2-9.2a6 6 0 0 1 8.67 8.3l-.18.19-1.32 1.3-2.23 2.17-.09.08a1 1 0 0 1-1.2 0l-.1-.08-2.97-2.9-.58-.57-.17-.18a6 6 0 0 1 .17-8.31Z"]),Vwt=De("WandRegular","1em",["M16.5 2c.28 0 .5.22.5.5V3h.5a.5.5 0 0 1 0 1H17v.5a.5.5 0 0 1-1 0V4h-.5a.5.5 0 1 1 0-1h.5v-.5c0-.28.22-.5.5-.5Zm-10 4a.5.5 0 0 0 0-1H6v-.5a.5.5 0 0 0-1 0V5h-.5a.5.5 0 0 0 0 1H5v.5a.5.5 0 0 0 1 0V6h.5Zm9 9a.5.5 0 0 0 0-1H15v-.5a.5.5 0 0 0-1 0v.5h-.5a.5.5 0 1 0 0 1h.5v.5a.5.5 0 1 0 1 0V15h.5Zm-2.07-8.43a1.91 1.91 0 0 0-2.7 0l-8.17 8.16a1.91 1.91 0 1 0 2.7 2.7l8.17-8.16c.75-.74.75-1.96 0-2.7Zm-2 .7a.91.91 0 0 1 1.3 1.3l-.48.47-1.3-1.29.48-.48Zm-1.18 1.19 1.3 1.29-6.99 6.98a.91.91 0 0 1-1.3-1.29l6.99-6.98Z"]),Ywt=De("WarningFilled","1em",["M8.68 2.79a1.5 1.5 0 0 1 2.64 0l6.5 12A1.5 1.5 0 0 1 16.5 17h-13a1.5 1.5 0 0 1-1.32-2.21l6.5-12ZM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Zm.25 6.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"]),Xwt=t=>{const{iconOnly:e,iconPosition:r}=t;return Un(t.root,{children:[r!=="after"&&t.icon&&ve(t.icon,{}),!e&&t.root.children,r==="after"&&t.icon&&ve(t.icon,{})]})},RZ=Z.createContext(void 0),Kwt={};RZ.Provider;const Zwt=()=>{var t;return(t=Z.useContext(RZ))!==null&&t!==void 0?t:Kwt},kd="Enter",kc=" ",QC="Tab",q_="ArrowDown",DZ="ArrowLeft",OZ="ArrowRight",lb="ArrowUp",Qwt="End",Jwt="Home",tkt="PageDown",ekt="PageUp",rkt="Delete",JC="Escape";function MZ(t,e){const{disabled:r,disabledFocusable:n=!1,"aria-disabled":i,onClick:o,onKeyDown:a,onKeyUp:s,...l}=e??{},u=typeof i=="string"?i==="true":i,h=r||n||u,d=ar(g=>{h?(g.preventDefault(),g.stopPropagation()):o==null||o(g)}),p=ar(g=>{if(a==null||a(g),g.isDefaultPrevented())return;const m=g.key;if(h&&(m===kd||m===kc))return g.preventDefault(),void g.stopPropagation();m!==kc?m===kd&&(g.preventDefault(),g.currentTarget.click()):g.preventDefault()}),f=ar(g=>{if(s==null||s(g),g.isDefaultPrevented())return;const m=g.key;if(h&&(m===kd||m===kc))return g.preventDefault(),void g.stopPropagation();m===kc&&(g.preventDefault(),g.currentTarget.click())});if(t==="button"||t===void 0)return{...l,disabled:r&&!n,"aria-disabled":!!n||u,onClick:n?void 0:d,onKeyUp:n?void 0:s,onKeyDown:n?void 0:a};{const g=!!l.href;let m=g?void 0:"button";!m&&h&&(m="link");const y={role:m,tabIndex:n||!g&&!r?0:void 0,...l,onClick:d,onKeyUp:f,onKeyDown:p,"aria-disabled":h};return t==="a"&&h&&(y.href=void 0),y}}const nkt=(t,e)=>{const{size:r}=Zwt(),{appearance:n="secondary",as:i="button",disabled:o=!1,disabledFocusable:a=!1,icon:s,iconPosition:l="before",shape:u="rounded",size:h=r??"medium"}=t,d=$r(s,{elementType:"span"});return{appearance:n,disabled:o,disabledFocusable:a,iconPosition:l,shape:u,size:h,iconOnly:!!(d!=null&&d.children&&!t.children),components:{root:"button",icon:"span"},root:Nr(ei(i,MZ(t.as,t)),{elementType:"button",defaultProps:{ref:e,type:i==="button"?"button":void 0}}),icon:d}},yR={root:"fui-Button",icon:"fui-Button__icon"},ikt=Zr("r1alrhcs",null,{r:[".r1alrhcs{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1alrhcs:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1alrhcs:hover:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1alrhcs[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1alrhcs{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1alrhcs:focus{border-color:ButtonText;}.r1alrhcs:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1alrhcs:hover:active{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1alrhcs[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),okt=Zr("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),akt=Ye({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",iro3zm:"fwiml72"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",iro3zm:"fnp9lpt",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1d6v5y2",Bsw6fvg:"f1rirnrt",Bjwas2f:"f1uu00uk",Bn1d65q:["fkvaka8","f9a0qzu"],Bxeuatn:"f1ux7til",n51gp8:["f9a0qzu","fkvaka8"],Bbusuzp:"f1lkg8j3",ycbfsm:"fkc42ay",Bqrx1nm:"fq7113v",pgvf35:"ff1wgvm",Bh7lczh:["fiob0tu","f1x4h75k"],dpv3f4:"f1j6scgf",Bpnjhaq:["f1x4h75k","fiob0tu"],ze5xyy:"f4xjyn1",g2kj27:"fbgcvur",Bf756sw:"f1ks1yx8",Bow2dr7:["f1o6qegi","fmxjhhp"],Bvhedfk:"fcnxywj",Gye4lf:["fmxjhhp","f1o6qegi"],pc6evw:"f9ddjv3"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",iro3zm:"fsv2rcd",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1omzyqd",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",x3br3k:"fj8yq94",ze5xyy:"f4xjyn1",Bx3q9su:"f1et0tmh",pc6evw:"f9ddjv3",xd2cci:"f1wi8ngl"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1fg1p5m",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",Bqrx1nm:"f1tme0vf",ze5xyy:"f4xjyn1",g2kj27:"f18onu3q",pc6evw:"f9ddjv3"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},small:{Bf4jedk:"fh7ncta",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fneth5b",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f4db1ww",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".fh7ncta{min-width:64px;}",[".fneth5b{padding:3px var(--spacingHorizontalS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",[".f4db1ww{padding:8px var(--spacingHorizontalL);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".fnp9lpt:hover:active{background-color:var(--colorBrandBackgroundPressed);}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}",".f1d6v5y2:hover:active{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".fsv2rcd:hover:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1omzyqd:hover:active{color:var(--colorNeutralForeground2Pressed);}",".f1dfjoow:hover:active .fui-Icon-filled{display:inline;}",".f1j98vj9:hover:active .fui-Icon-regular{display:none;}",".fj8yq94:hover:active .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1uu00uk{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9a0qzu{border-left-color:HighlightText;}.fkvaka8{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ux7til{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fq7113v:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff1wgvm:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1x4h75k:hover{border-left-color:Highlight;}.fiob0tu:hover{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1j6scgf:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4xjyn1:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbgcvur:hover:active{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ks1yx8:hover:active{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o6qegi:hover:active{border-right-color:Highlight;}.fmxjhhp:hover:active{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcnxywj:hover:active{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9ddjv3:hover:active{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1et0tmh:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wi8ngl:hover:active .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tme0vf:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18onu3q:hover:active{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),skt=Ye({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",iro3zm:"f1t6o4dc",b661bw:"f10ztigi",Bk6r4ia:["f1ft5sdu","f1gzf82w"],B9zn80p:"f12zbtn2",Bpld233:["f1gzf82w","f1ft5sdu"],B2d53fq:"fcvwxyo",c3iz72:"f8w4c43",em6i61:"f1ol4fw6",vm6p8p:"f1q1lw4e",x3br3k:"f1dwjv2g"},highContrast:{Bsw6fvg:"f4lkoma",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bbusuzp:"f1dcs8yz",Bm2fdqk:"fuigjrg",G867l3:"fjwq6ea",gdbnj:["f1lr3nhc","f1mbxvi6"],mxns5l:"fn5gmvv",o3nasb:["f1mbxvi6","f1lr3nhc"],Bqrx1nm:"f1vmkb5g",pgvf35:"f53ppgq",Bh7lczh:["f1663y11","f80fkiy"],dpv3f4:"f18v5270",Bpnjhaq:["f80fkiy","f1663y11"],ze5xyy:"f1kc2mi9",Bx3q9su:"f4dhi0o",g2kj27:"f1y0svfh",Bf756sw:"fihuait",Bow2dr7:["fnxhupq","fyd6l6x"],Bvhedfk:"fx507ft",Gye4lf:["fyd6l6x","fnxhupq"],pc6evw:"fb3rf2x",xd2cci:"fequ9m0"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",iro3zm:"f3h1zc4"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1t6o4dc:hover:active{background-color:var(--colorNeutralBackgroundDisabled);}",".f10ztigi:hover:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ft5sdu:hover:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1gzf82w:hover:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f12zbtn2:hover:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f8w4c43:hover:active{cursor:not-allowed;}",".f1ol4fw6:hover:active .fui-Icon-filled{display:none;}",".f1q1lw4e:hover:active .fui-Icon-regular{display:inline;}",".f1dwjv2g:hover:active .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f3h1zc4:hover:active{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f4lkoma{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fuigjrg .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjwq6ea:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lr3nhc:focus{border-right-color:GrayText;}.f1mbxvi6:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn5gmvv:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1vmkb5g:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f53ppgq:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1663y11:hover{border-right-color:GrayText;}.f80fkiy:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18v5270:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4dhi0o:hover .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1y0svfh:hover:active{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fihuait:hover:active{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnxhupq:hover:active{border-right-color:GrayText;}.fyd6l6x:hover:active{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fx507ft:hover:active{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fb3rf2x:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fequ9m0:hover:active .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),lkt=Ye({circular:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1062rbf"},rounded:{},square:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fj0ryk1"},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Boium3a:["f12k37oa","fdnykm2"],tm8e47:"fr96u23"},small:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fazmxh"},medium:{},large:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1b6alqh"}},{d:[[".f1062rbf[data-fui-focus-visible]{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".fj0ryk1[data-fui-focus-visible]{border-radius:var(--borderRadiusNone);}",{p:-1}],".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",[".fazmxh[data-fui-focus-visible]{border-radius:var(--borderRadiusSmall);}",{p:-1}],[".f1b6alqh[data-fui-focus-visible]{border-radius:var(--borderRadiusLarge);}",{p:-1}]],t:["@supports (-moz-appearance:button){.f12k37oa[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fdnykm2[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.fr96u23[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),ckt=Ye({small:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fu97m5z",Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f18ktai2",Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1hbd1aw",Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[[".fu97m5z{padding:1px;}",{p:-1}],".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",[".f18ktai2{padding:5px;}",{p:-1}],".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",[".f1hbd1aw{padding:7px;}",{p:-1}],".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),ukt=Ye({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),hkt=t=>{const e=ikt(),r=okt(),n=akt(),i=skt(),o=lkt(),a=ckt(),s=ukt(),{appearance:l,disabled:u,disabledFocusable:h,icon:d,iconOnly:p,iconPosition:f,shape:g,size:m}=t;return t.root.className=Ee(yR.root,e,l&&n[l],n[m],d&&m==="small"&&n.smallWithIcon,d&&m==="large"&&n.largeWithIcon,n[g],(u||h)&&i.base,(u||h)&&i.highContrast,l&&(u||h)&&i[l],l==="primary"&&o.primary,o[m],o[g],p&&a[m],t.root.className),t.icon&&(t.icon.className=Ee(yR.icon,r,!!t.root.children&&s[f],s[m],t.icon.className)),t},Nl=Z.forwardRef((t,e)=>{const r=nkt(t,e);return hkt(r),ea("useButtonStyles_unstable")(r),Xwt(r)});Nl.displayName="Button";const dkt=Fr({button:{borderRadius:Qt("BUTTON_BORDER_RADIUS")||void 0}}),pkt={DismissRegular:bt.jsx(Ny,{}),CopyRegular:bt.jsx(Awt,{}),ShareRegular:bt.jsx($wt,{}),SignOut24Regular:bt.jsx(Nwt,{}),Payment24Regular:bt.jsx(Lwt,{}),SlideText24Regular:bt.jsx(NZ,{}),QuestionCircle24Regular:bt.jsx(Rwt,{}),SendFilled:bt.jsx(IZ,{}),AttachRegular:bt.jsx(zwt,{}),ImageRegular:bt.jsx(Uwt,{}),CameraRegular:bt.jsx(jwt,{}),LocationRegular:bt.jsx(Wwt,{}),LocationFilled:bt.jsx(Gwt,{}),AddRegular:bt.jsx(LZ,{}),ChevronRightFilled:bt.jsx($Z,{}),ArrowClockwiseRegular:bt.jsx(Bwt,{}),WandRegular:bt.jsx(Vwt,{})},Ba=({children:t,className:e,icon:r,image:n,...i})=>{const o=dkt();return bt.jsx(Nl,{className:Ee(e,o.button),icon:r?{children:pkt[r]}:n?{children:n}:void 0,...i,children:t})},BZ=(t,e)=>{const{wrap:r,truncate:n,block:i,italic:o,underline:a,strikethrough:s,size:l,font:u,weight:h,align:d}=t;return{align:d??"start",block:i!=null&&i,font:u??"base",italic:o!=null&&o,size:l??300,strikethrough:s!=null&&s,truncate:n!=null&&n,underline:a!=null&&a,weight:h??"regular",wrap:r==null||r,components:{root:"span"},root:Nr(ei("span",{ref:e,...t}),{elementType:"span"})}},fkt={root:"fui-Text"},gkt=Ye({root:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",Bhrd7zp:"figsok6",fsow6f:"fpgzoln",mc9l5x:"f1w7gpdv",Huce71:"f6juhto",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1gl81tg",ygn44y:"f2jf649"},nowrap:{Huce71:"fz5stix",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp"},truncate:{ygn44y:"f1cmbuwj"},block:{mc9l5x:"ftgm304"},italic:{B80ckks:"f1j4dglz"},underline:{w71qe1:"f13mvf36"},strikethrough:{w71qe1:"fv5q2k7"},strikethroughUnderline:{w71qe1:"f1drk4o6"},base100:{Be2twd7:"f13mqy1h",Bg96gwp:"fcpl73t"},base200:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},base400:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k"},base500:{Be2twd7:"f1pp30po",Bg96gwp:"f106mvju"},base600:{Be2twd7:"f1x0m3f5",Bg96gwp:"fb86gi6"},hero700:{Be2twd7:"fojgt09",Bg96gwp:"fcen8rp"},hero800:{Be2twd7:"fccw675",Bg96gwp:"f1ebx5kk"},hero900:{Be2twd7:"f15afnhw",Bg96gwp:"fr3w3wp"},hero1000:{Be2twd7:"fpyltcb",Bg96gwp:"f1ivgwrt"},monospace:{Bahqtrf:"f1fedwem"},numeric:{Bahqtrf:"f1uq0ln5"},weightMedium:{Bhrd7zp:"fdj6btp"},weightSemibold:{Bhrd7zp:"fl43uef"},weightBold:{Bhrd7zp:"flh3ekv"},alignCenter:{fsow6f:"f17mccla"},alignEnd:{fsow6f:"f12ymhq5"},alignJustify:{fsow6f:"f1j59e10"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fpgzoln{text-align:start;}",".f1w7gpdv{display:inline;}",".f6juhto{white-space:normal;}",[".f1gl81tg{overflow:visible;}",{p:-1}],".f2jf649{text-overflow:clip;}",".fz5stix{white-space:nowrap;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f1cmbuwj{text-overflow:ellipsis;}",".ftgm304{display:block;}",".f1j4dglz{font-style:italic;}",".f13mvf36{text-decoration-line:underline;}",".fv5q2k7{text-decoration-line:line-through;}",".f1drk4o6{text-decoration-line:line-through underline;}",".f13mqy1h{font-size:var(--fontSizeBase100);}",".fcpl73t{line-height:var(--lineHeightBase100);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}",".f1x0m3f5{font-size:var(--fontSizeBase600);}",".fb86gi6{line-height:var(--lineHeightBase600);}",".fojgt09{font-size:var(--fontSizeHero700);}",".fcen8rp{line-height:var(--lineHeightHero700);}",".fccw675{font-size:var(--fontSizeHero800);}",".f1ebx5kk{line-height:var(--lineHeightHero800);}",".f15afnhw{font-size:var(--fontSizeHero900);}",".fr3w3wp{line-height:var(--lineHeightHero900);}",".fpyltcb{font-size:var(--fontSizeHero1000);}",".f1ivgwrt{line-height:var(--lineHeightHero1000);}",".f1fedwem{font-family:var(--fontFamilyMonospace);}",".f1uq0ln5{font-family:var(--fontFamilyNumeric);}",".fdj6btp{font-weight:var(--fontWeightMedium);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".flh3ekv{font-weight:var(--fontWeightBold);}",".f17mccla{text-align:center;}",".f12ymhq5{text-align:end;}",".f1j59e10{text-align:justify;}"]}),PZ=t=>{const e=gkt();return t.root.className=Ee(fkt.root,e.root,t.wrap===!1&&e.nowrap,t.truncate&&e.truncate,t.block&&e.block,t.italic&&e.italic,t.underline&&e.underline,t.strikethrough&&e.strikethrough,t.underline&&t.strikethrough&&e.strikethroughUnderline,t.size===100&&e.base100,t.size===200&&e.base200,t.size===400&&e.base400,t.size===500&&e.base500,t.size===600&&e.base600,t.size===700&&e.hero700,t.size===800&&e.hero800,t.size===900&&e.hero900,t.size===1e3&&e.hero1000,t.font==="monospace"&&e.monospace,t.font==="numeric"&&e.numeric,t.weight==="medium"&&e.weightMedium,t.weight==="semibold"&&e.weightSemibold,t.weight==="bold"&&e.weightBold,t.align==="center"&&e.alignCenter,t.align==="end"&&e.alignEnd,t.align==="justify"&&e.alignJustify,t.root.className),t},FZ=t=>ve(t.root,{});function zZ(t){const{useStyles:e,className:r,displayName:n}=t,i=Z.forwardRef((o,a)=>{const s=e(),l=BZ(o,a);return PZ(l),l.root.className=Ee(r,l.root.className,s.root,o.className),FZ(l)});return i.displayName=n,i}const mkt={root:"fui-Title3"},ykt=Ye({root:{Bahqtrf:"fk6fouc",Be2twd7:"f1x0m3f5",Bhrd7zp:"fl43uef",Bg96gwp:"fb86gi6"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f1x0m3f5{font-size:var(--fontSizeBase600);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".fb86gi6{line-height:var(--lineHeightBase600);}"]}),jZ=zZ({useStyles:ykt,className:mkt.root,displayName:"Title3"}),HZ=({children:t,...e})=>bt.jsx(jZ,{...e,children:t}),F4=Z.forwardRef((t,e)=>{const r=BZ(t,e);return PZ(r),ea("useTextStyles_unstable")(r),FZ(r)});F4.displayName="Text";const D0=({children:t,...e})=>bt.jsx(F4,{...e,children:t}),UZ=Z.createContext(void 0),vkt={};UZ.Provider;const bkt=()=>{var t;return(t=Z.useContext(UZ))!==null&&t!==void 0?t:vkt};function xkt(t,e){const r=Z.useRef(void 0),n=Z.useCallback((o,a)=>(r.current!==void 0&&e(r.current),r.current=t(o,a),r.current),[e,t]),i=Z.useCallback(()=>{r.current!==void 0&&(e(r.current),r.current=void 0)},[e]);return Z.useEffect(()=>i,[i]),[n,i]}const qZ=Z.createContext(void 0),wkt={targetDocument:typeof document=="object"?document:void 0,dir:"ltr"};function Gn(){var t;return(t=Z.useContext(qZ))!==null&&t!==void 0?t:wkt}qZ.Provider;const kkt=t=>-1,Tkt=t=>{};function z4(){const{targetDocument:t}=Gn(),e=t==null?void 0:t.defaultView,r=e?e.setTimeout:kkt,n=e?e.clearTimeout:Tkt;return xkt(r,n)}const Ekt=(t,e)=>{const{size:r}=bkt(),{appearance:n="primary",labelPosition:i="after",size:o=r??"medium",delay:a=0}=t,s=Qu("spinner"),{role:l="progressbar",...u}=t,h=Nr(ei("div",{ref:e,role:l,...u},["size"]),{elementType:"div"}),[d,p]=Z.useState(!1),[f,g]=z4();Z.useEffect(()=>{if(!(a<=0))return f(()=>{p(!0)},a),()=>{g()}},[f,g,a]);const m=$r(t.label,{defaultProps:{id:s},renderByDefault:!1,elementType:R0}),y=$r(t.spinner,{renderByDefault:!0,elementType:"span"});return m&&h&&!h["aria-labelledby"]&&(h["aria-labelledby"]=m.id),{appearance:n,delay:a,labelPosition:i,size:o,shouldRenderSpinner:!a||d,components:{root:"div",spinner:"span",spinnerTail:"span",label:R0},root:h,spinner:y,spinnerTail:Nr(t.spinnerTail,{elementType:"span"}),label:m}},_kt=t=>{const{labelPosition:e,shouldRenderSpinner:r}=t;return Un(t.root,{children:[t.label&&r&&(e==="above"||e==="before")&&ve(t.label,{}),t.spinner&&r&&ve(t.spinner,{children:t.spinnerTail&&ve(t.spinnerTail,{})}),t.label&&r&&(e==="below"||e==="after")&&ve(t.label,{})]})},zv={root:"fui-Spinner",spinner:"fui-Spinner__spinner",spinnerTail:"fui-Spinner__spinnerTail",label:"fui-Spinner__label"},Skt=Zr("r82apo5",null,[".r82apo5{display:flex;align-items:center;justify-content:center;line-height:0;gap:8px;overflow:hidden;}"]),Akt=Ye({vertical:{Beiy3e4:"f1vx9l62"}},{d:[".f1vx9l62{flex-direction:column;}"]}),Ckt=Zr("rvgcg50","r15nd2jo",{r:[".rvgcg50{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:rb7n1on;}","@keyframes rb7n1on{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}",".r15nd2jo{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:r1gx3jof;}","@keyframes r1gx3jof{0%{transform:rotate(0deg);}100%{transform:rotate(-360deg);}}"],s:["@media screen and (forced-colors: active){.rvgcg50{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.rvgcg50{animation-duration:1.8s;}}","@media screen and (forced-colors: active){.r15nd2jo{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.r15nd2jo{animation-duration:1.8s;}}"]}),$kt=Zr("rxov3xa","r1o544mv",{r:[".rxov3xa{position:absolute;display:block;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r15mim6k;}",'.rxov3xa::before,.rxov3xa::after{content:"";position:absolute;display:block;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r15mim6k{0%{transform:rotate(-135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(225deg);}}",".rxov3xa::before{animation-name:r18vhmn8;}","@keyframes r18vhmn8{0%{transform:rotate(0deg);}50%{transform:rotate(105deg);}100%{transform:rotate(0deg);}}",".rxov3xa::after{animation-name:rkgrvoi;}","@keyframes rkgrvoi{0%{transform:rotate(0deg);}50%{transform:rotate(225deg);}100%{transform:rotate(0deg);}}",".r1o544mv{position:absolute;display:block;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r109gmi5;}",'.r1o544mv::before,.r1o544mv::after{content:"";position:absolute;display:block;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r109gmi5{0%{transform:rotate(135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(-225deg);}}",".r1o544mv::before{animation-name:r17whflh;}","@keyframes r17whflh{0%{transform:rotate(0deg);}50%{transform:rotate(-105deg);}100%{transform:rotate(0deg);}}",".r1o544mv::after{animation-name:re4odhl;}","@keyframes re4odhl{0%{transform:rotate(0deg);}50%{transform:rotate(-225deg);}100%{transform:rotate(0deg);}}"],s:["@media screen and (prefers-reduced-motion: reduce){.rxov3xa{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.rxov3xa::before,.rxov3xa::after{content:none;}}","@media screen and (prefers-reduced-motion: reduce){.r1o544mv{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.r1o544mv::before,.r1o544mv::after{content:none;}}"]}),Nkt=Ye({inverted:{De3pzq:"fr407j0",sj55zd:"f1f7voed"},rtlTail:{btxmck:"f179dep3",gb5jj2:"fbz9ihp",Br2kee7:"f1wkkxo7"},"extra-tiny":{Bqenvij:"fd461yt",a9b677:"fjw5fx7",qmp6fs:"f1v3ph3m"},tiny:{Bqenvij:"fjamq6b",a9b677:"f64fuq3",qmp6fs:"f1v3ph3m"},"extra-small":{Bqenvij:"frvgh55",a9b677:"fq4mcun",qmp6fs:"f1v3ph3m"},small:{Bqenvij:"fxldao9",a9b677:"f1w9dchk",qmp6fs:"f1v3ph3m"},medium:{Bqenvij:"f1d2rq10",a9b677:"f1szoe96",qmp6fs:"fb52u90"},large:{Bqenvij:"f8ljn23",a9b677:"fpdz1er",qmp6fs:"fb52u90"},"extra-large":{Bqenvij:"fbhnoac",a9b677:"feqmc2u",qmp6fs:"fb52u90"},huge:{Bqenvij:"f1ft4266",a9b677:"fksc0bp",qmp6fs:"fa3u9ii"}},{d:[".fr407j0{background-color:var(--colorNeutralStrokeAlpha2);}",".f1f7voed{color:var(--colorNeutralStrokeOnBrand2);}",".f179dep3{-webkit-mask-image:conic-gradient(white 255deg, transparent 255deg);mask-image:conic-gradient(white 255deg, transparent 255deg);}",".fbz9ihp::before,.fbz9ihp::after{background-image:conic-gradient(transparent 225deg, currentcolor 225deg);}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".f1v3ph3m{--fui-Spinner--strokeWidth:var(--strokeWidthThick);}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".fxldao9{height:28px;}",".f1w9dchk{width:28px;}",".f1d2rq10{height:32px;}",".f1szoe96{width:32px;}",".fb52u90{--fui-Spinner--strokeWidth:var(--strokeWidthThicker);}",".f8ljn23{height:36px;}",".fpdz1er{width:36px;}",".fbhnoac{height:40px;}",".feqmc2u{width:40px;}",".f1ft4266{height:44px;}",".fksc0bp{width:44px;}",".fa3u9ii{--fui-Spinner--strokeWidth:var(--strokeWidthThickest);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f1wkkxo7{background-image:conic-gradient(currentcolor 0deg, transparent 240deg);}}",{m:"screen and (prefers-reduced-motion: reduce)"}]]}),Ikt=Ye({inverted:{sj55zd:"fonrgv7"},"extra-tiny":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},tiny:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},"extra-small":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},"extra-large":{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},huge:{Bahqtrf:"fk6fouc",Be2twd7:"f1pp30po",Bhrd7zp:"fl43uef",Bg96gwp:"f106mvju"}},{d:[".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}"]}),Lkt=t=>{const{labelPosition:e,size:r,appearance:n}=t,{dir:i}=Gn(),o=Skt(),a=Akt(),s=Ckt(),l=Nkt(),u=$kt(),h=Ikt();return t.root.className=Ee(zv.root,o,(e==="above"||e==="below")&&a.vertical,t.root.className),t.spinner&&(t.spinner.className=Ee(zv.spinner,s,l[r],n==="inverted"&&l.inverted,t.spinner.className)),t.spinnerTail&&(t.spinnerTail.className=Ee(zv.spinnerTail,u,i==="rtl"&&l.rtlTail,t.spinnerTail.className)),t.label&&(t.label.className=Ee(zv.label,h[r],n==="inverted"&&h.inverted,t.label.className)),t},t7=Z.forwardRef((t,e)=>{const r=Ekt(t,e);return Lkt(r),ea("useSpinnerStyles_unstable")(r),_kt(r)});t7.displayName="Spinner";const Rkt=Fr({spinner:{color:Qt("BUTTON_BACKGROUND_COLOR")||"undefined"}}),e7=({children:t,...e})=>{const r=Rkt();return bt.jsx(t7,{className:r.spinner,...e,children:t})},Dkt=({children:t,className:e,...r})=>bt.jsx(R0,{className:e,...r,children:t}),GZ=(t,e)=>{t=M4(t,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const r=_Z();var n;const{size:i="medium",appearance:o=(n=r.inputDefaultAppearance)!==null&&n!==void 0?n:"outline",onChange:a}=t,[s,l]=Ju({state:t.value,defaultState:t.defaultValue,initialState:""}),u=P4({props:t,primarySlotTagName:"input",excludedPropNames:["size","onChange","value","defaultValue"]}),h={size:i,appearance:o,components:{root:"span",input:"input",contentBefore:"span",contentAfter:"span"},input:Nr(t.input,{defaultProps:{type:"text",ref:e,...u.primary},elementType:"input"}),contentAfter:$r(t.contentAfter,{elementType:"span"}),contentBefore:$r(t.contentBefore,{elementType:"span"}),root:Nr(t.root,{defaultProps:u.root,elementType:"span"})};return h.input.value=s,h.input.onChange=ar(d=>{const p=d.target.value;a==null||a(d,{value:p}),l(p)}),h},Okt=t=>Un(t.root,{children:[t.contentBefore&&ve(t.contentBefore,{}),ve(t.input,{}),t.contentAfter&&ve(t.contentAfter,{})]}),jv={root:"fui-Input",input:"fui-Input__input",contentBefore:"fui-Input__contentBefore",contentAfter:"fui-Input__contentAfter"},Mkt=Zr("r1oeeo9n","r9sxh5",{r:[".r1oeeo9n{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r1oeeo9n::after{box-sizing:border-box;content:"";position:absolute;left:-1px;bottom:-1px;right:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r1oeeo9n:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r1oeeo9n:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r1oeeo9n:focus-within{outline:2px solid transparent;}",".r9sxh5{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r9sxh5::after{box-sizing:border-box;content:"";position:absolute;right:-1px;bottom:-1px;left:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r9sxh5:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r9sxh5:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r9sxh5:focus-within{outline:2px solid transparent;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}"]}),Bkt=Ye({small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{},large:{sshi5w:"f1w5jphr",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},outline:{},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],Drbcw7:"f8vnjqi",udz0bu:["fz1etlk","f1hc16gm"],Be8ivqh:"f1klwx88",ofdepl:["f1hc16gm","fz1etlk"]},underline:{De3pzq:"f1c21dwh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779",icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],wvpqe5:["f1deefiw","f1n71otn"],Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"]},underlineInteractive:{oetu4i:"f1l4zc64",Be8ivqh:"f1klwx88",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"f2ale1x"},filled:{g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},filledInteractive:{q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",E5pizo:"fyed02w"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bsft5z2:"fhr9occ",Bduesf4:"f99w1ws"},smallWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},smallWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},mediumWithContentBefore:{uwmqm3:["f1ng84yb","f11gcy0p"]},mediumWithContentAfter:{z189sj:["f11gcy0p","f1ng84yb"]},largeWithContentBefore:{uwmqm3:["f1uw59to","fw5db7e"]},largeWithContentAfter:{z189sj:["fw5db7e","f1uw59to"]}},{d:[".f1pha7fy{min-height:24px;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1w5jphr{min-height:40px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".fokr779{border-radius:0;}",{p:-1}],".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",[".f2ale1x::after{border-radius:0;}",{p:-1}],".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".fyed02w{box-shadow:var(--shadow2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fhr9occ::after{content:unset;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}"],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}",".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}"],a:[".f8vnjqi:active,.f8vnjqi:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".fz1etlk:active,.fz1etlk:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1hc16gm:active,.f1hc16gm:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1klwx88:active,.f1klwx88:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],w:[".f99w1ws:focus-within{outline-style:none;}"]}),Pkt=Zr("r12stul0",null,[".r12stul0{align-self:stretch;box-sizing:border-box;flex-grow:1;min-width:0;border-style:none;padding:0 var(--spacingHorizontalM);color:var(--colorNeutralForeground1);background-color:transparent;outline-style:none;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;}",".r12stul0::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::placeholder{color:var(--colorNeutralForeground4);opacity:1;}"]),Fkt=Ye({small:{uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},medium:{},large:{uwmqm3:["fnphzt9","flt1dlf"],z189sj:["flt1dlf","fnphzt9"]},smallWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},smallWithContentAfter:{z189sj:["ffczdla","fgiv446"]},mediumWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},mediumWithContentAfter:{z189sj:["ffczdla","fgiv446"]},largeWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},largeWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),zkt=Zr("r1572tok",null,[".r1572tok{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;}",".r1572tok>svg{font-size:20px;}"]),jkt=Ye({disabled:{sj55zd:"f1s2aq7o"},small:{Duoase:"f3qv9w"},medium:{},large:{Duoase:"f16u2scb"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3qv9w>svg{font-size:16px;}",".f16u2scb>svg{font-size:24px;}"]}),WZ=t=>{const{size:e,appearance:r}=t,n=t.input.disabled,i=`${t.input["aria-invalid"]}`=="true",o=r.startsWith("filled"),a=Bkt(),s=Fkt(),l=jkt();t.root.className=Ee(jv.root,Mkt(),a[e],t.contentBefore&&a[`${e}WithContentBefore`],t.contentAfter&&a[`${e}WithContentAfter`],a[r],!n&&r==="outline"&&a.outlineInteractive,!n&&r==="underline"&&a.underlineInteractive,!n&&o&&a.filledInteractive,o&&a.filled,!n&&i&&a.invalid,n&&a.disabled,t.root.className),t.input.className=Ee(jv.input,Pkt(),s[e],t.contentBefore&&s[`${e}WithContentBefore`],t.contentAfter&&s[`${e}WithContentAfter`],n&&s.disabled,t.input.className);const u=[zkt(),n&&l.disabled,l[e]];return t.contentBefore&&(t.contentBefore.className=Ee(jv.contentBefore,...u,t.contentBefore.className)),t.contentAfter&&(t.contentAfter.className=Ee(jv.contentAfter,...u,t.contentAfter.className)),t},G_=Z.forwardRef((t,e)=>{const r=GZ(t,e);return WZ(r),ea("useInputStyles_unstable")(r),Okt(r)});G_.displayName="Input";const j4=Fr({backdrop:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},dialog:{backgroundColor:"#fff",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",width:"100%",maxWidth:"480px",padding:"24px",position:"relative"},header:{fontSize:"20px",fontWeight:600,marginBottom:"16px"},body:{fontSize:"16px",marginBottom:"24px"},footer:{display:"flex",justifyContent:"flex-end",gap:"8px"}}),VZ=({open:t,children:e})=>{const r=j4();return t?bt.jsx("div",{className:r.backdrop,children:bt.jsx("div",{className:r.dialog,children:e})}):null},YZ=({children:t})=>{const e=j4();return bt.jsx("div",{className:e.footer,children:t})},XZ=({children:t})=>{const e=j4();return bt.jsx("div",{className:e.body,children:t})},KZ=({children:t})=>{const e=j4();return bt.jsx("div",{className:e.header,children:t})},Hkt=t=>ve(t.root,{}),Ukt=(t,e)=>{const{bordered:r=!1,fit:n="default",block:i=!1,shape:o="square",shadow:a=!1}=t;return{bordered:r,fit:n,block:i,shape:o,shadow:a,components:{root:"img"},root:Nr(ei("img",{ref:e,...t}),{elementType:"img"})}},qkt={root:"fui-Image"},Gkt=Ye({base:{g2u3we:"fj3muxo",h3c5rm:["f1akhkt","f1lxtadh"],B9xav0g:"f1aperda",zhjwy3:["f1lxtadh","f1akhkt"],Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw",B7ck84d:"f1ewtqcl",mc9l5x:"f14t3ns0"},bordered:{icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],B4j52fo:"f192inf7",Bekrc4i:["f5tn483","f1ojsxk5"],Bn0qgzm:"f1vxd6vx",ibv6hh:["f1ojsxk5","f5tn483"]},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},square:{},shadow:{E5pizo:"f1whvlc6"},center:{st4lth:"f1plgu50",Ermj5k:"f14xojzb",Bqenvij:"f1l02sjl",a9b677:"fly5x3f"},contain:{st4lth:"f1kle4es",Ermj5k:"f14xojzb",Bqenvij:"f1l02sjl",a9b677:"fly5x3f"},default:{},cover:{st4lth:"f1ps3kmd",Ermj5k:"f14xojzb",Bqenvij:"f1l02sjl",a9b677:"fly5x3f"},none:{st4lth:"f1plgu50",Ermj5k:["f13uwng7","fjmyj0p"],Bqenvij:"f1l02sjl",a9b677:"fly5x3f"},block:{a9b677:"fly5x3f"}},{d:[".fj3muxo{border-top-color:var(--colorNeutralStroke1);}",".f1akhkt{border-right-color:var(--colorNeutralStroke1);}",".f1lxtadh{border-left-color:var(--colorNeutralStroke1);}",".f1aperda{border-bottom-color:var(--colorNeutralStroke1);}",[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".f14t3ns0{display:inline-block;}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".f192inf7{border-top-width:var(--strokeWidthThin);}",".f5tn483{border-right-width:var(--strokeWidthThin);}",".f1ojsxk5{border-left-width:var(--strokeWidthThin);}",".f1vxd6vx{border-bottom-width:var(--strokeWidthThin);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1whvlc6{box-shadow:var(--shadow4);}",".f1plgu50{object-fit:none;}",".f14xojzb{object-position:center;}",".f1l02sjl{height:100%;}",".fly5x3f{width:100%;}",".f1kle4es{object-fit:contain;}",".f1ps3kmd{object-fit:cover;}",".f13uwng7{object-position:left top;}",".fjmyj0p{object-position:right top;}"]}),Wkt=t=>{const e=Gkt();return t.root.className=Ee(qkt.root,e.base,t.block&&e.block,t.bordered&&e.bordered,t.shadow&&e.shadow,e[t.fit],e[t.shape],t.root.className),t},Iy=Z.forwardRef((t,e)=>{const r=Ukt(t,e);return Wkt(r),ea("useImageStyles_unstable")(r),Hkt(r)});Iy.displayName="Image";const Vkt=De("DocumentData32Regular","32",["M8 2a3 3 0 0 0-3 3v22a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V10.83a3 3 0 0 0-.88-2.12L20.3 2.88A3 3 0 0 0 18.17 2H8ZM7 5a1 1 0 0 1 1-1h9v5a3 3 0 0 0 3 3h5v15a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V5Zm17.59 5H20a1 1 0 0 1-1-1V4.41L24.59 10ZM12 13a1 1 0 1 0-2 0v12a1 1 0 1 0 2 0V13Zm5 8a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm4-5a1 1 0 0 1 1 1v8a1 1 0 1 1-2 0v-8a1 1 0 0 1 1-1Z"]),kr={colorNeutralForeground1:"var(--colorNeutralForeground1)",colorNeutralForeground1Hover:"var(--colorNeutralForeground1Hover)",colorNeutralForeground1Pressed:"var(--colorNeutralForeground1Pressed)",colorNeutralForeground1Selected:"var(--colorNeutralForeground1Selected)",colorNeutralForeground2:"var(--colorNeutralForeground2)",colorNeutralForeground2Hover:"var(--colorNeutralForeground2Hover)",colorNeutralForeground2Pressed:"var(--colorNeutralForeground2Pressed)",colorNeutralForeground2Selected:"var(--colorNeutralForeground2Selected)",colorNeutralForeground2BrandHover:"var(--colorNeutralForeground2BrandHover)",colorNeutralForeground2BrandPressed:"var(--colorNeutralForeground2BrandPressed)",colorNeutralForeground2BrandSelected:"var(--colorNeutralForeground2BrandSelected)",colorNeutralForeground3:"var(--colorNeutralForeground3)",colorNeutralForeground3Hover:"var(--colorNeutralForeground3Hover)",colorNeutralForeground3Pressed:"var(--colorNeutralForeground3Pressed)",colorNeutralForeground3Selected:"var(--colorNeutralForeground3Selected)",colorNeutralForeground3BrandHover:"var(--colorNeutralForeground3BrandHover)",colorNeutralForeground3BrandPressed:"var(--colorNeutralForeground3BrandPressed)",colorNeutralForeground3BrandSelected:"var(--colorNeutralForeground3BrandSelected)",colorNeutralForeground4:"var(--colorNeutralForeground4)",colorNeutralForegroundDisabled:"var(--colorNeutralForegroundDisabled)",colorBrandForegroundLink:"var(--colorBrandForegroundLink)",colorBrandForegroundLinkHover:"var(--colorBrandForegroundLinkHover)",colorBrandForegroundLinkPressed:"var(--colorBrandForegroundLinkPressed)",colorBrandForegroundLinkSelected:"var(--colorBrandForegroundLinkSelected)",colorNeutralForeground2Link:"var(--colorNeutralForeground2Link)",colorNeutralForeground2LinkHover:"var(--colorNeutralForeground2LinkHover)",colorNeutralForeground2LinkPressed:"var(--colorNeutralForeground2LinkPressed)",colorNeutralForeground2LinkSelected:"var(--colorNeutralForeground2LinkSelected)",colorCompoundBrandForeground1:"var(--colorCompoundBrandForeground1)",colorCompoundBrandForeground1Hover:"var(--colorCompoundBrandForeground1Hover)",colorCompoundBrandForeground1Pressed:"var(--colorCompoundBrandForeground1Pressed)",colorNeutralForegroundOnBrand:"var(--colorNeutralForegroundOnBrand)",colorNeutralForegroundInverted:"var(--colorNeutralForegroundInverted)",colorNeutralForegroundInvertedHover:"var(--colorNeutralForegroundInvertedHover)",colorNeutralForegroundInvertedPressed:"var(--colorNeutralForegroundInvertedPressed)",colorNeutralForegroundInvertedSelected:"var(--colorNeutralForegroundInvertedSelected)",colorNeutralForegroundInverted2:"var(--colorNeutralForegroundInverted2)",colorNeutralForegroundStaticInverted:"var(--colorNeutralForegroundStaticInverted)",colorNeutralForegroundInvertedLink:"var(--colorNeutralForegroundInvertedLink)",colorNeutralForegroundInvertedLinkHover:"var(--colorNeutralForegroundInvertedLinkHover)",colorNeutralForegroundInvertedLinkPressed:"var(--colorNeutralForegroundInvertedLinkPressed)",colorNeutralForegroundInvertedLinkSelected:"var(--colorNeutralForegroundInvertedLinkSelected)",colorNeutralForegroundInvertedDisabled:"var(--colorNeutralForegroundInvertedDisabled)",colorBrandForeground1:"var(--colorBrandForeground1)",colorBrandForeground2:"var(--colorBrandForeground2)",colorBrandForeground2Hover:"var(--colorBrandForeground2Hover)",colorBrandForeground2Pressed:"var(--colorBrandForeground2Pressed)",colorNeutralForeground1Static:"var(--colorNeutralForeground1Static)",colorBrandForegroundInverted:"var(--colorBrandForegroundInverted)",colorBrandForegroundInvertedHover:"var(--colorBrandForegroundInvertedHover)",colorBrandForegroundInvertedPressed:"var(--colorBrandForegroundInvertedPressed)",colorBrandForegroundOnLight:"var(--colorBrandForegroundOnLight)",colorBrandForegroundOnLightHover:"var(--colorBrandForegroundOnLightHover)",colorBrandForegroundOnLightPressed:"var(--colorBrandForegroundOnLightPressed)",colorBrandForegroundOnLightSelected:"var(--colorBrandForegroundOnLightSelected)",colorNeutralBackground1:"var(--colorNeutralBackground1)",colorNeutralBackground1Hover:"var(--colorNeutralBackground1Hover)",colorNeutralBackground1Pressed:"var(--colorNeutralBackground1Pressed)",colorNeutralBackground1Selected:"var(--colorNeutralBackground1Selected)",colorNeutralBackground2:"var(--colorNeutralBackground2)",colorNeutralBackground2Hover:"var(--colorNeutralBackground2Hover)",colorNeutralBackground2Pressed:"var(--colorNeutralBackground2Pressed)",colorNeutralBackground2Selected:"var(--colorNeutralBackground2Selected)",colorNeutralBackground3:"var(--colorNeutralBackground3)",colorNeutralBackground3Hover:"var(--colorNeutralBackground3Hover)",colorNeutralBackground3Pressed:"var(--colorNeutralBackground3Pressed)",colorNeutralBackground3Selected:"var(--colorNeutralBackground3Selected)",colorNeutralBackground4:"var(--colorNeutralBackground4)",colorNeutralBackground4Hover:"var(--colorNeutralBackground4Hover)",colorNeutralBackground4Pressed:"var(--colorNeutralBackground4Pressed)",colorNeutralBackground4Selected:"var(--colorNeutralBackground4Selected)",colorNeutralBackground5:"var(--colorNeutralBackground5)",colorNeutralBackground5Hover:"var(--colorNeutralBackground5Hover)",colorNeutralBackground5Pressed:"var(--colorNeutralBackground5Pressed)",colorNeutralBackground5Selected:"var(--colorNeutralBackground5Selected)",colorNeutralBackground6:"var(--colorNeutralBackground6)",colorNeutralBackgroundInverted:"var(--colorNeutralBackgroundInverted)",colorNeutralBackgroundStatic:"var(--colorNeutralBackgroundStatic)",colorNeutralBackgroundAlpha:"var(--colorNeutralBackgroundAlpha)",colorNeutralBackgroundAlpha2:"var(--colorNeutralBackgroundAlpha2)",colorSubtleBackground:"var(--colorSubtleBackground)",colorSubtleBackgroundHover:"var(--colorSubtleBackgroundHover)",colorSubtleBackgroundPressed:"var(--colorSubtleBackgroundPressed)",colorSubtleBackgroundSelected:"var(--colorSubtleBackgroundSelected)",colorSubtleBackgroundLightAlphaHover:"var(--colorSubtleBackgroundLightAlphaHover)",colorSubtleBackgroundLightAlphaPressed:"var(--colorSubtleBackgroundLightAlphaPressed)",colorSubtleBackgroundLightAlphaSelected:"var(--colorSubtleBackgroundLightAlphaSelected)",colorSubtleBackgroundInverted:"var(--colorSubtleBackgroundInverted)",colorSubtleBackgroundInvertedHover:"var(--colorSubtleBackgroundInvertedHover)",colorSubtleBackgroundInvertedPressed:"var(--colorSubtleBackgroundInvertedPressed)",colorSubtleBackgroundInvertedSelected:"var(--colorSubtleBackgroundInvertedSelected)",colorTransparentBackground:"var(--colorTransparentBackground)",colorTransparentBackgroundHover:"var(--colorTransparentBackgroundHover)",colorTransparentBackgroundPressed:"var(--colorTransparentBackgroundPressed)",colorTransparentBackgroundSelected:"var(--colorTransparentBackgroundSelected)",colorNeutralBackgroundDisabled:"var(--colorNeutralBackgroundDisabled)",colorNeutralBackgroundInvertedDisabled:"var(--colorNeutralBackgroundInvertedDisabled)",colorNeutralStencil1:"var(--colorNeutralStencil1)",colorNeutralStencil2:"var(--colorNeutralStencil2)",colorNeutralStencil1Alpha:"var(--colorNeutralStencil1Alpha)",colorNeutralStencil2Alpha:"var(--colorNeutralStencil2Alpha)",colorBackgroundOverlay:"var(--colorBackgroundOverlay)",colorScrollbarOverlay:"var(--colorScrollbarOverlay)",colorBrandBackground:"var(--colorBrandBackground)",colorBrandBackgroundHover:"var(--colorBrandBackgroundHover)",colorBrandBackgroundPressed:"var(--colorBrandBackgroundPressed)",colorBrandBackgroundSelected:"var(--colorBrandBackgroundSelected)",colorCompoundBrandBackground:"var(--colorCompoundBrandBackground)",colorCompoundBrandBackgroundHover:"var(--colorCompoundBrandBackgroundHover)",colorCompoundBrandBackgroundPressed:"var(--colorCompoundBrandBackgroundPressed)",colorBrandBackgroundStatic:"var(--colorBrandBackgroundStatic)",colorBrandBackground2:"var(--colorBrandBackground2)",colorBrandBackground2Hover:"var(--colorBrandBackground2Hover)",colorBrandBackground2Pressed:"var(--colorBrandBackground2Pressed)",colorBrandBackground3Static:"var(--colorBrandBackground3Static)",colorBrandBackground4Static:"var(--colorBrandBackground4Static)",colorBrandBackgroundInverted:"var(--colorBrandBackgroundInverted)",colorBrandBackgroundInvertedHover:"var(--colorBrandBackgroundInvertedHover)",colorBrandBackgroundInvertedPressed:"var(--colorBrandBackgroundInvertedPressed)",colorBrandBackgroundInvertedSelected:"var(--colorBrandBackgroundInvertedSelected)",colorNeutralCardBackground:"var(--colorNeutralCardBackground)",colorNeutralCardBackgroundHover:"var(--colorNeutralCardBackgroundHover)",colorNeutralCardBackgroundPressed:"var(--colorNeutralCardBackgroundPressed)",colorNeutralCardBackgroundSelected:"var(--colorNeutralCardBackgroundSelected)",colorNeutralCardBackgroundDisabled:"var(--colorNeutralCardBackgroundDisabled)",colorNeutralStrokeAccessible:"var(--colorNeutralStrokeAccessible)",colorNeutralStrokeAccessibleHover:"var(--colorNeutralStrokeAccessibleHover)",colorNeutralStrokeAccessiblePressed:"var(--colorNeutralStrokeAccessiblePressed)",colorNeutralStrokeAccessibleSelected:"var(--colorNeutralStrokeAccessibleSelected)",colorNeutralStroke1:"var(--colorNeutralStroke1)",colorNeutralStroke1Hover:"var(--colorNeutralStroke1Hover)",colorNeutralStroke1Pressed:"var(--colorNeutralStroke1Pressed)",colorNeutralStroke1Selected:"var(--colorNeutralStroke1Selected)",colorNeutralStroke2:"var(--colorNeutralStroke2)",colorNeutralStroke3:"var(--colorNeutralStroke3)",colorNeutralStrokeSubtle:"var(--colorNeutralStrokeSubtle)",colorNeutralStrokeOnBrand:"var(--colorNeutralStrokeOnBrand)",colorNeutralStrokeOnBrand2:"var(--colorNeutralStrokeOnBrand2)",colorNeutralStrokeOnBrand2Hover:"var(--colorNeutralStrokeOnBrand2Hover)",colorNeutralStrokeOnBrand2Pressed:"var(--colorNeutralStrokeOnBrand2Pressed)",colorNeutralStrokeOnBrand2Selected:"var(--colorNeutralStrokeOnBrand2Selected)",colorBrandStroke1:"var(--colorBrandStroke1)",colorBrandStroke2:"var(--colorBrandStroke2)",colorBrandStroke2Hover:"var(--colorBrandStroke2Hover)",colorBrandStroke2Pressed:"var(--colorBrandStroke2Pressed)",colorBrandStroke2Contrast:"var(--colorBrandStroke2Contrast)",colorCompoundBrandStroke:"var(--colorCompoundBrandStroke)",colorCompoundBrandStrokeHover:"var(--colorCompoundBrandStrokeHover)",colorCompoundBrandStrokePressed:"var(--colorCompoundBrandStrokePressed)",colorNeutralStrokeDisabled:"var(--colorNeutralStrokeDisabled)",colorNeutralStrokeInvertedDisabled:"var(--colorNeutralStrokeInvertedDisabled)",colorTransparentStroke:"var(--colorTransparentStroke)",colorTransparentStrokeInteractive:"var(--colorTransparentStrokeInteractive)",colorTransparentStrokeDisabled:"var(--colorTransparentStrokeDisabled)",colorNeutralStrokeAlpha:"var(--colorNeutralStrokeAlpha)",colorNeutralStrokeAlpha2:"var(--colorNeutralStrokeAlpha2)",colorStrokeFocus1:"var(--colorStrokeFocus1)",colorStrokeFocus2:"var(--colorStrokeFocus2)",colorNeutralShadowAmbient:"var(--colorNeutralShadowAmbient)",colorNeutralShadowKey:"var(--colorNeutralShadowKey)",colorNeutralShadowAmbientLighter:"var(--colorNeutralShadowAmbientLighter)",colorNeutralShadowKeyLighter:"var(--colorNeutralShadowKeyLighter)",colorNeutralShadowAmbientDarker:"var(--colorNeutralShadowAmbientDarker)",colorNeutralShadowKeyDarker:"var(--colorNeutralShadowKeyDarker)",colorBrandShadowAmbient:"var(--colorBrandShadowAmbient)",colorBrandShadowKey:"var(--colorBrandShadowKey)",colorPaletteRedBackground1:"var(--colorPaletteRedBackground1)",colorPaletteRedBackground2:"var(--colorPaletteRedBackground2)",colorPaletteRedBackground3:"var(--colorPaletteRedBackground3)",colorPaletteRedBorderActive:"var(--colorPaletteRedBorderActive)",colorPaletteRedBorder1:"var(--colorPaletteRedBorder1)",colorPaletteRedBorder2:"var(--colorPaletteRedBorder2)",colorPaletteRedForeground1:"var(--colorPaletteRedForeground1)",colorPaletteRedForeground2:"var(--colorPaletteRedForeground2)",colorPaletteRedForeground3:"var(--colorPaletteRedForeground3)",colorPaletteRedForegroundInverted:"var(--colorPaletteRedForegroundInverted)",colorPaletteGreenBackground1:"var(--colorPaletteGreenBackground1)",colorPaletteGreenBackground2:"var(--colorPaletteGreenBackground2)",colorPaletteGreenBackground3:"var(--colorPaletteGreenBackground3)",colorPaletteGreenBorderActive:"var(--colorPaletteGreenBorderActive)",colorPaletteGreenBorder1:"var(--colorPaletteGreenBorder1)",colorPaletteGreenBorder2:"var(--colorPaletteGreenBorder2)",colorPaletteGreenForeground1:"var(--colorPaletteGreenForeground1)",colorPaletteGreenForeground2:"var(--colorPaletteGreenForeground2)",colorPaletteGreenForeground3:"var(--colorPaletteGreenForeground3)",colorPaletteGreenForegroundInverted:"var(--colorPaletteGreenForegroundInverted)",colorPaletteDarkOrangeBackground1:"var(--colorPaletteDarkOrangeBackground1)",colorPaletteDarkOrangeBackground2:"var(--colorPaletteDarkOrangeBackground2)",colorPaletteDarkOrangeBackground3:"var(--colorPaletteDarkOrangeBackground3)",colorPaletteDarkOrangeBorderActive:"var(--colorPaletteDarkOrangeBorderActive)",colorPaletteDarkOrangeBorder1:"var(--colorPaletteDarkOrangeBorder1)",colorPaletteDarkOrangeBorder2:"var(--colorPaletteDarkOrangeBorder2)",colorPaletteDarkOrangeForeground1:"var(--colorPaletteDarkOrangeForeground1)",colorPaletteDarkOrangeForeground2:"var(--colorPaletteDarkOrangeForeground2)",colorPaletteDarkOrangeForeground3:"var(--colorPaletteDarkOrangeForeground3)",colorPaletteYellowBackground1:"var(--colorPaletteYellowBackground1)",colorPaletteYellowBackground2:"var(--colorPaletteYellowBackground2)",colorPaletteYellowBackground3:"var(--colorPaletteYellowBackground3)",colorPaletteYellowBorderActive:"var(--colorPaletteYellowBorderActive)",colorPaletteYellowBorder1:"var(--colorPaletteYellowBorder1)",colorPaletteYellowBorder2:"var(--colorPaletteYellowBorder2)",colorPaletteYellowForeground1:"var(--colorPaletteYellowForeground1)",colorPaletteYellowForeground2:"var(--colorPaletteYellowForeground2)",colorPaletteYellowForeground3:"var(--colorPaletteYellowForeground3)",colorPaletteYellowForegroundInverted:"var(--colorPaletteYellowForegroundInverted)",colorPaletteBerryBackground1:"var(--colorPaletteBerryBackground1)",colorPaletteBerryBackground2:"var(--colorPaletteBerryBackground2)",colorPaletteBerryBackground3:"var(--colorPaletteBerryBackground3)",colorPaletteBerryBorderActive:"var(--colorPaletteBerryBorderActive)",colorPaletteBerryBorder1:"var(--colorPaletteBerryBorder1)",colorPaletteBerryBorder2:"var(--colorPaletteBerryBorder2)",colorPaletteBerryForeground1:"var(--colorPaletteBerryForeground1)",colorPaletteBerryForeground2:"var(--colorPaletteBerryForeground2)",colorPaletteBerryForeground3:"var(--colorPaletteBerryForeground3)",colorPaletteMarigoldBackground1:"var(--colorPaletteMarigoldBackground1)",colorPaletteMarigoldBackground2:"var(--colorPaletteMarigoldBackground2)",colorPaletteMarigoldBackground3:"var(--colorPaletteMarigoldBackground3)",colorPaletteMarigoldBorderActive:"var(--colorPaletteMarigoldBorderActive)",colorPaletteMarigoldBorder1:"var(--colorPaletteMarigoldBorder1)",colorPaletteMarigoldBorder2:"var(--colorPaletteMarigoldBorder2)",colorPaletteMarigoldForeground1:"var(--colorPaletteMarigoldForeground1)",colorPaletteMarigoldForeground2:"var(--colorPaletteMarigoldForeground2)",colorPaletteMarigoldForeground3:"var(--colorPaletteMarigoldForeground3)",colorPaletteLightGreenBackground1:"var(--colorPaletteLightGreenBackground1)",colorPaletteLightGreenBackground2:"var(--colorPaletteLightGreenBackground2)",colorPaletteLightGreenBackground3:"var(--colorPaletteLightGreenBackground3)",colorPaletteLightGreenBorderActive:"var(--colorPaletteLightGreenBorderActive)",colorPaletteLightGreenBorder1:"var(--colorPaletteLightGreenBorder1)",colorPaletteLightGreenBorder2:"var(--colorPaletteLightGreenBorder2)",colorPaletteLightGreenForeground1:"var(--colorPaletteLightGreenForeground1)",colorPaletteLightGreenForeground2:"var(--colorPaletteLightGreenForeground2)",colorPaletteLightGreenForeground3:"var(--colorPaletteLightGreenForeground3)",colorPaletteAnchorBackground2:"var(--colorPaletteAnchorBackground2)",colorPaletteAnchorBorderActive:"var(--colorPaletteAnchorBorderActive)",colorPaletteAnchorForeground2:"var(--colorPaletteAnchorForeground2)",colorPaletteBeigeBackground2:"var(--colorPaletteBeigeBackground2)",colorPaletteBeigeBorderActive:"var(--colorPaletteBeigeBorderActive)",colorPaletteBeigeForeground2:"var(--colorPaletteBeigeForeground2)",colorPaletteBlueBackground2:"var(--colorPaletteBlueBackground2)",colorPaletteBlueBorderActive:"var(--colorPaletteBlueBorderActive)",colorPaletteBlueForeground2:"var(--colorPaletteBlueForeground2)",colorPaletteBrassBackground2:"var(--colorPaletteBrassBackground2)",colorPaletteBrassBorderActive:"var(--colorPaletteBrassBorderActive)",colorPaletteBrassForeground2:"var(--colorPaletteBrassForeground2)",colorPaletteBrownBackground2:"var(--colorPaletteBrownBackground2)",colorPaletteBrownBorderActive:"var(--colorPaletteBrownBorderActive)",colorPaletteBrownForeground2:"var(--colorPaletteBrownForeground2)",colorPaletteCornflowerBackground2:"var(--colorPaletteCornflowerBackground2)",colorPaletteCornflowerBorderActive:"var(--colorPaletteCornflowerBorderActive)",colorPaletteCornflowerForeground2:"var(--colorPaletteCornflowerForeground2)",colorPaletteCranberryBackground2:"var(--colorPaletteCranberryBackground2)",colorPaletteCranberryBorderActive:"var(--colorPaletteCranberryBorderActive)",colorPaletteCranberryForeground2:"var(--colorPaletteCranberryForeground2)",colorPaletteDarkGreenBackground2:"var(--colorPaletteDarkGreenBackground2)",colorPaletteDarkGreenBorderActive:"var(--colorPaletteDarkGreenBorderActive)",colorPaletteDarkGreenForeground2:"var(--colorPaletteDarkGreenForeground2)",colorPaletteDarkRedBackground2:"var(--colorPaletteDarkRedBackground2)",colorPaletteDarkRedBorderActive:"var(--colorPaletteDarkRedBorderActive)",colorPaletteDarkRedForeground2:"var(--colorPaletteDarkRedForeground2)",colorPaletteForestBackground2:"var(--colorPaletteForestBackground2)",colorPaletteForestBorderActive:"var(--colorPaletteForestBorderActive)",colorPaletteForestForeground2:"var(--colorPaletteForestForeground2)",colorPaletteGoldBackground2:"var(--colorPaletteGoldBackground2)",colorPaletteGoldBorderActive:"var(--colorPaletteGoldBorderActive)",colorPaletteGoldForeground2:"var(--colorPaletteGoldForeground2)",colorPaletteGrapeBackground2:"var(--colorPaletteGrapeBackground2)",colorPaletteGrapeBorderActive:"var(--colorPaletteGrapeBorderActive)",colorPaletteGrapeForeground2:"var(--colorPaletteGrapeForeground2)",colorPaletteLavenderBackground2:"var(--colorPaletteLavenderBackground2)",colorPaletteLavenderBorderActive:"var(--colorPaletteLavenderBorderActive)",colorPaletteLavenderForeground2:"var(--colorPaletteLavenderForeground2)",colorPaletteLightTealBackground2:"var(--colorPaletteLightTealBackground2)",colorPaletteLightTealBorderActive:"var(--colorPaletteLightTealBorderActive)",colorPaletteLightTealForeground2:"var(--colorPaletteLightTealForeground2)",colorPaletteLilacBackground2:"var(--colorPaletteLilacBackground2)",colorPaletteLilacBorderActive:"var(--colorPaletteLilacBorderActive)",colorPaletteLilacForeground2:"var(--colorPaletteLilacForeground2)",colorPaletteMagentaBackground2:"var(--colorPaletteMagentaBackground2)",colorPaletteMagentaBorderActive:"var(--colorPaletteMagentaBorderActive)",colorPaletteMagentaForeground2:"var(--colorPaletteMagentaForeground2)",colorPaletteMinkBackground2:"var(--colorPaletteMinkBackground2)",colorPaletteMinkBorderActive:"var(--colorPaletteMinkBorderActive)",colorPaletteMinkForeground2:"var(--colorPaletteMinkForeground2)",colorPaletteNavyBackground2:"var(--colorPaletteNavyBackground2)",colorPaletteNavyBorderActive:"var(--colorPaletteNavyBorderActive)",colorPaletteNavyForeground2:"var(--colorPaletteNavyForeground2)",colorPalettePeachBackground2:"var(--colorPalettePeachBackground2)",colorPalettePeachBorderActive:"var(--colorPalettePeachBorderActive)",colorPalettePeachForeground2:"var(--colorPalettePeachForeground2)",colorPalettePinkBackground2:"var(--colorPalettePinkBackground2)",colorPalettePinkBorderActive:"var(--colorPalettePinkBorderActive)",colorPalettePinkForeground2:"var(--colorPalettePinkForeground2)",colorPalettePlatinumBackground2:"var(--colorPalettePlatinumBackground2)",colorPalettePlatinumBorderActive:"var(--colorPalettePlatinumBorderActive)",colorPalettePlatinumForeground2:"var(--colorPalettePlatinumForeground2)",colorPalettePlumBackground2:"var(--colorPalettePlumBackground2)",colorPalettePlumBorderActive:"var(--colorPalettePlumBorderActive)",colorPalettePlumForeground2:"var(--colorPalettePlumForeground2)",colorPalettePumpkinBackground2:"var(--colorPalettePumpkinBackground2)",colorPalettePumpkinBorderActive:"var(--colorPalettePumpkinBorderActive)",colorPalettePumpkinForeground2:"var(--colorPalettePumpkinForeground2)",colorPalettePurpleBackground2:"var(--colorPalettePurpleBackground2)",colorPalettePurpleBorderActive:"var(--colorPalettePurpleBorderActive)",colorPalettePurpleForeground2:"var(--colorPalettePurpleForeground2)",colorPaletteRoyalBlueBackground2:"var(--colorPaletteRoyalBlueBackground2)",colorPaletteRoyalBlueBorderActive:"var(--colorPaletteRoyalBlueBorderActive)",colorPaletteRoyalBlueForeground2:"var(--colorPaletteRoyalBlueForeground2)",colorPaletteSeafoamBackground2:"var(--colorPaletteSeafoamBackground2)",colorPaletteSeafoamBorderActive:"var(--colorPaletteSeafoamBorderActive)",colorPaletteSeafoamForeground2:"var(--colorPaletteSeafoamForeground2)",colorPaletteSteelBackground2:"var(--colorPaletteSteelBackground2)",colorPaletteSteelBorderActive:"var(--colorPaletteSteelBorderActive)",colorPaletteSteelForeground2:"var(--colorPaletteSteelForeground2)",colorPaletteTealBackground2:"var(--colorPaletteTealBackground2)",colorPaletteTealBorderActive:"var(--colorPaletteTealBorderActive)",colorPaletteTealForeground2:"var(--colorPaletteTealForeground2)",colorStatusSuccessBackground1:"var(--colorStatusSuccessBackground1)",colorStatusSuccessBackground2:"var(--colorStatusSuccessBackground2)",colorStatusSuccessBackground3:"var(--colorStatusSuccessBackground3)",colorStatusSuccessForeground1:"var(--colorStatusSuccessForeground1)",colorStatusSuccessForeground2:"var(--colorStatusSuccessForeground2)",colorStatusSuccessForeground3:"var(--colorStatusSuccessForeground3)",colorStatusSuccessForegroundInverted:"var(--colorStatusSuccessForegroundInverted)",colorStatusSuccessBorderActive:"var(--colorStatusSuccessBorderActive)",colorStatusSuccessBorder1:"var(--colorStatusSuccessBorder1)",colorStatusSuccessBorder2:"var(--colorStatusSuccessBorder2)",colorStatusWarningBackground1:"var(--colorStatusWarningBackground1)",colorStatusWarningBackground2:"var(--colorStatusWarningBackground2)",colorStatusWarningBackground3:"var(--colorStatusWarningBackground3)",colorStatusWarningForeground1:"var(--colorStatusWarningForeground1)",colorStatusWarningForeground2:"var(--colorStatusWarningForeground2)",colorStatusWarningForeground3:"var(--colorStatusWarningForeground3)",colorStatusWarningForegroundInverted:"var(--colorStatusWarningForegroundInverted)",colorStatusWarningBorderActive:"var(--colorStatusWarningBorderActive)",colorStatusWarningBorder1:"var(--colorStatusWarningBorder1)",colorStatusWarningBorder2:"var(--colorStatusWarningBorder2)",colorStatusDangerBackground1:"var(--colorStatusDangerBackground1)",colorStatusDangerBackground2:"var(--colorStatusDangerBackground2)",colorStatusDangerBackground3:"var(--colorStatusDangerBackground3)",colorStatusDangerBackground3Hover:"var(--colorStatusDangerBackground3Hover)",colorStatusDangerBackground3Pressed:"var(--colorStatusDangerBackground3Pressed)",colorStatusDangerForeground1:"var(--colorStatusDangerForeground1)",colorStatusDangerForeground2:"var(--colorStatusDangerForeground2)",colorStatusDangerForeground3:"var(--colorStatusDangerForeground3)",colorStatusDangerForegroundInverted:"var(--colorStatusDangerForegroundInverted)",colorStatusDangerBorderActive:"var(--colorStatusDangerBorderActive)",colorStatusDangerBorder1:"var(--colorStatusDangerBorder1)",colorStatusDangerBorder2:"var(--colorStatusDangerBorder2)",borderRadiusNone:"var(--borderRadiusNone)",borderRadiusSmall:"var(--borderRadiusSmall)",borderRadiusMedium:"var(--borderRadiusMedium)",borderRadiusLarge:"var(--borderRadiusLarge)",borderRadiusXLarge:"var(--borderRadiusXLarge)",borderRadiusCircular:"var(--borderRadiusCircular)",fontFamilyBase:"var(--fontFamilyBase)",fontFamilyMonospace:"var(--fontFamilyMonospace)",fontFamilyNumeric:"var(--fontFamilyNumeric)",fontSizeBase100:"var(--fontSizeBase100)",fontSizeBase200:"var(--fontSizeBase200)",fontSizeBase300:"var(--fontSizeBase300)",fontSizeBase400:"var(--fontSizeBase400)",fontSizeBase500:"var(--fontSizeBase500)",fontSizeBase600:"var(--fontSizeBase600)",fontSizeHero700:"var(--fontSizeHero700)",fontSizeHero800:"var(--fontSizeHero800)",fontSizeHero900:"var(--fontSizeHero900)",fontSizeHero1000:"var(--fontSizeHero1000)",fontWeightRegular:"var(--fontWeightRegular)",fontWeightMedium:"var(--fontWeightMedium)",fontWeightSemibold:"var(--fontWeightSemibold)",fontWeightBold:"var(--fontWeightBold)",lineHeightBase100:"var(--lineHeightBase100)",lineHeightBase200:"var(--lineHeightBase200)",lineHeightBase300:"var(--lineHeightBase300)",lineHeightBase400:"var(--lineHeightBase400)",lineHeightBase500:"var(--lineHeightBase500)",lineHeightBase600:"var(--lineHeightBase600)",lineHeightHero700:"var(--lineHeightHero700)",lineHeightHero800:"var(--lineHeightHero800)",lineHeightHero900:"var(--lineHeightHero900)",lineHeightHero1000:"var(--lineHeightHero1000)",shadow2:"var(--shadow2)",shadow4:"var(--shadow4)",shadow8:"var(--shadow8)",shadow16:"var(--shadow16)",shadow28:"var(--shadow28)",shadow64:"var(--shadow64)",shadow2Brand:"var(--shadow2Brand)",shadow4Brand:"var(--shadow4Brand)",shadow8Brand:"var(--shadow8Brand)",shadow16Brand:"var(--shadow16Brand)",shadow28Brand:"var(--shadow28Brand)",shadow64Brand:"var(--shadow64Brand)",strokeWidthThin:"var(--strokeWidthThin)",strokeWidthThick:"var(--strokeWidthThick)",strokeWidthThicker:"var(--strokeWidthThicker)",strokeWidthThickest:"var(--strokeWidthThickest)",spacingHorizontalNone:"var(--spacingHorizontalNone)",spacingHorizontalXXS:"var(--spacingHorizontalXXS)",spacingHorizontalXS:"var(--spacingHorizontalXS)",spacingHorizontalSNudge:"var(--spacingHorizontalSNudge)",spacingHorizontalS:"var(--spacingHorizontalS)",spacingHorizontalMNudge:"var(--spacingHorizontalMNudge)",spacingHorizontalM:"var(--spacingHorizontalM)",spacingHorizontalL:"var(--spacingHorizontalL)",spacingHorizontalXL:"var(--spacingHorizontalXL)",spacingHorizontalXXL:"var(--spacingHorizontalXXL)",spacingHorizontalXXXL:"var(--spacingHorizontalXXXL)",spacingVerticalNone:"var(--spacingVerticalNone)",spacingVerticalXXS:"var(--spacingVerticalXXS)",spacingVerticalXS:"var(--spacingVerticalXS)",spacingVerticalSNudge:"var(--spacingVerticalSNudge)",spacingVerticalS:"var(--spacingVerticalS)",spacingVerticalMNudge:"var(--spacingVerticalMNudge)",spacingVerticalM:"var(--spacingVerticalM)",spacingVerticalL:"var(--spacingVerticalL)",spacingVerticalXL:"var(--spacingVerticalXL)",spacingVerticalXXL:"var(--spacingVerticalXXL)",spacingVerticalXXXL:"var(--spacingVerticalXXXL)",durationUltraFast:"var(--durationUltraFast)",durationFaster:"var(--durationFaster)",durationFast:"var(--durationFast)",durationNormal:"var(--durationNormal)",durationGentle:"var(--durationGentle)",durationSlow:"var(--durationSlow)",durationSlower:"var(--durationSlower)",durationUltraSlow:"var(--durationUltraSlow)",curveAccelerateMax:"var(--curveAccelerateMax)",curveAccelerateMid:"var(--curveAccelerateMid)",curveAccelerateMin:"var(--curveAccelerateMin)",curveDecelerateMax:"var(--curveDecelerateMax)",curveDecelerateMid:"var(--curveDecelerateMid)",curveDecelerateMin:"var(--curveDecelerateMin)",curveEasyEaseMax:"var(--curveEasyEaseMax)",curveEasyEase:"var(--curveEasyEase)",curveLinear:"var(--curveLinear)",zIndexBackground:"var(--zIndexBackground, 0)",zIndexContent:"var(--zIndexContent, 1)",zIndexOverlay:"var(--zIndexOverlay, 1000)",zIndexPopup:"var(--zIndexPopup, 2000)",zIndexMessages:"var(--zIndexMessages, 3000)",zIndexFloating:"var(--zIndexFloating, 4000)",zIndexPriority:"var(--zIndexPriority, 5000)",zIndexDebug:"var(--zIndexDebug, 6000)"},Ykt=Fr({thumbnail:{width:"64px",height:"64px",borderRadius:kr.borderRadiusMedium,backgroundColor:kr.colorNeutralBackground2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",flexShrink:0,flexGrow:0,margin:"4px","&:hover":{backgroundColor:kr.colorNeutralBackground2Hover}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"},fileName:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.6)",color:kr.colorNeutralForegroundInverted,padding:"4px",fontSize:kr.fontSizeBase200,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit"},fileIcon:{fontSize:"32px",color:kr.colorNeutralForeground2},deleteButton:{position:"absolute",top:"4px",right:"4px",minWidth:"20px",height:"20px",padding:"2px",backgroundColor:kr.colorNeutralBackground1,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,"&:hover":{backgroundColor:kr.colorNeutralBackground1Hover}}}),r7=({file:t,getImageUrl:e,onClick:r,onDelete:n,thumbnailSize:i})=>{const o=Ykt();return bt.jsxs("div",{className:o.thumbnail,onClick:r,title:t.filename,children:[n&&bt.jsx(Nl,{className:o.deleteButton,icon:bt.jsx(Ny,{}),appearance:"subtle",size:"small",onClick:a=>{a.stopPropagation(),n==null||n()},title:"Ta bort"}),t.contentType.startsWith("image")?bt.jsx(Iy,{className:o.image,src:`${e(t.id,i||200)}&width=${i}`,alt:t.filename}):bt.jsx(Vkt,{className:o.fileIcon}),bt.jsx("div",{className:o.fileName,children:t.filename})]})};function W_(t,e){const[r,n]=Z.useState(()=>{const i=localStorage.getItem(t);return i?JSON.parse(i):e});return[r,Z.useCallback(i=>{n(o=>{const a=i instanceof Function?i(o):i;return localStorage.setItem(t,JSON.stringify(a)),a})},[t])]}function ZZ(t){return function(e){const[r,n]=Z.useState(null);return Z.useEffect(()=>{(async function(){if("wakeLock"in navigator)try{const i=await navigator.wakeLock.request("screen");n(i),console.log("Wake Lock acquired!")}catch(i){console.error(`Error acquiring wake lock: ${i}`)}else console.error("Wake Lock API not supported!")})()},[]),Z.useEffect(()=>()=>{r&&r.release().then(()=>{console.log("Wake Lock released!")}).catch(i=>{console.error("Error releasing wake lock:",i)})},[r]),bt.jsx(t,{...e})}}const Xkt=()=>typeof navigator<"u"&&/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),SJt=async()=>typeof navigator>"u"?null:new Promise((t,e)=>{navigator.geolocation.getCurrentPosition(t,e)}),Kkt=["Top","Right","Bottom","Left"];function Ly(t,e,...r){const[n,i=n,o=n,a=i]=r,s=[n,i,o,a],l={};for(let u=0;u<s.length;u+=1)(s[u]||s[u]===0)&&(l[t+Kkt[u]+e]=s[u]);return l}function V_(...t){return Ly("border","Width",...t)}function Y_(...t){return Ly("border","Style",...t)}function X_(...t){return Ly("border","Color",...t)}const Zkt=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Ry(t){return Zkt.includes(t)}function Qkt(...t){return Ry(t[0])?Object.assign({},Y_(t[0]),t[1]&&V_(t[1]),t[2]&&X_(t[2])):Object.assign({},V_(t[0]),t[1]&&Y_(t[1]),t[2]&&X_(t[2]))}function Jkt(...t){return Ry(t[0])?Object.assign({borderLeftStyle:t[0]},t[1]&&{borderLeftWidth:t[1]},t[2]&&{borderLeftColor:t[2]}):Object.assign({borderLeftWidth:t[0]},t[1]&&{borderLeftStyle:t[1]},t[2]&&{borderLeftColor:t[2]})}function tTt(...t){return Ry(t[0])?Object.assign({borderBottomStyle:t[0]},t[1]&&{borderBottomWidth:t[1]},t[2]&&{borderBottomColor:t[2]}):Object.assign({borderBottomWidth:t[0]},t[1]&&{borderBottomStyle:t[1]},t[2]&&{borderBottomColor:t[2]})}function eTt(...t){return Ry(t[0])?Object.assign({borderRightStyle:t[0]},t[1]&&{borderRightWidth:t[1]},t[2]&&{borderRightColor:t[2]}):Object.assign({borderRightWidth:t[0]},t[1]&&{borderRightStyle:t[1]},t[2]&&{borderRightColor:t[2]})}function rTt(...t){return Ry(t[0])?Object.assign({borderTopStyle:t[0]},t[1]&&{borderTopWidth:t[1]},t[2]&&{borderTopColor:t[2]}):Object.assign({borderTopWidth:t[0]},t[1]&&{borderTopStyle:t[1]},t[2]&&{borderTopColor:t[2]})}function nTt(t,e=t,r=t,n=e){return{borderBottomRightRadius:r,borderBottomLeftRadius:n,borderTopRightRadius:e,borderTopLeftRadius:t}}const Hv=t=>typeof t=="number"&&!Number.isNaN(t),vR=t=>t==="auto",iTt=["content","fit-content","max-content","min-content"],Zw=t=>iTt.some(e=>t===e)||(e=>typeof e=="string"&&/(\d+(\w+|%))/.test(e))(t);function oTt(...t){const e=t.length===1,r=t.length===2,n=t.length===3;if(e){const[i]=t;if(i==="initial")return{flexGrow:0,flexShrink:1,flexBasis:"auto"};if(vR(i))return{flexGrow:1,flexShrink:1,flexBasis:"auto"};if((o=>o==="none")(i))return{flexGrow:0,flexShrink:0,flexBasis:"auto"};if(Hv(i))return{flexGrow:i,flexShrink:1,flexBasis:0};if(Zw(i))return{flexGrow:1,flexShrink:1,flexBasis:i}}if(r){const[i,o]=t;if(Hv(o))return{flexGrow:i,flexShrink:o,flexBasis:0};if(Zw(o))return{flexGrow:i,flexShrink:1,flexBasis:o}}if(n){const[i,o,a]=t;if(Hv(i)&&Hv(o)&&(vR(a)||Zw(a)))return{flexGrow:i,flexShrink:o,flexBasis:a}}return{}}function aTt(t,e=t){return{columnGap:t,rowGap:e}}const sTt=/var\(.*\)/gi,lTt=/^[a-zA-Z0-9\-_\\#;]+$/,cTt=/^-moz-initial$|^auto$|^initial$|^inherit$|^revert$|^unset$|^span \d+$|^\d.*/;function Qw(t){return t!==void 0&&typeof t=="string"&&lTt.test(t)&&!cTt.test(t)}function uTt(...t){if(t.some(n=>!function(i){return i===void 0||typeof i=="number"||typeof i=="string"&&!sTt.test(i)}(n)))return{};const e=t[0]!==void 0?t[0]:"auto",r=t[1]!==void 0?t[1]:Qw(e)?e:"auto";return{gridRowStart:e,gridColumnStart:r,gridRowEnd:t[2]!==void 0?t[2]:Qw(e)?e:"auto",gridColumnEnd:t[3]!==void 0?t[3]:Qw(r)?r:"auto"}}function hTt(...t){return Ly("margin","",...t)}function dTt(t,e=t){return{marginBlockStart:t,marginBlockEnd:e}}function pTt(t,e=t){return{marginInlineStart:t,marginInlineEnd:e}}function fTt(...t){return Ly("padding","",...t)}function gTt(t,e=t){return{paddingBlockStart:t,paddingBlockEnd:e}}function mTt(t,e=t){return{paddingInlineStart:t,paddingInlineEnd:e}}function yTt(t,e=t){return{overflowX:t,overflowY:e}}function vTt(...t){const[e,r=e,n=e,i=r]=t;return{top:e,right:r,bottom:n,left:i}}function bTt(t,e,r){return Object.assign({outlineWidth:t},e&&{outlineStyle:e},r&&{outlineColor:r})}function xTt(...t){return function(e){return e.length===1&&wTt.includes(e[0])}(t)?{transitionDelay:t[0],transitionDuration:t[0],transitionProperty:t[0],transitionTimingFunction:t[0]}:function(e){return e.length===1&&Array.isArray(e[0])?e[0]:[e]}(t).reduce((e,[r,n="0s",i="0s",o="ease"],a)=>(a===0?(e.transitionProperty=r,e.transitionDuration=n,e.transitionDelay=i,e.transitionTimingFunction=o):(e.transitionProperty+=`, ${r}`,e.transitionDuration+=`, ${n}`,e.transitionDelay+=`, ${i}`,e.transitionTimingFunction+=`, ${o}`),e),{})}const wTt=["-moz-initial","inherit","initial","revert","unset"];function kTt(t,...e){if(e.length===0)return function(o){return TTt.includes(o)}(t)?{textDecorationStyle:t}:{textDecorationLine:t};const[r,n,i]=e;return Object.assign({textDecorationLine:t},r&&{textDecorationStyle:r},n&&{textDecorationColor:n},i&&{textDecorationThickness:i})}const TTt=["dashed","dotted","double","solid","wavy"],Hi={border:Qkt,borderLeft:Jkt,borderBottom:tTt,borderRight:eTt,borderTop:rTt,borderColor:X_,borderStyle:Y_,borderRadius:nTt,borderWidth:V_,flex:oTt,gap:aTt,gridArea:uTt,margin:hTt,marginBlock:dTt,marginInline:pTt,padding:fTt,paddingBlock:gTt,paddingInline:mTt,overflow:yTt,inset:vTt,outline:bTt,transition:xTt,textDecoration:kTt},ETt=Fr({container:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",height:"100%",...Hi.padding("20px"),gap:"0.5rem"}}),AJt=({children:t})=>{const e=ETt();return bt.jsx("div",{className:e.container,children:t})},_Tt=De("Dismiss24Regular","24",["m4.4 4.55.07-.08a.75.75 0 0 1 .98-.07l.08.07L12 10.94l6.47-6.47a.75.75 0 1 1 1.06 1.06L13.06 12l6.47 6.47c.27.27.3.68.07.98l-.07.08a.75.75 0 0 1-.98.07l-.08-.07L12 13.06l-6.47 6.47a.75.75 0 0 1-1.06-1.06L10.94 12 4.47 5.53a.75.75 0 0 1-.07-.98l.07-.08-.07.08Z"]),STt=Fr({image:{zIndex:900,transition:"transform 0.1s ease-out",cursor:"grab","&:active":{cursor:"grabbing"}},transparent:{color:"transparent",backgroundColor:"transparent"},next:{cursor:"pointer",position:"absolute",top:"50%",width:"auto",marginTop:"-22px",padding:"16px",color:"white",fontWeight:"bold",fontSize:"18px",transition:"0.6s ease",userSelect:"none",right:0,borderRadius:"3px 0 0 3px",zIndex:1e3,backgroundColor:"#A0A0A080","&:hover":{backgroundColor:"#A0A0A0"}},prev:{cursor:"pointer",position:"absolute",top:"50%",width:"auto",marginTop:"-22px",padding:"16px",color:"white",fontWeight:"bold",fontSize:"18px",transition:"0.6s ease",borderRadius:"0 3px 3px 0",userSelect:"none",left:0,zIndex:1e3,backgroundColor:"#A0A0A080","&:hover":{backgroundColor:"#A0A0A0"}},content:{position:"fixed",top:0,left:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center"},closeButton:{position:"absolute",top:"10px",right:"10px",zIndex:1001,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}}}),CJt=({state:t})=>{const e=STt(),[r]=mct(),n=vU(),[i,o]=Z.useState([]),[a,s]=Z.useState(0),[l,u]=Z.useState(),[h,d]=Z.useState(null),[p,f]=Z.useState(null),{service:g}=t,[m,y]=Z.useState(1),[v,x]=Z.useState({x:0,y:0}),[b,k]=Z.useState(!1),[N,_]=Z.useState({x:0,y:0});Z.useEffect(()=>{const T=E=>{E.key==="Escape"&&n(-1)},A=E=>{d(E.touches[0].clientX)},C=E=>{f(E.touches[0].clientX)},D=()=>{if(h!==null&&p!==null){const E=h-p;E>50?S(1):E<-50&&S(-1)}d(null),f(null)};return window.addEventListener("keydown",T),window.addEventListener("touchstart",A),window.addEventListener("touchmove",C),window.addEventListener("touchend",D),()=>{window.removeEventListener("keydown",T),window.removeEventListener("touchstart",A),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",D)}},[n,h,p]),Z.useEffect(()=>{u(Cl.getFileUrl(i[a]))},[i,a]),Z.useEffect(()=>{const T=r.get("id"),A=r.get("file");T&&A&&g.getMessageContent(T).then(C=>{const D=ua.findFileIds(C.content);Promise.all(D.map(E=>g.getFileInfo(E))).then(E=>{o(E.filter(I=>I.contentType.startsWith("image")).map(I=>I.id));const $=i.indexOf(A);$>=0&&s($)})}).catch(()=>{})},[r,g]),Z.useEffect(()=>{y(1),x({x:0,y:0})},[a]),Z.useEffect(()=>{const T=$=>{$.preventDefault();const I=-.01*$.deltaY;y(L=>Math.min(Math.max(1,L+I),5))},A=$=>{const I=$;m>1&&(k(!0),_({x:I.clientX-v.x,y:I.clientY-v.y}))},C=$=>{const I=$;b&&x({x:I.clientX-N.x,y:I.clientY-N.y})},D=()=>{k(!1)},E=document.querySelector(`.${e.image}`);return E&&(E.addEventListener("wheel",T),E.addEventListener("mousedown",A),window.addEventListener("mousemove",C),window.addEventListener("mouseup",D)),()=>{E&&(E.removeEventListener("wheel",T),E.removeEventListener("mousedown",A),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",D))}},[m,v,b,N,e.image]);const S=T=>{if(a+T<0||a+T>=i.length)return;const A=(a+T+i.length)%i.length;s(A)};return bt.jsxs("div",{className:e.content,children:[bt.jsx(Nl,{icon:bt.jsx(_Tt,{}),className:e.closeButton,onClick:()=>n(-1)}),bt.jsx(Iy,{className:e.image,src:l,alt:"Codicent Image",fit:"contain",width:"100%",height:"100%",style:{transform:`translate(${v.x}px, ${v.y}px) scale(${m})`,touchAction:"none"}}),i.length>1&&bt.jsxs(bt.Fragment,{children:[a!==0&&bt.jsx("a",{className:e.prev,onClick:()=>S(-1),children:"❮"}),a<i.length-1&&bt.jsx("a",{className:e.next,onClick:()=>S(1),children:"❯"})]})]})},Mo=new class{constructor(){this.messages=JSON.parse(localStorage.getItem("messages")||"[]"),this.conversationId=localStorage.getItem("conversationId")||null,this.pendingRequests=[],this.isBotTyping=!1,this.subscribers=new Set,this.loadState()}loadState(){const t=localStorage.getItem("chatStoreState_"+this.selectApp);if(t){const{messages:e,conversationId:r,isBotTyping:n}=JSON.parse(t);this.messages=e,this.conversationId=r,this.isBotTyping=n}}saveState(){const t={messages:this.messages,conversationId:this.conversationId,isBotTyping:this.isBotTyping};localStorage.setItem("chatStoreState_"+this.selectApp,JSON.stringify(t))}getMessages(){return this.messages}getConversationId(){return this.conversationId}setConversationId(t){this.conversationId=t,localStorage.setItem("conversationId_"+this.selectApp,t||""),this.saveState()}addMessage(t){this.messages=[...this.messages,t],this.notifySubscribers(),localStorage.setItem("messages_"+this.selectApp,JSON.stringify(this.messages)),this.saveState()}getState(){return{messages:this.messages,isBotTyping:this.isBotTyping}}setBotTyping(t){this.isBotTyping=t,this.notifySubscribers(),this.saveState()}addPendingRequest(t,e){this.pendingRequests.push({tempId:t,promise:e}),e.finally(()=>{this.pendingRequests=this.pendingRequests.filter(r=>r.tempId!==t),this.saveState()})}clearMessages(){Promise.all(this.pendingRequests.map(t=>t.promise)).finally(()=>{this.reset()})}reset(){this.messages=[],this.conversationId=null,this.isBotTyping=!1,this.pendingRequests=[],localStorage.removeItem("messages_"+this.selectApp),localStorage.removeItem("conversationId_"+this.selectApp),localStorage.removeItem("chatStoreState_"+this.selectApp),this.notifySubscribers()}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}setSelectedApp(t){this.selectApp=t,this.loadState(),this.notifySubscribers()}notifySubscribers(){const t=this.getState();this.subscribers.forEach(e=>e(t))}},hr=t=>typeof t=="string",t1=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},bR=t=>t==null?"":""+t,ATt=/###/g,xR=t=>t&&t.indexOf("###")>-1?t.replace(ATt,"."):t,wR=t=>!t||hr(t),cm=(t,e,r)=>{const n=hr(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(wR(t))return{};const o=xR(n[i]);!t[o]&&r&&(t[o]=new r),t=Object.prototype.hasOwnProperty.call(t,o)?t[o]:{},++i}return wR(t)?{}:{obj:t,k:xR(n[i])}},kR=(t,e,r)=>{const{obj:n,k:i}=cm(t,e,Object);if(n!==void 0||e.length===1)return void(n[i]=r);let o=e[e.length-1],a=e.slice(0,e.length-1),s=cm(t,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=cm(t,a,Object),s&&s.obj&&s.obj[`${s.k}.${o}`]!==void 0&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},Cx=(t,e)=>{const{obj:r,k:n}=cm(t,e);if(r)return r[n]},QZ=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?hr(t[n])||t[n]instanceof String||hr(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):QZ(t[n],e[n],r):t[n]=e[n]);return t},gp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var CTt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $Tt=t=>hr(t)?t.replace(/[&<>"'\/]/g,e=>CTt[e]):t,NTt=[" ",",","?","!",";"],ITt=new class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}(20),K_=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<n.length;++l)if(l!==o&&(s+=r),s+=n[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;o+=l-o+1;break}i=a}return i},$x=t=>t&&t.replace("_","-"),LTt={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let RTt=class Z_{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||LTt,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(hr(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Z_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Z_(this.logger,e)}};var Il=new RTt;let H4=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){this.observers[e]&&(r?this.observers[e].delete(r):delete this.observers[e])}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,s]=o;for(let l=0;l<s;l++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,s]=o;for(let l=0;l<s;l++)a.apply(a,[e,...n])})}},TR=class extends H4{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):hr(n)&&o?s.push(...n.split(o)):s.push(n)));const l=Cx(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),!l&&a&&hr(n)?K_(this.data&&this.data[e]&&this.data[e][r],n,o):l}addResource(e,r,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),kR(this.data,s,i),o.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(hr(n[o])||Array.isArray(n[o]))&&this.addResource(e,r,o,n[o],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=Cx(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?QZ(l,n,o):l={...l,...n},kR(this.data,s,l),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}};var JZ={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,r,n,i))}),e}};const ER={};let _R=class tQ extends H4{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,i;super(),n=e,i=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(o=>{n[o]&&(i[o]=n[o])}),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Il.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||r.keySeparator||this.options.userDefinedNsSeparator||r.nsSeparator||((l,u,h)=>{u=u||"",h=h||"";const d=NTt.filter(g=>u.indexOf(g)<0&&h.indexOf(g)<0);if(d.length===0)return!0;const p=ITt.getRegExp(`(${d.map(g=>g==="?"?"\\?":g).join("|")})`);let f=!p.test(l);if(!f){const g=l.indexOf(h);g>0&&!p.test(l.substring(0,g))&&(f=!0)}return f})(e,n,i));if(a&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:hr(o)?[o]:o};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(i)}return{key:e,namespaces:hr(o)?[o]:o}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],r),l=s[s.length-1],u=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(h){const b=r.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${b}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${b}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:a}const d=this.resolve(e,r);let p=d&&d.res;const f=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,m=Object.prototype.toString.apply(p),y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,x=!hr(p)&&typeof p!="boolean"&&typeof p!="number";if(!(v&&p&&x&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0)||hr(y)&&Array.isArray(p))if(v&&hr(y)&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,e,r,n));else{let b=!1,k=!1;const N=r.count!==void 0&&!hr(r.count),_=tQ.hasDefaultValue(r),S=N?this.pluralResolver.getSuffix(u,r.count,r):"",T=r.ordinal&&N?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",A=N&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),C=A&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${S}`]||r[`defaultValue${T}`]||r.defaultValue;!this.isValidLookup(p)&&_&&(b=!0,p=C),this.isValidLookup(p)||(k=!0,p=a);const D=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:p,E=_&&C!==p&&this.options.updateMissing;if(k||b||E){if(this.logger.log(E?"updateKey":"missingKey",u,l,a,E?C:p),o){const O=this.resolve(a,{...r,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let O=0;O<I.length;O++)$.push(I[O]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(r.lng||this.language):$.push(r.lng||this.language);const L=(O,B,R)=>{const M=_&&R!==p?R:D;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,B,M,E,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,B,M,E,r),this.emit("missingKey",O,l,B,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?$.forEach(O=>{const B=this.pluralResolver.getSuffixes(O,r);A&&r[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(R=>{L([O],a+R,r[`defaultValue${R}`]||C)})}):L($,a,C))}p=this.extendTranslation(p,e,r,d,n),k&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${a}`),(k||b)&&this.options.parseMissingKeyHandler&&(p=this.options.compatibilityAPI!=="v1"?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,b?p:void 0):this.options.parseMissingKeyHandler(p))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,p,{...r,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=b,d.usedParams=this.getUsedParamsDetails(r),d):b}if(o){const b=Array.isArray(p),k=b?[]:{},N=b?g:f;for(const _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){const S=`${N}${o}${_}`;k[_]=this.translate(S,{...r,joinArrays:!1,ns:s}),k[_]===S&&(k[_]=p[_])}p=k}}return i?(d.res=p,d.usedParams=this.getUsedParamsDetails(r),d):p}extendTranslation(e,r,n,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=hr(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const p=e.match(this.interpolator.nestingRegexp);h=p&&p.length}let d=n.replace&&!hr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||i.usedLng,n),u){const p=e.match(this.interpolator.nestingRegexp);h<(p&&p.length)&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,f=new Array(p),g=0;g<p;g++)f[g]=arguments[g];return o&&o[0]===f[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):a.translate(...f,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=hr(s)?[s]:s;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=JZ.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r,n,i,o,a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return hr(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,s),h=u.key;n=h;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const p=s.count!==void 0&&!hr(s.count),f=p&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),g=s.context!==void 0&&(hr(s.context)||typeof s.context=="number")&&s.context!=="",m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);d.forEach(y=>{this.isValidLookup(r)||(a=y,!ER[`${m[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ER[`${m[0]}-${y}`]=!0,this.logger.warn(`key "${n}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(v=>{if(this.isValidLookup(r))return;o=v;const x=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,h,v,y,s);else{let k;p&&(k=this.pluralResolver.getSuffix(v,s.count,s));const N=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(x.push(h+k),s.ordinal&&k.indexOf(_)===0&&x.push(h+k.replace(_,this.options.pluralSeparator)),f&&x.push(h+N)),g){const S=`${h}${this.options.contextSeparator}${s.context}`;x.push(S),p&&(x.push(S+k),s.ordinal&&k.indexOf(_)===0&&x.push(S+k.replace(_,this.options.pluralSeparator)),f&&x.push(S+N))}}let b;for(;b=x.pop();)this.isValidLookup(r)||(i=b,r=this.getResource(v,y,b,s))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return!(e===void 0||!this.options.returnNull&&e===null||!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!hr(e.replace);let i=n?e.replace:e;if(n&&e.count!==void 0&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const o of r)delete i[o]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,12)&&e[n]!==void 0)return!0;return!1}};const Jw=t=>t.charAt(0).toUpperCase()+t.slice(1);let SR=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Il.create("languageUtils")}getScriptPartFromCode(e){if(!(e=$x(e))||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2?null:(r.pop(),r[r.length-1].toLowerCase()==="x"?null:this.formatLanguageCode(r.join("-")))}getLanguagePartFromCode(e){if(!(e=$x(e))||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(hr(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&Intl.getCanonicalLocales!==void 0)try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jw(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jw(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Jw(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);this.options.supportedLngs&&!this.isSupportedCode(i)||(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>o===i?o:o.indexOf("-")<0&&i.indexOf("-")<0?void 0:o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1?o:void 0)}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),hr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return hr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):hr(e)&&o(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}},DTt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],OTt={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const MTt=["v1","v2","v3"],BTt=["v4"],AR={zero:0,one:1,two:2,few:3,many:4,other:5};let PTt=class{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Il.create("pluralResolver"),this.options.compatibilityJSON&&!BTt.includes(this.options.compatibilityJSON)||typeof Intl<"u"&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const n={};return DTt.forEach(i=>{i.lngs.forEach(o=>{n[o]={numbers:i.nr,plurals:OTt[i.fc]}})}),n})(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=$x(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,r)}return this.pluralRulesCache[o]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,o)=>AR[i]-AR[o]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!MTt.includes(this.options.compatibilityJSON)}};const CR=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=((a,s,l)=>{const u=Cx(a,l);return u!==void 0?u:Cx(s,l)})(t,e,r);return!o&&i&&hr(r)&&(o=K_(t,r,n),o===void 0&&(o=K_(e,r,n))),o},tk=t=>t.replace(/\$/g,"$$$$");let FTt=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Il.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:x}=e.interpolation;this.escape=r!==void 0?r:$Tt,this.escapeValue=n===void 0||n,this.useRawValueToEscape=i!==void 0&&i,this.prefix=o?gp(o):a||"{{",this.suffix=s?gp(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=p?gp(p):f||gp("$t("),this.nestingSuffix=g?gp(g):m||gp(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=x!==void 0&&x,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=CR(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,n,{...i,...r,interpolationkey:p}):y}const f=p.split(this.formatSeparator),g=f.shift().trim(),m=f.join(this.formatSeparator).trim();return this.format(CR(r,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,n,{...i,...r,interpolationkey:g})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>tk(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?tk(this.escape(p)):tk(p)}].forEach(p=>{for(s=0;o=p.regex.exec(e);){const f=o[1].trim();if(a=u(f),a===void 0)if(typeof h=="function"){const m=h(e,o,i);a=hr(m)?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,f))a="";else{if(d){a=o[0];continue}this.logger.warn(`missed to pass in variable ${f} for interpolating ${e}`),a=""}else hr(a)||this.useRawValueToEscape||(a=bR(a));const g=p.safeValue(a);if(e=e.replace(o[0],g),d?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n,i,o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const d=l.split(new RegExp(`${h}[ ]*{`));let p=`{${d[1]}`;l=d[0],p=this.interpolate(p,o);const f=p.match(/'/g),g=p.match(/"/g);(f&&f.length%2==0&&!g||g.length%2!=0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${h}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;n=this.nestingRegexp.exec(e);){let l=[];o={...a},o=o.replace&&!hr(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const h=n[1].split(this.formatSeparator).map(d=>d.trim());n[1]=h.shift(),l=h,u=!0}if(i=r(s.call(this,n[1].trim(),o),o),i&&n[0]===e&&!hr(i))return i;hr(i)||(i=bR(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((h,d)=>this.format(h,d,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}};const mp=t=>{const e={};return(r,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=n+JSON.stringify(o);let s=e[a];return s||(s=t($x(n),i),e[a]=s),s(r)}};let zTt=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Il.create("formatter"),this.options=e,this.formats={number:mp((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return o=>i.format(o)}),currency:mp((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return o=>i.format(o)}),datetime:mp((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return o=>i.format(o)}),relativetime:mp((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return o=>i.format(o,n.range||"day")}),list:mp((r,n)=>{const i=new Intl.ListFormat(r,{...n});return o=>i.format(o)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=mp(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(s=>s.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,s)=>{const{formatName:l,formatOptions:u}=(h=>{let d=h.toLowerCase().trim();const p={};if(h.indexOf("(")>-1){const f=h.split("(");d=f[0].toLowerCase().trim();const g=f[1].substring(0,f[1].length-1);d==="currency"&&g.indexOf(":")<0?p.currency||(p.currency=g.trim()):d==="relativetime"&&g.indexOf(":")<0?p.range||(p.range=g.trim()):g.split(";").forEach(m=>{if(m){const[y,...v]=m.split(":"),x=v.join(":").trim().replace(/^'+|'+$/g,""),b=y.trim();p[b]||(p[b]=x),x==="false"&&(p[b]=!1),x==="true"&&(p[b]=!0),isNaN(x)||(p[b]=parseInt(x,10))}})}return{formatName:d,formatOptions:p}})(s);if(this.formats[l]){let h=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||n;h=this.formats[l](a,p,{...u,...i,...d})}catch(d){this.logger.warn(d)}return h}return this.logger.warn(`there was no format function for ${l}`),a},e)}},jTt=class extends H4{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const o={},a={},s={},l={};return e.forEach(u=>{let h=!0;r.forEach(d=>{const p=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,h=!1,a[p]===void 0&&(a[p]=!0),o[p]===void 0&&(o[p]=!0),l[d]===void 0&&(l[d]=!0)))}),h||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),o=i[0],a=i[1];r&&this.emit("failedLoading",o,a,r),!r&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const s={};this.queue.forEach(l=>{((u,h,d)=>{const{obj:p,k:f}=cm(u,h,Object);p[f]=p[f]||[],p[f].push(d)})(l.loaded,[o],a),((u,h)=>{u.pending[h]!==void 0&&(delete u.pending[h],u.pendingCount--)})(l,e),r&&l.errors.push(r),l.pendingCount!==0||l.done||(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const h=l.loaded[u];h.length&&h.forEach(d=>{s[u][d]===void 0&&(s[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:o,callback:a});this.readingCalls++;const s=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}u&&h&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,r,n,i+1,2*o,a)},o):a(u,h)},l=this.backend[n].bind(this.backend);if(l.length!==2)return l(e,r,s);try{const u=l(e,r);u&&typeof u.then=="function"?u.then(h=>s(null,h)).catch(s):s(null,u)}catch(u){s(u)}}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();hr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),hr(r)&&(r=[r]);const o=this.queueLoad(e,r,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${r}loaded namespace ${o} for language ${i}`,s),this.loaded(e,a,s)})}saveMissing(e,r,n,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r))this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(n!=null&&n!==""){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;h=u.length===5?u(e,r,n,i,l):u(e,r,n,i),h&&typeof h.then=="function"?h.then(d=>s(null,d)).catch(s):s(null,h)}catch(h){s(h)}else u(e,r,n,i,s,l)}e&&e[0]&&this.store.addResource(e[0],r,n,i)}}};const $R=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),hr(t[1])&&(e.defaultValue=t[1]),hr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),NR=t=>(hr(t.ns)&&(t.ns=[t.ns]),hr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),hr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Uv=()=>{};let eQ=class Q_ extends H4{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=NR(e),this.services={},this.logger=Il,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(i=>{typeof n[i]=="function"&&(n[i]=n[i].bind(n))}),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(hr(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=$R();this.options={...i,...this.options,...NR(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const o=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){let l;this.modules.logger?Il.init(o(this.modules.logger),this.options):Il.init(null,this.options),this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=zTt);const u=new SR(this.options);this.store=new TR(this.options.resources,this.options);const h=this.services;h.logger=Il,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new PTt(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!l||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(h.formatter=o(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new FTt(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new jTt(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(d){for(var p=arguments.length,f=new Array(p>1?p-1:0),g=1;g<p;g++)f[g-1]=arguments[g];e.emit(d,...f)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new _R(this.services,this.options),this.translator.on("*",function(d){for(var p=arguments.length,f=new Array(p>1?p-1:0),g=1;g<p;g++)f[g-1]=arguments[g];e.emit(d,...f)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Uv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});const a=t1(),s=()=>{const l=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(h),n(u,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uv;const n=hr(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{a&&a!=="cimode"&&this.services.languageUtils.toResolveHierarchy(a).forEach(s=>{s!=="cimode"&&i.indexOf(s)<0&&i.push(s)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>o(a)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{a||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,r,n){const i=t1();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Uv),this.services.backendConnector.reload(e,r,o=>{i.resolve(),n(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&JZ.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=t1();this.emit("languageChanging",e);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},s=l=>{e||l||!this.services.languageDetector||(l=[]);const u=hr(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,h=>{a(h,u)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),i}getFixedT(e,r,n){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),d=2;d<u;d++)h[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([a,s].concat(h))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||o.keyPrefix);const p=i.options.keySeparator||".";let f;return f=l.keyPrefix&&Array.isArray(a)?a.map(g=>`${l.keyPrefix}${p}${g}`):l.keyPrefix?`${l.keyPrefix}${p}${a}`:a,i.t(f,l)};return hr(e)?o.lng=e:o.lngs=e,o.ns=r,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===0||u===2};if(r.precheck){const s=r.precheck(this,a);if(s!==void 0)return s}return!!this.hasResourceBundle(n,e)||!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(n,e)||i&&!a(o,e))}loadNamespaces(e,r){const n=t1();return this.options.ns?(hr(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=t1();hr(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=this.services&&this.services.languageUtils||new SR($R());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Q_(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uv;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Q_(i);return e.debug===void 0&&e.prefix===void 0||(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new TR(this.store.data,i),o.services.resourceStore=o.store),o.translator=new _R(o.services,i),o.translator.on("*",function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];o.emit(a,...l)}),o.init(i,r),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};const mo=eQ.createInstance();mo.createInstance=eQ.createInstance,mo.createInstance,mo.dir,mo.init,mo.loadResources,mo.reloadResources,mo.use,mo.changeLanguage,mo.getFixedT,mo.t,mo.exists,mo.setDefaultNamespace,mo.hasLoadedNamespace,mo.loadNamespaces,mo.loadLanguages;function O0(t){return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function HTt(t,e){if(O0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rQ(t){var e=HTt(t,"string");return O0(e)=="symbol"?e:e+""}function nQ(t,e,r){return(e=rQ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var UTt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qTt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},GTt=function(t){return qTt[t]},WTt=function(t){return t.replace(UTt,GTt)};function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){nQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var J_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:WTt};function VTt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J_=LR(LR({},J_),t)}function YTt(){return J_}var iQ;function XTt(t){iQ=t}function KTt(){return iQ}var ZTt={type:"3rdParty",init:function(t){VTt(t.options.react),XTt(t)}};function QTt(t){if(Array.isArray(t))return t}function JTt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tEt(t,e){if(t){if(typeof t=="string")return RR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RR(t,e):void 0}}function eEt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rEt(t,e){return QTt(t)||JTt(t,e)||tEt(t,e)||eEt()}function nEt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rQ(n.key),n)}}function oEt(t,e,r){return e&&iEt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var aEt=Z.createContext(),sEt=function(){function t(){nEt(this,t),this.usedNamespaces={}}return oEt(t,[{key:"addUsedNamespaces",value:function(e){var r=this;e.forEach(function(n){r.usedNamespaces[n]||(r.usedNamespaces[n]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function lEt(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var DR={};function t6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&DR[e[0]]||(typeof e[0]=="string"&&(DR[e[0]]=new Date),lEt.apply(void 0,e))}var oQ=function(t,e){return function(){t.isInitialized?e():t.on("initialized",function r(){setTimeout(function(){t.off("initialized",r)},0),e()})}};function OR(t,e,r){t.loadNamespaces(e,oQ(t,r))}function MR(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,oQ(t,n))}function cEt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.languages&&e.languages.length?e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(n,i){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}):function(n,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.languages[0],s=!!i.options&&i.options.fallbackLng,l=i.languages[i.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var u=function(h,d){var p=i.services.backendConnector.state["".concat(h,"|").concat(d)];return p===-1||p===2};return!(o.bindI18n&&o.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!u(i.isLanguageChangingTo,n)||!i.hasResourceBundle(a,n)&&i.services.backendConnector.backend&&(!i.options.resources||i.options.partialBundledLanguages)&&(!u(a,n)||s&&!u(l,n)))}(t,e,r):(t6("i18n.languages were undefined or empty",e.languages),!0)}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){nQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uEt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=Z.useContext(aEt)||{},i=n.i18n,o=n.defaultNS,a=r||i||KTt();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new sEt),!a){t6("You will need to pass in an i18next instance by using initReactI18next");var s=function(D,E){return typeof E=="string"?E:E&&O0(E)==="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(D)?D[D.length-1]:D},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}a.options.react&&a.options.react.wait!==void 0&&t6("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=ek(ek(ek({},YTt()),a.options.react),e),h=u.useSuspense,d=u.keyPrefix,p=o||a.options&&a.options.defaultNS;p=typeof p=="string"?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);var f=(a.isInitialized||a.initializedStoreOnce)&&p.every(function(D){return cEt(D,a,u)});function g(){return a.getFixedT(e.lng||null,u.nsMode==="fallback"?p:p[0],d)}var m=Z.useState(g),y=rEt(m,2),v=y[0],x=y[1],b=p.join();e.lng&&(b="".concat(e.lng).concat(b));var k,N,_,S=(k=b,_=Z.useRef(),Z.useEffect(function(){_.current=k},[k,N]),_.current),T=Z.useRef(!0);Z.useEffect(function(){var D=u.bindI18n,E=u.bindI18nStore;function $(){T.current&&x(g)}return T.current=!0,f||h||(e.lng?MR(a,e.lng,p,function(){T.current&&x(g)}):OR(a,p,function(){T.current&&x(g)})),f&&S&&S!==b&&T.current&&x(g),D&&a&&a.on(D,$),E&&a&&a.store.on(E,$),function(){T.current=!1,D&&a&&D.split(" ").forEach(function(I){return a.off(I,$)}),E&&a&&E.split(" ").forEach(function(I){return a.store.off(I,$)})}},[a,b]);var A=Z.useRef(!0);Z.useEffect(function(){T.current&&!A.current&&x(g),A.current=!1},[a,d]);var C=[v,a,f];if(C.t=v,C.i18n=a,C.ready=f,f||!f&&!h)return C;throw new Promise(function(D){e.lng?MR(a,e.lng,p,function(){return D()}):OR(a,p,function(){return D()})})}const aQ=()=>(navigator.language||Qt("DEFAULT_LANGUAGE")||"sv").split("-")[0];mo.use(ZTt).init({resources:{en:{translation:{Hello:"Hello"}},sv:{translation:{Hello:"Hej"}}},lng:aQ(),fallbackLng:"sv",interpolation:{escapeValue:!1}});const Zl=()=>{const{t,i18n:e}=uEt(),[r,n]=Z.useState(aQ()),[i,o]=Z.useState(JSON.parse(localStorage.getItem("app-translations")||"{}")),a=Z.useRef([]);return Z.useEffect(()=>{e.changeLanguage(r)},[r,e]),{t:Z.useCallback(s=>(e.exists(s)||(async(l,u)=>{var p;const h=`${u} - ${l}`;let d=((p=i[u])==null?void 0:p[l])||void 0;return Qt("AUTO_TRANSLATE")&&!d&&a.current.indexOf(h)===-1&&(a.current=[...a.current,h],localStorage.setItem("app-translations",JSON.stringify(i)),d=await Cl.getMiniChatReply(`Översätt '${l}' till språk '${u}' och svara endast med översättningen.`),d&&d.includes("Error code:")&&(d=void 0),d&&(!l.trim().startsWith('"')&&d.trim().startsWith('"')&&d.trim().endsWith('"')&&(d=d.trim().slice(1,-1)),!l.trim().startsWith("'")&&d.trim().startsWith("'")&&d.trim().endsWith("'")&&(d=d.trim().slice(1,-1)),i[u]={...i[u],[l]:d},localStorage.setItem("app-translations",JSON.stringify(i)),o(i))),d||l})(s,r).then(l=>{e.addResource(r,"translation",s,l)}),t(s)),[e,t,i,r]),currentLanguage:r,setCurrentLanguage:n}},mg=Fr({button:{backgroundColor:Qt("BUTTON_BACKGROUND_COLOR")||void 0,color:Qt("BUTTON_TEXT_COLOR")||void 0,...Hi.border("none"),"&:hover":{color:Qt("BUTTON_TEXT_COLOR")||void 0,backgroundColor:Qt("BUTTON_HOVER_COLOR")||void 0},"&:active":{color:Qt("BUTTON_TEXT_COLOR")||void 0,backgroundColor:Qt("BUTTON_ACTIVE_COLOR")||void 0},"&:focus":{outline:"none"},"&.selected":{outline:"none"}},roundButton:{backgroundColor:Qt("BUTTON_BACKGROUND_COLOR")||void 0,color:Qt("BUTTON_TEXT_COLOR")||void 0,...Hi.border("none"),"&:hover":{color:Qt("BUTTON_TEXT_COLOR")||void 0,backgroundColor:Qt("BUTTON_HOVER_COLOR")||void 0},"&:active":{color:Qt("BUTTON_TEXT_COLOR")||void 0,backgroundColor:Qt("BUTTON_ACTIVE_COLOR")||void 0},"&:focus":{outline:"none"},"&.selected":{outline:"none"},borderRadius:"50%"},menuButton:{},pointer:{cursor:"pointer"}});function ui(...t){const e=Z.useCallback(r=>{e.current=r;for(const n of t)typeof n=="function"?n(r):n&&(n.current=r)},[...t]);return e}function ci(t,e){return(...r)=>{t==null||t(...r),e==null||e(...r)}}function sQ(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&!Z.isValidElement(t)}const hEt=(t,e)=>{const{size:r="medium",disabled:n=!1,root:i,contentBefore:o,dismiss:a,contentAfter:s,value:l,defaultValue:u,...h}=t,d=Z.useRef(null),p=Z.useRef(null),[f,g]=Ju({state:l,defaultState:u,initialState:""}),[m,y]=Z.useState(!1),v=Z.useCallback(()=>{y(!0)},[y]),x=Z.useCallback(S=>{var T;y(!!(!((T=d.current)===null||T===void 0)&&T.contains(S.relatedTarget)))},[y]),b=gZ(i),k=ar(S=>{var T,A,C;sQ(a)&&((C=a.onClick)===null||C===void 0||C.call(a,S)),g(""),(T=t.onChange)===null||T===void 0||T.call(t,S,{value:""}),(A=p.current)===null||A===void 0||A.focus()}),N=GZ({type:"search",disabled:n,size:r,value:f,root:Nr({...b,ref:ui(b==null?void 0:b.ref,d),onFocus:ci(b==null?void 0:b.onFocus,v),onBlur:ci(b==null?void 0:b.onBlur,x)},{elementType:"span"}),contentBefore:$r(o,{renderByDefault:!0,defaultProps:{children:Z.createElement(Owt,null)},elementType:"span"}),contentAfter:$r(s,{renderByDefault:!0,elementType:"span"}),...h,onChange:ar(S=>{var T;const A=S.target.value;(T=t.onChange)===null||T===void 0||T.call(t,S,{value:A}),g(A)})},ui(p,e)),_={...N,components:{...N.components,dismiss:"span"},dismiss:$r(a,{defaultProps:{children:Z.createElement(Ny,null),role:"button","aria-label":"clear",tabIndex:-1},renderByDefault:!0,elementType:"span"}),disabled:n,focused:m,size:r};return _.dismiss&&(_.dismiss.onClick=k),_},dEt=t=>Un(t.root,{children:[t.contentBefore&&ve(t.contentBefore,{}),ve(t.input,{}),t.contentAfter&&Un(t.contentAfter,{children:[t.contentAfter.children,t.dismiss&&ve(t.dismiss,{})]})]}),e1={root:"fui-SearchBox",dismiss:"fui-SearchBox__dismiss",contentAfter:"fui-SearchBox__contentAfter",contentBefore:"fui-SearchBox__contentBefore",input:"fui-SearchBox__input"},pEt=Ye({small:{i8kkvl:"fjuset5",B2u0y6b:"f1xzfw5u",uwmqm3:["fk8j09s","fdw0yi8"],z189sj:["fdw0yi8","fk8j09s"]},medium:{i8kkvl:"fjuset5",B2u0y6b:"f1xzfw5u",uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},large:{i8kkvl:"fjuset5",B2u0y6b:"f1xzfw5u",uwmqm3:["f1ng84yb","f11gcy0p"],z189sj:["f11gcy0p","f1ng84yb"]},input:{uwmqm3:["fk8j09s","fdw0yi8"],z189sj:["fhxju0i","f1cnd47f"],Boqhc8c:"f18izjht",B8uat0v:"fcoa6sg"},unfocusedNoContentAfter:{z189sj:["fhxju0i","f1cnd47f"]}},{d:[".fjuset5{column-gap:0;}",".f1xzfw5u{max-width:468px;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".fhxju0i{padding-right:0;}",".f1cnd47f{padding-left:0;}",".f18izjht::-webkit-search-decoration{display:none;}",".fcoa6sg::-webkit-search-cancel-button{display:none;}"]}),fEt=Ye({small:{z189sj:["fdw0yi8","fk8j09s"]},medium:{z189sj:["f1vdfbxk","f1f5gg8d"]},large:{z189sj:["f11gcy0p","f1ng84yb"]}},{d:[".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}"]}),gEt=Ye({contentAfter:{uwmqm3:["f1uw59to","fw5db7e"],i8kkvl:"f1ufnopg"},rest:{Bqenvij:"fniina8",a9b677:"f3tsq5r",uwmqm3:["f1cnd47f","fhxju0i"],B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp"}},{d:[".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f1ufnopg{column-gap:var(--spacingHorizontalXS);}",".fniina8{height:0;}",".f3tsq5r{width:0;}",".f1cnd47f{padding-left:0;}",".fhxju0i{padding-right:0;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}]]}),mEt=Zr("r1pvzcuu",null,[".r1pvzcuu{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;cursor:pointer;}",".r1pvzcuu>svg{font-size:20px;}"]),yEt=Ye({disabled:{sj55zd:"f1s2aq7o"},small:{Duoase:"f3qv9w"},medium:{},large:{Duoase:"f16u2scb"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3qv9w>svg{font-size:16px;}",".f16u2scb>svg{font-size:24px;}"]}),vEt=t=>{const{disabled:e,focused:r,size:n}=t,i=pEt(),o=fEt(),a=gEt(),s=mEt(),l=yEt();return t.root.className=Ee(e1.root,i[n],!r&&i.unfocusedNoContentAfter,t.root.className),t.input.className=Ee(e1.input,i.input,!r&&o[n],t.input.className),t.dismiss&&(t.dismiss.className=Ee(e1.dismiss,s,e&&l.disabled,l[n],t.dismiss.className)),t.contentBefore&&(t.contentBefore.className=Ee(e1.contentBefore,t.contentBefore.className)),t.contentAfter?t.contentAfter.className=Ee(e1.contentAfter,a.contentAfter,!r&&a.rest,t.contentAfter.className):t.dismiss&&(t.dismiss.className=Ee(t.dismiss.className,a.contentAfter)),WZ(t),t},lQ=Z.forwardRef((t,e)=>{const r=hEt(t,e);return vEt(r),dEt(r)});lQ.displayName="SearchBox";const bEt=Fr({searchBox:{width:"100%"}}),MJt=({value:t,onChange:e,placeholder:r})=>{const n=bEt();return bt.jsx(lQ,{size:"large",className:n.searchBox,placeholder:r,value:t,onChange:(i,o)=>e(o.value)})},xEt=Fr({container:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:kr.colorNeutralBackground1},main:{flexGrow:1,overflowY:"auto"},footer:{marginTop:"auto",position:"sticky",bottom:0,zIndex:1e3,backgroundColor:kr.colorNeutralBackground1}}),wEt=({title:t,children:e,hideHeader:r,hideFooter:n,audio:i,voice:o})=>{const a=xEt();return bt.jsxs("div",{className:a.container,children:[r!==!0&&bt.jsx(M7t,{imageUrl:Qt("APP_HEADER_ICON_URL")||Qt("APP_ICON_URL"),title:Qt("APP_TITLE"),audio:i,voice:o}),t&&r===!0&&bt.jsx(U7t,{title:t}),bt.jsx("main",{className:a.main,children:e}),n!==!0&&bt.jsx("div",{className:a.footer,children:bt.jsx(REt,{})})]})},kEt=De("Home24Filled","24",["M13.45 2.53c-.84-.7-2.06-.7-2.9 0L3.8 8.23c-.5.43-.8 1.05-.8 1.72v9.3c0 .97.78 1.75 1.75 1.75h3c.97 0 1.75-.78 1.75-1.75v-4c0-.68.54-1.23 1.22-1.25h2.56c.68.02 1.22.57 1.22 1.25v4c0 .97.78 1.75 1.75 1.75h3c.97 0 1.75-.78 1.75-1.75v-9.3c0-.67-.3-1.3-.8-1.72l-6.75-5.7Z"]),TEt=De("Home24Regular","24",["M10.55 2.53c.84-.7 2.06-.7 2.9 0l6.75 5.7c.5.42.8 1.05.8 1.71v9.31c0 .97-.78 1.75-1.75 1.75h-3.5c-.97 0-1.75-.78-1.75-1.75v-5a.25.25 0 0 0-.25-.25h-3.5a.25.25 0 0 0-.25.25v5c0 .97-.78 1.75-1.75 1.75h-3.5C3.78 21 3 20.22 3 19.25v-9.3c0-.67.3-1.3.8-1.73l6.75-5.69Zm1.93 1.15a.75.75 0 0 0-.96 0l-6.75 5.7a.75.75 0 0 0-.27.56v9.31c0 .14.11.25.25.25h3.5c.14 0 .25-.1.25-.25v-5c0-.97.78-1.75 1.75-1.75h3.5c.97 0 1.75.78 1.75 1.75v5c0 .14.11.25.25.25h3.5c.14 0 .25-.1.25-.25v-9.3c0-.23-.1-.44-.27-.58l-6.75-5.7Z"]),EEt=De("AddSquare24Filled","24",["M3 6.25C3 4.45 4.46 3 6.25 3h11.5C19.55 3 21 4.46 21 6.25v11.5c0 1.8-1.46 3.25-3.25 3.25H6.25A3.25 3.25 0 0 1 3 17.75V6.25Zm9.75 1.5a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"]),_Et=De("AddSquare24Regular","24",["M12 7c.41 0 .75.34.75.75v3.5h3.5a.75.75 0 0 1 0 1.5h-3.5v3.5a.75.75 0 0 1-1.5 0v-3.5h-3.5a.75.75 0 0 1 0-1.5h3.5v-3.5c0-.41.34-.75.75-.75Zm-9-.75C3 4.45 4.46 3 6.25 3h11.5C19.55 3 21 4.46 21 6.25v11.5c0 1.8-1.46 3.25-3.25 3.25H6.25A3.25 3.25 0 0 1 3 17.75V6.25ZM6.25 4.5c-.97 0-1.75.78-1.75 1.75v11.5c0 .97.78 1.75 1.75 1.75h11.5c.97 0 1.75-.78 1.75-1.75V6.25c0-.97-.78-1.75-1.75-1.75H6.25Z"]),SEt=De("Apps24Filled","24",["m18.5 2.33 3.17 3.18c.88.88.88 2.3 0 3.18l-2.58 2.59A2.25 2.25 0 0 1 21 13.5v5.25c0 1.24-1 2.25-2.25 2.25H5.25C4.01 21 3 20 3 18.75V5.25C3 4.01 4 3 5.25 3h5.25c1.13 0 2.06.83 2.23 1.92l2.58-2.59c.88-.88 2.3-.88 3.18 0Zm-14 16.42c0 .41.34.75.75.75h6v-6.75H4.5v6Zm8.25.75h6c.41 0 .75-.34.75-.75V13.5a.75.75 0 0 0-.75-.75h-6v6.75Zm-2.25-15H5.25a.75.75 0 0 0-.75.75v6h6.75v-6a.75.75 0 0 0-.75-.75Zm2.25 4.8v1.95h1.94L12.75 9.3Z"]),AEt=De("Apps24Regular","24",["m18.5 2.33 3.17 3.18c.88.88.88 2.3 0 3.18l-2.58 2.59A2.25 2.25 0 0 1 21 13.5v5.25C21 20 20 21 18.75 21H5.25C4.01 21 3 20 3 18.75V5.25C3 4.01 4 3 5.25 3h5.25c1.13 0 2.06.83 2.23 1.92l2.58-2.59c.88-.88 2.3-.88 3.18 0Zm-14 16.42c0 .41.34.75.75.75h6v-6.75H4.5v6Zm8.25.75h6c.41 0 .75-.34.75-.75V13.5a.75.75 0 0 0-.75-.75h-6v6.75Zm-2.25-15H5.25a.75.75 0 0 0-.75.75v6h6.75v-6a.75.75 0 0 0-.75-.75Zm2.25 4.81v1.94h1.94l-1.94-1.94Zm3.62-5.92L13.2 6.57c-.3.3-.3.77 0 1.06l3.18 3.18c.3.3.77.3 1.06 0l3.18-3.18c.3-.3.3-.77 0-1.06l-3.18-3.18a.75.75 0 0 0-1.06 0Z"]),CEt=De("ClipboardDay24Filled","24",["M9.5 13.75c0-.14.11-.25.25-.25h4.5c.14 0 .25.11.25.25v2.5c0 .14-.11.25-.25.25h-4.5a.25.25 0 0 1-.25-.25v-2.5ZM10.25 2h3.5c1.16 0 2.11.87 2.24 2h1.76C18.99 4 20 5 20 6.25v13.5c0 1.24-1 2.25-2.25 2.25H6.25C5.01 22 4 21 4 19.75V6.25C4 5.01 5 4 6.25 4h1.76c.13-1.13 1.08-2 2.24-2Zm3.5 1.5h-3.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5ZM8 9.75c0 .41.34.75.75.75h6.5a.75.75 0 0 0 0-1.5h-6.5a.75.75 0 0 0-.75.75ZM9.75 12C8.78 12 8 12.78 8 13.75v2.5c0 .97.78 1.75 1.75 1.75h4.5c.97 0 1.75-.78 1.75-1.75v-2.5c0-.97-.78-1.75-1.75-1.75h-4.5Z"]),$Et=De("ClipboardDay24Regular","24",["M8 9.75c0-.41.34-.75.75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 8 9.75ZM9.75 12C8.78 12 8 12.78 8 13.75v2.5c0 .97.78 1.75 1.75 1.75h4.5c.97 0 1.75-.78 1.75-1.75v-2.5c0-.97-.78-1.75-1.75-1.75h-4.5Zm-.25 1.75c0-.14.11-.25.25-.25h4.5c.14 0 .25.11.25.25v2.5c0 .14-.11.25-.25.25h-4.5a.25.25 0 0 1-.25-.25v-2.5ZM13.75 2c1.16 0 2.11.88 2.24 2h1.76C18.99 4 20 5 20 6.25v13.5c0 1.24-1 2.25-2.25 2.25H6.25C5.01 22 4 21 4 19.75V6.25C4 5.01 5 4 6.25 4h1.76c.13-1.13 1.08-2 2.24-2h3.5Zm2.24 2.1.01.15V4.1Zm-2.24 2.4h-3.5c-.78 0-1.47-.4-1.87-1H6.25a.75.75 0 0 0-.75.75v13.5c0 .41.34.75.75.75h11.5c.41 0 .75-.34.75-.75V6.25a.75.75 0 0 0-.75-.75h-2.13c-.4.6-1.09 1-1.87 1Zm0-3h-3.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5Z"]),NEt=De("Whiteboard24Filled","24",["m15.99 4-3.07 3.06c-.34.34-.6.74-.78 1.18l-.08.23-.74 2.3a2.25 2.25 0 0 0 2.64 2.88l.15-.04 2.33-.7a3.5 3.5 0 0 0 1.29-.7l.18-.18L22 7.95v8.8c0 1.8-1.45 3.25-3.25 3.25H5.25A3.25 3.25 0 0 1 2 16.75v-4.2l.08-.03.07-.04 3.76-2.36.1-.05A.75.75 0 0 1 7 11l-.04.1-1.2 2.3-.08.14a2.25 2.25 0 0 0 3 2.95l.17-.09 1.76-1 .09-.05a.75.75 0 0 0-.74-1.3l-.1.05-1.75 1-.1.04a.75.75 0 0 1-.97-.96l.04-.09 1.2-2.28.09-.17a2.25 2.25 0 0 0-3.12-2.87l-.15.08L2 10.81V7.24a3.25 3.25 0 0 1 3.07-3.24L5.25 4h10.74Zm5.19-.46.13.13.12.13c.76.89.72 2.23-.13 3.07l-4.28 4.28c-.26.26-.58.45-.94.56l-2.33.7a1 1 0 0 1-1.24-1.27l.74-2.29c.11-.34.3-.65.56-.9l4.29-4.29a2.27 2.27 0 0 1 3.08-.12Z"]),IEt=De("Whiteboard24Regular","24",["m15.99 4-1.5 1.5H5.1c-.9.08-1.61.83-1.61 1.75v2.24l2.61-1.64c1-.63 2.32-.37 3 .57l.1.14c.4.63.46 1.4.17 2.08l-.08.17-1.21 2.28a.75.75 0 0 0 .93 1.05l.1-.04 1.76-1a.75.75 0 0 1 .83 1.25l-.09.06-1.76 1a2.25 2.25 0 0 1-3.17-2.87l.07-.15 1.21-2.28a.75.75 0 0 0-.96-1.04l-.1.05-3.41 2.14v5.5c0 .96.78 1.74 1.75 1.74h13.5c.97 0 1.75-.78 1.75-1.75v-7.3l1.5-1.5v8.8c0 1.8-1.46 3.25-3.25 3.25H5.25A3.25 3.25 0 0 1 2 16.75v-9.5a3.25 3.25 0 0 1 3.07-3.24L5.25 4h10.74Zm5.19-.46.13.13.12.13c.76.89.72 2.23-.13 3.07l-4.28 4.28c-.26.26-.58.45-.94.56l-2.33.7a1 1 0 0 1-1.24-1.27l.74-2.29c.11-.34.3-.65.56-.9l4.29-4.29a2.27 2.27 0 0 1 3.08-.12Zm-2.02 1.19L14.86 9a.75.75 0 0 0-.18.3l-.45 1.39 1.42-.43c.12-.03.23-.1.31-.18l4.28-4.28.08-.08a.77.77 0 0 0-1.16-1Z"]),LEt=Fr({footer:{...Hi.padding("14px"),backgroundColor:Qt("APP_FOOTER_COLOR")||kr.colorBrandBackground,color:Qt("APP_FOOTER_TEXT_COLOR")||kr.colorNeutralForegroundOnBrand,textAlign:"center",display:"flex",justifyContent:"space-around",alignItems:"center",position:"sticky",bottom:0,zIndex:1e3,paddingBottom:"22px",width:"100%"},container:{display:"flex",justifyContent:"space-around",alignItems:"center",maxWidth:"480px",width:"100%"},button:{color:kr.colorNeutralForegroundOnBrand,height:"24px",width:"24px",...Hi.borderWidth("0")},link:{textDecoration:"none",color:"inherit",display:"flex",flexDirection:"column",alignItems:"center","&.selected":{border:"none",color:Qt("APP_FOOTER_SELECTED_COLOR")||void 0},"&:hover":{textDecoration:"none"}},buttonText:{fontSize:"12px"}}),REt=()=>{const t=LEt(),e=yct(),[r,n]=Z.useState(null),{t:i}=Zl();return Z.useEffect(()=>{const o=e.pathname;o==="/"?n("home"):o==="/chat"?n("chat"):o==="/new"?n("save"):o==="/menu"?n("menu"):o==="/log"?n("log"):o==="/canvas"?n("canvas"):o==="/snap"&&n("snap")},[e]),Z.useEffect(()=>{r&&console.log(`footer-button: ${r}`)},[r]),bt.jsx("footer",{className:t.footer,children:bt.jsxs("div",{className:t.container,children:[bt.jsxs(uu,{to:"/",className:`${t.link} ${r==="home"?"selected":""}`,onClick:()=>n("home"),children:[bt.jsx(r==="home"?kEt:TEt,{}),bt.jsx("p",{className:t.buttonText,children:i("Hem")})]}),!Qt("HIDE_CHAT_BUTTON")&&bt.jsxs(uu,{to:"/chat",className:`${t.link} ${r==="chat"?"selected":""}`,onClick:()=>n("chat"),children:[bt.jsx(r==="chat"?Q3t:J3t,{}),bt.jsx("p",{className:t.buttonText,children:i("Chatt")})]}),!Qt("HIDE_SAVE_BUTTON")&&bt.jsxs(uu,{to:"/new",className:`${t.link} ${r==="save"?"selected":""}`,onClick:()=>n("save"),children:[bt.jsx(r==="save"?EEt:_Et,{}),bt.jsx("p",{className:t.buttonText,children:i(Qt("APP_SAVE_TITLE")||"Spara")})]}),Qt("SHOW_SNAP_BUTTON")&&bt.jsxs(uu,{to:"/snap",className:`${t.link} ${r==="snap"?"selected":""}`,onClick:()=>n("snap"),children:[bt.jsx(r==="snap"?CEt:$Et,{}),bt.jsx("p",{className:t.buttonText,children:i("Snap")})]}),Qt("SHOW_LOGBOOK_BUTTON")&&bt.jsxs(uu,{to:"/log",className:`${t.link} ${r==="log"?"selected":""}`,onClick:()=>n("log"),children:[bt.jsx(r==="log"?Iwt:NZ,{}),bt.jsx("p",{className:t.buttonText,children:i("Loggbok")})]}),Qt("SHOW_CANVAS_BUTTON")&&bt.jsxs(uu,{to:"/canvas",className:`${t.link} ${r==="canvas"?"selected":""}`,onClick:()=>n("canvas"),children:[bt.jsx(r==="canvas"?NEt:IEt,{}),bt.jsx("p",{className:t.buttonText,children:i("Kanvas")})]}),!Qt("HIDE_MENU_BUTTON")&&bt.jsxs(uu,{to:"/menu",className:`${t.link} ${r==="menu"?"selected":""}`,onClick:()=>n("menu"),children:[bt.jsx(r==="menu"?SEt:AEt,{}),bt.jsx("p",{className:t.buttonText,children:i("Meny")})]})]})})};var cQ={exports:{}},PR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function DEt(){return FR||(FR=1,function(t){function e(R,M){var F=R.length;R.push(M);t:for(;0<F;){var P=F-1>>>1,U=R[P];if(!(0<i(U,M)))break t;R[P]=M,R[F]=U,F=P}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],F=R.pop();if(F!==M){R[0]=F;t:for(var P=0,U=R.length,W=U>>>1;P<W;){var Q=2*(P+1)-1,K=R[Q],G=Q+1,V=R[G];if(0>i(K,F))G<U&&0>i(V,K)?(R[P]=V,R[G]=F,P=G):(R[P]=K,R[Q]=F,P=Q);else{if(!(G<U&&0>i(V,F)))break t;R[P]=V,R[G]=F,P=G}}}return M}function i(R,M){var F=R.sortIndex-M.sortIndex;return F!==0?F:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function b(R){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else{if(!(M.startTime<=R))break;n(u),M.sortIndex=M.expirationTime,e(l,M)}M=r(u)}}function k(R){if(m=!1,b(R),!g)if(r(l)!==null)g=!0,O(N);else{var M=r(u);M!==null&&B(k,M.startTime-R)}}function N(R,M){g=!1,m&&(m=!1,v(A),A=-1),f=!0;var F=p;try{for(b(M),d=r(l);d!==null&&(!(d.expirationTime>M)||R&&!E());){var P=d.callback;if(typeof P=="function"){d.callback=null,p=d.priorityLevel;var U=P(d.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?d.callback=U:d===r(l)&&n(l),b(M)}else n(l);d=r(l)}if(d!==null)var W=!0;else{var Q=r(u);Q!==null&&B(k,Q.startTime-M),W=!1}return W}finally{d=null,p=F,f=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,T=null,A=-1,C=5,D=-1;function E(){return!(t.unstable_now()-D<C)}function $(){if(T!==null){var R=t.unstable_now();D=R;var M=!0;try{M=T(!0,R)}finally{M?_():(S=!1,T=null)}}else S=!1}if(typeof x=="function")_=function(){x($)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=$,_=function(){L.postMessage(null)}}else _=function(){y($,0)};function O(R){T=R,S||(S=!0,_())}function B(R,M){A=y(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,O(N))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var F=p;p=M;try{return R()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=p;p=R;try{return M()}finally{p=F}},t.unstable_scheduleCallback=function(R,M,F){var P=t.unstable_now();switch(typeof F=="object"&&F!==null?F=typeof(F=F.delay)=="number"&&0<F?P+F:P:F=P,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return R={id:h++,callback:M,priorityLevel:R,startTime:F,expirationTime:U=F+U,sortIndex:-1},F>P?(R.sortIndex=F,e(u,R),r(l)===null&&R===r(u)&&(m?(v(A),A=-1):m=!0,B(k,F-P))):(R.sortIndex=U,e(l,R),g||f||(g=!0,O(N))),R},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(R){var M=p;return function(){var F=p;p=M;try{return R.apply(this,arguments)}finally{p=F}}}}(PR)),PR}cQ.exports=DEt();var zR=cQ.exports;const U4=t=>{const e=Z.createContext({value:{current:t},version:{current:-1},listeners:[]});return e.Provider=(r=>i=>{const o=Z.useRef(i.value),a=Z.useRef(0),s=Z.useRef();return s.current||(s.current={value:o,version:a,listeners:[]}),ll(()=>{o.current=i.value,a.current+=1,zR.unstable_runWithPriority(zR.unstable_NormalPriority,()=>{s.current.listeners.forEach(l=>{l([a.current,i.value])})})},[i.value]),Z.createElement(r,{value:s.current},i.children)})(e.Provider),delete e.Consumer,e},n7=(t,e)=>{const r=Z.useContext(t),{value:{current:n},version:{current:i},listeners:o}=r,a=e(n),[s,l]=Z.useState([n,a]),u=d=>{l(p=>{if(!d)return[n,a];if(d[0]<=i)return Object.is(p[1],a)?p:[n,a];try{if(Object.is(p[0],d[1]))return p;const f=e(d[1]);return Object.is(p[1],f)?p:[d[1],f]}catch{}return[p[0],p[1]]})};Object.is(s[1],a)||u(void 0);const h=ar(u);return ll(()=>(o.push(h),()=>{const d=o.indexOf(h);o.splice(d,1)}),[h,o]),s[1]},i7=U4(void 0),OEt={open:!1,setOpen:()=>!1,checkedValues:{},onCheckedValueChange:()=>null,isSubmenu:!1,triggerRef:{current:null},menuPopoverRef:{current:null},mountNode:null,triggerId:"",openOnContext:!1,openOnHover:!1,hasIcons:!1,hasCheckmarks:!1,inline:!1,persistOnItemClick:!1};i7.Provider;const Uo=t=>n7(i7,(e=OEt)=>t(e)),o7=U4(void 0),MEt={checkedValues:{},setFocusByFirstCharacter:()=>null,toggleCheckbox:()=>null,selectRadio:()=>null,hasIcons:!1,hasCheckmarks:!1},BEt=o7.Provider,e6=t=>n7(o7,(e=MEt)=>t(e));function q4(t){const e=Z.useContext(t);return!!e.version&&e.version.current!==-1}function PEt(){const t=Uo(r=>r.isSubmenu),e=q4(o7);return t||e}const FEt={above:{position:"above",align:"center"},"above-start":{position:"above",align:"start"},"above-end":{position:"above",align:"end"},below:{position:"below",align:"center"},"below-start":{position:"below",align:"start"},"below-end":{position:"below",align:"end"},before:{position:"before",align:"center"},"before-top":{position:"before",align:"top"},"before-bottom":{position:"before",align:"bottom"},after:{position:"after",align:"center"},"after-top":{position:"after",align:"top"},"after-bottom":{position:"after",align:"bottom"}};function uQ(t){return t==null?{}:typeof t=="string"?FEt[t]:t}const zEt=["top","right","bottom","left"],Dd=Math.min,hs=Math.max,Nx=Math.round,Fl=t=>({x:t,y:t}),jEt={left:"right",right:"left",bottom:"top",top:"bottom"},HEt={start:"end",end:"start"};function r6(t,e,r){return hs(t,Dd(e,r))}function Oc(t,e){return typeof t=="function"?t(e):t}function Mc(t){return t.split("-")[0]}function yg(t){return t.split("-")[1]}function a7(t){return t==="x"?"y":"x"}function s7(t){return t==="y"?"height":"width"}function th(t){return["top","bottom"].includes(Mc(t))?"y":"x"}function l7(t){return a7(th(t))}function UEt(t,e,r){r===void 0&&(r=!1);const n=yg(t),i=l7(t),o=s7(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Ix(a)),[a,Ix(a)]}function qEt(t){const e=Ix(t);return[n6(t),e,n6(e)]}function n6(t){return t.replace(/start|end/g,e=>HEt[e])}function GEt(t,e,r,n){const i=yg(t);let o=function(a,s,l){const u=["left","right"],h=["right","left"],d=["top","bottom"],p=["bottom","top"];switch(a){case"top":case"bottom":return l?s?h:u:s?u:h;case"left":case"right":return s?d:p;default:return[]}}(Mc(t),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(n6)))),o}function Ix(t){return t.replace(/left|right|bottom|top/g,e=>jEt[e])}function WEt(t){return{top:0,right:0,bottom:0,left:0,...t}}function hQ(t){return typeof t!="number"?WEt(t):{top:t,right:t,bottom:t,left:t}}function Lx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function jR(t,e,r){let{reference:n,floating:i}=t;const o=th(e),a=l7(e),s=s7(a),l=Mc(e),u=o==="y",h=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let f;switch(l){case"top":f={x:h,y:n.y-i.height};break;case"bottom":f={x:h,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(yg(e)){case"start":f[a]-=p*(r&&u?-1:1);break;case"end":f[a]+=p*(r&&u?-1:1)}return f}const VEt=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=jR(u,n,l),p=n,f={},g=0;for(let m=0;m<s.length;m++){const{name:y,fn:v}=s[m],{x,y:b,data:k,reset:N}=await v({x:h,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:u,platform:a,elements:{reference:t,floating:e}});h=x??h,d=b??d,f={...f,[y]:{...f[y],...k}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:h,y:d}=jR(u,p,l)),m=-1)}return{x:h,y:d,placement:p,strategy:i,middlewareData:f}};async function M0(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Oc(e,t),g=hQ(f),m=s[p?d==="floating"?"reference":"floating":d],y=Lx(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:h,strategy:l})),v=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),b=await(o.isElement==null?void 0:o.isElement(x))&&await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1},k=Lx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:x,strategy:l}):v);return{top:(y.top-k.top+g.top)/b.y,bottom:(k.bottom-y.bottom+g.bottom)/b.y,left:(y.left-k.left+g.left)/b.x,right:(k.right-y.right+g.right)/b.x}}const YEt=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:u,padding:h=0}=Oc(t,e)||{};if(u==null)return{};const d=hQ(h),p={x:r,y:n},f=l7(i),g=s7(f),m=await a.getDimensions(u),y=f==="y",v=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",k=o.reference[g]+o.reference[f]-p[f]-o.floating[g],N=p[f]-o.reference[f],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=_?_[b]:0;S&&await(a.isElement==null?void 0:a.isElement(_))||(S=s.floating[b]||o.floating[g]);const T=k/2-N/2,A=S/2-m[g]/2-1,C=Dd(d[v],A),D=Dd(d[x],A),E=C,$=S-m[g]-D,I=S/2-m[g]/2+T,L=r6(E,I,$),O=!l.arrow&&yg(i)!=null&&I!==L&&o.reference[g]/2-(I<E?C:D)-m[g]/2<0,B=O?I<E?I-E:I-$:0;return{[f]:p[f]+B,data:{[f]:L,centerOffset:I-L-B,...O&&{alignmentOffset:B}},reset:O}}}),XEt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Oc(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=Mc(i),x=th(s),b=Mc(s)===s,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=p||(b||!m?[Ix(s)]:qEt(s)),_=g!=="none";!p&&_&&N.push(...GEt(s,m,g,k));const S=[s,...N],T=await M0(e,y),A=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&A.push(T[v]),d){const I=UEt(i,a,k);A.push(T[I[0]],T[I[1]])}if(C=[...C,{placement:i,overflows:A}],!A.every(I=>I<=0)){var D,E;const I=(((D=o.flip)==null?void 0:D.index)||0)+1,L=S[I];if(L)return{data:{index:I,overflows:C},reset:{placement:L}};let O=(E=C.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:E.placement;if(!O)switch(f){case"bestFit":{var $;const B=($=C.filter(R=>{if(_){const M=th(R.placement);return M===x||M==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((R,M)=>R[1]-M[1])[0])==null?void 0:$[0];B&&(O=B);break}case"initialPlacement":O=s}if(i!==O)return{reset:{placement:O}}}return{}}}};function HR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function UR(t){return zEt.some(e=>t[e]>=0)}const KEt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Oc(t,e);switch(n){case"referenceHidden":{const o=HR(await M0(e,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UR(o)}}}case"escaped":{const o=HR(await M0(e,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:o,escaped:UR(o)}}}default:return{}}}}},ZEt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await async function(u,h){const{placement:d,platform:p,elements:f}=u,g=await(p.isRTL==null?void 0:p.isRTL(f.floating)),m=Mc(d),y=yg(d),v=th(d)==="y",x=["left","top"].includes(m)?-1:1,b=g&&v?-1:1,k=Oc(h,u);let{mainAxis:N,crossAxis:_,alignmentAxis:S}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:k.mainAxis||0,crossAxis:k.crossAxis||0,alignmentAxis:k.alignmentAxis};return y&&typeof S=="number"&&(_=y==="end"?-1*S:S),v?{x:_*b,y:N*x}:{x:N*x,y:_*b}}(e,t);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},QEt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...l}=Oc(t,e),u={x:r,y:n},h=await M0(e,l),d=th(Mc(i)),p=a7(d);let f=u[p],g=u[d];if(o){const y=p==="y"?"bottom":"right",v=f+h[p==="y"?"top":"left"],x=f-h[y];f=r6(v,f,x)}if(a){const y=d==="y"?"bottom":"right",v=g+h[d==="y"?"top":"left"],x=g-h[y];g=r6(v,g,x)}const m=s.fn({...e,[p]:f,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:o,[d]:a}}}}}},JEt=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Oc(t,e),h={x:r,y:n},d=th(i),p=a7(d);let f=h[p],g=h[d];const m=Oc(s,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=p==="y"?"height":"width",k=o.reference[p]-o.floating[b]+y.mainAxis,N=o.reference[p]+o.reference[b]-y.mainAxis;f<k?f=k:f>N&&(f=N)}if(u){var v,x;const b=p==="y"?"width":"height",k=["top","left"].includes(Mc(i)),N=o.reference[d]-o.floating[b]+(k&&((v=a.offset)==null?void 0:v[d])||0)+(k?0:y.crossAxis),_=o.reference[d]+o.reference[b]+(k?0:((x=a.offset)==null?void 0:x[d])||0)-(k?y.crossAxis:0);g<N?g=N:g>_&&(g=_)}return{[p]:f,[d]:g}}}},t_t=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...u}=Oc(t,e),h=await M0(e,u),d=Mc(i),p=yg(i),f=th(i)==="y",{width:g,height:m}=o.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,y=p==="end"?"top":"bottom");const x=m-h.top-h.bottom,b=g-h.left-h.right,k=Dd(m-h[y],x),N=Dd(g-h[v],b),_=!e.middlewareData.shift;let S=k,T=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=x),_&&!p){const C=hs(h.left,0),D=hs(h.right,0),E=hs(h.top,0),$=hs(h.bottom,0);f?T=g-2*(C!==0||D!==0?C+D:hs(h.left,h.right)):S=m-2*(E!==0||$!==0?E+$:hs(h.top,h.bottom))}await l({...e,availableWidth:T,availableHeight:S});const A=await a.getDimensions(s.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function G4(){return typeof window<"u"}function B0(t){return dQ(t)?(t.nodeName||"").toLowerCase():"#document"}function za(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $c(t){var e;return(e=(dQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dQ(t){return!!G4()&&(t instanceof Node||t instanceof za(t).Node)}function Qs(t){return!!G4()&&(t instanceof Element||t instanceof za(t).Element)}function Ul(t){return!!G4()&&(t instanceof HTMLElement||t instanceof za(t).HTMLElement)}function qR(t){return!(!G4()||typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof za(t).ShadowRoot)}function Bm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Js(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function e_t(t){return["table","td","th"].includes(B0(t))}function Rx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function c7(t){const e=u7(),r=Qs(t)?Js(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>!!r[n]&&r[n]!=="none")||!!r.containerType&&r.containerType!=="normal"||!e&&!!r.backdropFilter&&r.backdropFilter!=="none"||!e&&!!r.filter&&r.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function r_t(t){let e=eh(t);for(;Ul(e)&&!P0(e);){if(c7(e))return e;if(Rx(e))return null;e=eh(e)}return null}function u7(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function P0(t){return["html","body","#document"].includes(B0(t))}function Js(t){return za(t).getComputedStyle(t)}function W4(t){return Qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function eh(t){if(B0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qR(t)&&t.host||$c(t);return qR(e)?e.host:e}function pQ(t){const e=eh(t);return P0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ul(e)&&Bm(e)?e:pQ(e)}function i6(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=pQ(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),a=za(i);if(o){const s=o6(a);return e.concat(a,a.visualViewport||[],Bm(i)?i:[],s&&r?i6(s):[])}return e.concat(i,i6(i,[],r))}function o6(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fQ(t){const e=Js(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ul(t),o=i?t.offsetWidth:r,a=i?t.offsetHeight:n,s=Nx(r)!==o||Nx(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function gQ(t){return Qs(t)?t:t.contextElement}function bf(t){const e=gQ(t);if(!Ul(e))return Fl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=fQ(e);let a=(o?Nx(r.width):r.width)/n,s=(o?Nx(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const n_t=Fl(0);function mQ(t){const e=za(t);return u7()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:n_t}function Pm(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=gQ(t);let a=Fl(1);e&&(n?Qs(n)&&(a=bf(n)):a=bf(t));const s=function(p,f,g){return f===void 0&&(f=!1),!(!g||f&&g!==za(p))&&f}(o,r,n)?mQ(o):Fl(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(o){const p=za(o),f=n&&Qs(n)?za(n):n;let g=p,m=o6(g);for(;m&&n&&f!==g;){const y=bf(m),v=m.getBoundingClientRect(),x=Js(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,k=v.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,u*=y.y,h*=y.x,d*=y.y,l+=b,u+=k,g=za(m),m=o6(g)}}return Lx({width:h,height:d,x:l,y:u})}function h7(t,e){const r=W4(t).scrollLeft;return e?e.left+r:Pm($c(t)).left+r}function yQ(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-(r?0:h7(t,n)),y:n.top+e.scrollTop}}function GR(t,e,r){let n;if(e==="viewport")n=function(i,o){const a=za(i),s=$c(i),l=a.visualViewport;let u=s.clientWidth,h=s.clientHeight,d=0,p=0;if(l){u=l.width,h=l.height;const f=u7();(!f||f&&o==="fixed")&&(d=l.offsetLeft,p=l.offsetTop)}return{width:u,height:h,x:d,y:p}}(t,r);else if(e==="document")n=function(i){const o=$c(i),a=W4(i),s=i.ownerDocument.body,l=hs(o.scrollWidth,o.clientWidth,s.scrollWidth,s.clientWidth),u=hs(o.scrollHeight,o.clientHeight,s.scrollHeight,s.clientHeight);let h=-a.scrollLeft+h7(i);const d=-a.scrollTop;return Js(s).direction==="rtl"&&(h+=hs(o.clientWidth,s.clientWidth)-l),{width:l,height:u,x:h,y:d}}($c(t));else if(Qs(e))n=function(i,o){const a=Pm(i,!0,o==="fixed"),s=a.top+i.clientTop,l=a.left+i.clientLeft,u=Ul(i)?bf(i):Fl(1);return{width:i.clientWidth*u.x,height:i.clientHeight*u.y,x:l*u.x,y:s*u.y}}(e,r);else{const i=mQ(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Lx(n)}function vQ(t,e){const r=eh(t);return!(r===e||!Qs(r)||P0(r))&&(Js(r).position==="fixed"||vQ(r,e))}function i_t(t,e,r){const n=Ul(e),i=$c(e),o=r==="fixed",a=Pm(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=Fl(0);if(n||!n&&!o)if((B0(e)!=="body"||Bm(i))&&(s=W4(e)),n){const h=Pm(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=h7(i));const u=!i||n||o?Fl(0):yQ(i,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function rk(t){return Js(t).position==="static"}function WR(t,e){if(!Ul(t)||Js(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return $c(t)===r&&(r=r.ownerDocument.body),r}function VR(t,e){const r=za(t);if(Rx(t))return r;if(!Ul(t)){let i=eh(t);for(;i&&!P0(i);){if(Qs(i)&&!rk(i))return i;i=eh(i)}return r}let n=WR(t,e);for(;n&&e_t(n)&&rk(n);)n=WR(n,e);return n&&P0(n)&&rk(n)&&!c7(n)?r:n||r_t(t)||r}const o_t={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",a=$c(n),s=!!e&&Rx(e.floating);if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Fl(1);const h=Fl(0),d=Ul(n);if((d||!d&&!o)&&((B0(n)!=="body"||Bm(a))&&(l=W4(n)),Ul(n))){const f=Pm(n);u=bf(n),h.x=f.x+n.clientLeft,h.y=f.y+n.clientTop}const p=!a||d||o?Fl(0):yQ(a,l,!0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-l.scrollTop*u.y+h.y+p.y}},getDocumentElement:$c,getClippingRect:function(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Rx(e)?[]:function(l,u){const h=u.get(l);if(h)return h;let d=i6(l,[],!1).filter(m=>Qs(m)&&B0(m)!=="body"),p=null;const f=Js(l).position==="fixed";let g=f?eh(l):l;for(;Qs(g)&&!P0(g);){const m=Js(g),y=c7(g);y||m.position!=="fixed"||(p=null),(f?!y&&!p:!y&&m.position==="static"&&p&&["absolute","fixed"].includes(p.position)||Bm(g)&&!y&&vQ(l,g))?d=d.filter(v=>v!==g):p=m,g=eh(g)}return u.set(l,d),d}(e,this._c):[].concat(r),n],a=o[0],s=o.reduce((l,u)=>{const h=GR(e,u,i);return l.top=hs(h.top,l.top),l.right=Dd(h.right,l.right),l.bottom=Dd(h.bottom,l.bottom),l.left=hs(h.left,l.left),l},GR(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:VR,getElementRects:async function(t){const e=this.getOffsetParent||VR,r=this.getDimensions,n=await r(t.floating);return{reference:i_t(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:r}=fQ(t);return{width:e,height:r}},getScale:bf,isElement:Qs,isRTL:function(t){return Js(t).direction==="rtl"}},a_t=M0,s_t=ZEt,l_t=QEt,c_t=XEt,u_t=t_t,YR=KEt,h_t=YEt,XR=JEt,d_t=(t,e,r)=>{const n=new Map,i={platform:o_t,...r},o={...i.platform,_c:n};return VEt(t,e,{...i,platform:o})},p_t=t=>t.nodeName==="HTML"?t:t.parentNode||t.host,V4=t=>{const e=t&&p_t(t);if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:r,overflowX:n,overflowY:i}=(o=>{var a;return o.nodeType!==1?{}:((a=o.ownerDocument)===null||a===void 0?void 0:a.defaultView).getComputedStyle(o,null)})(e);return/(auto|scroll|overlay)/.test(r+i+n)?e:V4(e)},f_t=t=>{var e;const r=V4(t);return!!r&&r!==((e=r.ownerDocument)===null||e===void 0?void 0:e.body)};function KR(t){const e=[];let r=t;for(;r;){const n=V4(r);if(t.ownerDocument.body===n){e.push(n);break}if(n.nodeName==="BODY"&&n!==t.ownerDocument.body)break;e.push(n),r=n}return e}const ZR="data-popper-is-intersecting",QR="data-popper-escaped",JR="data-popper-reference-hidden",g_t="data-popper-placement",a6="fui-positioningend";function m_t(t,e){return new t.ResizeObserver(e)}function y_t(t){let e;return()=>(e||(e=new Promise(r=>{Promise.resolve().then(()=>{e=void 0,r(t())})})),e)}function xi(t,e){var r;const n=t;var i;return!!(!(n==null||(r=n.ownerDocument)===null||r===void 0)&&r.defaultView&&n instanceof n.ownerDocument.defaultView[(i=void 0)!==null&&i!==void 0?i:"HTMLElement"])}function v_t(t){const{arrow:e,middlewareData:r}=t;if(!r.arrow||!e)return;const{x:n,y:i}=r.arrow;Object.assign(e.style,{left:n!=null?`${n}px`:"",top:i!=null?`${i}px`:""})}function b_t(t){var e,r,n;const{container:i,placement:o,middlewareData:a,strategy:s,lowPPI:l,coordinates:u,useTransform:h=!0}=t;if(!i)return;i.setAttribute(g_t,o),i.removeAttribute(ZR),a.intersectionObserver.intersecting&&i.setAttribute(ZR,""),i.removeAttribute(QR),!((e=a.hide)===null||e===void 0)&&e.escaped&&i.setAttribute(QR,""),i.removeAttribute(JR),!((r=a.hide)===null||r===void 0)&&r.referenceHidden&&i.setAttribute(JR,"");const d=((n=i.ownerDocument.defaultView)===null||n===void 0?void 0:n.devicePixelRatio)||1,p=Math.round(u.x*d)/d,f=Math.round(u.y*d)/d;Object.assign(i.style,{position:s}),h?Object.assign(i.style,{transform:l?`translate(${p}px, ${f}px)`:`translate3d(${p}px, ${f}px, 0)`}):Object.assign(i.style,{left:`${p}px`,top:`${f}px`})}function x_t(t){let e=!1;const{container:r,target:n,arrow:i,strategy:o,middleware:a,placement:s,useTransform:l=!0,disableUpdateOnResize:u=!1}=t,h=r.ownerDocument.defaultView;if(!n||!r||!h)return{updatePosition:()=>{},dispose:()=>{}};const d=u?null:m_t(h,m=>{m.every(y=>y.contentRect.width>0&&y.contentRect.height>0)&&g()});let p=!0;const f=new Set;Object.assign(r.style,{position:"fixed",left:0,top:0,margin:0});const g=y_t(()=>{e||(p&&(KR(r).forEach(m=>f.add(m)),xi(n)&&KR(n).forEach(m=>f.add(m)),f.forEach(m=>{m.addEventListener("scroll",g,{passive:!0})}),d==null||d.observe(r),xi(n)&&(d==null||d.observe(n)),p=!1),Object.assign(r.style,{position:o}),d_t(n,r,{placement:s,middleware:a,strategy:o}).then(({x:m,y,middlewareData:v,placement:x})=>{e||(v_t({arrow:i,middlewareData:v}),b_t({container:r,middlewareData:v,placement:x,coordinates:{x:m,y},lowPPI:((h==null?void 0:h.devicePixelRatio)||1)<=1,strategy:o,useTransform:l}),r.dispatchEvent(new CustomEvent(a6)))}).catch(m=>{}))});return h&&(h.addEventListener("scroll",g,{passive:!0}),h.addEventListener("resize",g)),g(),{updatePosition:g,dispose:()=>{e=!0,h&&(h.removeEventListener("scroll",g),h.removeEventListener("resize",g)),f.forEach(m=>{m.removeEventListener("scroll",g)}),f.clear(),d==null||d.disconnect()}}}function bQ(t){const e=t.split("-");return{side:e[0],alignment:e[1]}}const w_t=t=>{const{side:e,alignment:r}=bQ(t),n={top:"above",bottom:"below",right:"after",left:"before"}[e],i=r&&(o=>o==="above"||o==="below"?{start:"start",end:"end"}:{start:"top",end:"bottom"})(n)[r];return{position:n,alignment:i}};var tD;(function(t){t[t.FunctionComponent=0]="FunctionComponent",t[t.ClassComponent=1]="ClassComponent",t[t.IndeterminateComponent=2]="IndeterminateComponent",t[t.HostRoot=3]="HostRoot",t[t.HostPortal=4]="HostPortal",t[t.HostComponent=5]="HostComponent",t[t.HostText=6]="HostText",t[t.Fragment=7]="Fragment",t[t.Mode=8]="Mode",t[t.ContextConsumer=9]="ContextConsumer",t[t.ContextProvider=10]="ContextProvider",t[t.ForwardRef=11]="ForwardRef",t[t.Profiler=12]="Profiler",t[t.SuspenseComponent=13]="SuspenseComponent",t[t.MemoComponent=14]="MemoComponent",t[t.SimpleMemoComponent=15]="SimpleMemoComponent",t[t.LazyComponent=16]="LazyComponent",t[t.IncompleteClassComponent=17]="IncompleteClassComponent",t[t.DehydratedFragment=18]="DehydratedFragment",t[t.SuspenseListComponent=19]="SuspenseListComponent",t[t.FundamentalComponent=20]="FundamentalComponent",t[t.ScopeComponent=21]="ScopeComponent"})(tD||(tD={}));function nk(t,e,r){const n=Z.useRef(!0),[i]=Z.useState(()=>({value:t,callback:e,facade:{get current(){return i.value},set current(o){const a=i.value;a!==o&&(i.value=o,i.callback(o,a))}}}));return ll(()=>{n.current=!1},[]),i.callback=e,i.facade}function d7(t,e){if(e==="window")return t==null?void 0:t.ownerDocument.documentElement;if(e==="clippingParents")return"clippingAncestors";if(e==="scrollParent"){let r=V4(t);return r.nodeName==="BODY"&&(r=t==null?void 0:t.ownerDocument.documentElement),r}return e}function xQ(t,e){if(typeof t=="number")return t;const{start:r,end:n,...i}=t,o=i,a=e?"end":"start",s=e?"start":"end";return t[a]&&(o.left=t[a]),t[s]&&(o.right=t[s]),o}const k_t=t=>({name:"resetMaxSize",fn({middlewareData:e,elements:r}){var n;if(!((n=e.resetMaxSize)===null||n===void 0)&&n.maxSizeAlreadyReset)return{};const{applyMaxWidth:i,applyMaxHeight:o}=t;return i&&(r.floating.style.removeProperty("box-sizing"),r.floating.style.removeProperty("max-width"),r.floating.style.removeProperty("width")),o&&(r.floating.style.removeProperty("box-sizing"),r.floating.style.removeProperty("max-height"),r.floating.style.removeProperty("height")),{data:{maxSizeAlreadyReset:!0},reset:{rects:!0}}}});function T_t(t,e){const{container:r,overflowBoundary:n,overflowBoundaryPadding:i,isRtl:o}=e;return u_t({...i&&{padding:xQ(i,o)},...n&&{altBoundary:!0,boundary:d7(r,n)},apply({availableHeight:a,availableWidth:s,elements:l,rects:u}){const h=(f,g,m)=>{if(f&&(l.floating.style.setProperty("box-sizing","border-box"),l.floating.style.setProperty(`max-${g}`,`${m}px`),u.floating[g]>m)){l.floating.style.setProperty(g,`${m}px`);const y=g==="width"?"x":"y";l.floating.style.getPropertyValue(`overflow-${y}`)||l.floating.style.setProperty(`overflow-${y}`,"auto")}},{applyMaxWidth:d,applyMaxHeight:p}=t;h(d,"width",s),h(p,"height",a)}})}const eD="--fui-match-target-size";function E_t(){return{name:"matchTargetSize",fn:async t=>{const{rects:{reference:e,floating:r},elements:{floating:n},middlewareData:{matchTargetSize:{matchTargetSizeAttempt:i=!1}={}}}=t;if(e.width===r.width||i)return{};const{width:o}=e;return n.style.setProperty(eD,`${o}px`),n.style.width||(n.style.width=`var(${eD})`),{data:{matchTargetSizeAttempt:!0},reset:{rects:!0}}}}}function __t(t){return t&&(typeof t=="number"||typeof t=="object"?t:({rects:{floating:e,reference:r},placement:n})=>{const{position:i,alignment:o}=w_t(n);return t({positionedRect:e,targetRect:r,position:i,alignment:o})})}function S_t(t){const e=__t(t);return s_t(e)}function A_t(){return{name:"coverTarget",fn:t=>{const{placement:e,rects:r,x:n,y:i}=t,o={x:n,y:i};switch(bQ(e).side){case"bottom":o.y-=r.reference.height;break;case"top":o.y+=r.reference.height;break;case"left":o.x+=r.reference.width;break;case"right":o.x-=r.reference.width}return o}}}const wQ=(t,e,r)=>{const n=((a,s)=>{const l=a==="above"||a==="below",u=s==="top"||s==="bottom";return l&&u||!l&&!u})(e,t)?"center":t,i=e&&(a=>({above:"top",below:"bottom",before:a?"right":"left",after:a?"left":"right"}))(r)[e],o=n&&{start:"start",end:"end",top:"start",bottom:"end",center:void 0}[n];return i&&o?`${i}-${o}`:i};function C_t(t){const{hasScrollableElement:e,flipBoundary:r,container:n,fallbackPositions:i=[],isRtl:o}=t,a=i.reduce((s,l)=>{const{position:u,align:h}=uQ(l),d=wQ(h,u,o);return d&&s.push(d),s},[]);return c_t({...e&&{boundary:"clippingAncestors"},...r&&{altBoundary:!0,boundary:d7(n,r)},fallbackStrategy:"bestFit",...a.length&&{fallbackPlacements:a}})}function $_t(t){const{hasScrollableElement:e,shiftToCoverTarget:r,disableTether:n,overflowBoundary:i,container:o,overflowBoundaryPadding:a,isRtl:s}=t;return l_t({...e&&{boundary:"clippingAncestors"},...r&&{crossAxis:!0,limiter:XR({crossAxis:!0,mainAxis:!1})},...n&&{crossAxis:n==="all",limiter:XR({crossAxis:n!=="all",mainAxis:!1})},...a&&{padding:xQ(a,s)},...i&&{altBoundary:!0,boundary:d7(o,i)}})}function N_t(){return{name:"intersectionObserver",fn:async t=>{const e=t.rects.floating,r=await a_t(t,{altBoundary:!0}),n=r.top<e.height&&r.top>0,i=r.bottom<e.height&&r.bottom>0;return{data:{intersecting:n||i}}}}}const I_t=t=>{switch(t){case"always":case!0:return{applyMaxWidth:!0,applyMaxHeight:!0};case"width-always":case"width":return{applyMaxWidth:!0,applyMaxHeight:!1};case"height-always":case"height":return{applyMaxWidth:!1,applyMaxHeight:!0};default:return!1}};function L_t(t){const e=Z.useRef(null),r=Z.useRef(null),n=Z.useRef(null),i=Z.useRef(null),o=Z.useRef(null),{enabled:a=!0}=t,s=function(g){const{align:m,arrowPadding:y,autoSize:v,coverTarget:x,flipBoundary:b,offset:k,overflowBoundary:N,pinned:_,position:S,unstable_disableTether:T,positionFixed:A,strategy:C,overflowBoundaryPadding:D,fallbackPositions:E,useTransform:$,matchTargetSize:I,disableUpdateOnResize:L=!1,shiftToCoverTarget:O}=g,{dir:B,targetDocument:R}=Gn(),M=B==="rtl",F=C??A?"fixed":"absolute",P=I_t(v);return Z.useCallback((U,W)=>{const Q=f_t(U),K=[P&&k_t(P),I&&E_t(),k&&S_t(k),x&&A_t(),!_&&C_t({container:U,flipBoundary:b,hasScrollableElement:Q,isRtl:M,fallbackPositions:E}),$_t({container:U,hasScrollableElement:Q,overflowBoundary:N,disableTether:T,overflowBoundaryPadding:D,isRtl:M,shiftToCoverTarget:O}),P&&T_t(P,{container:U,overflowBoundary:N,overflowBoundaryPadding:D,isRtl:M}),N_t(),W&&h_t({element:W,padding:y}),YR({strategy:"referenceHidden"}),YR({strategy:"escaped"}),!1].filter(Boolean);return{placement:wQ(m,S,M),middleware:K,strategy:F,useTransform:$,disableUpdateOnResize:L}},[m,y,P,x,T,b,M,k,N,_,S,F,D,E,$,I,R,L])}(t),l=Z.useCallback(()=>{var g;e.current&&e.current.dispose(),e.current=null;const m=(g=n.current)!==null&&g!==void 0?g:r.current;a&&SZ()&&m&&i.current&&(e.current=x_t({container:i.current,target:m,arrow:o.current,...s(i.current,o.current)}))},[a,s]),u=ar(g=>{n.current=g,l()});Z.useImperativeHandle(t.positioningRef,()=>({updatePosition:()=>{var g;return(g=e.current)===null||g===void 0?void 0:g.updatePosition()},setTarget:g=>{t.target,u(g)}}),[t.target,u]),ll(()=>{var g;u((g=t.target)!==null&&g!==void 0?g:null)},[t.target,u]),ll(()=>{l()},[l]);const h=nk(null,g=>{r.current!==g&&(r.current=g,l())}),d=ar(()=>{var g;return(g=t.onPositioningEnd)===null||g===void 0?void 0:g.call(t)}),p=nk(null,g=>{var m;i.current!==g&&((m=i.current)===null||m===void 0||m.removeEventListener(a6,d),g==null||g.addEventListener(a6,d),i.current=g,l())}),f=nk(null,g=>{o.current!==g&&(o.current=g,l())});return{targetRef:h,containerRef:p,arrowRef:f}}const kQ=(t,e)=>!!(t!=null&&t.contains(e)),TQ=t=>{const{targetDocument:e}=Gn(),r=e==null?void 0:e.defaultView,{refs:n,callback:i,element:o,disabled:a,disabledFocusOnIframe:s,contains:l=kQ}=t,u=Z.useRef(void 0);D_t({element:o,disabled:s||a,callback:i,refs:n,contains:l});const h=Z.useRef(!1),d=ar(f=>{if(h.current)return void(h.current=!1);const g=f.composedPath()[0];n.every(m=>!l(m.current||null,g))&&!a&&i(f)}),p=ar(f=>{h.current=n.some(g=>l(g.current||null,f.target))});Z.useEffect(()=>{if(a)return;let f=R_t(r);const g=m=>{m!==f?d(m):f=void 0};return o==null||o.addEventListener("click",g,!0),o==null||o.addEventListener("touchstart",g,!0),o==null||o.addEventListener("contextmenu",g,!0),o==null||o.addEventListener("mousedown",p,!0),u.current=r==null?void 0:r.setTimeout(()=>{f=void 0},1),()=>{o==null||o.removeEventListener("click",g,!0),o==null||o.removeEventListener("touchstart",g,!0),o==null||o.removeEventListener("contextmenu",g,!0),o==null||o.removeEventListener("mousedown",p,!0),r==null||r.clearTimeout(u.current),f=void 0}},[d,o,a,p,r])},R_t=t=>{var e,r,n;if(t)return typeof t.window=="object"&&t.window===t?t.event:(n=(r=t.ownerDocument)===null||r===void 0||(e=r.defaultView)===null||e===void 0?void 0:e.event)!==null&&n!==void 0?n:void 0},ik="fuiframefocus",D_t=t=>{const{disabled:e,element:r,callback:n,contains:i=kQ,pollDuration:o=1e3,refs:a}=t,s=Z.useRef(),l=ar(u=>{a.every(h=>!i(h.current||null,u.target))&&!e&&n(u)});Z.useEffect(()=>{if(!e)return r==null||r.addEventListener(ik,l,!0),()=>{r==null||r.removeEventListener(ik,l,!0)}},[r,e,l]),Z.useEffect(()=>{var u;if(!e)return s.current=r==null||(u=r.defaultView)===null||u===void 0?void 0:u.setInterval(()=>{const h=r==null?void 0:r.activeElement;if((h==null?void 0:h.tagName)==="IFRAME"||(h==null?void 0:h.tagName)==="WEBVIEW"){const d=new CustomEvent(ik,{bubbles:!0});h.dispatchEvent(d)}},o),()=>{var h;r==null||(h=r.defaultView)===null||h===void 0||h.clearTimeout(s.current)}},[r,e,o])};function O_t(t){return t&&!!t._virtual}function M_t(t,e={}){if(!t)return null;if(!e.skipVirtual){const n=function(i){return O_t(i)&&i._virtual.parent||null}(t);if(n)return n}const r=t.parentNode;return r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}const B_t="fuimenuenter",P_t=(t,e)=>{t.dispatchEvent(new CustomEvent(B_t,{bubbles:!0,detail:{nativeEvent:e}}))};var F_t=typeof WeakRef<"u",rD=class{constructor(e){F_t&&typeof e=="object"?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,r;let n;return this._weakRef?(n=(e=this._weakRef)==null?void 0:e.deref(),n||delete this._weakRef):(n=this._instance,(r=n==null?void 0:n.isDisposed)!=null&&r.call(n)&&delete this._instance),n}},tl="keyborg:focusin",Fm="keyborg:focusout",ok=!1;function Bc(t){const e=t.focus;e.__keyborgNativeFocus?e.__keyborgNativeFocus.call(t):t.focus()}var EQ=0,z_t=class{constructor(e,r){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=i=>{if(this._isMouseOrTouchUsedTimer||this.isNavigatingWithKeyboard)return;const o=i.detail;o.relatedTarget&&(o.isFocusedProgrammatically||o.isFocusedProgrammatically===void 0||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=i=>{i.buttons===0||i.clientX===0&&i.clientY===0&&i.screenX===0&&i.screenY===0||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{const i=this._win;i&&(this._isMouseOrTouchUsedTimer&&i.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=i.setTimeout(()=>{delete this._isMouseOrTouchUsedTimer},1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=i=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(i)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(i)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++EQ,this._win=e;const n=e.document;if(r){const i=r.triggerKeys,o=r.dismissKeys;i!=null&&i.length&&(this._triggerKeys=new Set(i)),o!=null&&o.length&&(this._dismissKeys=new Set(o))}n.addEventListener(tl,this._onFocusIn,!0),n.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),n.addEventListener("touchstart",this._onMouseOrTouch,!0),n.addEventListener("touchend",this._onMouseOrTouch,!0),n.addEventListener("touchcancel",this._onMouseOrTouch,!0),function(i){const o=i;ok||(ok=function(g){const m=g.HTMLElement,y=m.prototype.focus;let v=!1;return m.prototype.focus=function(){v=!0},g.document.createElement("button").focus(),m.prototype.focus=y,v}(o));const a=o.HTMLElement.prototype.focus;if(a.__keyborgNativeFocus)return;o.HTMLElement.prototype.focus=p;const s=new Set,l=g=>{const m=g.target;if(!m)return;const y=new CustomEvent(Fm,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:g}});m.dispatchEvent(y)},u=g=>{const m=g.target;if(!m)return;let y=g.composedPath()[0];const v=new Set;for(;y;)y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(v.add(y),y=y.host):y=y.parentNode;for(const x of s){const b=x.deref();b&&v.has(b)||(s.delete(x),b&&(b.removeEventListener("focusin",u,!0),b.removeEventListener("focusout",l,!0)))}h(m,g.relatedTarget||void 0)},h=(g,m,y)=>{var v;const x=g.shadowRoot;if(x){for(const N of s)if(N.deref()===x)return;return x.addEventListener("focusin",u,!0),x.addEventListener("focusout",l,!0),void s.add(new rD(x))}const b={relatedTarget:m,originalEvent:y},k=new CustomEvent(tl,{cancelable:!0,bubbles:!0,composed:!0,detail:b});k.details=b,(ok||d.lastFocusedProgrammatically)&&(b.isFocusedProgrammatically=g===((v=d.lastFocusedProgrammatically)==null?void 0:v.deref()),d.lastFocusedProgrammatically=void 0),g.dispatchEvent(k)},d=o.__keyborgData={focusInHandler:u,focusOutHandler:l,shadowTargets:s};function p(){const g=o.__keyborgData;return g&&(g.lastFocusedProgrammatically=new rD(this)),a.apply(this,arguments)}o.document.addEventListener("focusin",o.__keyborgData.focusInHandler,!0),o.document.addEventListener("focusout",o.__keyborgData.focusOutHandler,!0);let f=o.document.activeElement;for(;f&&f.shadowRoot;)h(f),f=f.shadowRoot.activeElement;p.__keyborgNativeFocus=a}(e)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(e){this._isNavigatingWithKeyboard_DO_NOT_USE!==e&&(this._isNavigatingWithKeyboard_DO_NOT_USE=e,this.update())}dispose(){const e=this._win;if(e){this._isMouseOrTouchUsedTimer&&(e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),function(n){const i=n,o=i.HTMLElement.prototype,a=o.focus.__keyborgNativeFocus,s=i.__keyborgData;if(s){i.document.removeEventListener("focusin",s.focusInHandler,!0),i.document.removeEventListener("focusout",s.focusOutHandler,!0);for(const l of s.shadowTargets){const u=l.deref();u&&(u.removeEventListener("focusin",s.focusInHandler,!0),u.removeEventListener("focusout",s.focusOutHandler,!0))}s.shadowTargets.clear(),delete i.__keyborgData}a&&(o.focus=a)}(e);const r=e.document;r.removeEventListener(tl,this._onFocusIn,!0),r.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),r.removeEventListener("touchstart",this._onMouseOrTouch,!0),r.removeEventListener("touchend",this._onMouseOrTouch,!0),r.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var e,r;const n=(r=(e=this._win)==null?void 0:e.__keyborg)==null?void 0:r.refs;if(n)for(const i of Object.keys(n))p7.update(n[i],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(e){var r;if(e.key==="Tab")return!0;const n=(r=this._win)==null?void 0:r.document.activeElement,i=!this._triggerKeys||this._triggerKeys.has(e.keyCode),o=n&&(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable);return i&&!o}_shouldDismissKeyboardNavigation(e){var r;return(r=this._dismissKeys)==null?void 0:r.has(e.keyCode)}_scheduleDismiss(){const e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const r=e.document.activeElement;this._dismissTimer=e.setTimeout(()=>{this._dismissTimer=void 0;const n=e.document.activeElement;r&&n&&r===n&&(this.isNavigatingWithKeyboard=!1)},500)}}},p7=class _Q{constructor(e,r){this._cb=[],this._id="k"+ ++EQ,this._win=e;const n=e.__keyborg;n?(this._core=n.core,n.refs[this._id]=this):(this._core=new z_t(e,r),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(e,r){return new _Q(e,r)}static dispose(e){e.dispose()}static update(e,r){e._cb.forEach(n=>n(r))}dispose(){var e;const r=(e=this._win)==null?void 0:e.__keyborg;r!=null&&r.refs[this._id]&&(delete r.refs[this._id],Object.keys(r.refs).length===0&&(r.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var e;return!!((e=this._core)!=null&&e.isNavigatingWithKeyboard)}subscribe(e){this._cb.push(e)}unsubscribe(e){const r=this._cb.indexOf(e);r>=0&&this._cb.splice(r,1)}setVal(e){this._core&&(this._core.isNavigatingWithKeyboard=e)}};function Y4(t,e){return p7.create(t,e)}function X4(t){p7.dispose(t)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Nc="data-tabster",j_t="data-tabster-dummy",SQ=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", "),Ic={EscapeGroupper:1,Restorer:2,Deloser:3},tu={Invisible:0,PartiallyVisible:1,Visible:2},zm={Source:0,Target:1},qs={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},Vn={ArrowUp:1,ArrowDown:2,ArrowLeft:3,ArrowRight:4,PageUp:5,PageDown:6,Home:7,End:8},cb={Unlimited:0,Limited:1,LimitedTrapFocus:2},nD={Enter:1,Escape:2},H_t={Auto:0,Inside:1,Outside:2};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Yo(t,e){var r;return(r=t.storageEntry(e))===null||r===void 0?void 0:r.tabster}function AQ(t,e,r){var n,i;const o=r||t._noop?void 0:e.getAttribute(Nc);let a,s=t.storageEntry(e);if(o){if(o===((n=s==null?void 0:s.attr)===null||n===void 0?void 0:n.string))return;try{const d=JSON.parse(o);if(typeof d!="object")throw new Error(`Value is not a JSON object, got '${o}'.`);a={string:o,object:d}}catch{}}else if(!s)return;s||(s=t.storageEntry(e,!0)),s.tabster||(s.tabster={});const l=s.tabster||{},u=((i=s.attr)===null||i===void 0?void 0:i.object)||{},h=(a==null?void 0:a.object)||{};for(const d of Object.keys(u))if(!h[d]){if(d==="root"){const p=l[d];p&&t.root.onRoot(p,!0)}switch(d){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const p=l[d];p&&(p.dispose(),delete l[d]);break;case"observed":delete l[d],t.observedElement&&t.observedElement.onObservedElementUpdate(e);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete l[d]}}for(const d of Object.keys(h)){const p=h.sys;switch(d){case"deloser":l.deloser?l.deloser.setProps(h.deloser):t.deloser&&(l.deloser=t.deloser.createDeloser(e,h.deloser));break;case"root":l.root?l.root.setProps(h.root):l.root=t.root.createRoot(e,h.root,p),t.root.onRoot(l.root);break;case"modalizer":l.modalizer?l.modalizer.setProps(h.modalizer):t.modalizer&&(l.modalizer=t.modalizer.createModalizer(e,h.modalizer,p));break;case"restorer":l.restorer?l.restorer.setProps(h.restorer):t.restorer&&h.restorer&&(l.restorer=t.restorer.createRestorer(e,h.restorer));break;case"focusable":l.focusable=h.focusable;break;case"groupper":l.groupper?l.groupper.setProps(h.groupper):t.groupper&&(l.groupper=t.groupper.createGroupper(e,h.groupper,p));break;case"mover":l.mover?l.mover.setProps(h.mover):t.mover&&(l.mover=t.mover.createMover(e,h.mover,p));break;case"observed":t.observedElement&&(l.observed=h.observed,t.observedElement.onObservedElementUpdate(e));break;case"uncontrolled":l.uncontrolled=h.uncontrolled;break;case"outline":t.outline&&(l.outline=h.outline);break;case"sys":l.sys=h.sys;break;default:console.error(`Unknown key '${d}' in data-tabster attribute value.`)}}a?s.attr=a:(Object.keys(l).length===0&&(delete s.tabster,delete s.attr),t.storageEntry(e,!1))}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const U_t="tabster:focusin",q_t="tabster:focusout",s6="tabster:movefocus",G_t="tabster:mover:state",iD="tabster:mover:movefocus",oD="tabster:mover:memorized-element",aD="tabster:groupper:movefocus",l6="tabster:restorer:restore-focus",W_t="tabster:root:focus",V_t="tabster:root:blur",Y_t=typeof CustomEvent<"u"?CustomEvent:function(){};let np=class extends Y_t{constructor(e,r){super(e,{bubbles:!0,cancelable:!0,composed:!0,detail:r}),this.details=r}},X_t=class extends np{constructor(e){super(U_t,e)}},K_t=class extends np{constructor(e){super(q_t,e)}},ju=class extends np{constructor(e){super(s6,e)}},sD=class extends np{constructor(e){super(G_t,e)}},lD=class extends np{constructor(){super(l6)}},Z_t=class extends np{constructor(e){super(W_t,e)}},Q_t=class extends np{constructor(e){super(V_t,e)}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const se={createMutationObserver:t=>new MutationObserver(t),createTreeWalker:(t,e,r,n)=>t.createTreeWalker(e,r,n),getParentNode:t=>t?t.parentNode:null,getParentElement:t=>t?t.parentElement:null,nodeContains:(t,e)=>!(!e||!(t!=null&&t.contains(e))),getActiveElement:t=>t.activeElement,querySelector:(t,e)=>t.querySelector(e),querySelectorAll:(t,e)=>Array.prototype.slice.call(t.querySelectorAll(e),0),getElementById:(t,e)=>t.getElementById(e),getFirstChild:t=>(t==null?void 0:t.firstChild)||null,getLastChild:t=>(t==null?void 0:t.lastChild)||null,getNextSibling:t=>(t==null?void 0:t.nextSibling)||null,getPreviousSibling:t=>(t==null?void 0:t.previousSibling)||null,getFirstElementChild:t=>(t==null?void 0:t.firstElementChild)||null,getLastElementChild:t=>(t==null?void 0:t.lastElementChild)||null,getNextElementSibling:t=>(t==null?void 0:t.nextElementSibling)||null,getPreviousElementSibling:t=>(t==null?void 0:t.previousElementSibling)||null,appendChild:(t,e)=>t.appendChild(e),insertBefore:(t,e,r)=>t.insertBefore(e,r),getSelection:t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.getSelection())||null},getElementsByName:(t,e)=>t.ownerDocument.getElementsByName(e)};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let c6;const cD=typeof DOMRect<"u"?DOMRect:class{constructor(t,e,r,n){this.left=t||0,this.top=e||0,this.right=(t||0)+(r||0),this.bottom=(e||0)+(n||0)}};let J_t=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),c6=!1}catch{c6=!0}function Pc(t){const e=t();let r=e.__tabsterInstanceContext;return r||(r={elementByUId:{},basics:{Promise:e.Promise||void 0,WeakRef:e.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},e.__tabsterInstanceContext=r),r}let CQ=class{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,r){return!e._target||!(!r&&g7(e._target.ownerDocument,e._target))&&(delete e._target,!0)}},el=class{constructor(e,r,n){const i=Pc(e);let o;i.WeakRef?o=new i.WeakRef(r):(o=new CQ(r),i.fakeWeakRefs.push(o)),this._ref=o,this._data=n}get(){const e=this._ref;let r;return e&&(r=e.deref(),r||delete this._ref),r}getData(){return this._data}};function $Q(t,e){const r=Pc(t);r.fakeWeakRefs=r.fakeWeakRefs.filter(n=>!CQ.cleanup(n,e))}function NQ(t){const e=Pc(t);e.fakeWeakRefsStarted||(e.fakeWeakRefsStarted=!0,e.WeakRef=function(r){return r.basics.WeakRef}(e)),e.fakeWeakRefsTimer||(e.fakeWeakRefsTimer=t().setTimeout(()=>{e.fakeWeakRefsTimer=void 0,$Q(t),NQ(t)},12e4))}function f7(t,e,r){if(e.nodeType!==Node.ELEMENT_NODE)return;const n=c6?r:{acceptNode:r};return se.createTreeWalker(t,e,NodeFilter.SHOW_ELEMENT,n,!1)}function IQ(t,e){let r=e.__tabsterCacheId;const n=Pc(t),i=r?n.containerBoundingRectCache[r]:void 0;if(i)return i.rect;const o=e.ownerDocument&&e.ownerDocument.documentElement;if(!o)return new cD;let a=0,s=0,l=o.clientWidth,u=o.clientHeight;if(e!==o){const d=e.getBoundingClientRect();a=Math.max(a,d.left),s=Math.max(s,d.top),l=Math.min(l,d.right),u=Math.min(u,d.bottom)}const h=new cD(a<l?a:-1,s<u?s:-1,a<l?l-a:0,s<u?u-s:0);return r||(r="r-"+ ++n.lastContainerBoundingRectCacheId,e.__tabsterCacheId=r),n.containerBoundingRectCache[r]={rect:h,element:e},n.containerBoundingRectCacheTimer||(n.containerBoundingRectCacheTimer=window.setTimeout(()=>{n.containerBoundingRectCacheTimer=void 0;for(const d of Object.keys(n.containerBoundingRectCache))delete n.containerBoundingRectCache[d].element.__tabsterCacheId;n.containerBoundingRectCache={}},50)),h}function uD(t,e,r){const n=LQ(e);if(!n)return!1;const i=IQ(t,n),o=e.getBoundingClientRect(),a=o.height*(1-r),s=Math.max(0,i.top-o.top)+Math.max(0,o.bottom-i.bottom);return s===0||s<=a}function LQ(t){const e=t.ownerDocument;if(e){for(let r=se.getParentElement(t);r;r=se.getParentElement(r))if(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight)return r;return e.documentElement}return null}function RQ(t){return!!t.__shouldIgnoreFocus}function ub(t,e){const r=Pc(t);let n=e.__tabsterElementUID;return n||(n=e.__tabsterElementUID=function(i){const o=new Uint32Array(4);if(i.crypto&&i.crypto.getRandomValues)i.crypto.getRandomValues(o);else if(i.msCrypto&&i.msCrypto.getRandomValues)i.msCrypto.getRandomValues(o);else for(let s=0;s<o.length;s++)o[s]=4294967295*Math.random();const a=[];for(let s=0;s<o.length;s++)a.push(o[s].toString(36));return a.push("|"),a.push((++J_t).toString(36)),a.push("|"),a.push(Date.now().toString(36)),a.join("")}(t())),!r.elementByUId[n]&&g7(e.ownerDocument,e)&&(r.elementByUId[n]=new el(t,e)),n}function hD(t,e){const r=Pc(t);for(const n of Object.keys(r.elementByUId)){const i=r.elementByUId[n],o=i&&i.get();o&&e&&!se.nodeContains(e,o)||delete r.elementByUId[n]}}function g7(t,e){return se.nodeContains(t==null?void 0:t.body,e)}function DQ(t,e){const r=t.matches||t.matchesSelector||t.msMatchesSelector||t.webkitMatchesSelector;return r&&r.call(t,e)}let t6t=0,K4=class{constructor(e,r,n){const i=e.getWindow;this._tabster=e,this._element=new el(i,r),this._props={...n},this.id="i"+ ++t6t}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}},Dx=class{constructor(e,r,n,i,o){var a;this._focusIn=h=>{if(this._fixedTarget){const p=this._fixedTarget.get();return void(p&&Bc(p))}const d=this.input;if(this.onFocusIn&&d){const p=h.relatedTarget;this.onFocusIn(this,this._isBackward(!0,d,p),p)}},this._focusOut=h=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const d=this.input;if(this.onFocusOut&&d){const p=h.relatedTarget;this.onFocusOut(this,this._isBackward(!1,d,p),p)}};const s=e(),l=s.document.createElement("i");l.tabIndex=0,l.setAttribute("role","none"),l.setAttribute(j_t,""),l.setAttribute("aria-hidden","true");const u=l.style;u.position="fixed",u.width=u.height="1px",u.opacity="0.001",u.zIndex="-1",u.setProperty("content-visibility","hidden"),function(h){h.__shouldIgnoreFocus=!0}(l),this.input=l,this.isFirst=n.isFirst,this.isOutside=r,this._isPhantom=(a=n.isPhantom)!==null&&a!==void 0&&a,this._fixedTarget=o,l.addEventListener("focusin",this._focusIn),l.addEventListener("focusout",this._focusOut),l.__tabsterDummyContainer=i,this._isPhantom&&(this._disposeTimer=s.setTimeout(()=>{delete this._disposeTimer,this.dispose()},0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(s.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const r=this.input;r&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,r.removeEventListener("focusin",this._focusIn),r.removeEventListener("focusout",this._focusOut),delete r.__tabsterDummyContainer,(e=se.getParentNode(r))===null||e===void 0||e.removeChild(r))}setTopLeft(e,r){var n;const i=(n=this.input)===null||n===void 0?void 0:n.style;i&&(i.top=`${e}px`,i.left=`${r}px`)}_isBackward(e,r,n){return e&&!n?!this.isFirst:!!(n&&r.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)}};const e6t=1,r6t=3,n6t=4;let jm=class{constructor(e,r,n,i,o,a){this._element=r,this._instance=new o6t(e,r,this,n,i,o,a)}_setHandlers(e,r){this._onFocusIn=e,this._onFocusOut=r}moveOut(e){var r;(r=this._instance)===null||r===void 0||r.moveOut(e)}moveOutWithDefaultAction(e,r){var n;(n=this._instance)===null||n===void 0||n.moveOutWithDefaultAction(e,r)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var r;(r=this._instance)===null||r===void 0||r.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,r,n,i,o){const a=new Dx(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(a){let s,l;if(r.tagName==="BODY")s=r,l=n&&i||!n&&!i?se.getFirstElementChild(r):null;else{let u,h;n&&(!i||i&&!e.focusable.isFocusable(r,!1,!0,!0))?(s=r,l=i?r.firstElementChild:null):(s=se.getParentElement(r),l=n&&i||!n&&!i?r:se.getNextElementSibling(r));do u=n&&i||!n&&!i?se.getPreviousElementSibling(l):l,h=Hm(u),h===r?l=n&&i||!n&&!i?u:se.getNextElementSibling(u):h=null;while(h)}s!=null&&s.dispatchEvent(new ju({by:"root",owner:s,next:null,relatedEvent:o}))&&(se.insertBefore(s,a,l),Bc(a))}}static addPhantomDummyWithTarget(e,r,n,i){const o=new Dx(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new el(e.getWindow,i)).input;if(o){let a,s;r.querySelector(SQ)&&!n?(a=r,s=se.getFirstElementChild(r)):(a=se.getParentElement(r),s=n?r:se.getNextElementSibling(r)),a&&se.insertBefore(a,o,s)}}},i6t=class{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=r=>{var n;this._changedParents.has(r)||(this._changedParents.add(r),this._updateDummyInputsTimer||(this._updateDummyInputsTimer=(n=this._win)===null||n===void 0?void 0:n.call(this).setTimeout(()=>{delete this._updateDummyInputsTimer;for(const i of this._dummyElements){const o=i.get();if(o){const a=this._dummyCallbacks.get(o);if(a){const s=se.getParentNode(o);s&&!this._changedParents.has(s)||a()}}}this._changedParents=new WeakSet},100)))},this._win=e}add(e,r){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new el(this._win,e)),this._dummyCallbacks.set(e,r),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter(r=>{const n=r.get();return n&&n!==e}),this._dummyCallbacks.delete(e),this._dummyElements.length===0&&delete this.domChanged}dispose(){var e;const r=(e=this._win)===null||e===void 0?void 0:e.call(this);this._updateTimer&&(r==null||r.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(r==null||r.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=(e=this._win)===null||e===void 0?void 0:e.call(this).setTimeout(()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+100<=Date.now()){const r=new Map,n=[];for(const i of this._updateQueue)n.push(i(r));this._updateQueue.clear();for(const i of n)i();r.clear()}else this._scheduledUpdatePositions()},100))}},o6t=class{constructor(e,r,n,i,o,a,s){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(f,g,m)=>{this._onFocus(!0,f,g,m)},this._onFocusOut=(f,g,m)=>{this._onFocus(!1,f,g,m)},this.moveOut=f=>{var g;const m=this._firstDummy,y=this._lastDummy;if(m&&y){this._ensurePosition();const v=m.input,x=y.input,b=(g=this._element)===null||g===void 0?void 0:g.get();if(v&&x&&b){let k;f?(v.tabIndex=0,k=v):(x.tabIndex=0,k=x),k&&Bc(k)}}},this.moveOutWithDefaultAction=(f,g)=>{var m;const y=this._firstDummy,v=this._lastDummy;if(y&&v){this._ensurePosition();const x=y.input,b=v.input,k=(m=this._element)===null||m===void 0?void 0:m.get();if(x&&b&&k){let N;f?!y.isOutside&&this._tabster.focusable.isFocusable(k,!0,!0,!0)?N=k:(y.useDefaultAction=!0,x.tabIndex=0,N=x):(v.useDefaultAction=!0,b.tabIndex=0,N=b),N&&k.dispatchEvent(new ju({by:"root",owner:k,next:null,relatedEvent:g}))&&Bc(N)}}},this.setTabbable=(f,g)=>{var m,y;for(const x of this._wrappers)if(x.manager===f){x.tabbable=g;break}const v=this._getCurrent();if(v){const x=v.tabbable?0:-1;let b=(m=this._firstDummy)===null||m===void 0?void 0:m.input;b&&(b.tabIndex=x),b=(y=this._lastDummy)===null||y===void 0?void 0:y.input,b&&(b.tabIndex=x)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout(()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()},0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=f=>{var g,m;const y=((g=this._firstDummy)===null||g===void 0?void 0:g.input)||((m=this._lastDummy)===null||m===void 0?void 0:m.input),v=this._transformElements,x=new Set;let b=0,k=0;const N=this._getWindow();for(let _=y;_&&_.nodeType===Node.ELEMENT_NODE;_=se.getParentElement(_)){let S=f.get(_);if(S===void 0){const T=N.getComputedStyle(_).transform;T&&T!=="none"&&(S={scrollTop:_.scrollTop,scrollLeft:_.scrollLeft}),f.set(_,S||null)}S&&(x.add(_),v.has(_)||_.addEventListener("scroll",this._addTransformOffsets),b+=S.scrollTop,k+=S.scrollLeft)}for(const _ of v)x.has(_)||_.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=x,()=>{var _,S;(_=this._firstDummy)===null||_===void 0||_.setTopLeft(b,k),(S=this._lastDummy)===null||S===void 0||S.setTopLeft(b,k)}};const l=r.get();if(!l)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=s;const u=l.__tabsterDummy;if((u||this)._wrappers.push({manager:n,priority:i,tabbable:!0}),u)return u;l.__tabsterDummy=this;const h=o==null?void 0:o.dummyInputsPosition,d=l.tagName;this._isOutside=h?h===H_t.Outside:(a||d==="UL"||d==="OL"||d==="TABLE")&&!(d==="LI"||d==="TD"||d==="TH"),this._firstDummy=new Dx(this._getWindow,this._isOutside,{isFirst:!0},r),this._lastDummy=new Dx(this._getWindow,this._isOutside,{isFirst:!1},r);const p=this._firstDummy.input;p&&e._dummyObserver.add(p,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=r,this._addDummyInputs()}dispose(e,r){var n,i,o,a;if((this._wrappers=this._wrappers.filter(l=>l.manager!==e&&!r)).length===0){delete((n=this._element)===null||n===void 0?void 0:n.get()).__tabsterDummy;for(const h of this._transformElements)h.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const l=this._getWindow();this._addTimer&&(l.clearTimeout(this._addTimer),delete this._addTimer);const u=(i=this._firstDummy)===null||i===void 0?void 0:i.input;u&&this._tabster._dummyObserver.remove(u),(o=this._firstDummy)===null||o===void 0||o.dispose(),(a=this._lastDummy)===null||a===void 0||a.dispose()}}_onFocus(e,r,n,i){var o;const a=this._getCurrent();!a||r.useDefaultAction&&!this._callForDefaultAction||(o=a.manager.getHandler(e))===null||o===void 0||o(r,n,i)}_getCurrent(){return this._wrappers.sort((e,r)=>e.tabbable!==r.tabbable?e.tabbable?-1:1:e.priority-r.priority),this._wrappers[0]}_ensurePosition(){var e,r,n;const i=(e=this._element)===null||e===void 0?void 0:e.get(),o=(r=this._firstDummy)===null||r===void 0?void 0:r.input,a=(n=this._lastDummy)===null||n===void 0?void 0:n.input;if(i&&o&&a)if(this._isOutside){const s=se.getParentNode(i);if(s){const l=se.getNextSibling(i);l!==a&&se.insertBefore(s,a,l),se.getPreviousElementSibling(i)!==o&&se.insertBefore(s,o,i)}}else{se.getLastElementChild(i)!==a&&se.appendChild(i,a);const s=se.getFirstElementChild(i);s&&s!==o&&s.parentNode&&se.insertBefore(s.parentNode,o,s)}}};function OQ(t){let e=null;for(let r=se.getLastElementChild(t);r;r=se.getLastElementChild(r))e=r;return e||void 0}function ak(t){return t.tagName==="INPUT"&&!!t.name&&t.type==="radio"}function Hm(t){var e;return((e=t==null?void 0:t.__tabsterDummyContainer)===null||e===void 0?void 0:e.get())||null}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function m7(t,e){const r=JSON.stringify(t);return e===!0?r:{[Nc]:r}}function a6t(t,e){for(const r of Object.keys(e)){const n=e[r];n?t[r]=n:delete t[r]}}function s6t(t,e,r){let n;{const i=t.getAttribute(Nc);if(i)try{n=JSON.parse(i)}catch{}}n||(n={}),a6t(n,e),Object.keys(n).length>0?t.setAttribute(Nc,m7(n,!0)):t.removeAttribute(Nc)}let dD=class extends jm{constructor(e,r,n,i){super(e,r,e6t,i,void 0,!0),this._onDummyInputFocus=o=>{var a;if(o.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const s=this._element.get();if(s){this._setFocused(!0);const l=this._tabster.focusedElement.getFirstOrLastTabbable(o.isFirst,{container:s,ignoreAccessibility:!0});if(l)return void Bc(l)}(a=o.input)===null||a===void 0||a.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=n}},l6t=class extends K4{constructor(e,r,n,i,o){super(e,r,i),this._isFocused=!1,this._setFocused=l=>{var u;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===l)return;const h=this._element.get();h&&(l?(this._isFocused=!0,(u=this._dummyManager)===null||u===void 0||u.setTabbable(!1),h.dispatchEvent(new Z_t({element:h}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout(()=>{var d;delete this._setFocusedTimer,this._isFocused=!1,(d=this._dummyManager)===null||d===void 0||d.setTabbable(!0),h.dispatchEvent(new Q_t({element:h}))},0))},this._onFocusIn=l=>{const u=this._tabster.getParent,h=this._element.get();let d=l.composedPath()[0];do{if(d===h)return void this._setFocused(!0);d=d&&u(d)}while(d)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=n;const a=e.getWindow;this.uid=ub(a,r),this._sys=o,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const s=a().document;s.addEventListener(tl,this._onFocusIn),s.addEventListener(Fm,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new dD(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const r=this._tabster.getWindow(),n=r.document;n.removeEventListener(tl,this._onFocusIn),n.removeEventListener(Fm,this._onFocusOut),this._setFocusedTimer&&(r.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),(e=this._dummyManager)===null||e===void 0||e.dispose(),this._remove()}moveOutWithDefaultAction(e,r){const n=this._dummyManager;if(n)n.moveOutWithDefaultAction(e,r);else{const i=this.getElement();i&&dD.moveWithPhantomDummy(this._tabster,i,!0,e,r)}}_add(){}_remove(){}},_i=class{constructor(e,r){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var n;const i=this._win().document,o=i.body;if(o){this._autoRootUnwait(i);const a=this._autoRoot;if(a)return s6t(o,{root:a}),AQ(this._tabster,o),(n=Yo(this._tabster,o))===null||n===void 0?void 0:n.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,i.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=n=>{delete this._roots[n.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=r,e.queueInit(()=>{this._autoRoot&&this._autoRootCreate()})}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach(r=>{this._roots[r]&&(this._roots[r].dispose(),delete this._roots[r])}),this.rootById={}}createRoot(e,r,n){const i=new l6t(this._tabster,e,this._onRootDispose,r,n);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const r of Object.keys(e))e[r].addDummyInputs()}static getRootByUId(e,r){const n=e().__tabsterInstance;return n&&n.root.rootById[r]}static getTabsterContext(e,r,n){var i,o,a,s;if(n===void 0&&(n={}),!r.ownerDocument)return;const{checkRtl:l,referenceElement:u}=n,h=e.getParent;let d,p,f,g;e.drainInitQueue();let m,y,v,x,b=!1,k=u||r;const N={};for(;k&&(!d||l);){const _=Yo(e,k);if(l&&v===void 0){const D=k.dir;D&&(v=D.toLowerCase()==="rtl")}if(!_){k=h(k);continue}const S=k.tagName;(_.uncontrolled||S==="IFRAME"||S==="WEBVIEW")&&(x=k),g||!(!((i=_.focusable)===null||i===void 0)&&i.excludeFromMover)||f||(b=!0);const T=_.modalizer,A=_.groupper,C=_.mover;!p&&T&&(p=T),f||!A||p&&!T||(p?(!A.isActive()&&A.getProps().tabbability&&p.userId!==((o=e.modalizer)===null||o===void 0?void 0:o.activeId)&&(p=void 0,f=A),y=A):f=A),g||!C||p&&!T||A&&k===r||!k.contains(r)||(g=C,m=!!f&&f!==A),_.root&&(d=_.root),!((a=_.focusable)===null||a===void 0)&&a.ignoreKeydown&&Object.assign(N,_.focusable.ignoreKeydown),k=h(k)}if(!d){const _=e.root;_._autoRoot&&(!((s=r.ownerDocument)===null||s===void 0)&&s.body)&&(d=_._autoRootCreate())}return f&&!g&&(m=!0),d?{root:d,modalizer:p,groupper:f,mover:g,groupperBeforeMover:m,modalizerInGroupper:y,rtl:l?!!v:void 0,uncontrolled:x,excludedFromMover:b,ignoreKeydown:_=>!!N[_.key]}:void 0}static getRoot(e,r){var n;const i=e.getParent;for(let o=r;o;o=i(o)){const a=(n=Yo(e,o))===null||n===void 0?void 0:n.root;if(a)return a}}onRoot(e,r){r?delete this.rootById[e.uid]:this.rootById[e.uid]=e}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let MQ=class{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const r=this._callbacks;r.indexOf(e)<0&&r.push(e)}subscribeFirst(e){const r=this._callbacks,n=r.indexOf(e);n>=0&&r.splice(n,1),r.unshift(e)}unsubscribe(e){const r=this._callbacks.indexOf(e);r>=0&&this._callbacks.splice(r,1)}setVal(e,r){this._val!==e&&(this._val=e,this._callCallbacks(e,r))}getVal(){return this._val}trigger(e,r){this._callCallbacks(e,r)}_callCallbacks(e,r){this._callbacks.forEach(n=>n(e,r))}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let c6t=class{constructor(e){this._tabster=e}dispose(){}getProps(e){const r=Yo(this._tabster,e);return r&&r.focusable||{}}isFocusable(e,r,n,i){return!(!DQ(e,SQ)||!r&&e.tabIndex===-1)&&(n||this.isVisible(e))&&(i||this.isAccessible(e))}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE||function(n){var i,o;const a=n.ownerDocument,s=(i=a.defaultView)===null||i===void 0?void 0:i.getComputedStyle(n);return n.offsetParent===null&&a.body!==n&&(s==null?void 0:s.position)!=="fixed"||(s==null?void 0:s.visibility)==="hidden"||(s==null?void 0:s.position)==="fixed"&&(s.display==="none"||((o=n.parentElement)===null||o===void 0?void 0:o.offsetParent)===null&&a.body!==n.parentElement)}(e))return!1;const r=e.ownerDocument.body.getBoundingClientRect();return r.width!==0||r.height!==0}isAccessible(e){var r;for(let n=e;n;n=se.getParentElement(n)){const i=Yo(this._tabster,n);if(this._isHidden(n)||!(!((r=i==null?void 0:i.focusable)===null||r===void 0)&&r.ignoreAriaDisabled)&&this._isDisabled(n))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var r;const n=e.getAttribute("aria-hidden");return!(!n||n.toLowerCase()!=="true"||!((r=this._tabster.modalizer)===null||r===void 0)&&r.isAugmented(e))}findFirst(e,r){return this.findElement({...e},r)}findLast(e,r){return this.findElement({isBackward:!0,...e},r)}findNext(e,r){return this.findElement({...e},r)}findPrev(e,r){return this.findElement({...e,isBackward:!0},r)}findDefault(e,r){return this.findElement({...e,acceptCondition:n=>this.isFocusable(n,e.includeProgrammaticallyFocusable)&&!!this.getProps(n).isDefault},r)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,r){const n=this._findElements(!1,e,r);return n&&n[0]}_findElements(e,r,n){var i,o,a;const{container:s,currentElement:l=null,includeProgrammaticallyFocusable:u,useActiveModalizer:h,ignoreAccessibility:d,modalizerId:p,isBackward:f,onElement:g}=r;n||(n={});const m=[];let{acceptCondition:y}=r;const v=!!y;if(!s)return null;y||(y=N=>this.isFocusable(N,u,!1,d));const x={container:s,modalizerUserId:p===void 0&&h?(i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId:p||((a=(o=_i.getTabsterContext(this._tabster,s))===null||o===void 0?void 0:o.modalizer)===null||a===void 0?void 0:a.userId),from:l||s,isBackward:f,isFindAll:e,acceptCondition:y,hasCustomCondition:v,includeProgrammaticallyFocusable:u,ignoreAccessibility:d,cachedGrouppers:{},cachedRadioGroups:{}},b=f7(s.ownerDocument,s,N=>this._acceptElement(N,x));if(!b)return null;const k=N=>{var _,S;const T=(_=x.foundElement)!==null&&_!==void 0?_:x.foundBackward;return T&&m.push(T),e?!(T&&(x.found=!1,delete x.foundElement,delete x.foundBackward,delete x.fromCtx,x.from=T,g&&!g(T)))&&!(!T&&!N):(T&&n&&(n.uncontrolled=(S=_i.getTabsterContext(this._tabster,T))===null||S===void 0?void 0:S.uncontrolled),!(!N||T))};if(l||(n.outOfDOMOrder=!0),l&&se.nodeContains(s,l))b.currentNode=l;else if(f){const N=OQ(s);if(!N)return null;if(this._acceptElement(N,x)===NodeFilter.FILTER_ACCEPT&&!k(!0))return x.skippedFocusable&&(n.outOfDOMOrder=!0),m;b.currentNode=N}do f?b.previousNode():b.nextNode();while(k());return x.skippedFocusable&&(n.outOfDOMOrder=!0),m.length?m:null}_acceptElement(e,r){var n,i,o;if(r.found)return NodeFilter.FILTER_ACCEPT;const a=r.foundBackward;if(a&&(e===a||!se.nodeContains(a,e)))return r.found=!0,r.foundElement=a,NodeFilter.FILTER_ACCEPT;const s=r.container;if(e===s)return NodeFilter.FILTER_SKIP;if(!se.nodeContains(s,e)||Hm(e)||se.nodeContains(r.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;const l=r.currentCtx=_i.getTabsterContext(this._tabster,e);if(!l)return NodeFilter.FILTER_SKIP;if(RQ(e))return this.isFocusable(e,void 0,!0,!0)&&(r.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!r.hasCustomCondition&&(e.tagName==="IFRAME"||e.tagName==="WEBVIEW"))return((n=l.modalizer)===null||n===void 0?void 0:n.userId)===((i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId)?(r.found=!0,r.rejectElementsFrom=r.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!r.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(r.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let u,h=r.fromCtx;h||(h=r.fromCtx=_i.getTabsterContext(this._tabster,r.from));const d=h==null?void 0:h.mover;let p=l.groupper,f=l.mover;if(u=(o=this._tabster.modalizer)===null||o===void 0?void 0:o.acceptElement(e,r),u!==void 0&&(r.skippedFocusable=!0),u===void 0&&(p||f||d)){const g=p==null?void 0:p.getElement(),m=d==null?void 0:d.getElement();let y=f==null?void 0:f.getElement();y&&se.nodeContains(m,y)&&se.nodeContains(s,m)&&(!g||!f||se.nodeContains(m,g))&&(f=d,y=m),!g||g!==s&&se.nodeContains(s,g)||(p=void 0),y&&!se.nodeContains(s,y)&&(f=void 0),p&&f&&(y&&g&&!se.nodeContains(g,y)?f=void 0:p=void 0),p&&(u=p.acceptElement(e,r)),f&&(u=f.acceptElement(e,r))}if(u===void 0&&(u=r.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,u===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(r.skippedFocusable=!0)),u===NodeFilter.FILTER_ACCEPT&&!r.found){if(!r.isFindAll&&ak(e)&&!e.checked){const g=e.name;let m=r.cachedRadioGroups[g];if(m||(m=function(y){if(!ak(y))return;const v=y.name;let x,b=Array.from(se.getElementsByName(y,v));return b=b.filter(k=>!!ak(k)&&(k.checked&&(x=k),!0)),{name:v,buttons:new Set(b),checked:x}}(e),m&&(r.cachedRadioGroups[g]=m)),(m==null?void 0:m.checked)&&m.checked!==e)return NodeFilter.FILTER_SKIP}r.isBackward?(r.foundBackward=e,u=NodeFilter.FILTER_SKIP):(r.found=!0,r.foundElement=e)}return u}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const u6t="Tab",pD="Enter",fD="Escape",h6t="PageUp",d6t="PageDown",gD="End",mD="Home",sk="ArrowLeft",lk="ArrowUp",yD="ArrowRight",vD="ArrowDown";/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const bD={[Ic.Restorer]:0,[Ic.Deloser]:1,[Ic.EscapeGroupper]:2};let F0=class jo extends MQ{constructor(e,r){super(),this._init=()=>{const n=this._win(),i=n.document;i.addEventListener(tl,this._onFocusIn,!0),i.addEventListener(Fm,this._onFocusOut,!0),n.addEventListener("keydown",this._onKeyDown,!0);const o=se.getActiveElement(i);o&&o!==i.body&&this._setFocusedElement(o),this.subscribe(this._onChanged)},this._onFocusIn=n=>{const i=n.composedPath()[0];i&&this._setFocusedElement(i,n.detail.relatedTarget,n.detail.isFocusedProgrammatically)},this._onFocusOut=n=>{var i;this._setFocusedElement(void 0,(i=n.detail)===null||i===void 0?void 0:i.originalEvent.relatedTarget)},this._validateFocusedElement=n=>{},this._onKeyDown=n=>{if(n.key!==u6t||n.ctrlKey)return;const i=this.getVal();if(!i||!i.ownerDocument||i.contentEditable==="true")return;const o=this._tabster,a=o.controlTab,s=_i.getTabsterContext(o,i);if(!s||s.ignoreKeydown(n))return;const l=n.shiftKey,u=jo.findNextTabbable(o,s,void 0,i,void 0,l,!0),h=s.root.getElement();if(!h)return;const d=u==null?void 0:u.element,p=function(f,g){var m;const y=f.getParent;let v=g;do{const x=(m=Yo(f,v))===null||m===void 0?void 0:m.uncontrolled;if(x&&f.uncontrolled.isUncontrolledCompletely(v,!!x.completely))return v;v=y(v)}while(v)}(o,i);if(d){const f=u.uncontrolled;if(s.uncontrolled||se.nodeContains(f,i))return!u.outOfDOMOrder&&f===s.uncontrolled||p&&!se.nodeContains(p,d)?void 0:void jm.addPhantomDummyWithTarget(o,i,l,d);if(f||d.tagName==="IFRAME")return void(h.dispatchEvent(new ju({by:"root",owner:h,next:d,relatedEvent:n}))&&jm.moveWithPhantomDummy(this._tabster,f??d,!1,l,n));(a||u!=null&&u.outOfDOMOrder)&&h.dispatchEvent(new ju({by:"root",owner:h,next:d,relatedEvent:n}))&&(n.preventDefault(),n.stopImmediatePropagation(),Bc(d))}else!p&&h.dispatchEvent(new ju({by:"root",owner:h,next:null,relatedEvent:n}))&&s.root.moveOutWithDefaultAction(l,n)},this._onChanged=(n,i)=>{var o,a;if(n)n.dispatchEvent(new X_t(i));else{const s=(o=this._lastVal)===null||o===void 0?void 0:o.get();if(s){const l={...i},u=_i.getTabsterContext(this._tabster,s),h=(a=u==null?void 0:u.modalizer)===null||a===void 0?void 0:a.userId;h&&(l.modalizerId=h),s.dispatchEvent(new K_t(l))}}},this._tabster=e,this._win=r,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win(),r=e.document;r.removeEventListener(tl,this._onFocusIn,!0),r.removeEventListener(Fm,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);const n=this._asyncFocus;n&&(e.clearTimeout(n.timeout),delete this._asyncFocus),delete jo._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,r){var n,i;let o=jo._lastResetElement,a=o&&o.get();a&&se.nodeContains(r,a)&&delete jo._lastResetElement,a=(i=(n=e._nextVal)===null||n===void 0?void 0:n.element)===null||i===void 0?void 0:i.get(),a&&se.nodeContains(r,a)&&delete e._nextVal,o=e._lastVal,a=o&&o.get(),a&&se.nodeContains(r,a)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let r=(e=this._lastVal)===null||e===void 0?void 0:e.get();return(!r||r&&!g7(r.ownerDocument,r))&&(this._lastVal=r=void 0),r}focus(e,r,n,i){return!!this._tabster.focusable.isFocusable(e,r,!1,n)&&(e.focus({preventScroll:i}),!0)}focusDefault(e){const r=this._tabster.focusable.findDefault({container:e});return!!r&&(this._tabster.focusedElement.focus(r),!0)}getFirstOrLastTabbable(e,r){var n;const{container:i,ignoreAccessibility:o}=r;let a;if(i){const s=_i.getTabsterContext(this._tabster,i);s&&(a=(n=jo.findNextTabbable(this._tabster,s,i,void 0,void 0,!e,o))===null||n===void 0?void 0:n.element)}return a&&!se.nodeContains(i,a)&&(a=void 0),a||void 0}_focusFirstOrLast(e,r){const n=this.getFirstOrLastTabbable(e,r);return!!n&&(this.focus(n,!1,!0),!0)}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const r=e.getAttribute("tabindex"),n=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),jo._lastResetElement=new el(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",r),this._setOrRemoveAttribute(e,"aria-hidden",n)}return!0}requestAsyncFocus(e,r,n){const i=this._tabster.getWindow(),o=this._asyncFocus;if(o){if(bD[e]>bD[o.source])return;i.clearTimeout(o.timeout)}this._asyncFocus={source:e,callback:r,timeout:i.setTimeout(()=>{this._asyncFocus=void 0,r()},n)}}cancelAsyncFocus(e){const r=this._asyncFocus;(r==null?void 0:r.source)===e&&(this._tabster.getWindow().clearTimeout(r.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(e,r,n){n===null?e.removeAttribute(r):e.setAttribute(r,n)}_setFocusedElement(e,r,n){var i,o;if(this._tabster._noop)return;const a={relatedTarget:r};if(e){const l=(i=jo._lastResetElement)===null||i===void 0?void 0:i.get();if(jo._lastResetElement=void 0,l===e||RQ(e))return;a.isFocusedProgrammatically=n;const u=_i.getTabsterContext(this._tabster,e),h=(o=u==null?void 0:u.modalizer)===null||o===void 0?void 0:o.userId;h&&(a.modalizerId=h)}const s=this._nextVal={element:e?new el(this._win,e):void 0,detail:a};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===s&&this.setVal(e,a),this._nextVal=void 0}setVal(e,r){super.setVal(e,r),e&&(this._lastVal=new el(this._win,e))}static findNextTabbable(e,r,n,i,o,a,s){const l=n||r.root.getElement();if(!l)return null;let u=null;const h=jo._isTabbingTimer,d=e.getWindow();h&&d.clearTimeout(h),jo.isTabbing=!0,jo._isTabbingTimer=d.setTimeout(()=>{delete jo._isTabbingTimer,jo.isTabbing=!1},0);const p=r.modalizer,f=r.groupper,g=r.mover,m=y=>{if(u=y.findNextTabbable(i,o,a,s),i&&!(u!=null&&u.element)){const v=y!==p&&se.getParentElement(y.getElement());if(v){const x=_i.getTabsterContext(e,i,{referenceElement:v});if(x){const b=y.getElement(),k=a?b:b&&OQ(b)||b;k&&(u=jo.findNextTabbable(e,x,n,k,v,a,s),u&&(u.outOfDOMOrder=!0))}}}};if(f&&g)m(r.groupperBeforeMover?f:g);else if(f)m(f);else if(g)m(g);else if(p)m(p);else{const y={container:l,currentElement:i,referenceElement:o,ignoreAccessibility:s,useActiveModalizer:!0},v={};u={element:e.focusable[a?"findPrev":"findNext"](y,v),outOfDOMOrder:v.outOfDOMOrder,uncontrolled:v.uncontrolled}}return u}};F0.isTabbing=!1;/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let p6t=class extends jm{constructor(e,r,n,i){super(n,e,n6t,i,!0),this._setHandlers((o,a,s)=>{var l,u;const h=e.get(),d=o.input;if(h&&d){const p=_i.getTabsterContext(n,d);if(p){let f;f=(l=r.findNextTabbable(s||void 0,void 0,a,!0))===null||l===void 0?void 0:l.element,f||(f=(u=F0.findNextTabbable(n,p,void 0,o.isOutside?d:function(g,m){let y=g,v=null;for(;y&&!v;)v=m?se.getPreviousElementSibling(y):se.getNextElementSibling(y),y=se.getParentElement(y);return v||void 0}(h,!a),void 0,a,!0))===null||u===void 0?void 0:u.element),f&&Bc(f)}}})}},f6t=class extends K4{constructor(e,r,n,i,o){super(e,r,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=n,e.controlTab||(this.dummyManager=new p6t(this._element,this,e,o))}dispose(){var e;this._onDispose(this),this._element.get(),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(e,r,n,i){const o=this.getElement();if(!o)return null;const a=Hm(e)===o;if(!this._shouldTabInside&&e&&se.nodeContains(o,e)&&!a)return{element:void 0,outOfDOMOrder:!0};const s=this.getFirst(!0);if(!e||!se.nodeContains(o,e)||a)return{element:s,outOfDOMOrder:!0};const l=this._tabster;let u,h=null,d=!1;if(this._shouldTabInside&&s){const p={container:o,currentElement:e,referenceElement:r,ignoreAccessibility:i,useActiveModalizer:!0},f={};h=l.focusable[n?"findPrev":"findNext"](p,f),d=!!f.outOfDOMOrder,h||this._props.tabbability!==cb.LimitedTrapFocus||(h=l.focusable[n?"findLast":"findFirst"]({container:o,ignoreAccessibility:i,useActiveModalizer:!0},f),d=!0),u=f.uncontrolled}return{element:h,uncontrolled:u,outOfDOMOrder:d}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var r;const n=this.getElement()||null;let i=!0;for(let a=se.getParentElement(n);a;a=se.getParentElement(a)){const s=(r=Yo(this._tabster,a))===null||r===void 0?void 0:r.groupper;s&&(s._shouldTabInside||(i=!1))}let o=i?!!this._props.tabbability&&this._shouldTabInside:void 0;if(o&&e){const a=this._tabster.focusedElement.getFocusedElement();a&&(o=a!==this.getFirst(!0))}return o}getFirst(e){var r;const n=this.getElement();let i;if(n){if(e&&this._tabster.focusable.isFocusable(n))return n;i=(r=this._first)===null||r===void 0?void 0:r.get(),i||(i=this._tabster.focusable.findFirst({container:n,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(e){e?this._first=new el(this._tabster.getWindow,e):delete this._first}acceptElement(e,r){const n=r.cachedGrouppers,i=se.getParentElement(this.getElement()),o=i&&_i.getTabsterContext(this._tabster,i),a=o==null?void 0:o.groupper,s=o!=null&&o.groupperBeforeMover?a:void 0;let l;const u=p=>{let f,g=n[p.id];return g?f=g.isActive:(f=this.isActive(!0),g=n[p.id]={isActive:f}),f};if(s&&(l=s.getElement(),!u(s)&&l&&r.container!==l&&se.nodeContains(r.container,l)))return r.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const h=u(this),d=this.getElement();if(d&&h!==!0){if(d===e&&a&&(l||(l=a.getElement()),l&&!u(a)&&se.nodeContains(r.container,l)&&l!==r.container)||d!==e&&se.nodeContains(d,e))return r.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const p=n[this.id];let f;if(f="first"in p?p.first:p.first=this.getFirst(!0),f&&r.acceptCondition(f))return r.rejectElementsFrom=d,r.skippedFocusable=!0,f!==r.from?(r.found=!0,r.foundElement=f,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}},g6t=class{constructor(e,r){this._current={},this._grouppers={},this._init=()=>{const n=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus);const i=n.document,o=se.getActiveElement(i);o&&this._onFocus(o),i.addEventListener("mousedown",this._onMouseDown,!0),n.addEventListener("keydown",this._onKeyDown,!0),n.addEventListener(aD,this._onMoveFocus)},this._onGroupperDispose=n=>{delete this._grouppers[n.id]},this._onFocus=n=>{n&&this._updateCurrent(n)},this._onMouseDown=n=>{let i=n.target;for(;i&&!this._tabster.focusable.isFocusable(i);)i=this._tabster.getParent(i);i&&this._updateCurrent(i)},this._onKeyDown=n=>{if(n.key!==pD&&n.key!==fD||n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)return;const i=this._tabster.focusedElement.getFocusedElement();i&&this.handleKeyPress(i,n)},this._onMoveFocus=n=>{var i;const o=n.composedPath()[0],a=(i=n.detail)===null||i===void 0?void 0:i.action;o&&a!==void 0&&!n.defaultPrevented&&(a===nD.Enter?this._enterGroupper(o):this._escapeGroupper(o),n.stopImmediatePropagation())},this._tabster=e,this._win=r,e.queueInit(this._init)}dispose(){const e=this._win();this._tabster.focusedElement.cancelAsyncFocus(Ic.EscapeGroupper),this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener(aD,this._onMoveFocus),Object.keys(this._grouppers).forEach(r=>{this._grouppers[r]&&(this._grouppers[r].dispose(),delete this._grouppers[r])})}createGroupper(e,r,n){const i=this._tabster,o=new f6t(i,e,this._onGroupperDispose,r,n);this._grouppers[o.id]=o;const a=i.focusedElement.getFocusedElement();return a&&se.nodeContains(e,a)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout(()=>{delete this._updateTimer,a===i.focusedElement.getFocusedElement()&&this._updateCurrent(a)},0)),o}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e){var r;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const n=this._tabster,i={};for(let o=n.getParent(e);o;o=n.getParent(o)){const a=(r=Yo(n,o))===null||r===void 0?void 0:r.groupper;if(a){i[a.id]=!0,this._current[a.id]=a;const s=a.isActive()||e!==o&&(!a.getProps().delegated||a.getFirst(!1)!==e);a.makeTabbable(s)}}for(const o of Object.keys(this._current)){const a=this._current[o];a.id in i||(a.makeTabbable(!1),a.setFirst(void 0),delete this._current[o])}}_enterGroupper(e,r){const n=this._tabster,i=_i.getTabsterContext(n,e),o=(i==null?void 0:i.groupper)||(i==null?void 0:i.modalizerInGroupper),a=o==null?void 0:o.getElement();if(o&&a&&(e===a||o.getProps().delegated&&e===o.getFirst(!1))){const s=n.focusable.findNext({container:a,currentElement:e,useActiveModalizer:!0});if(s&&(!r||r&&a.dispatchEvent(new ju({by:"groupper",owner:a,next:s,relatedEvent:r}))))return r&&(r.preventDefault(),r.stopImmediatePropagation()),s.focus(),s}return null}_escapeGroupper(e,r,n){const i=this._tabster,o=_i.getTabsterContext(i,e);let a=(o==null?void 0:o.groupper)||(o==null?void 0:o.modalizerInGroupper);const s=a==null?void 0:a.getElement();if(a&&s&&se.nodeContains(s,e)){let l;if(e!==s||n)l=a.getFirst(!0);else{const u=se.getParentElement(s),h=u?_i.getTabsterContext(i,u):void 0;a=h==null?void 0:h.groupper,l=a==null?void 0:a.getFirst(!0)}if(l&&(!r||r&&s.dispatchEvent(new ju({by:"groupper",owner:s,next:l,relatedEvent:r}))))return a&&a.makeTabbable(!1),l.focus(),l}return null}moveFocus(e,r){return r===nD.Enter?this._enterGroupper(e):this._escapeGroupper(e)}handleKeyPress(e,r,n){const i=this._tabster,o=_i.getTabsterContext(i,e);if(o&&(o!=null&&o.groupper||o!=null&&o.modalizerInGroupper)){if(i.focusedElement.cancelAsyncFocus(Ic.EscapeGroupper),o.ignoreKeydown(r))return;if(r.key===pD)this._enterGroupper(e,r);else if(r.key===fD){const a=i.focusedElement.getFocusedElement();i.focusedElement.requestAsyncFocus(Ic.EscapeGroupper,()=>{(a===i.focusedElement.getFocusedElement()||(!n||a)&&n)&&this._escapeGroupper(e,r,n)},0)}}}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let m6t=class extends MQ{constructor(e){super(),this._onChange=r=>{this.setVal(r,void 0)},this._keyborg=Y4(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),X4(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var r;(r=this._keyborg)===null||r===void 0||r.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(!((e=this._keyborg)===null||e===void 0)&&e.isNavigatingWithKeyboard())}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const y6t=["input","textarea","*[contenteditable]"].join(", ");let v6t=class extends jm{constructor(e,r,n,i){super(r,e,r6t,i),this._onFocusDummyInput=o=>{var a,s;const l=this._element.get(),u=o.input;if(l&&u){const h=_i.getTabsterContext(this._tabster,l);let d;h&&(d=(a=F0.findNextTabbable(this._tabster,h,void 0,u,void 0,!o.isFirst,!0))===null||a===void 0?void 0:a.element);const p=(s=this._getMemorized())===null||s===void 0?void 0:s.get();p&&this._tabster.focusable.isFocusable(p)&&(d=p),d&&Bc(d)}},this._tabster=r,this._getMemorized=n,this._setHandlers(this._onFocusDummyInput)}},b6t=class extends K4{constructor(e,r,n,i,o){var a;super(e,r,i),this._visible={},this._onIntersection=l=>{for(const u of l){const h=u.target,d=ub(this._win,h);let p,f=this._fullyVisible;if(u.intersectionRatio>=.25?(p=u.intersectionRatio>=.75?tu.Visible:tu.PartiallyVisible,p===tu.Visible&&(f=d)):p=tu.Invisible,this._visible[d]!==p){p===void 0?(delete this._visible[d],f===d&&delete this._fullyVisible):(this._visible[d]=p,this._fullyVisible=f);const g=this.getState(h);g&&h.dispatchEvent(new sD(g))}}},this._win=e.getWindow,this.visibilityTolerance=(a=i.visibilityTolerance)!==null&&a!==void 0?a:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=n;const s=()=>i.memorizeCurrent?this._current:void 0;e.controlTab||(this.dummyManager=new v6t(this._element,e,s,o))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const r=this._win();this._setCurrentTimer&&(r.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(r.clearTimeout(this._updateTimer),delete this._updateTimer),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager}setCurrent(e){this._current=e?new el(this._win,e):void 0,!this._props.trackState&&!this._props.visibilityAware||this._setCurrentTimer||(this._setCurrentTimer=this._win().setTimeout(()=>{var r;delete this._setCurrentTimer;const n=[];this._current!==this._prevCurrent&&(n.push(this._current),n.push(this._prevCurrent),this._prevCurrent=this._current);for(const i of n){const o=i==null?void 0:i.get();if(o&&((r=this._allElements)===null||r===void 0?void 0:r.get(o))===this){const a=this._props;if(o&&(a.visibilityAware!==void 0||a.trackState)){const s=this.getState(o);s&&o.dispatchEvent(new sD(s))}}}}))}getCurrent(){var e;return((e=this._current)===null||e===void 0?void 0:e.get())||null}findNextTabbable(e,r,n,i){const o=this.getElement(),a=o&&Hm(e)===o;if(!o)return null;let s,l=null,u=!1;if(this._props.tabbable||a||e&&!se.nodeContains(o,e)){const h={currentElement:e,referenceElement:r,container:o,ignoreAccessibility:i,useActiveModalizer:!0},d={};l=this._tabster.focusable[n?"findPrev":"findNext"](h,d),u=!!d.outOfDOMOrder,s=d.uncontrolled}return{element:l,uncontrolled:s,outOfDOMOrder:u}}acceptElement(e,r){var n,i;if(!F0.isTabbing)return!((n=r.currentCtx)===null||n===void 0)&&n.excludedFromMover?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:o,visibilityAware:a,hasDefault:s=!0}=this._props,l=this.getElement();if(l&&(o||a||s)&&(!se.nodeContains(l,r.from)||Hm(r.from)===l)){let u;if(o){const h=(i=this._current)===null||i===void 0?void 0:i.get();h&&r.acceptCondition(h)&&(u=h)}if(!u&&s&&(u=this._tabster.focusable.findDefault({container:l,useActiveModalizer:!0})),!u&&a&&(u=this._tabster.focusable.findElement({container:l,useActiveModalizer:!0,isBackward:r.isBackward,acceptCondition:h=>{var d;const p=ub(this._win,h),f=this._visible[p];return l!==h&&!!(!((d=this._allElements)===null||d===void 0)&&d.get(h))&&r.acceptCondition(h)&&(f===tu.Visible||f===tu.PartiallyVisible&&(a===tu.PartiallyVisible||!this._fullyVisible))}})),u)return r.found=!0,r.foundElement=u,r.rejectElementsFrom=l,r.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||typeof MutationObserver>"u")return;const r=this._win(),n=this._allElements=new WeakMap,i=this._tabster.focusable;let o=this._updateQueue=[];const a=se.createMutationObserver(f=>{for(const g of f){const m=g.target,y=g.removedNodes,v=g.addedNodes;if(g.type==="attributes")g.attributeName==="tabindex"&&o.push({element:m,type:2});else{for(let x=0;x<y.length;x++)o.push({element:y[x],type:3});for(let x=0;x<v.length;x++)o.push({element:v[x],type:1})}}d()}),s=(f,g)=>{var m,y;const v=n.get(f);v&&g&&((m=this._intersectionObserver)===null||m===void 0||m.unobserve(f),n.delete(f)),v||g||(n.set(f,this),(y=this._intersectionObserver)===null||y===void 0||y.observe(f))},l=f=>{const g=i.isFocusable(f);n.get(f)?g||s(f,!0):g&&s(f)},u=f=>{const{mover:g}=p(f);if(g&&g!==this){if(g.getElement()!==f||!i.isFocusable(f))return;s(f)}const m=f7(r.document,f,y=>{const{mover:v,groupper:x}=p(y);if(v&&v!==this)return NodeFilter.FILTER_REJECT;const b=x==null?void 0:x.getFirst(!0);return x&&x.getElement()!==y&&b&&b!==y?NodeFilter.FILTER_REJECT:(i.isFocusable(y)&&s(y),NodeFilter.FILTER_SKIP)});if(m)for(m.currentNode=f;m.nextNode(););},h=f=>{n.get(f)&&s(f,!0);for(let g=se.getFirstElementChild(f);g;g=se.getNextElementSibling(g))h(g)},d=()=>{!this._updateTimer&&o.length&&(this._updateTimer=r.setTimeout(()=>{delete this._updateTimer;for(const{element:f,type:g}of o)switch(g){case 2:l(f);break;case 1:u(f);break;case 3:h(f)}o=this._updateQueue=[]},0))},p=f=>{const g={};for(let m=f;m;m=se.getParentElement(m)){const y=Yo(this._tabster,m);if(y&&(y.groupper&&!g.groupper&&(g.groupper=y.groupper),y.mover)){g.mover=y.mover;break}}return g};o.push({element:e,type:1}),d(),a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{a.disconnect()}}getState(e){const r=ub(this._win,e);if(r in this._visible){const n=this._visible[r]||tu.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:n}}}},x6t=class{constructor(e,r){this._init=()=>{const n=this._win();n.addEventListener("keydown",this._onKeyDown,!0),n.addEventListener(iD,this._onMoveFocus),n.addEventListener(oD,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=n=>{delete this._movers[n.id]},this._onFocus=n=>{var i;let o=n,a=n;for(let s=se.getParentElement(n);s;s=se.getParentElement(s)){const l=(i=Yo(this._tabster,s))===null||i===void 0?void 0:i.mover;l&&(l.setCurrent(a),o=void 0),!o&&this._tabster.focusable.isFocusable(s)&&(o=a=s)}},this._onKeyDown=async n=>{var i;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),(i=this._ignoredInputResolve)===null||i===void 0||i.call(this,!1),n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)return;const o=n.key;let a;if(o===vD?a=Vn.ArrowDown:o===yD?a=Vn.ArrowRight:o===lk?a=Vn.ArrowUp:o===sk?a=Vn.ArrowLeft:o===d6t?a=Vn.PageDown:o===h6t?a=Vn.PageUp:o===mD?a=Vn.Home:o===gD&&(a=Vn.End),!a)return;const s=this._tabster.focusedElement.getFocusedElement();s&&!await this._isIgnoredInput(s,o)&&this._moveFocus(s,a,n)},this._onMoveFocus=n=>{var i;const o=n.composedPath()[0],a=(i=n.detail)===null||i===void 0?void 0:i.key;o&&a!==void 0&&!n.defaultPrevented&&(this._moveFocus(o,a),n.stopImmediatePropagation())},this._onMemorizedElement=n=>{var i;const o=n.composedPath()[0];let a=(i=n.detail)===null||i===void 0?void 0:i.memorizedElement;if(o){const s=_i.getTabsterContext(this._tabster,o),l=s==null?void 0:s.mover;l&&(a&&!se.nodeContains(l.getElement(),a)&&(a=void 0),l.setCurrent(a),n.stopImmediatePropagation())}},this._tabster=e,this._win=r,this._movers={},e.queueInit(this._init)}dispose(){var e;const r=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),(e=this._ignoredInputResolve)===null||e===void 0||e.call(this,!1),this._ignoredInputTimer&&(r.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),r.removeEventListener("keydown",this._onKeyDown,!0),r.removeEventListener(iD,this._onMoveFocus),r.removeEventListener(oD,this._onMemorizedElement),Object.keys(this._movers).forEach(n=>{this._movers[n]&&(this._movers[n].dispose(),delete this._movers[n])})}createMover(e,r,n){const i=new b6t(this._tabster,e,this._onMoverDispose,r,n);return this._movers[i.id]=i,i}moveFocus(e,r){return this._moveFocus(e,r)}_moveFocus(e,r,n){var i,o;const a=this._tabster,s=_i.getTabsterContext(a,e,{checkRtl:!0});if(!s||!s.mover||s.excludedFromMover||n&&s.ignoreKeydown(n))return null;const l=s.mover,u=l.getElement();if(s.groupperBeforeMover){const T=s.groupper;if(!T||T.isActive(!0))return null;for(let A=se.getParentElement(T.getElement());A&&A!==u;A=se.getParentElement(A))if(!((o=(i=Yo(a,A))===null||i===void 0?void 0:i.groupper)===null||o===void 0)&&o.isActive(!0))return null}if(!u)return null;const h=a.focusable,d=l.getProps(),p=d.direction||qs.Both,f=p===qs.Both,g=f||p===qs.Vertical,m=f||p===qs.Horizontal,y=p===qs.GridLinear,v=y||p===qs.Grid,x=d.cyclic;let b,k,N,_=0,S=0;if(v&&(N=e.getBoundingClientRect(),_=Math.ceil(N.left),S=Math.floor(N.right)),s.rtl&&(r===Vn.ArrowRight?r=Vn.ArrowLeft:r===Vn.ArrowLeft&&(r=Vn.ArrowRight)),r===Vn.ArrowDown&&g||r===Vn.ArrowRight&&(m||v))if(b=h.findNext({currentElement:e,container:u,useActiveModalizer:!0}),b&&v){const T=Math.ceil(b.getBoundingClientRect().left);!y&&S>T&&(b=void 0)}else!b&&x&&(b=h.findFirst({container:u,useActiveModalizer:!0}));else if(r===Vn.ArrowUp&&g||r===Vn.ArrowLeft&&(m||v))if(b=h.findPrev({currentElement:e,container:u,useActiveModalizer:!0}),b&&v){const T=Math.floor(b.getBoundingClientRect().right);!y&&T>_&&(b=void 0)}else!b&&x&&(b=h.findLast({container:u,useActiveModalizer:!0}));else if(r===Vn.Home)v?h.findElement({container:u,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:T=>{var A;if(!h.isFocusable(T))return!1;const C=Math.ceil((A=T.getBoundingClientRect().left)!==null&&A!==void 0?A:0);return T!==e&&_<=C||(b=T,!1)}}):b=h.findFirst({container:u,useActiveModalizer:!0});else if(r===Vn.End)v?h.findElement({container:u,currentElement:e,useActiveModalizer:!0,acceptCondition:T=>{var A;if(!h.isFocusable(T))return!1;const C=Math.ceil((A=T.getBoundingClientRect().left)!==null&&A!==void 0?A:0);return T!==e&&_>=C||(b=T,!1)}}):b=h.findLast({container:u,useActiveModalizer:!0});else if(r===Vn.PageUp){if(h.findElement({currentElement:e,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:T=>!!h.isFocusable(T)&&(!uD(this._win,T,l.visibilityTolerance)||(b=T,!1))}),v&&b){const T=Math.ceil(b.getBoundingClientRect().left);h.findElement({currentElement:b,container:u,useActiveModalizer:!0,acceptCondition:A=>{if(!h.isFocusable(A))return!1;const C=Math.ceil(A.getBoundingClientRect().left);return _<C||T>=C||(b=A,!1)}})}k=!1}else if(r===Vn.PageDown){if(h.findElement({currentElement:e,container:u,useActiveModalizer:!0,acceptCondition:T=>!!h.isFocusable(T)&&(!uD(this._win,T,l.visibilityTolerance)||(b=T,!1))}),v&&b){const T=Math.ceil(b.getBoundingClientRect().left);h.findElement({currentElement:b,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:A=>{if(!h.isFocusable(A))return!1;const C=Math.ceil(A.getBoundingClientRect().left);return _>C||T<=C||(b=A,!1)}})}k=!0}else if(v){const T=r===Vn.ArrowUp,A=_,C=Math.ceil(N.top),D=S,E=Math.floor(N.bottom);let $,I,L=0;h.findAll({container:u,currentElement:e,isBackward:T,onElement:O=>{const B=O.getBoundingClientRect(),R=Math.ceil(B.left),M=Math.ceil(B.top),F=Math.floor(B.right),P=Math.floor(B.bottom);if(T&&C<P||!T&&E>M)return!0;const U=Math.ceil(Math.min(D,F))-Math.floor(Math.max(A,R)),W=Math.ceil(Math.min(D-A,F-R));if(U>0&&W>=U){const Q=U/W;Q>L&&($=O,L=Q)}else if(L===0){const Q=function(K,G,V,rt,tt,at,ut,st){const _t=V<tt?tt-V:ut<K?K-ut:0,X=rt<at?at-rt:st<G?G-st:0;return _t===0?X:X===0?_t:Math.sqrt(_t*_t+X*X)}(A,C,D,E,R,M,F,P);(I===void 0||Q<I)&&(I=Q,$=O)}else if(L>0)return!1;return!0}}),b=$}return b&&(!n||n&&u.dispatchEvent(new ju({by:"mover",owner:u,next:b,relatedEvent:n})))?(k!==void 0&&function(T,A,C){const D=LQ(A);if(D){const E=IQ(T,D),$=A.getBoundingClientRect();D.scrollTop+=C?$.top-E.top:$.bottom-E.bottom}}(this._win,b,k),n&&(n.preventDefault(),n.stopImmediatePropagation()),Bc(b),b):null}async _isIgnoredInput(e,r){if(e.getAttribute("aria-expanded")==="true"&&e.hasAttribute("aria-activedescendant"))return!0;if(DQ(e,y6t)){let n,i=0,o=0,a=0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"){const s=e.type;if(a=(e.value||"").length,s==="email"||s==="number"){if(a){const u=se.getSelection(e);if(u){const h=u.toString().length,d=r===sk||r===lk;if(u.modify("extend",d?"backward":"forward","character"),h!==u.toString().length)return u.modify("extend",d?"forward":"backward","character"),!0;a=0}}}else{const u=e.selectionStart;if(u===null)return s==="hidden";i=u||0,o=e.selectionEnd||0}}else e.contentEditable==="true"&&(n=new(function(s){const l=Pc(s);if(l.basics.Promise)return l.basics.Promise;throw new Error("No Promise defined.")}(this._win))(s=>{this._ignoredInputResolve=f=>{delete this._ignoredInputResolve,s(f)};const l=this._win();this._ignoredInputTimer&&l.clearTimeout(this._ignoredInputTimer);const{anchorNode:u,focusNode:h,anchorOffset:d,focusOffset:p}=se.getSelection(e)||{};this._ignoredInputTimer=l.setTimeout(()=>{var f,g,m;delete this._ignoredInputTimer;const{anchorNode:y,focusNode:v,anchorOffset:x,focusOffset:b}=se.getSelection(e)||{};if(y===u&&v===h&&x===d&&b===p){if(i=x||0,o=b||0,a=((g=e.textContent)===null||g===void 0?void 0:g.length)||0,y&&v&&se.nodeContains(e,y)&&se.nodeContains(e,v)&&y!==e){let k=!1;const N=_=>{if(_===y)k=!0;else if(_===v)return!0;const S=_.textContent;if(S&&!se.getFirstChild(_)){const A=S.length;k?v!==y&&(o+=A):(i+=A,o+=A)}let T=!1;for(let A=se.getFirstChild(_);A&&!T;A=A.nextSibling)T=N(A);return T};N(e)}(m=this._ignoredInputResolve)===null||m===void 0||m.call(this,!0)}else(f=this._ignoredInputResolve)===null||f===void 0||f.call(this,!1)},0)}));if(n&&!await n||i!==o||i>0&&(r===sk||r===lk||r===mD)||i<a&&(r===yD||r===vD||r===gD))return!0}return!1}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 *//*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let w6t=class{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,r){var n;const i=(n=this._isUncontrolledCompletely)===null||n===void 0?void 0:n.call(this,e,r);return i===void 0?r:i}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let k6t=class extends K4{constructor(e,r,n){var i;if(super(e,r,n),this._hasFocus=!1,this._onFocusOut=o=>{var a;const s=(a=this._element)===null||a===void 0?void 0:a.get();s&&o.relatedTarget===null&&s.dispatchEvent(new lD),s&&!se.nodeContains(s,o.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===zm.Source){const o=(i=this._element)===null||i===void 0?void 0:i.get();o==null||o.addEventListener("focusout",this._onFocusOut),o==null||o.addEventListener("focusin",this._onFocusIn),this._hasFocus=se.nodeContains(o,o&&se.getActiveElement(o.ownerDocument))}}dispose(){var e;if(this._props.type===zm.Source){const r=(e=this._element)===null||e===void 0?void 0:e.get();r==null||r.removeEventListener("focusout",this._onFocusOut),r==null||r.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&this._tabster.getWindow().document.body.dispatchEvent(new lD)}}},BQ=class PQ{constructor(e){this._stack=[],this._getWindow=e}push(e){var r;((r=this._stack[this._stack.length-1])===null||r===void 0?void 0:r.get())!==e&&(this._stack.length>PQ.DEPTH&&this._stack.shift(),this._stack.push(new el(this._getWindow,e)))}pop(e){var r;e===void 0&&(e=()=>!0);const n=this._getWindow().document;for(let i=this._stack.length-1;i>=0;i--){const o=(r=this._stack.pop())===null||r===void 0?void 0:r.get();if(o&&se.nodeContains(n.body,se.getParentElement(o))&&e(o))return o}}};BQ.DEPTH=10;let T6t=class{constructor(e){this._onRestoreFocus=r=>{var n,i;this._focusedElementState.cancelAsyncFocus(Ic.Restorer);const o=r.composedPath()[0];if(o){const a=(i=(n=Yo(this._tabster,o))===null||n===void 0?void 0:n.restorer)===null||i===void 0?void 0:i.getProps().id;this._focusedElementState.requestAsyncFocus(Ic.Restorer,()=>this._restoreFocus(o,a),0)}},this._onFocusIn=r=>{var n;if(!r)return;const i=Yo(this._tabster,r);((n=i==null?void 0:i.restorer)===null||n===void 0?void 0:n.getProps().type)===zm.Target&&this._history.push(r)},this._restoreFocus=(r,n)=>{var i;const o=this._getWindow().document;if(se.getActiveElement(o)!==o.body||!this._keyboardNavState.isNavigatingWithKeyboard()&&se.nodeContains(o.body,r))return;const a=s=>{var l,u;return(u=(l=Yo(this._tabster,s))===null||l===void 0?void 0:l.restorer)===null||u===void 0?void 0:u.getProps().id};(i=this._history.pop(s=>n===a(s)))===null||i===void 0||i.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener(l6,this._onRestoreFocus),this._history=new BQ(this._getWindow),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),this._focusedElementState.cancelAsyncFocus(Ic.Restorer),e.removeEventListener(l6,this._onRestoreFocus)}createRestorer(e,r){const n=new k6t(this._tabster,e,r);return r.type===zm.Target&&se.getActiveElement(e.ownerDocument)===e&&this._history.push(e),n}};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let E6t=class{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}},_6t=class{constructor(e,r){var n,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.5.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=function(a){const s=a.__tabsterInstanceContext;return new((s==null?void 0:s.basics.WeakMap)||WeakMap)}(e),this._win=e;const o=this.getWindow;r!=null&&r.DOMAPI&&function(a){for(const s of Object.keys(a))se[s]=a[s]}({...r.DOMAPI}),this.keyboardNavigation=new m6t(o),this.focusedElement=new F0(this,o),this.focusable=new c6t(this),this.root=new _i(this,r==null?void 0:r.autoRoot),this.uncontrolled=new w6t((r==null?void 0:r.checkUncontrolledCompletely)||(r==null?void 0:r.checkUncontrolledTrappingFocus)),this.controlTab=(n=r==null?void 0:r.controlTab)===null||n===void 0||n,this.rootDummyInputs=!!(r!=null&&r.rootDummyInputs),this._dummyObserver=new i6t(o),this.getParent=(i=r==null?void 0:r.getParent)!==null&&i!==void 0?i:se.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:a=>{if(!this._unobserve){const s=o().document;this._unobserve=function(l,u,h,d){if(typeof MutationObserver>"u")return()=>{};const p=u.getWindow;let f;function g(v,x){f||(f=Pc(p).elementByUId),m(v,x);const b=f7(l,v,k=>m(k,x));if(b)for(;b.nextNode(););}function m(v,x){var b;if(!v.getAttribute)return NodeFilter.FILTER_SKIP;const k=v.__tabsterElementUID;return k&&f&&(x?delete f[k]:(b=f[k])!==null&&b!==void 0||(f[k]=new el(p,v))),(Yo(u,v)||v.hasAttribute(Nc))&&h(u,v,x),NodeFilter.FILTER_SKIP}const y=se.createMutationObserver(v=>{var x,b,k,N,_;const S=new Set;for(const T of v){const A=T.target,C=T.removedNodes,D=T.addedNodes;if(T.type==="attributes")T.attributeName===Nc&&(S.has(A)||h(u,A));else{for(let E=0;E<C.length;E++){const $=C[E];S.add($),g($,!0),(b=(x=u._dummyObserver).domChanged)===null||b===void 0||b.call(x,A)}for(let E=0;E<D.length;E++)g(D[E]),(N=(k=u._dummyObserver).domChanged)===null||N===void 0||N.call(k,A)}}S.clear(),(_=u.modalizer)===null||_===void 0||_.hiddenUpdate()});return d&&g(p().document.body),y.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[Nc]}),()=>{y.disconnect()}}(s,this,AQ,a)}}},NQ(o),this.queueInit(()=>{this.internal.resumeObserver(!0)})}_mergeProps(e){var r;e&&(this.getParent=(r=e.getParent)!==null&&r!==void 0?r:this.getParent)}createTabster(e,r){const n=new E6t(this);return e||this._wrappers.add(n),this._mergeProps(r),n}disposeTabster(e,r){r?this._wrappers.clear():this._wrappers.delete(e),this._wrappers.size===0&&this.dispose()}dispose(){var e,r,n,i,o,a,s,l;this.internal.stopObserver();const u=this._win;u==null||u.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],u&&this._forgetMemorizedTimer&&(u.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),(e=this.outline)===null||e===void 0||e.dispose(),(r=this.crossOrigin)===null||r===void 0||r.dispose(),(n=this.deloser)===null||n===void 0||n.dispose(),(i=this.groupper)===null||i===void 0||i.dispose(),(o=this.mover)===null||o===void 0||o.dispose(),(a=this.modalizer)===null||a===void 0||a.dispose(),(s=this.observedElement)===null||s===void 0||s.dispose(),(l=this.restorer)===null||l===void 0||l.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),function(h){const d=Pc(h);d.fakeWeakRefsStarted=!1,d.fakeWeakRefsTimer&&(h().clearTimeout(d.fakeWeakRefsTimer),d.fakeWeakRefsTimer=void 0,d.fakeWeakRefs=[])}(this.getWindow),hD(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),u&&(function(h){const d=h.__tabsterInstanceContext;d&&(d.elementByUId={},delete d.WeakRef,d.containerBoundingRectCache={},d.containerBoundingRectCacheTimer&&h.clearTimeout(d.containerBoundingRectCacheTimer),d.fakeWeakRefsTimer&&h.clearTimeout(d.fakeWeakRefsTimer),d.fakeWeakRefs=[],delete h.__tabsterInstanceContext)}(u),delete u.__tabsterInstance,delete this._win)}storageEntry(e,r){const n=this._storage;let i=n.get(e);return i?r===!1&&Object.keys(i).length===0&&n.delete(e):r===!0&&(i={},n.set(e,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),this._forgetMemorizedTimer||(this._forgetMemorizedTimer=this._win.setTimeout(()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())hD(this.getWindow,e),F0.forgetMemorized(this.focusedElement,e)},0),$Q(this.getWindow,!0)))}queueInit(e){var r;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=(r=this._win)===null||r===void 0?void 0:r.setTimeout(()=>{delete this._initTimer,this.drainInitQueue()},0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach(r=>r())}};function S6t(t,e){let r=function(n){return n.__tabsterInstance}(t);return r?r.createTabster(!1,e):(r=new _6t(t,e),t.__tabsterInstance=r,r.createTabster())}function A6t(t){const e=t.core;return e.groupper||(e.groupper=new g6t(e,e.getWindow)),e.groupper}function C6t(t){const e=t.core;return e.mover||(e.mover=new x6t(e,e.getWindow)),e.mover}function $6t(t){const e=t.core;return e.restorer||(e.restorer=new T6t(e)),e.restorer}function N6t(t,e){t.core.disposeTabster(t,e)}const Dy=()=>{const{targetDocument:t}=Gn(),e=(t==null?void 0:t.defaultView)||void 0,r=e==null?void 0:e.__tabsterShadowDOMAPI,n=Z.useMemo(()=>e?S6t(e,{autoRoot:{},controlTab:!1,getParent:M_t,checkUncontrolledTrappingFocus:i=>{var o;return!!(!((o=i.firstElementChild)===null||o===void 0)&&o.hasAttribute("data-is-focus-trap-zone-bumper"))},DOMAPI:r}):null,[e,r]);return ll(()=>()=>{n&&N6t(n)},[n]),n},y7=()=>{const t=Dy(),{targetDocument:e}=Gn();return{findAllFocusable:Z.useCallback((r,n)=>(t==null?void 0:t.focusable.findAll({container:r,acceptCondition:n}))||[],[t]),findFirstFocusable:Z.useCallback(r=>t==null?void 0:t.focusable.findFirst({container:r}),[t]),findLastFocusable:Z.useCallback(r=>t==null?void 0:t.focusable.findLast({container:r}),[t]),findNextFocusable:Z.useCallback((r,n={})=>{if(!t||!e)return null;const{container:i=e.body}=n;return t.focusable.findNext({currentElement:r,container:i})},[t,e]),findPrevFocusable:Z.useCallback((r,n={})=>{if(!t||!e)return null;const{container:i=e.body}=n;return t.focusable.findPrev({currentElement:r,container:i})},[t,e])}};function FQ(){const t=Z.useRef(!0);return t.current?(t.current=!1,!0):t.current}const zQ=Z.createContext(void 0);zQ.Provider;const I6t=()=>{var t;return(t=Z.useContext(zQ))!==null&&t!==void 0&&t},xD=De("Mic24Regular","24",["M18.25 11c.38 0 .7.28.74.65l.01.1v.5a6.75 6.75 0 0 1-6.25 6.73v2.27a.75.75 0 0 1-1.5.1v-2.37A6.75 6.75 0 0 1 5 12.48v-.73a.75.75 0 0 1 1.5-.1v.6a5.25 5.25 0 0 0 5.03 5.25h.72a5.25 5.25 0 0 0 5.25-5.03v-.72c0-.41.34-.75.75-.75ZM12 2a4 4 0 0 1 4 4v6a4 4 0 0 1-8 0V6a4 4 0 0 1 4-4Zm0 1.5A2.5 2.5 0 0 0 9.5 6v6a2.5 2.5 0 0 0 5 0V6A2.5 2.5 0 0 0 12 3.5Z"]),L6t=De("MicPulse24Filled","24",["M11 17.5c0 1.1.27 2.13.75 3.03v.72a.75.75 0 0 1-1.5.1v-2.37A6.75 6.75 0 0 1 4 12.48v-.73a.75.75 0 0 1 1.5-.1v.6a5.25 5.25 0 0 0 5.03 5.25H11Zm.17-1.5A6.51 6.51 0 0 1 15 11.5V6a4 4 0 0 0-8 0v6a4 4 0 0 0 4.17 4ZM23 17.5a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0Zm-6.99-3c.21 0 .4.14.46.34L17.53 18l1-2.68a.5.5 0 0 1 .92-.04L20.3 17H21a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.45-.28l-.48-.97-1.1 2.93a.5.5 0 0 1-.94-.02l-1.07-3.2-.5 1.23A.5.5 0 0 1 15 18h-1a.5.5 0 0 1 0-1h.66l.88-2.19a.5.5 0 0 1 .47-.31Z"]),R6t=De("MicRecord24Filled","24",["M11 17.5c0 1.1.27 2.13.75 3.03v.72a.75.75 0 0 1-1.5.1v-2.37A6.75 6.75 0 0 1 4 12.48v-.73a.75.75 0 0 1 1.5-.1v.6a5.25 5.25 0 0 0 5.03 5.25H11Zm.17-1.5A6.51 6.51 0 0 1 15 11.5V6a4 4 0 0 0-8 0v6a4 4 0 0 0 4.17 4ZM20 17.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm3 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Zm-9.5 0a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"]),D6t=De("MicSparkle24Filled","24",["M13.85 15.15a2.85 2.85 0 0 1 .69 1.11l.45 1.38a.54.54 0 0 0 1.02 0l.45-1.38a2.84 2.84 0 0 1 1.8-1.8l1.38-.44a.54.54 0 0 0 0-1.03h-.03l-1.38-.45a2.84 2.84 0 0 1-1.8-1.8L16 9.36a.54.54 0 0 0-1.03 0l-.45 1.38a2.84 2.84 0 0 1-1.77 1.8l-1.38.44a.54.54 0 0 0 0 1.03l1.38.45c.42.14.8.37 1.11.69ZM16 6v2.1a1.54 1.54 0 0 0-1.98.93v.01l-.46 1.39a1.83 1.83 0 0 1-1.14 1.16l-1.38.45a1.54 1.54 0 0 0 0 2.91l1.39.46c.26.09.5.23.7.43A4 4 0 0 1 8 12V6a4 4 0 1 1 8 0Zm-3.75 11.5c.54 0 1.07-.08 1.56-.24l.23.7v.01c.1.25.25.48.45.65-.55.2-1.13.32-1.74.36v2.27a.75.75 0 0 1-1.5.1v-2.37A6.75 6.75 0 0 1 5 12.48v-.73a.75.75 0 0 1 1.5-.1v.6a5.25 5.25 0 0 0 5.03 5.25h.72Zm9.77 1.46.76.25h.02a.3.3 0 0 1 .14.47.3.3 0 0 1-.14.1l-.77.26a1.58 1.58 0 0 0-1 1l-.24.76a.3.3 0 0 1-.58 0l-.24-.77a1.57 1.57 0 0 0-1-1l-.77-.25a.3.3 0 0 1-.14-.46.3.3 0 0 1 .14-.1l.77-.26a1.58 1.58 0 0 0 .98-1l.25-.76a.3.3 0 0 1 .57 0l.25.77a1.58 1.58 0 0 0 1 1Z"]),wD=De("MicSparkle24Regular","24",["M13.85 15.15a2.85 2.85 0 0 1 .69 1.11l.45 1.38a.54.54 0 0 0 1.02 0l.45-1.38a2.84 2.84 0 0 1 1.8-1.8l1.38-.44a.54.54 0 0 0 0-1.03h-.03l-1.38-.45a2.84 2.84 0 0 1-1.8-1.8L16 9.36a.54.54 0 0 0-1.03 0l-.45 1.38-.01.03a2.84 2.84 0 0 1-1.76 1.77l-1.38.44a.54.54 0 0 0 0 1.03l1.38.45c.42.14.8.37 1.11.69ZM16 6v2.1a1.54 1.54 0 0 0-1.5.24V6a2.5 2.5 0 0 0-5 0v6c0 .56.19 1.08.5 1.5a1.54 1.54 0 0 0 1.03 1.45h.01l1.39.46c.26.09.5.23.7.43A4 4 0 0 1 8 12V6a4 4 0 1 1 8 0Zm-3.75 11.5c.54 0 1.07-.08 1.56-.24l.23.7v.01c.1.25.25.48.45.65-.55.2-1.13.32-1.74.36v2.27a.75.75 0 0 1-1.5.1v-2.37A6.75 6.75 0 0 1 5 12.48v-.73a.75.75 0 0 1 1.5-.1v.6a5.25 5.25 0 0 0 5.03 5.25h.72Zm9.77 1.46.76.25h.02a.3.3 0 0 1 .14.47.3.3 0 0 1-.14.1l-.77.26a1.58 1.58 0 0 0-1 1l-.24.76a.3.3 0 0 1-.58 0l-.24-.77a1.57 1.57 0 0 0-1-1l-.77-.25a.3.3 0 0 1-.14-.46.3.3 0 0 1 .14-.1l.77-.26a1.58 1.58 0 0 0 .98-1l.25-.76a.3.3 0 0 1 .57 0l.25.77a1.58 1.58 0 0 0 1 1Z"]);De("MoreHorizontal24Regular","24",["M7.75 12a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0Zm6 0a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0ZM18 13.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5Z"]);function O6t(){const t=Dy();return t&&$6t(t),m7({restorer:{type:zm.Source}})}const M6t=(t,e)=>{const r=Uo(N=>N.menuPopoverRef),n=Uo(N=>N.setOpen),i=Uo(N=>N.open),o=Uo(N=>N.openOnHover),a=Uo(N=>N.triggerRef),s=PEt(),l=Z.useRef(!0),u=O6t(),[h,d]=z4(),{dir:p}=Gn(),f=p==="ltr"?DZ:OZ,g=Z.useCallback(N=>{N&&N.addEventListener("mouseover",_=>{l.current&&(l.current=!1,P_t(r.current,_),h(()=>l.current=!0,250))})},[r,h]);var m;Z.useEffect(()=>{},[d]);const y=(m=Uo(N=>N.inline))!==null&&m!==void 0&&m,v=Uo(N=>N.mountNode),x=Nr(ei("div",{role:"presentation",...u,...t,ref:ui(e,r,g)}),{elementType:"div"}),{onMouseEnter:b,onKeyDown:k}=x;return x.onMouseEnter=ar(N=>{(o||s)&&n(N,{open:!0,keyboard:!1,type:"menuPopoverMouseEnter",event:N}),b==null||b(N)}),x.onKeyDown=ar(N=>{const _=N.key;var S,T;(_===JC||s&&_===f)&&i&&(!((S=r.current)===null||S===void 0)&&S.contains(N.target))&&!N.isDefaultPrevented()&&(n(N,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:N}),N.preventDefault()),_===QC&&(n(N,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:N}),s||(T=a.current)===null||T===void 0||T.focus()),k==null||k(N)}),{inline:y,mountNode:v,components:{root:"div"},root:x}},B6t={root:"fui-MenuPopover"},P6t=Ye({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",De3pzq:"fxugw4r",sj55zd:"f19n0e5",B7ck84d:"f1ewtqcl",Bf4jedk:"fl8fusi",B2u0y6b:"f1kaai3v",B68tc82:"f1p9o1ba",a9b677:"f1ahpp82",E5pizo:"f1hg901r",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fd3pd8h",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f9ggezi",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B93otf3:"f1hdglry",vin17d:"fo1kyvf",Ezkn3b:"fetxo7e",nyiy2g:"f8x1vz1",swvrvq:"f8g0anz",Bkovbt3:"fezwn9i",hgjdhn:"fz5efge",fsy9dk:"f1ydixl4",B3ogreh:"f8dgqj5",jv49x5:"fnyfnr8",Bk7o48c:"fgw77r4",Bv12yb3:"ftje0s4",vcguit:"fxes1gr",z0t1cu:"fi19xcv",Bks05zx:"f1mzajhk",yckwsp:"fgez7cy",Bvtglag:"fjp4h9y"}},{d:[[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ewtqcl{box-sizing:border-box;}",".fl8fusi{min-width:138px;}",".f1kaai3v{max-width:300px;}",".f1p9o1ba{overflow-x:hidden;}",".f1ahpp82{width:max-content;}",".f1hg901r{box-shadow:var(--shadow16);}",[".fd3pd8h{padding:4px;}",{p:-1}],[".f9ggezi{border:1px solid var(--colorTransparentStroke);}",{p:-2}],".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1hdglry{animation-composition:replace,accumulate;}",".fo1kyvf{animation-duration:var(--durationSlower);}",".fetxo7e{animation-timing-function:var(--curveDecelerateMid);}",".f8x1vz1{--fui-positioning-slide-distance-x:0px;}",".f8g0anz{--fui-positioning-slide-distance-y:10px;}",".fezwn9i[data-popper-placement^=right]{--fui-positioning-slide-distance-x:-10px;}",".fz5efge[data-popper-placement^=right]{--fui-positioning-slide-distance-y:0px;}",".f1ydixl4[data-popper-placement^=bottom]{--fui-positioning-slide-distance-x:0px;}",".f8dgqj5[data-popper-placement^=bottom]{--fui-positioning-slide-distance-y:-10px;}",".fnyfnr8[data-popper-placement^=left]{--fui-positioning-slide-distance-x:10px;}",".fgw77r4[data-popper-placement^=left]{--fui-positioning-slide-distance-y:0px;}",".ftje0s4{animation-name:f5j8bii,f79suad;}"],k:["@keyframes f5j8bii{from{opacity:0;}to{opacity:1;}}","@keyframes f79suad{from{transform:translate(var(--fui-positioning-slide-distance-x), var(--fui-positioning-slide-distance-y));}}"],m:[["@media (prefers-reduced-motion){.fxes1gr[data-popper-placement]{animation-composition:replace;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.fi19xcv[data-popper-placement]{animation-duration:1ms;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.f1mzajhk[data-popper-placement]{animation-name:f5j8bii;}}",{m:"(prefers-reduced-motion)"}]],t:["@supports not (animation-composition: accumulate){.fgez7cy[data-popper-placement]{animation-composition:replace;}}","@supports not (animation-composition: accumulate){.fjp4h9y[data-popper-placement]{animation-name:f5j8bii;}}"]}),F6t=t=>{const e=P6t();return t.root.className=Ee(B6t.root,e.root,t.root.className),t};function z6t(t){return xi(t)?{element:t}:typeof t=="object"?t===null?{element:null}:t:{}}var jQ=()=>{try{return nN["".concat("__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE")].A.getOwner()}catch{}try{return nN["".concat("__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED")].ReactCurrentOwner.current}catch{}},j6t=()=>!1,kD=new WeakSet;function H6t(t,e){const r=jQ();Z.useEffect(()=>kD.has(r)?t():(kD.add(r),void t()),e)}var TD=new WeakSet;function U6t(t,e){return Z.useMemo(()=>{const r=jQ();return TD.has(r)?t():(TD.add(r),null)},e)}function q6t(t,e){var r;const n=j6t()&&!1,i=n?U6t:Z.useMemo,o=n?H6t:Z.useEffect,[a,s]=(r=i(()=>t(),e))!=null?r:[null,()=>null];return o(()=>s,e),a}const G6t=Ye({root:{qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["f1e31b4d","f1vgc2s3"],Bj3rh1h:"f494woh"}},{d:[".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".f494woh{z-index:1000000;}"]}),HQ=Z.createContext(void 0);function W6t(){return Z.useContext(HQ)}HQ.Provider;const ED="data-fui-focus-visible",UQ="data-fui-focus-within";function V6t(t,e){if(qQ(t))return()=>{};const r={current:void 0},n=Y4(e);function i(l){n.isNavigatingWithKeyboard()&&xi(l)&&(r.current=l,l.setAttribute(ED,""))}function o(){r.current&&(r.current.removeAttribute(ED),r.current=void 0)}n.subscribe(l=>{l||o()});const a=l=>{o(),i(l.composedPath()[0])},s=l=>{(!l.relatedTarget||xi(l.relatedTarget)&&!t.contains(l.relatedTarget))&&o()};return t.addEventListener(tl,a),t.addEventListener("focusout",s),t.focusVisible=!0,t.contains(e.document.activeElement)&&i(e.document.activeElement),()=>{o(),t.removeEventListener(tl,a),t.removeEventListener("focusout",s),delete t.focusVisible,X4(n)}}function qQ(t){return!!t&&(!!t.focusVisible||qQ(t==null?void 0:t.parentElement))}function Y6t(t={}){const e=Gn(),r=Z.useRef(null);var n;const i=(n=t.targetDocument)!==null&&n!==void 0?n:e.targetDocument;return Z.useEffect(()=>{if(i!=null&&i.defaultView&&r.current)return V6t(r.current,i.defaultView)},[r,i]),r}const GQ=Z.createContext(void 0);function X6t(){var t;return(t=Z.useContext(GQ))!==null&&t!==void 0?t:""}GQ.Provider;const _D=Z.useInsertionEffect,K6t=t=>{const{targetDocument:e,dir:r}=Gn(),n=W6t(),i=Y6t(),o=G6t(),a=X6t(),s=Ee(a,o.root,t.className),l=n??(e==null?void 0:e.body),u=q6t(()=>{if(l===void 0||t.disabled)return[null,()=>null];const h=l.ownerDocument.createElement("div");return l.appendChild(h),[h,()=>h.remove()]},[l]);return _D?_D(()=>{if(!u)return;const h=s.split(" ").filter(Boolean);return u.classList.add(...h),u.setAttribute("dir",r),u.setAttribute("data-portal-node","true"),i.current=u,()=>{u.classList.remove(...h),u.removeAttribute("dir")}},[s,r,u,i]):Z.useMemo(()=>{u&&(u.className=s,u.setAttribute("dir",r),u.setAttribute("data-portal-node","true"),i.current=u)},[s,r,u,i]),u};function SD(t,e){if(!t)return;const r=t;r._virtual||(r._virtual={}),r._virtual.parent=e}const Z6t=t=>{const{element:e,className:r}=z6t(t.mountNode),n=Z.useRef(null),i=K6t({disabled:!!e,className:r}),o=e??i,a={children:t.children,mountNode:o,virtualParentRootRef:n};return Z.useEffect(()=>{if(!o)return;const s=n.current,l=o.contains(s);return s&&!l?(SD(o,s),()=>{SD(o,void 0)}):void 0},[n,o]),a},Q6t=t=>Z.createElement("span",{hidden:!0,ref:t.virtualParentRootRef},t.mountNode&&kE.createPortal(t.children,t.mountNode)),Oy=t=>{const e=Z6t(t);return Q6t(e)};Oy.displayName="Portal";const J6t=t=>t.inline?ve(t.root,{}):ve(Oy,{mountNode:t.mountNode,children:ve(t.root,{})}),tSt=Z.forwardRef((t,e)=>{const r=M6t(t,e);return F6t(r),ea("useMenuPopoverStyles_unstable")(r),J6t(r)});tSt.displayName="MenuPopover";const WQ=t=>{Dy();const e=m7(t,!0);return Z.useMemo(()=>({[Nc]:e}),[e])},eSt=(t={})=>{const{circular:e,axis:r,memorizeCurrent:n=!0,tabbable:i,ignoreDefaultKeydown:o,unstable_hasDefault:a}=t,s=Dy();return s&&C6t(s),WQ({mover:{cyclic:!!e,direction:rSt(r??"vertical"),memorizeCurrent:n,tabbable:i,hasDefault:a},...o&&{focusable:{ignoreKeydown:o}}})};function rSt(t){switch(t){case"horizontal":return qs.Horizontal;case"grid":return qs.Grid;case"grid-linear":return qs.GridLinear;case"both":return qs.Both;default:return qs.Vertical}}const nSt=(t,e)=>{const{findAllFocusable:r}=y7(),{targetDocument:n}=Gn(),i=iSt(),o=q4(i7),a=eSt({circular:!0});oSt(t,i,o)&&console.warn("You are using both MenuList and Menu props, we recommend you to use Menu props when available");const s=Z.useRef(null);Z.useEffect(()=>{const y=s.current;if(o&&n&&y){const v=x=>{const b=x.detail.next;b&&y.contains(n.activeElement)&&!y.contains(b)&&x.preventDefault()};return n.addEventListener(s6,v),()=>{n.removeEventListener(s6,v)}}},[s,n,o]);const l=Z.useCallback((y,v)=>{const x=["menuitem","menuitemcheckbox","menuitemradio"];if(!s.current)return;const b=r(s.current,A=>A.hasAttribute("role")&&x.indexOf(A.getAttribute("role"))!==-1);let k=b.indexOf(v)+1;k===b.length&&(k=0);const N=b.map(A=>{var C;return(C=A.textContent)===null||C===void 0?void 0:C.charAt(0).toLowerCase()}),_=y.key.toLowerCase(),S=(A,C)=>{for(let D=A;D<N.length;D++)if(_===N[D])return D;return-1};let T=S(k);T===-1&&(T=S(0)),T>-1&&b[T].focus()},[r]);var u;const[h,d]=Ju({state:(u=t.checkedValues)!==null&&u!==void 0?u:o?i.checkedValues:void 0,defaultState:t.defaultCheckedValues,initialState:{}});var p;const f=(p=t.onCheckedValueChange)!==null&&p!==void 0?p:o?i.onCheckedValueChange:void 0,g=ar((y,v,x,b)=>{const k=[...(h==null?void 0:h[v])||[]];b?k.splice(k.indexOf(x),1):k.push(x),f==null||f(y,{name:v,checkedItems:k}),d(N=>({...N,[v]:k}))}),m=ar((y,v,x)=>{const b=[x];d(k=>({...k,[v]:b})),f==null||f(y,{name:v,checkedItems:b})});return{components:{root:"div"},root:Nr(ei("div",{ref:ui(e,s),role:"menu","aria-labelledby":i.triggerId,...a,...t}),{elementType:"div"}),hasIcons:i.hasIcons||!1,hasCheckmarks:i.hasCheckmarks||!1,checkedValues:h,hasMenuContext:o,setFocusByFirstCharacter:l,selectRadio:m,toggleCheckbox:g}},iSt=()=>({checkedValues:Uo(t=>t.checkedValues),onCheckedValueChange:Uo(t=>t.onCheckedValueChange),triggerId:Uo(t=>t.triggerId),hasIcons:Uo(t=>t.hasIcons),hasCheckmarks:Uo(t=>t.hasCheckmarks)}),oSt=(t,e,r)=>{let n=!1;for(const i in e)t[i]&&(n=!0);return r&&n},aSt=(t,e)=>ve(BEt,{value:e.menuList,children:ve(t.root,{})});function sSt(t){const{checkedValues:e,hasCheckmarks:r,hasIcons:n,selectRadio:i,setFocusByFirstCharacter:o,toggleCheckbox:a}=t;return{menuList:{checkedValues:e,hasCheckmarks:r,hasIcons:n,selectRadio:i,setFocusByFirstCharacter:o,toggleCheckbox:a}}}const lSt={root:"fui-MenuList"},cSt=Ye({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",i8kkvl:0,Belr9w4:0,rmohyg:"f1t6b6ee"},hasMenuContext:{Bqenvij:"f1l02sjl"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",[".f1t6b6ee{gap:2px;}",{p:-1}],".f1l02sjl{height:100%;}"]}),uSt=t=>{const e=cSt();return t.root.className=Ee(lSt.root,e.root,t.hasMenuContext&&e.hasMenuContext,t.root.className),t},hSt=Z.forwardRef((t,e)=>{const r=nSt(t,e),n=sSt(r);return uSt(r),ea("useMenuListStyles_unstable")(r),aSt(r,n)});hSt.displayName="MenuList";const dSt=(t,e)=>{const r=e6(i=>i.setFocusByFirstCharacter),{onKeyDown:n}=t.root;return t.root.onKeyDown=i=>{var o;n==null||n(i),((o=i.key)===null||o===void 0?void 0:o.length)>1||e.current&&(r==null||r(i,e.current))},t},VQ=Z.createContext(void 0),YQ={setMultiline:()=>null};VQ.Provider;const XQ=()=>{var t;return(t=Z.useContext(VQ))!==null&&t!==void 0?t:YQ},KQ=()=>XQ()!==YQ,pSt="fui-Icon-filled",fSt="fui-Icon-regular",gSt=Ye({root:{mc9l5x:"fjseox"},visible:{mc9l5x:"f1w7gpdv"}},{d:[".fjseox{display:none;}",".f1w7gpdv{display:inline;}"]});var ZQ=(t,e)=>{const r=n=>{const{className:i,filled:o,...a}=n,s=gSt();return Z.createElement(Z.Fragment,null,Z.createElement(t,Object.assign({},a,{className:Ee(s.root,o&&s.visible,pSt,i)})),Z.createElement(e,Object.assign({},a,{className:Ee(s.root,!o&&s.visible,fSt,i)})))};return r.displayName="CompoundIcon",r};const mSt=ZQ($Z,Swt),ySt=ZQ(Ewt,_wt),vSt=(t,e)=>{const r=I6t(),n=Uo(m=>m.persistOnItemClick),{as:i="div",disabled:o=!1,hasSubmenu:a=r,persistOnClick:s=n}=t,{hasIcons:l,hasCheckmarks:u}=xSt({hasSubmenu:a}),h=Uo(m=>m.setOpen);bSt({multiline:!!t.subText,hasSubmenu:a});const{dir:d}=Gn(),p=Z.useRef(null),f=Z.useRef(!1),g={hasSubmenu:a,disabled:o,persistOnClick:s,components:{root:"div",icon:"span",checkmark:"span",submenuIndicator:"span",content:"span",secondaryContent:"span",subText:"span"},root:Nr(ei(i,MZ(i,{role:"menuitem",...t,disabled:!1,disabledFocusable:o,ref:ui(e,p),onKeyDown:ar(m=>{var y;(y=t.onKeyDown)===null||y===void 0||y.call(t,m),m.isDefaultPrevented()||m.key!==kc&&m.key!==kd||(f.current=!0)}),onMouseMove:ar(m=>{var y,v;m.currentTarget.ownerDocument.activeElement!==m.currentTarget&&((v=p.current)===null||v===void 0||v.focus()),(y=t.onMouseMove)===null||y===void 0||y.call(t,m)}),onClick:ar(m=>{var y;a||s||(h(m,{open:!1,keyboard:f.current,bubble:!0,type:"menuItemClick",event:m}),f.current=!1),(y=t.onClick)===null||y===void 0||y.call(t,m)})})),{elementType:"div"}),icon:$r(t.icon,{renderByDefault:l,elementType:"span"}),checkmark:$r(t.checkmark,{renderByDefault:u,elementType:"span"}),submenuIndicator:$r(t.submenuIndicator,{renderByDefault:a,defaultProps:{children:d==="ltr"?Z.createElement(mSt,null):Z.createElement(ySt,null)},elementType:"span"}),content:$r(t.content,{renderByDefault:!!t.children,defaultProps:{children:t.children},elementType:"span"}),secondaryContent:$r(t.secondaryContent,{elementType:"span"}),subText:$r(t.subText,{elementType:"span"})};return dSt(g,p),g},bSt=t=>{const{hasSubmenu:e,multiline:r}=t,n=KQ()&&e,{setMultiline:i}=XQ();ll(()=>{n||i(r)},[i,r,n])},xSt=t=>{const{hasSubmenu:e}=t,r=e6(o=>o.hasIcons),n=e6(o=>o.hasCheckmarks),i=KQ()&&e;return{hasIcons:r&&!i,hasCheckmarks:n&&!i}},wSt=t=>Un(t.root,{children:[t.checkmark&&ve(t.checkmark,{}),t.icon&&ve(t.icon,{}),t.content&&Un(t.content,{children:[t.content.children,t.subText&&ve(t.subText,{})]}),t.secondaryContent&&ve(t.secondaryContent,{}),t.submenuIndicator&&ve(t.submenuIndicator,{})]}),kSt=Ye({root:{a9b677:"fjw5fx7",Bqenvij:"fd461yt",Bcdw1i0:"fd7fpy0",Bnnss6s:"fi64zpg"},rootChecked:{Bcdw1i0:"f1022m68",Bnnss6s:"fi64zpg"}},{d:[".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".fd7fpy0{visibility:hidden;}",".fi64zpg{flex-shrink:0;}",".f1022m68{visibility:visible;}"]}),TSt=t=>{const e=kSt();t.checkmark&&(t.checkmark.className=Ee(e.root,t.checked&&e.rootChecked,t.checkmark.className))},Ah={root:"fui-MenuItem",icon:"fui-MenuItem__icon",checkmark:"fui-MenuItem__checkmark",submenuIndicator:"fui-MenuItem__submenuIndicator",content:"fui-MenuItem__content",secondaryContent:"fui-MenuItem__secondaryContent",subText:"fui-MenuItem__subText"},ESt=Zr("rfoezjv","r8lt3v0",{r:[".rfoezjv{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-right:var(--spacingVerticalSNudge);padding-left:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);padding-bottom:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;}",".rfoezjv:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".rfoezjv:hover .fui-Icon-filled{display:inline;}",".rfoezjv:hover .fui-Icon-regular{display:none;}",".rfoezjv:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".rfoezjv:hover .fui-MenuItem__subText{color:var(--colorNeutralForeground3Hover);}",".rfoezjv:hover:active{background-color:var(--colorNeutralBackground1Pressed);color:var(--colorNeutralForeground2Pressed);}",".rfoezjv:hover:active .fui-MenuItem__subText{color:var(--colorNeutralForeground3Pressed);}",".rfoezjv:focus{outline-style:none;}",".rfoezjv:focus-visible{outline-style:none;}",".rfoezjv[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.rfoezjv[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r8lt3v0{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-left:var(--spacingVerticalSNudge);padding-right:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);padding-bottom:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;}",".r8lt3v0:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".r8lt3v0:hover .fui-Icon-filled{display:inline;}",".r8lt3v0:hover .fui-Icon-regular{display:none;}",".r8lt3v0:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".r8lt3v0:hover .fui-MenuItem__subText{color:var(--colorNeutralForeground3Hover);}",".r8lt3v0:hover:active{background-color:var(--colorNeutralBackground1Pressed);color:var(--colorNeutralForeground2Pressed);}",".r8lt3v0:hover:active .fui-MenuItem__subText{color:var(--colorNeutralForeground3Pressed);}",".r8lt3v0:focus{outline-style:none;}",".r8lt3v0:focus-visible{outline-style:none;}",".r8lt3v0[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r8lt3v0[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:['@media (forced-colors: active){.rfoezjv:hover{background-color:Canvas;border-color:Highlight;color:Highlight;}.rfoezjv:focus{outline-style:none;}.rfoezjv:focus-visible{outline-style:none;}.rfoezjv[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}@media (forced-colors: active){.rfoezjv[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}.rfoezjv[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid Highlight;border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}}',"@media (forced-colors: active){.rfoezjv[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}",'@media (forced-colors: active){.r8lt3v0:hover{background-color:Canvas;border-color:Highlight;color:Highlight;}.r8lt3v0:focus{outline-style:none;}.r8lt3v0:focus-visible{outline-style:none;}.r8lt3v0[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}@media (forced-colors: active){.r8lt3v0[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}.r8lt3v0[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid Highlight;border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}}',"@media (forced-colors: active){.r8lt3v0[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),_St=Zr("r1ls86vo","rpbc5dr",[".r1ls86vo{padding-left:2px;padding-right:2px;background-color:transparent;flex-grow:1;}",".rpbc5dr{padding-right:2px;padding-left:2px;background-color:transparent;flex-grow:1;}"]),SSt=Zr("r12mwwux","r1ewgu5j",[".r12mwwux{padding-left:2px;padding-right:2px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);}",".r12mwwux:hover{color:var(--colorNeutralForeground3Hover);}",".r12mwwux:focus{color:var(--colorNeutralForeground3Hover);}",".r1ewgu5j{padding-right:2px;padding-left:2px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);}",".r1ewgu5j:hover{color:var(--colorNeutralForeground3Hover);}",".r1ewgu5j:focus{color:var(--colorNeutralForeground3Hover);}"]),ASt=Zr("ro9koqv",null,[".ro9koqv{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;flex-shrink:0;}"]),CSt=Zr("r9c34qo",null,[".r9c34qo{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;}"]),$St=Zr("rk2ppru",null,[".rk2ppru{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase100);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase100);color:var(--colorNeutralForeground3);}"]),NSt=Ye({checkmark:{B6of3ja:"fmnzpld"},splitItemMain:{Bh6795r:"fqerorx"},splitItemTrigger:{Btl43ni:["f1ozlkrg","f10ostut"],Beyfa6y:["f1deotkl","f1krrbdw"],uwmqm3:["f1cnd47f","fhxju0i"],Ftih45:"f1wl9k8s",Ccq8qp:"f1yn80uh",Baz25je:"f68mna0",cmx5o7:"f1p5zmk"},disabled:{sj55zd:"f1s2aq7o",Bi91k9c:"fvgxktp",Jwef8y:"f1ijtazh",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bg7n49j:"f1q1x1ba",B2d53fq:"fcvwxyo",iro3zm:"f1to34ca",t0hwav:"ft33916",Bbusuzp:"f1dcs8yz",ze5xyy:"f1kc2mi9",Bqrx1nm:"fkavljg",Bctn1xl:"fk56vqo",h5esng:"ff3wi9b",Bh6z0a4:"f1ikwg0d",Bh953qp:"f10l1t5h"}},{d:[".fmnzpld{margin-top:2px;}",".fqerorx{flex-grow:1;}",".f1ozlkrg{border-top-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f1krrbdw{border-bottom-right-radius:0;}",".f1cnd47f{padding-left:0;}",".fhxju0i{padding-right:0;}",'.f1wl9k8s::before{content:"";}',".f1yn80uh::before{width:var(--strokeWidthThin);}",".f68mna0::before{height:24px;}",".f1p5zmk::before{background-color:var(--colorNeutralStroke1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"],h:[".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f1ijtazh:hover{background-color:var(--colorNeutralBackground1);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1q1x1ba:hover .fui-MenuItem__icon{color:var(--colorNeutralForegroundDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f1to34ca:hover:active{background-color:var(--colorNeutralBackground1);}"],f:[".ft33916:focus{color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkavljg:hover{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fk56vqo:hover .fui-MenuItem__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff3wi9b:hover .fui-MenuItem__icon{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ikwg0d:focus{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f10l1t5h:focus{background-color:Canvas;}}",{m:"(forced-colors: active)"}]]}),ISt=Ye({content:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62"},secondaryContent:{qb2dma:"f7nlbp4"},submenuIndicator:{qb2dma:"f7nlbp4"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f7nlbp4{align-self:center;}"]}),LSt=t=>{const e=NSt(),r=ESt(),n=_St(),i=SSt(),o=ASt(),a=CSt(),s=ISt(),l=$St(),u=!!t.subText;return t.root.className=Ee(Ah.root,r,t.disabled&&e.disabled,t.root.className),t.content&&(t.content.className=Ee(Ah.content,n,t.content.className,u&&s.content)),t.checkmark&&(t.checkmark.className=Ee(Ah.checkmark,e.checkmark,t.checkmark.className)),t.secondaryContent&&(t.secondaryContent.className=Ee(Ah.secondaryContent,!t.disabled&&i,t.secondaryContent.className,u&&s.secondaryContent)),t.icon&&(t.icon.className=Ee(Ah.icon,o,t.icon.className)),t.submenuIndicator&&(t.submenuIndicator.className=Ee(Ah.submenuIndicator,a,t.submenuIndicator.className,u&&s.submenuIndicator)),t.subText&&(t.subText.className=Ee(Ah.subText,t.subText.className,l)),TSt(t),t},RSt=Z.forwardRef((t,e)=>{const r=vSt(t,e);return LSt(r),ea("useMenuItemStyles_unstable")(r),wSt(r)});RSt.displayName="MenuItem";Fr({container:{position:"relative",width:"100%",height:"100%"},iframe:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1e3,backgroundColor:"white",borderRadius:"0",border:"none",width:"100%",height:"100%",transformOrigin:"0 0"},iframe2:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:0,backgroundColor:"white",borderRadius:"0",border:"none",width:"100%",height:"100%",transformOrigin:"0 0"},menuButton:{position:"absolute",top:"10px",right:"10px",zIndex:1100}});Fr({root:{display:"flex",flexDirection:"column",height:"100%",touchAction:"pan-y"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:Qt("APP_HEADER_COLOR")||kr.colorBrandBackground,color:kr.colorNeutralForegroundOnBrand,...Hi.padding("10px","20px")},logo:{maxWidth:"100px",maxHeight:"50px",height:"auto",cursor:"pointer"},inputContainer:{display:"flex",justifyContent:"flex-end",alignItems:"center",maxWidth:"300px",width:"200px",paddingLeft:"10px"},dashboard:{display:"flex",justifyContent:"space-around",width:"100%",marginTop:"20px"},statBox:{...Hi.padding("10px"),...Hi.borderRadius("12px"),minWidth:"50px",textAlign:"center",color:"white"},buttonContainer:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",gap:"30px",alignItems:"center",...Hi.padding("20px")},actionButton:{width:"14rem",minWidth:"15rem",height:"3rem"},textAreaContainer:{display:"flex",flexDirection:"column",gap:"10px"},opened:{backgroundColor:"#1a5614"},not_home:{backgroundColor:"#f44336"},sales:{backgroundColor:"#2196F3"},call_back:{backgroundColor:"#FF9800"}});Fr({container:{maxWidth:"640px",margin:"0 auto",backgroundPosition:"calc(50% + 100px) center",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"100%"},instructionParagraph:{fontWeight:"bold",marginBottom:"1em"},orderedList:{marginLeft:"20px",marginBottom:"1em",fontSize:"1.3em"}});const QQ=()=>{const t=Z.useRef(new Map),e=Z.useMemo(()=>({getCount:()=>t.current.size,getOptionAtIndex:()=>{},getIndexOfId:()=>-1,getOptionById:n=>t.current.get(n),getOptionsMatchingText:n=>Array.from(t.current.values()).filter(({text:i})=>n(i)),getOptionsMatchingValue:n=>{const i=[];for(const o of t.current.values())n(o.value)&&i.push(o);return i}}),[]),r=Z.useCallback(n=>(t.current.set(n.id,n),()=>t.current.delete(n.id)),[]);return{...e,options:Array.from(t.current.values()),registerOption:r}},JQ=t=>{const{defaultSelectedOptions:e,multiselect:r,onOptionSelect:n}=t,[i,o]=Ju({state:t.selectedOptions,defaultState:e,initialState:[]});return{clearSelection:a=>{o([]),n==null||n(a,{optionValue:void 0,optionText:void 0,selectedOptions:[]})},selectOption:Z.useCallback((a,s)=>{if(s.disabled)return;let l=[s.value];if(r){const u=i.findIndex(h=>h===s.value);l=u>-1?[...i.slice(0,u),...i.slice(u+1)]:[...i,s.value]}o(l),n==null||n(a,{optionValue:s.value,optionText:s.text,selectedOptions:l})},[n,r,i,o]),selectedOptions:i}},tJ=t=>{const{appearance:e="outline",disableAutoFocus:r,children:n,clearable:i=!1,editable:o=!1,inlinePopup:a=!1,mountNode:s,multiselect:l,onOpenChange:u,size:h="medium",activeDescendantController:d,freeform:p=!1,disabled:f=!1,onActiveOptionChange:g=null}=t,m=QQ(),{getOptionsMatchingValue:y}=m,{getOptionById:v}=m,x=Z.useCallback(()=>{const U=d.active();return U?v(U):void 0},[d,v]),b=x(),k=Z.useCallback(U=>{let W;typeof U=="function"&&(W=U(x())),W?d.focus(W.id):d.blur()},[d,x]),[N,_]=Z.useState(!1),[S,T]=Z.useState(!1),A=Z.useRef(!1),C=FQ(),[D,E]=Ju({state:t.value,initialState:void 0}),{selectedOptions:$,selectOption:I,clearSelection:L}=JQ(t),O=Z.useCallback((U,W)=>{kE.unstable_batchedUpdates(()=>{E(void 0),I(U,W)})},[E,I]),B=Z.useMemo(()=>{if(D!==void 0)return D;if(C&&t.defaultValue!==void 0)return t.defaultValue;const U=y(W=>$.includes(W)).map(W=>W.text);return l?o?"":U.join(", "):U[0]},[D,o,y,l,$]),[R,M]=Ju({state:t.open,defaultState:t.defaultOpen,initialState:!1}),F=Z.useCallback((U,W)=>{f||(u==null||u(U,{open:W}),kE.unstable_batchedUpdates(()=>{W||p||E(void 0),M(W)}))},[u,M,E,p,f]);Z.useEffect(()=>{if(R){if(!l&&$.length>0){const U=y(W=>W===$[0]).pop();U!=null&&U.id&&d.focus(U.id)}}else d.blur()},[R,d]),Z.useEffect(()=>{!R||r||d.active()||d.first()},[R,n,r,d,v]);const P=ar(U=>{const W=U.detail.previousId?m.getOptionById(U.detail.previousId):null,Q=m.getOptionById(U.detail.id);g==null||g(U,{event:U,type:"change",previousOption:W,nextOption:Q})});return{...m,freeform:p,disabled:f,selectOption:O,clearSelection:L,selectedOptions:$,activeOption:b,appearance:e,clearable:i,focusVisible:N,ignoreNextBlur:A,inlinePopup:a,mountNode:s,open:R,hasFocus:S,setActiveOption:k,setFocusVisible:_,setHasFocus:T,setOpen:F,setValue:E,size:h,value:B,multiselect:l,onOptionClick:ar(U=>{l||F(U,!1)}),onActiveDescendantChange:P}};function eJ(t){const{positioning:e}=t,r={position:"below",align:"start",offset:{crossAxis:0,mainAxis:2},fallbackPositions:["above","after","after-top","before","before-top"],matchTargetSize:"width",autoSize:!0,...uQ(e)},{targetRef:n,containerRef:i}=L_t(r);return[i,n]}function Um(t,e={}){const{open:r=!0,multiselect:n=!1}=e,i=t.key,{altKey:o,ctrlKey:a,key:s,metaKey:l}=t;return s.length!==1||i===kc||o||a||l?r?i===lb&&o||i===kd||!n&&i===kc?"CloseSelect":n&&i===kc?"Select":i===JC?"Close":i===q_?"Next":i===lb?"Previous":i===Jwt?"First":i===Qwt?"Last":i===ekt?"PageUp":i===tkt?"PageDown":i===QC?"Tab":"None":i===q_||i===lb||i===kd||i===kc?"Open":"None":"Type"}const qm={root:"fui-Option",checkIcon:"fui-Option__checkIcon"},DSt=Ye({root:{Bt984gj:"f122n59",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",sj55zd:"f19n0e5",i8kkvl:"f1ufnopg",Bceei9c:"f1k6fduh",mc9l5x:"f22iagw",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fm5eomj",qhf8xq:"f10pi13n",Jwef8y:"f1knas48",Bi91k9c:"feu1g3u",zqbkvg:"fo79ri9",h82x05:["f1osiabc","f1e8le25"],cqj998:"f1yusjty",j3hlsh:["f1e8le25","f1osiabc"],ecr2s2:"fb40n2d",lj723h:"f1g4hkjv",Btxx2vb:"f1lnr2zp",sltcwy:["f1ogfk9z","f1g7j8ec"],dnwvvm:"fiuf46r",Blyvkvs:["f1g7j8ec","f1ogfk9z"]},active:{Bowz1zl:"f11vrvdw",oxogb1:"f17hxjb7",Ix2sn8:"f1dha69c",q7v32p:"f1lm7500",B7cbj04:0,Bewtojm:0,b50fsz:0,B1wzb3v:0,Bqwk70n:0,B37u8z8:0,avt0cx:0,f0sref:0,B9fkznv:0,Be3o27t:0,Bertapg:0,B53xpsf:0,Bsv72rj:0,B39dzdd:0,Btq9bd3:0,Bqfxd14:0,atup0s:"fo7xqb",Fffuxt:0,Bttcd12:0,Beitzug:0,Bqougee:0,B86i8pi:"f1kurthe",Bhijsxg:"fwq15dy",kktds4:"f1pb3wry",Bmau3bo:["ftjv2f4","f1flhb1f"],npektv:["f1flhb1f","ftjv2f4"]},disabled:{sj55zd:"f1s2aq7o",Jwef8y:"f9ql6rf",Bi91k9c:"fvgxktp",zqbkvg:"f185j3qj",h82x05:["f1dligi3","f1vydzie"],cqj998:"fjw1di3",j3hlsh:["f1vydzie","f1dligi3"],ecr2s2:"fgj9um3",lj723h:"f19wldhg",Btxx2vb:"f1ss0kt2",sltcwy:["f1t6oli3","fjy9ci8"],dnwvvm:"fresaxk",Blyvkvs:["fjy9ci8","f1t6oli3"],Bbusuzp:"f1dcs8yz"},selected:{},checkIcon:{Bnnss6s:"fi64zpg",Be2twd7:"fod5ikn",Frg6f3:["f18b9hdq","fn6qj8t"],t21cq0:["f1xk557c","f1h9en5y"],Bcdw1i0:"fd7fpy0",Bo70h7d:"fvc9v3g"},selectedCheck:{Bcdw1i0:"f1022m68"},multiselectCheck:{Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1l3cf7o",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fq9zq91",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Bt984gj:"f122n59",Brf1p80:"f4d9j23",Bkfmm31:"f1w9h62z",Be2twd7:"f1ugzwwg",Bqenvij:"fd461yt",a9b677:"fjw5fx7",Bcdw1i0:"f1022m68"},selectedMultiselectCheck:{De3pzq:"ftywsgz",sj55zd:"fqpbvvt",g2u3we:"f3xi7mh",h3c5rm:["ftovhe4","f1wczvin"],B9xav0g:"f68vbr6",zhjwy3:["f1wczvin","ftovhe4"]},checkDisabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},multiselectCheckDisabled:{g2u3we:"f1r1t4y1",h3c5rm:["fmj8ijw","figx54m"],B9xav0g:"f360ss8",zhjwy3:["figx54m","fmj8ijw"]}},{d:[".f122n59{align-items:center;}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ufnopg{column-gap:var(--spacingHorizontalXS);}",".f1k6fduh{cursor:pointer;}",".f22iagw{display:flex;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".fm5eomj{padding:var(--spacingVerticalSNudge) var(--spacingHorizontalS);}",{p:-1}],".f10pi13n{position:relative;}",'.f11vrvdw[data-activedescendant-focusvisible]::after{content:"";}',".f17hxjb7[data-activedescendant-focusvisible]::after{position:absolute;}",".f1dha69c[data-activedescendant-focusvisible]::after{pointer-events:none;}",".f1lm7500[data-activedescendant-focusvisible]::after{z-index:1;}",[".fo7xqb[data-activedescendant-focusvisible]::after{border:2px solid var(--colorStrokeFocus2);}",{p:-2}],[".f1kurthe[data-activedescendant-focusvisible]::after{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fwq15dy[data-activedescendant-focusvisible]::after{top:-2px;}",".f1pb3wry[data-activedescendant-focusvisible]::after{bottom:-2px;}",".ftjv2f4[data-activedescendant-focusvisible]::after{left:-2px;}",".f1flhb1f[data-activedescendant-focusvisible]::after{right:-2px;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fi64zpg{flex-shrink:0;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".f18b9hdq{margin-left:calc(var(--spacingHorizontalXXS) * -1);}",".fn6qj8t{margin-right:calc(var(--spacingHorizontalXXS) * -1);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".fd7fpy0{visibility:hidden;}",".fvc9v3g svg{display:block;}",".f1022m68{visibility:visible;}",[".f1l3cf7o{border:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-2}],[".fq9zq91{border-radius:var(--borderRadiusSmall);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".f4d9j23{justify-content:center;}",".f1w9h62z{fill:currentColor;}",".f1ugzwwg{font-size:12px;}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fqpbvvt{color:var(--colorNeutralForegroundInverted);}",".f3xi7mh{border-top-color:var(--colorCompoundBrandBackground);}",".ftovhe4{border-right-color:var(--colorCompoundBrandBackground);}",".f1wczvin{border-left-color:var(--colorCompoundBrandBackground);}",".f68vbr6{border-bottom-color:var(--colorCompoundBrandBackground);}",".f1r1t4y1{border-top-color:var(--colorNeutralForegroundDisabled);}",".fmj8ijw{border-right-color:var(--colorNeutralForegroundDisabled);}",".figx54m{border-left-color:var(--colorNeutralForegroundDisabled);}",".f360ss8{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],h:[".f1knas48:hover{background-color:var(--colorNeutralBackground1Hover);}",".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".fo79ri9:hover .fui-Option__checkIcon{border-top-color:var(--colorNeutralForeground1Hover);}",".f1osiabc:hover .fui-Option__checkIcon{border-right-color:var(--colorNeutralForeground1Hover);}",".f1e8le25:hover .fui-Option__checkIcon{border-left-color:var(--colorNeutralForeground1Hover);}",".f1yusjty:hover .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForeground1Hover);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f185j3qj:hover .fui-Option__checkIcon{border-top-color:var(--colorNeutralForegroundDisabled);}",".f1dligi3:hover .fui-Option__checkIcon{border-right-color:var(--colorNeutralForegroundDisabled);}",".f1vydzie:hover .fui-Option__checkIcon{border-left-color:var(--colorNeutralForegroundDisabled);}",".fjw1di3:hover .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],a:[".fb40n2d:active{background-color:var(--colorNeutralBackground1Pressed);}",".f1g4hkjv:active{color:var(--colorNeutralForeground1Pressed);}",".f1lnr2zp:active .fui-Option__checkIcon{border-top-color:var(--colorNeutralForeground1Hover);}",".f1ogfk9z:active .fui-Option__checkIcon{border-right-color:var(--colorNeutralForeground1Hover);}",".f1g7j8ec:active .fui-Option__checkIcon{border-left-color:var(--colorNeutralForeground1Hover);}",".fiuf46r:active .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForeground1Hover);}",".fgj9um3:active{background-color:var(--colorTransparentBackground);}",".f19wldhg:active{color:var(--colorNeutralForegroundDisabled);}",".f1ss0kt2:active .fui-Option__checkIcon{border-top-color:var(--colorNeutralForegroundDisabled);}",".f1t6oli3:active .fui-Option__checkIcon{border-right-color:var(--colorNeutralForegroundDisabled);}",".fjy9ci8:active .fui-Option__checkIcon{border-left-color:var(--colorNeutralForegroundDisabled);}",".fresaxk:active .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),OSt=t=>{const{disabled:e,multiselect:r,selected:n}=t,i=DSt();return t.root.className=Ee(qm.root,i.root,i.active,e&&i.disabled,n&&i.selected,t.root.className),t.checkIcon&&(t.checkIcon.className=Ee(qm.checkIcon,i.checkIcon,r&&i.multiselectCheck,n&&i.selectedCheck,n&&r&&i.selectedMultiselectCheck,e&&i.checkDisabled,e&&r&&i.multiselectCheckDisabled,t.checkIcon.className)),t},MSt={activeOption:void 0,focusVisible:!1,multiselect:!1,getOptionById(){},getOptionsMatchingValue:()=>[],registerOption:()=>()=>{},selectedOptions:[],onOptionClick(){},onActiveDescendantChange(){},selectOption(){},setActiveOption(){}},vg=U4(void 0),Pa=t=>n7(vg,(e=MSt)=>t(e)),BSt=vg.Provider;function PSt(t){const{matchOption:e}=t,{targetDocument:r}=Gn(),n=Z.useRef(null),i=Z.useRef(null),o=Z.useCallback(s=>xi(s)&&e(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,[e]),a=Z.useCallback(s=>{s&&r?(i.current=s,n.current=r.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o)):i.current=null},[r,o]);return{optionWalker:Z.useMemo(()=>({first:()=>n.current&&i.current?(n.current.currentNode=i.current,n.current.firstChild()):null,last:()=>n.current&&i.current?(n.current.currentNode=i.current,n.current.lastChild()):null,next:()=>n.current?n.current.nextNode():null,prev:()=>n.current?n.current.previousNode():null,find:(s,l)=>{if(!n.current||!i.current)return null;const u=l?r==null?void 0:r.getElementById(l):null;n.current.currentNode=u??i.current;let h=n.current.currentNode;for(;h&&!s(h.id);)h=n.current.nextNode();return h},setCurrent:s=>{n.current&&(n.current.currentNode=s)}}),[r]),listboxCallbackRef:a}}const AD="data-activedescendant",yp="data-activedescendant-focusvisible",CD=t=>{if(!t)return;const e=rJ(t.parentElement);if(!e)return;const{offsetHeight:r}=t,n=nJ(t,e),{scrollMarginTop:i,scrollMarginBottom:o}=FSt(t),{offsetHeight:a,scrollTop:s}=e,l=n+r+o>s+a;n-i<s?e.scrollTo(0,n-i-2):l&&e.scrollTo(0,n+r+o-a+2)},rJ=t=>t?t.scrollHeight>t.offsetHeight?t:rJ(t.parentElement):null,nJ=(t,e)=>t&&t!==e?t.contains(e)?-1*e.offsetTop:t.offsetTop+nJ(t.offsetParent,e):0,FSt=t=>{var e;const r=(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView;if(!r)return{scrollMarginTop:0,scrollMarginBottom:0};const n=r.getComputedStyle(t);var i,o;return{scrollMarginTop:(i=qv(n.scrollMarginTop))!==null&&i!==void 0?i:qv(n.scrollMarginBlockStart),scrollMarginBottom:(o=qv(n.scrollMarginBottom))!==null&&o!==void 0?o:qv(n.scrollMarginBlockEnd)}},qv=t=>t?parseInt(t,10):0;function iJ(){const{targetDocument:t}=Gn(),e=Z.useRef(null);return Z.useEffect(()=>{if(t){const r=Y4(t.defaultView);return e.current=r,()=>{X4(r),e.current=null}}},[t]),e}function oJ(t){const e=iJ(),r=ar(t);Z.useEffect(()=>{const n=e.current;if(n){const i=o=>{r(o)};return n.subscribe(i),i(n.isNavigatingWithKeyboard()),()=>{n.unsubscribe(i)}}},[e,r])}const zSt=t=>new CustomEvent("activedescendantchange",{bubbles:!0,cancelable:!1,composed:!0,detail:t});function v7(t){const{imperativeRef:e,matchOption:r}=t,n=Z.useRef(!1),i=Z.useRef(!0),o=Z.useRef(null),a=Z.useRef(null),s=Z.useRef(null),l=Z.useRef(!0),u=Z.useCallback(()=>{var k;(k=s.current)===null||k===void 0||k.removeAttribute("aria-activedescendant")},[]),h=Z.useCallback(k=>{var N;k&&(o.current=k),l.current&&o.current&&((N=s.current)===null||N===void 0||N.setAttribute("aria-activedescendant",o.current))},[]);oJ(k=>{n.current=k;const N=m();N&&(k&&i.current?N.setAttribute(yp,""):N.removeAttribute(yp))});const d=ar(r),p=Z.useRef(null),{optionWalker:f,listboxCallbackRef:g}=PSt({matchOption:d}),m=Z.useCallback(()=>{var k;return(k=p.current)===null||k===void 0?void 0:k.querySelector(`#${o.current}`)},[p]),y=Z.useCallback(k=>{i.current=k;const N=m();N&&(k&&n.current?N.setAttribute(yp,""):N.removeAttribute(yp))},[m]),v=Z.useCallback(()=>{const k=m();var N;return k&&(k.removeAttribute(AD),k.removeAttribute(yp)),u(),a.current=o.current,o.current=null,(N=k==null?void 0:k.id)!==null&&N!==void 0?N:null},[m,u]),x=Z.useCallback(k=>{if(!k)return;const N=v();CD(k),h(k.id),k.setAttribute(AD,""),n.current&&i.current&&k.setAttribute(yp,"");const _=zSt({id:k.id,previousId:N});k.dispatchEvent(_)},[v,h]),b=Z.useMemo(()=>({first:({passive:k}={})=>{const N=f.first();return k||x(N),N==null?void 0:N.id},last:({passive:k}={})=>{const N=f.last();return k||x(N),N==null?void 0:N.id},next:({passive:k}={})=>{const N=m();if(!N)return;f.setCurrent(N);const _=f.next();return k||x(_),_==null?void 0:_.id},prev:({passive:k}={})=>{const N=m();if(!N)return;f.setCurrent(N);const _=f.prev();return k||x(_),_==null?void 0:_.id},blur:()=>{v()},active:()=>{var k;return(k=m())===null||k===void 0?void 0:k.id},focus:k=>{if(!p.current)return;const N=p.current.querySelector(`#${k}`);N&&x(N)},focusLastActive:()=>{if(!p.current||!a.current)return;const k=p.current.querySelector(`#${a.current}`);return k?(x(k),!0):void 0},find(k,{passive:N,startFrom:_}={}){const S=f.find(k,_);return N||x(S),S==null?void 0:S.id},scrollActiveIntoView:()=>{if(!p.current)return;const k=m();k&&CD(k)},showAttributes(){l.current=!0,h()},hideAttributes(){l.current=!1,u()},showFocusVisibleAttributes(){y(!0)},hideFocusVisibleAttributes(){y(!1)}}),[f,p,h,u,x,v,m,y]);return Z.useImperativeHandle(e,()=>b),{listboxRef:ui(p,g),activeParentRef:s,controller:b}}const oa=()=>{},jSt={controller:{active:oa,blur:oa,find:oa,first:oa,focus:oa,focusLastActive:oa,scrollActiveIntoView:oa,last:oa,next:oa,prev:oa,showAttributes:oa,hideAttributes:oa,showFocusVisibleAttributes:oa,hideFocusVisibleAttributes:oa}},b7=Z.createContext(void 0),x7=b7.Provider,aJ=()=>{var t;return(t=Z.useContext(b7))!==null&&t!==void 0?t:jSt},HSt=()=>!!Z.useContext(b7),$D={activeOption:void 0,focusVisible:!1,setActiveOption:()=>null},USt=(t,e)=>{const{multiselect:r,disableAutoFocus:n=!1}=t,i=QQ(),{listboxRef:o,activeParentRef:a,controller:s}=v7({matchOption:$=>$.classList.contains(qm.root)}),l=q4(vg),u=Pa($=>$.onActiveDescendantChange),h=Pa($=>$.getOptionById),d=Pa($=>$.getOptionsMatchingValue),p=l?h:i.getOptionById,f=l?d:i.getOptionsMatchingValue,g=Z.useMemo(()=>{let $=null;const I=L=>{u==null||u(L)};return L=>{L?($=L,$.addEventListener("activedescendantchange",I)):$==null||$.removeEventListener("activedescendantchange",I)}},[u]),[m,y]=Z.useState(!1);oJ(y);const v=aJ(),x=HSt(),b=x?v.controller:s,{clearSelection:k,selectedOptions:N,selectOption:_}=JQ(t),S=Pa($=>$.selectedOptions),T=Pa($=>$.selectOption),A=l?{selectedOptions:S,selectOption:T,...$D}:{selectedOptions:N,selectOption:_,...$D};Z.useEffect(()=>{if(!x){if(b.hideFocusVisibleAttributes(),!n)if(!r&&A.selectedOptions.length>0){const $=f(I=>I===A.selectedOptions[0]).pop();$!=null&&$.id&&b.focus($.id)}else b.first();return()=>{b.blur()}}},[]);const C=Z.useCallback(()=>{x||(b.showFocusVisibleAttributes(),m&&b.scrollActiveIntoView())},[b,x,m]),D=Z.useCallback(()=>{x||b.hideFocusVisibleAttributes()},[b,x]),E={components:{root:"div"},root:Nr(ei("div",{ref:ui(e,a,o,g),role:r?"menu":"listbox",tabIndex:0,...t}),{elementType:"div"}),standalone:!l,multiselect:r,clearSelection:k,activeDescendantController:b,onActiveDescendantChange:u,...i,...A};return E.root.onKeyDown=ar(ci(E.root.onKeyDown,$=>{const I=Um($,{open:!0}),L=b.active(),O=L?p(L):null;switch(I){case"First":case"Last":case"Next":case"Previous":case"PageDown":case"PageUp":case"CloseSelect":case"Select":$.preventDefault()}switch(I){case"Next":O?b.next():b.first();break;case"Previous":O?b.prev():b.first();break;case"PageUp":case"First":b.first();break;case"PageDown":case"Last":b.last();break;case"Select":case"CloseSelect":O&&_($,O)}})),E.root.onFocus=ar(ci(E.root.onFocus,C)),E.root.onBlur=ar(ci(E.root.onBlur,D)),E},qSt=(t,e)=>ve(x7,{value:e.activeDescendant,children:ve(vg.Provider,{value:e.listbox,children:ve(t.root,{})})}),GSt={root:"fui-Listbox"},WSt=Ye({root:{De3pzq:"fxugw4r",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Bf4jedk:"f3hsy1e",Bmxbyg5:"f5zp4f",Bw0xxkn:0,oeaueh:0,Bpd4iqm:0,Befb4lg:"f1iepc6i",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1t35pdg",Belr9w4:"fiut8dr"}},{d:[".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f3hsy1e{min-width:160px;}",".f5zp4f{overflow-y:auto;}",[".f1iepc6i{outline:1px solid var(--colorTransparentStroke);}",{p:-1}],[".f1t35pdg{padding:var(--spacingHorizontalXS);}",{p:-1}],".fiut8dr{row-gap:var(--spacingHorizontalXXS);}"]}),VSt=t=>{const e=WSt();return t.root.className=Ee(GSt.root,e.root,t.root.className),t};function YSt(t){const e=q4(vg),{getOptionById:r,getOptionsMatchingValue:n,multiselect:i,registerOption:o,selectedOptions:a,selectOption:s,activeDescendantController:l}=t,u=Pa(h=>h.registerOption);return{listbox:{activeOption:void 0,focusVisible:!1,getOptionById:r,getOptionsMatchingValue:n,multiselect:i,registerOption:e?u:o,selectedOptions:a,selectOption:s,setActiveOption:()=>{},onOptionClick:Pa(h=>h.onOptionClick),onActiveDescendantChange:Pa(h=>h.onActiveDescendantChange)},activeDescendant:Z.useMemo(()=>({controller:l}),[l])}}const Z4=Z.forwardRef((t,e)=>{const r=USt(t,e),n=YSt(r);return VSt(r),ea("useListboxStyles_unstable")(r),qSt(r,n)});Z4.displayName="Listbox";function sJ(t,e,r){const{state:{multiselect:n},triggerRef:i,defaultProps:o}=r,a=Qu("fluent-listbox",sQ(t)?t.id:void 0),s=$r(t,{renderByDefault:!0,elementType:Z4,defaultProps:{id:a,multiselect:n,tabIndex:void 0,...o}}),l=ar(ci(d=>{d.preventDefault()},s==null?void 0:s.onMouseDown)),u=ar(ci(d=>{var p;d.preventDefault(),(p=i.current)===null||p===void 0||p.focus()},s==null?void 0:s.onClick)),h=ui(s==null?void 0:s.ref,e);return s&&(s.ref=h,s.onMouseDown=l,s.onClick=u),s}function XSt(){const t=iJ();return Z.useCallback(e=>{var r;(r=t.current)===null||r===void 0||r.setVal(e)},[t])}function lJ(t,e,r){const{state:{open:n,setOpen:i,setHasFocus:o},defaultProps:a,elementType:s,activeDescendantController:l}=r,u=Nr(t,{defaultProps:{type:"text","aria-expanded":n,role:"combobox",...typeof a=="object"&&a},elementType:s}),h=Z.useRef(null);return u.ref=ui(h,u.ref,e),u.onBlur=ci(d=>{i(d,!1),o(!1)},u.onBlur),u.onFocus=ci(d=>{d.target===d.currentTarget&&o(!0)},u.onFocus),u.onClick=ci(d=>{i(d,!n)},u.onClick),u.onKeyDown=ci(function(d){const{activeDescendantController:p,getOptionById:f,setOpen:g,selectOption:m,multiselect:y,open:v}=d,x=Z.useCallback(()=>{const C=p.active();return C?f(C):void 0},[p,f]),b=()=>{p.first()},k=()=>{p.last()},N=C=>{C?p.next():p.first()},_=C=>{C?p.prev():p.first()},S=()=>{for(let C=0;C<10;C++)p.prev()},T=()=>{for(let C=0;C<10;C++)p.next()},A=XSt();return ar(C=>{const D=Um(C,{open:v,multiselect:y}),E=x();switch(D){case"First":case"Last":case"Next":case"Previous":case"PageDown":case"PageUp":case"Open":case"Close":case"CloseSelect":case"Select":C.preventDefault()}switch(A(!0),D){case"First":b();break;case"Last":k();break;case"Next":N(E);break;case"Previous":_(E);break;case"PageDown":T();break;case"PageUp":S();break;case"Open":g(C,!0);break;case"Close":C.stopPropagation(),g(C,!1);break;case"CloseSelect":!y&&!(E!=null&&E.disabled)&&g(C,!1);case"Select":E&&m(C,E);break;case"Tab":!y&&E&&m(C,E)}})}({activeDescendantController:l,...r.state}),u.onKeyDown),u}function KSt(t,e,r){const{state:{open:n,setOpen:i,getOptionById:o},defaultProps:a,activeDescendantController:s}=r,l=Z.useRef(""),[u,h]=z4(),d=(f,g={startFromNext:!1})=>{const{startFromNext:m}=g,y=s.active();return s.find(x=>{const b=o(x);return!!b&&f(b.text)},{startFrom:m?s.next({passive:!0}):y})||s.find(x=>{const b=o(x);return!!b&&f(b.text)})},p=lJ(t,e,{state:r.state,defaultProps:a,elementType:"button",activeDescendantController:s});return p.onKeyDown=ci(f=>{h(),Um(f)==="Type"&&(l.current+=f.key.toLowerCase(),u(()=>{l.current=""},500),n&&(d(g=>g.toLocaleLowerCase().indexOf(l.current)===0,{startFromNext:l.current.length===1})||function(g){for(let m=1;m<g.length;m++)if(g[m]!==g[m-1])return!1;return!0}(l.current)&&d(g=>g.toLocaleLowerCase().indexOf(l.current[0])===0,{startFromNext:!0})||s.blur()),!n&&i(f,!0))},p.onKeyDown),p}const ZSt=(t,e)=>{var r;t=M4(t,{supportsLabelFor:!0,supportsSize:!0});const{listboxRef:n,activeParentRef:i,controller:o}=v7({matchOption:E=>E.classList.contains(qm.root)}),a=tJ({...t,activeDescendantController:o,freeform:!1}),{clearable:s,clearSelection:l,disabled:u,hasFocus:h,multiselect:d,open:p,selectedOptions:f,setOpen:g}=a,{primary:m,root:y}=P4({props:t,primarySlotTagName:"button",excludedPropNames:["children"]}),[v,x]=eJ(t),b=Z.useRef(null),k=sJ(t.listbox,ui(v,n),{state:a,triggerRef:b,defaultProps:{children:t.children}}),{targetDocument:N}=Gn();var _;TQ({element:N,callback:E=>g(E,!1),refs:[b,v,x],disabled:!p});const S=KSt((_=t.button)!==null&&_!==void 0?_:{},ui(b,i,e),{state:a,defaultProps:{type:"button",tabIndex:m.disabled?void 0:0,children:a.value||t.placeholder,"aria-controls":p?k==null?void 0:k.id:void 0,...m},activeDescendantController:o}),T=Nr(t.root,{defaultProps:{"aria-owns":!t.inlinePopup&&p?k==null?void 0:k.id:void 0,children:t.children,...y},elementType:"div"});T.ref=ui(T.ref,x);const A=f.length>0&&!u&&s&&!d,C={components:{root:"div",button:"button",clearButton:"button",expandIcon:"span",listbox:Z4},root:T,button:S,listbox:p||h?k:void 0,clearButton:$r(t.clearButton,{defaultProps:{"aria-label":"Clear selection",children:Z.createElement(Ny,null),tabIndex:A?0:void 0,type:"button"},elementType:"button",renderByDefault:!0}),expandIcon:$r(t.expandIcon,{renderByDefault:!0,defaultProps:{children:Z.createElement(CZ,null)},elementType:"span"}),placeholderVisible:!a.value&&!!t.placeholder,showClearButton:A,activeDescendantController:o,...a},D=ar(ci((r=C.clearButton)===null||r===void 0?void 0:r.onClick,E=>{var $;l(E),($=b.current)===null||$===void 0||$.focus()}));return C.clearButton&&(C.clearButton.onClick=D),d&&(C.clearButton=void 0),C},w7=U4({activeOption:void 0,appearance:"outline",focusVisible:!1,open:!1,registerOption:()=>()=>{},selectedOptions:[],selectOption(){},setActiveOption(){},setOpen(){},size:"medium"});w7.Provider;const QSt=(t,e)=>ve(t.root,{children:ve(x7,{value:e.activeDescendant,children:ve(vg.Provider,{value:e.listbox,children:Un(w7.Provider,{value:e.combobox,children:[Un(t.button,{children:[t.button.children,t.expandIcon&&ve(t.expandIcon,{})]}),t.clearButton&&ve(t.clearButton,{}),t.listbox&&(t.inlinePopup?ve(t.listbox,{}):ve(Oy,{mountNode:t.mountNode,children:ve(t.listbox,{})}))]})})})}),r1={root:"fui-Dropdown",button:"fui-Dropdown__button",clearButton:"fui-Dropdown__clearButton",expandIcon:"fui-Dropdown__expandIcon",listbox:"fui-Dropdown__listbox"},JSt=Ye({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",B7ck84d:"f1ewtqcl",mc9l5x:"ftuwxu6",Bf4jedk:"f1exfvgq",qhf8xq:"f10pi13n",ha4doy:"fmrv4ls",Bbr2w1p:"f14a1fxs",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"ffyw7fx",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"f13evtba",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51",Bz04dq9:"f132nw8t",Budl3uf:"f1htdosj"},listbox:{B7ck84d:"f1ewtqcl",E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d"},listboxCollapsed:{mc9l5x:"fjseox"},inlineListbox:{Bj3rh1h:"f19g0ac"},button:{Bt984gj:"f122n59",De3pzq:"f1c21dwh",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh",B7ck84d:"f1ewtqcl",sj55zd:"f19n0e5",i8kkvl:"f14mj54c",Bceei9c:"f1k6fduh",mc9l5x:"f13qh94s",Bahqtrf:"fk6fouc",Budl1dq:"f12nh0o2",Brf1p80:"f1869bpl",fsow6f:["f1o700av","fes3tcz"],a9b677:"fly5x3f",Brovlpu:"ftqa4ok"},placeholder:{sj55zd:"fxc4j92"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["fye6m5k","f3cq2dl"]},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["f14ev680","f58uxzw"]},large:{i8kkvl:"f1rjii52",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["f139mn7i","f1v3q0m"]},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"flmw63s",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"fqhmt4z",B50zh58:["f4ruux4","f1assf6x"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f9ez7ne",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"},"filled-lighter":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fs2rfia"},"filled-darker":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fs2rfia"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]},disabledText:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr"},hidden:{mc9l5x:"fjseox"}},{d:[[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".ftuwxu6{display:inline-flex;}",".f1exfvgq{min-width:250px;}",".f10pi13n{position:relative;}",".fmrv4ls{vertical-align:middle;}",".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".ffyw7fx::after{height:max(var(--strokeWidthThick), var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".f13evtba::after{clip-path:inset(calc(100% - 2px) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".fjseox{display:none;}",".f19g0ac{z-index:1;}",".f122n59{align-items:center;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f3bhgqh{border:none;}",{p:-2}],".f19n0e5{color:var(--colorNeutralForeground1);}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",".f1k6fduh{cursor:pointer;}",".f13qh94s{display:grid;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f12nh0o2{grid-template-columns:[content] 1fr [icon] auto [end];}",".f1869bpl{justify-content:space-between;}",".f1o700av{text-align:left;}",".fes3tcz{text-align:right;}",".fly5x3f{width:100%;}",".fxc4j92{color:var(--colorNeutralForeground4);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",[".fye6m5k{padding:3px var(--spacingHorizontalSNudge) 3px calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f3cq2dl{padding:3px calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS)) 3px var(--spacingHorizontalSNudge);}",{p:-1}],".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".f14ev680{padding:5px var(--spacingHorizontalMNudge) 5px calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f58uxzw{padding:5px calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS)) 5px var(--spacingHorizontalMNudge);}",{p:-1}],".f1rjii52{column-gap:var(--spacingHorizontalSNudge);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f139mn7i{padding:7px var(--spacingHorizontalM) 7px calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",{p:-1}],[".f1v3q0m{padding:7px calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge)) 7px var(--spacingHorizontalM);}",{p:-1}],".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",[".f9ez7ne{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],[".fs2rfia{border:var(--strokeWidthThin) solid transparent;}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",[".fs2rfia{border:var(--strokeWidthThin) solid transparent;}",{p:-2}],".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"],w:[".f14a1fxs:focus-within{outline-width:2px;}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],t:["@supports selector(:has(*)){.f132nw8t:has(.fui-Dropdown__clearButton:focus)::after{border-bottom-color:initial;}}","@supports selector(:has(*)){.f1htdosj:has(.fui-Dropdown__clearButton:focus)::after{transform:scaleX(0);}}"],f:[".ftqa4ok:focus{outline-style:none;}"],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".flmw63s:hover{border-bottom-color:var(--colorNeutralStrokeAccessible);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".fqhmt4z:active{border-bottom-color:var(--colorNeutralStrokeAccessible);}"]}),tAt=Ye({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",mc9l5x:"ftgm304",Be2twd7:"f1pp30po",Br312pm:"f12w6cgp",Bw0ie65:"f8bv1bt",Bo70h7d:"fvc9v3g"},small:{Be2twd7:"f4ybsrx",Frg6f3:["f1h9en5y","f1xk557c"]},medium:{Be2twd7:"fe5j1ua",Frg6f3:["f1h9en5y","f1xk557c"]},large:{Be2twd7:"f1rt2boy",Frg6f3:["f1t5qyk5","f1ikr372"]},disabled:{sj55zd:"f1s2aq7o"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".ftgm304{display:block;}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f12w6cgp{grid-column-start:icon;}",".f8bv1bt{grid-column-end:end;}",".fvc9v3g svg{display:block;}",".f4ybsrx{font-size:16px;}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".fe5j1ua{font-size:20px;}",".f1rt2boy{font-size:24px;}",".f1t5qyk5{margin-left:var(--spacingHorizontalSNudge);}",".f1ikr372{margin-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"]}),eAt=Zr("rticfuj","r1vp6jef",{r:[".rticfuj{align-self:center;background-color:var(--colorTransparentBackground);border:none;cursor:pointer;height:fit-content;margin:0;margin-right:var(--spacingHorizontalMNudge);padding:0;position:relative;}",".rticfuj:focus{outline-style:none;}",".rticfuj:focus-visible{outline-style:none;}",".rticfuj[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.rticfuj[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r1vp6jef{align-self:center;background-color:var(--colorTransparentBackground);border:none;cursor:pointer;height:fit-content;margin:0;margin-left:var(--spacingHorizontalMNudge);padding:0;position:relative;}",".r1vp6jef:focus{outline-style:none;}",".r1vp6jef:focus-visible{outline-style:none;}",".r1vp6jef[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r1vp6jef[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.rticfuj[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.r1vp6jef[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),rAt=t=>{const{appearance:e,open:r,placeholderVisible:n,showClearButton:i,size:o}=t,a=`${t.button["aria-invalid"]}`=="true",s=t.button.disabled,l=JSt(),u=tAt(),h=eAt();return t.root.className=Ee(r1.root,l.root,l[e],!s&&e==="outline"&&l.outlineInteractive,a&&e!=="underline"&&l.invalid,a&&e==="underline"&&l.invalidUnderline,s&&l.disabled,t.root.className),t.button.className=Ee(r1.button,l.button,l[o],n&&l.placeholder,s&&l.disabledText,t.button.className),t.listbox&&(t.listbox.className=Ee(r1.listbox,l.listbox,t.inlinePopup&&l.inlineListbox,!r&&l.listboxCollapsed,t.listbox.className)),t.expandIcon&&(t.expandIcon.className=Ee(r1.expandIcon,u.icon,u[o],s&&u.disabled,i&&l.hidden,t.expandIcon.className)),t.clearButton&&(t.clearButton.className=Ee(r1.clearButton,h,u.icon,u[o],s&&u.disabled,!i&&l.hidden,t.clearButton.className)),t};function cJ(t){const{appearance:e,open:r,getOptionById:n,getOptionsMatchingValue:i,registerOption:o,selectedOptions:a,selectOption:s,setOpen:l,size:u,activeDescendantController:h,onOptionClick:d,onActiveDescendantChange:p}=t,f={activeOption:void 0,focusVisible:!1,getOptionById:n,getOptionsMatchingValue:i,registerOption:o,selectedOptions:a,selectOption:s,setActiveOption:()=>null,onOptionClick:d,onActiveDescendantChange:p};return{combobox:{activeOption:void 0,appearance:e,focusVisible:!1,open:r,registerOption:o,selectedOptions:a,selectOption:s,setActiveOption:()=>null,setOpen:l,size:u},activeDescendant:Z.useMemo(()=>({controller:h}),[h]),listbox:f}}const nAt=Z.forwardRef((t,e)=>{const r=ZSt(t,e),n=cJ(r);return rAt(r),ea("useDropdownStyles_unstable")(r),QSt(r,n)});nAt.displayName="Dropdown";const iAt=(t,e)=>{const{children:r,disabled:n,text:i,value:o}=t,a=Z.useRef(null),s=function(b,k){if(b!==void 0)return b;let N="",_=!1;return Z.Children.forEach(k,S=>{typeof S=="string"?N+=S:_=!0}),_&&console.warn("Provide a `text` prop to Option components when they contain non-string children."),N}(i,r),l=o??s,u=Qu("fluent-option",t.id),h=Z.useMemo(()=>({id:u,disabled:n,text:s,value:l}),[u,n,s,l]),{controller:d}=aJ(),p=Pa(b=>b.multiselect),f=Pa(b=>b.registerOption),g=Pa(b=>{const k=b.selectedOptions;return l!==void 0&&k.find(N=>N===l)!==void 0}),m=Pa(b=>b.selectOption),y=Pa(b=>b.onOptionClick);let v=Z.createElement(kwt,null);p&&(v=g?Z.createElement(twt,null):""),Z.useEffect(()=>{if(u&&a.current)return f(h,a.current)},[u,h,f]);const x=p?{role:"menuitemcheckbox","aria-checked":g}:{role:"option","aria-selected":g};return{components:{root:"div",checkIcon:"span"},root:Nr(ei("div",{ref:ui(e,a),"aria-disabled":n?"true":void 0,id:u,...x,...t,onClick:b=>{var k;n?b.preventDefault():(d.focus(u),m(b,h),y(b),(k=t.onClick)===null||k===void 0||k.call(t,b))}}),{elementType:"div"}),checkIcon:$r(t.checkIcon,{renderByDefault:!0,defaultProps:{"aria-hidden":"true",children:v},elementType:"span"}),disabled:n,multiselect:p,selected:g,focusVisible:!1,active:!1}},oAt=t=>Un(t.root,{children:[t.checkIcon&&ve(t.checkIcon,{}),t.root.children]}),aAt=Z.forwardRef((t,e)=>{const r=iAt(t,e);return OSt(r),ea("useOptionStyles_unstable")(r),oAt(r)});aAt.displayName="Option";Fr({inputAndButton:{display:"flex",gap:"10px"},input:{minWidth:"90%"},container:{maxWidth:"640px",margin:"0 auto",backgroundPosition:"calc(50% + 100px) center",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"100%"},generatedLinkTitle:{marginBottom:"0.5em",fontWeight:"bold"},orderedList:{marginLeft:"20px",marginBottom:"1em"},instructionParagraph:{marginBottom:"1em",fontWeight:"bold"}});function sAt(t,e,r){const{state:{open:n,value:i,selectOption:o,setValue:a,multiselect:s,selectedOptions:l,clearSelection:u,getOptionById:h,setOpen:d},freeform:p,defaultProps:f,activeDescendantController:g}=r,m=_=>{const S=_==null?void 0:_.trim().toLowerCase();if(!S||S.length===0)return void g.blur();const T=g.find(A=>{const C=h(A);return!!C&&C.text.toLowerCase().indexOf(S)===0});if(T)return h(T);g.blur()},y=lJ(t,e,{state:r.state,defaultProps:f,elementType:"input",activeDescendantController:g});y.onChange=ci(y.onChange,_=>{const S=_.target.value;a(S);const T=m(S);s||l.length!==1||!(S.length<1)&&T||u(_)}),y.onBlur=ci(y.onBlur,_=>{if(!n&&!p){const S=g.active(),T=S?h(S):null;i&&T&&i.trim().toLowerCase()===(T==null?void 0:T.text.toLowerCase())&&o(_,T),a(void 0)}});const[v,x]=Z.useState(!1),b=Z.useRef(!1),k=y.onKeyDown,N=ar(_=>{n||Um(_)!=="Type"||d(_,!0),_.key===DZ||_.key===OZ?x(!0):x(!1);const S=Um(_,{open:n,multiselect:s});var T;S==="Type"?b.current=!0:(S==="Open"&&_.key!==" "||S==="Next"||S==="Previous"||S==="First"||S==="Last"||S==="PageUp"||S==="PageDown")&&(b.current=!1),!b.current&&n||_.key!==" "?k==null||k(_):t==null||(T=t.onKeyDown)===null||T===void 0||T.call(t,_)});return y.onKeyDown=N,v&&(y["aria-activedescendant"]=void 0),y}const lAt=(t,e)=>{var r,n;t=M4(t,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const{listboxRef:i,activeParentRef:o,controller:a}=v7({matchOption:U=>U.classList.contains(qm.root)}),s=tJ({...t,editable:!0,activeDescendantController:a}),{clearable:l,clearSelection:u,disabled:h,multiselect:d,open:p,selectedOptions:f,setOpen:g,value:m,hasFocus:y}=s,[v,x]=eJ(t),{disableAutoFocus:b=!1,freeform:k,inlinePopup:N}=t,_=Qu("combobox-"),{primary:S,root:T}=P4({props:t,primarySlotTagName:"input",excludedPropNames:["children","size"]}),A=Z.useRef(null),C=sJ(t.listbox,ui(v,i),{state:s,triggerRef:A,defaultProps:{children:t.children,disableAutoFocus:b}});var D;const E=sAt((D=t.input)!==null&&D!==void 0?D:{},ui(A,o,e),{state:s,freeform:k,defaultProps:{type:"text",value:m??"","aria-controls":p?C==null?void 0:C.id:void 0,...S},activeDescendantController:a}),$=Nr(t.root,{defaultProps:{"aria-owns":!N&&p?C==null?void 0:C.id:void 0,...T},elementType:"div"});$.ref=ui($.ref,x);const I=f.length>0&&!h&&l&&!d,L={components:{root:"div",input:"input",expandIcon:"span",listbox:Z4,clearIcon:"span"},root:$,input:E,listbox:p||y?C:void 0,clearIcon:$r(t.clearIcon,{defaultProps:{"aria-hidden":"true",children:Z.createElement(Ny,null)},elementType:"span",renderByDefault:!0}),expandIcon:$r(t.expandIcon,{renderByDefault:!0,defaultProps:{"aria-disabled":h?"true":void 0,"aria-expanded":p,children:Z.createElement(CZ,null),role:"button"},elementType:"span"}),showClearIcon:I,activeDescendantController:a,...s},{targetDocument:O}=Gn();TQ({element:O,callback:U=>g(U,!1),refs:[A,v,x],disabled:!p});const{onMouseDown:B}=L.expandIcon||{},R=ar(ci(B,U=>{var W;U.preventDefault(),L.setOpen(U,!L.open),(W=A.current)===null||W===void 0||W.focus()}));if(L.expandIcon){L.expandIcon.onMouseDown=R;const U="Open";if(!(L.expandIcon["aria-label"]||L.expandIcon["aria-labelledby"]))if(t["aria-labelledby"]){var M;const W=(M=L.expandIcon.id)!==null&&M!==void 0?M:`${_}-chevron`,Q=`${W} ${L.input["aria-labelledby"]}`;L.expandIcon["aria-label"]=U,L.expandIcon.id=W,L.expandIcon["aria-labelledby"]=Q}else t["aria-label"]?L.expandIcon["aria-label"]=`${U} ${t["aria-label"]}`:L.expandIcon["aria-label"]=U}const F=ar(ci((r=L.clearIcon)===null||r===void 0?void 0:r.onMouseDown,U=>{U.preventDefault()})),P=ar(ci((n=L.clearIcon)===null||n===void 0?void 0:n.onClick,U=>{u(U)}));return L.clearIcon&&(L.clearIcon.onMouseDown=F,L.clearIcon.onClick=P),d&&(L.clearIcon=void 0),L},cAt=(t,e)=>ve(t.root,{children:ve(x7,{value:e.activeDescendant,children:ve(BSt,{value:e.listbox,children:Un(w7.Provider,{value:e.combobox,children:[ve(t.input,{}),t.clearIcon&&ve(t.clearIcon,{}),t.expandIcon&&ve(t.expandIcon,{}),t.listbox&&(t.inlinePopup?ve(t.listbox,{}):ve(Oy,{mountNode:t.mountNode,children:ve(t.listbox,{})}))]})})})}),n1={root:"fui-Combobox",input:"fui-Combobox__input",expandIcon:"fui-Combobox__expandIcon",clearIcon:"fui-Combobox__clearIcon",listbox:"fui-Combobox__listbox"},uAt=Ye({root:{Bt984gj:"f122n59",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",B7ck84d:"f1ewtqcl",i8kkvl:"f14mj54c",mc9l5x:"fwk3njj",Budl1dq:"fz17x9o",Brf1p80:"f1869bpl",Bf4jedk:"f1exfvgq",qhf8xq:"f10pi13n",ha4doy:"fmrv4ls",Bbr2w1p:"f14a1fxs",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"f145g4dw",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"f13evtba",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",df92cz:"fv8e3ye",I188md:"ftb5wc6",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",H713fs:"f1cmft4k",B9ooomg:"f1x58t8o",Bercvud:"f1ibeo51"},listbox:{E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},listboxCollapsed:{mc9l5x:"fjseox"},inlineListbox:{Bj3rh1h:"f19g0ac"},small:{Bqenvij:"frvgh55",z189sj:["fdw0yi8","fk8j09s"]},medium:{Bqenvij:"f1d2rq10",z189sj:["f11gcy0p","f1ng84yb"]},large:{i8kkvl:"f1rjii52",Bqenvij:"fbhnoac",z189sj:["fw5db7e","f1uw59to"]},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"flmw63s",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"fqhmt4z",B50zh58:["f4ruux4","f1assf6x"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f9ez7ne",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"},"filled-lighter":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},"filled-darker":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"]}},{d:[".f122n59{align-items:center;}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",".fwk3njj{display:inline-grid;}",".fz17x9o{grid-template-columns:1fr auto;}",".f1869bpl{justify-content:space-between;}",".f1exfvgq{min-width:250px;}",".f10pi13n{position:relative;}",".fmrv4ls{vertical-align:middle;}",".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".f145g4dw::after{height:max(2px, var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".f13evtba::after{clip-path:inset(calc(100% - 2px) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".fjseox{display:none;}",".f19g0ac{z-index:1;}",".frvgh55{height:24px;}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".f1d2rq10{height:32px;}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f1rjii52{column-gap:var(--spacingHorizontalSNudge);}",".fbhnoac{height:40px;}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f9ez7ne{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}"],w:[".f14a1fxs:focus-within{outline-width:2px;}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fv8e3ye::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.ftb5wc6::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1cmft4k:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1x58t8o:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".flmw63s:hover{border-bottom-color:var(--colorNeutralStrokeAccessible);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".fqhmt4z:active{border-bottom-color:var(--colorNeutralStrokeAccessible);}"]}),hAt=Ye({input:{qb2dma:"f1ub7u0d",De3pzq:"f1c21dwh",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh",sj55zd:"f19n0e5",Bahqtrf:"fk6fouc",Brovlpu:"ftqa4ok",yvdlaj:"fwyc1cq",B3o7kgh:"f13ta7ih"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["fxe2rs","f1gflqzi"]},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["fzy81xo","f58b53b"]},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["f1kdav7a","footqm6"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1ub7u0d{align-self:stretch;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f3bhgqh{border:none;}",{p:-2}],".f19n0e5{color:var(--colorNeutralForeground1);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fwyc1cq::-webkit-input-placeholder{color:var(--colorNeutralForeground4);}",".fwyc1cq::-moz-placeholder{color:var(--colorNeutralForeground4);}",".f13ta7ih::-webkit-input-placeholder{opacity:1;}",".f13ta7ih::-moz-placeholder{opacity:1;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",[".fxe2rs{padding:0 0 0 calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f1gflqzi{padding:0 calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS)) 0 0;}",{p:-1}],".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".fzy81xo{padding:0 0 0 calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f58b53b{padding:0 calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS)) 0 0;}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f1kdav7a{padding:0 0 0 calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",{p:-1}],[".footqm6{padding:0 calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge)) 0 0;}",{p:-1}],".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"],f:[".ftqa4ok:focus{outline-style:none;}"]}),dAt=Ye({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",Bceei9c:"f1k6fduh",mc9l5x:"ftgm304",Be2twd7:"f1pp30po",Bo70h7d:"fvc9v3g"},hidden:{mc9l5x:"fjseox"},visuallyHidden:{Bh84pgu:"f1ekcaio",Bqenvij:"f1mpe4l3",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1jlpb2r",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1c5fvqg",a9b677:"frkrog8",qhf8xq:"f1euv43f"},small:{Be2twd7:"f4ybsrx",Frg6f3:["f1h9en5y","f1xk557c"]},medium:{Be2twd7:"fe5j1ua",Frg6f3:["f1h9en5y","f1xk557c"]},large:{Be2twd7:"f1rt2boy",Frg6f3:["f1t5qyk5","f1ikr372"]},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".f1k6fduh{cursor:pointer;}",".ftgm304{display:block;}",".f1pp30po{font-size:var(--fontSizeBase500);}",".fvc9v3g svg{display:block;}",".fjseox{display:none;}",".f1ekcaio{clip:rect(0px, 0px, 0px, 0px);}",".f1mpe4l3{height:1px;}",[".f1jlpb2r{margin:-1px;}",{p:-1}],[".f1a3p1vp{overflow:hidden;}",{p:-1}],[".f1c5fvqg{padding:0px;}",{p:-1}],".frkrog8{width:1px;}",".f1euv43f{position:absolute;}",".f4ybsrx{font-size:16px;}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".fe5j1ua{font-size:20px;}",".f1rt2boy{font-size:24px;}",".f1t5qyk5{margin-left:var(--spacingHorizontalSNudge);}",".f1ikr372{margin-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}"]}),pAt=t=>{const{appearance:e,open:r,size:n,showClearIcon:i}=t,o=`${t.input["aria-invalid"]}`=="true",a=t.input.disabled,s=uAt(),l=dAt(),u=hAt();return t.root.className=Ee(n1.root,s.root,s[e],s[n],!a&&e==="outline"&&s.outlineInteractive,o&&e!=="underline"&&s.invalid,o&&e==="underline"&&s.invalidUnderline,a&&s.disabled,t.root.className),t.input.className=Ee(n1.input,u.input,u[n],a&&u.disabled,t.input.className),t.listbox&&(t.listbox.className=Ee(n1.listbox,s.listbox,t.inlinePopup&&s.inlineListbox,!r&&s.listboxCollapsed,t.listbox.className)),t.expandIcon&&(t.expandIcon.className=Ee(n1.expandIcon,l.icon,l[n],a&&l.disabled,i&&l.visuallyHidden,t.expandIcon.className)),t.clearIcon&&(t.clearIcon.className=Ee(n1.clearIcon,l.icon,l[n],a&&l.disabled,!i&&l.hidden,t.clearIcon.className)),t},fAt=Z.forwardRef((t,e)=>{const r=lAt(t,e),n=cJ(r);return pAt(r),ea("useComboboxStyles_unstable")(r),cAt(r,n)});fAt.displayName="Combobox";Fr({root:{display:"grid",gridTemplateRows:"repeat(1fr)",justifyItems:"start",gap:"2px",maxWidth:"400px",padding:"8px"},combo:{width:"100%"},horizonal:{display:"flex",flexDirection:"row",verticalAlign:"middle"}});const ds={show:"fui-toast-show",dismiss:"fui-toast-dismiss",dismissAll:"fui-toast-dismiss-all",update:"fui-toast-update",pause:"fui-toast-pause",play:"fui-toast-play"},ps={bottom:"bottom",bottomEnd:"bottom-end",bottomStart:"bottom-start",top:"top",topEnd:"top-end",topStart:"top-start"};let gAt=0;function mAt(t,e={},r){var n;const i={...e,content:t,toastId:(n=e.toastId)!==null&&n!==void 0?n:(gAt++).toString()},o=new CustomEvent(ds.show,{bubbles:!1,cancelable:!1,detail:i});r.dispatchEvent(o)}function yAt(t,e=void 0,r){const n=new CustomEvent(ds.dismiss,{bubbles:!1,cancelable:!1,detail:{toastId:t,toasterId:e}});r.dispatchEvent(n)}function vAt(t=void 0,e){const r=new CustomEvent(ds.dismissAll,{bubbles:!1,cancelable:!1,detail:{toasterId:t}});e.dispatchEvent(r)}function bAt(t,e){const r=new CustomEvent(ds.update,{bubbles:!1,cancelable:!1,detail:t});e.dispatchEvent(r)}function xAt(t,e=void 0,r){const n=new CustomEvent(ds.pause,{bubbles:!1,cancelable:!1,detail:{toastId:t,toasterId:e}});r.dispatchEvent(n)}function wAt(t,e=void 0,r){const n=new CustomEvent(ds.play,{bubbles:!1,cancelable:!1,detail:{toastId:t,toasterId:e}});r.dispatchEvent(n)}const vp=()=>{};function kAt(t){const{targetDocument:e}=Gn();return Z.useMemo(()=>e?{dispatchToast:(r,n)=>{mAt(r,{...n,toasterId:t,data:{root:n==null?void 0:n.root}},e)},dismissToast:r=>{yAt(r,t,e)},dismissAllToasts:()=>{vAt(t,e)},updateToast:r=>{bAt({...r,data:{root:r.root},toasterId:t},e)},pauseToast:r=>{xAt(r,t,e)},playToast:r=>{wAt(r,t,e)}}:{dispatchToast:vp,dismissToast:vp,dismissAllToasts:vp,updateToast:vp,pauseToast:vp,playToast:vp},[e,t])}const TAt={close:()=>null,intent:void 0,bodyId:"",titleId:""},uJ=Z.createContext(void 0),EAt=uJ.Provider,k7=()=>{var t;return(t=Z.useContext(uJ))!==null&&t!==void 0?t:TAt},_At=(t,e)=>{const{intent:r}=k7();return{components:{root:"div"},root:Nr(ei("div",{ref:e,...t}),{elementType:"div"}),backgroundAppearance:t.appearance,intent:r}},hJ=Z.createContext(void 0),SAt=hJ.Provider;function dJ(){return Z.useContext(hJ)}const AAt=(t,e)=>ve(SAt,{value:e.backgroundAppearance,children:ve(t.root,{})}),CAt={root:"fui-Toast"},$At=Zr("rhf7k35",null,[".rhf7k35{display:grid;grid-template-columns:auto 1fr auto;padding:12px;border-radius:var(--borderRadiusMedium);border:1px solid var(--colorTransparentStroke);box-shadow:var(--shadow8);font-size:var(--fontSizeBase300);line-height:20px;font-weight:var(--fontWeightSemibold);color:var(--colorNeutralForeground1);background-color:var(--colorNeutralBackground1);}"]),NAt=Ye({inverted:{sj55zd:"f1w7i9ko",De3pzq:"f5pduvr"}},{d:[".f1w7i9ko{color:var(--colorNeutralForegroundInverted2);}",".f5pduvr{background-color:var(--colorNeutralBackgroundInverted);}"]}),IAt=t=>{const e=$At(),r=NAt();return t.root.className=Ee(CAt.root,e,t.backgroundAppearance==="inverted"&&r.inverted,t.root.className),t};function LAt(t){const{backgroundAppearance:e}=t;return{backgroundAppearance:e}}const pJ=Z.forwardRef((t,e)=>{const r=_At(t,e);return IAt(r),AAt(r,LAt(r))});pJ.displayName="Toast";const RAt=(t,e)=>{const{intent:r,titleId:n}=k7(),i=dJ();let o;switch(r){case"success":o=Z.createElement(Twt,null);break;case"error":o=Z.createElement(Cwt,null);break;case"warning":o=Z.createElement(Ywt,null);break;case"info":o=Z.createElement(qwt,null)}return{action:$r(t.action,{elementType:"div"}),components:{root:"div",media:"div",action:"div"},media:$r(t.media,{renderByDefault:!!r,defaultProps:{children:o},elementType:"div"}),root:Nr(ei("div",{ref:e,children:t.children,id:n,...t}),{elementType:"div"}),intent:r,backgroundAppearance:i}},DAt=t=>Un(Z.Fragment,{children:[t.media?ve(t.media,{}):null,ve(t.root,{}),t.action?ve(t.action,{}):null]}),ck={root:"fui-ToastTitle",media:"fui-ToastTitle__media",action:"fui-ToastTitle__action"},OAt=Zr("rdjap1e",null,[".rdjap1e{display:flex;grid-column-end:3;color:var(--colorNeutralForeground1);word-break:break-word;}"]),MAt=Zr("r8x5mrd","r1soj19y",[".r8x5mrd{display:flex;padding-top:2px;grid-column-end:2;padding-right:8px;font-size:16px;color:var(--colorNeutralForeground1);}",".r1soj19y{display:flex;padding-top:2px;grid-column-end:2;padding-left:8px;font-size:16px;color:var(--colorNeutralForeground1);}"]),BAt=Zr("r2j19ip","rjfozdo",[".r2j19ip{display:flex;align-items:start;padding-left:12px;grid-column-end:-1;color:var(--colorBrandForeground1);}",".rjfozdo{display:flex;align-items:start;padding-right:12px;grid-column-end:-1;color:var(--colorBrandForeground1);}"]),PAt=Ye({root:{sj55zd:"f1w7i9ko"},action:{sj55zd:"f1qz2gb0"},media:{sj55zd:"fqpbvvt"}},{d:[".f1w7i9ko{color:var(--colorNeutralForegroundInverted2);}",".f1qz2gb0{color:var(--colorBrandForegroundInverted);}",".fqpbvvt{color:var(--colorNeutralForegroundInverted);}"]}),FAt=Ye({success:{sj55zd:"f36rra6"},error:{sj55zd:"f1ca9wz"},warning:{sj55zd:"f13isgzr"},info:{sj55zd:"fkfq4zb"}},{d:[".f36rra6{color:var(--colorStatusSuccessForeground1);}",".f1ca9wz{color:var(--colorStatusDangerForeground1);}",".f13isgzr{color:var(--colorStatusWarningForeground1);}",".fkfq4zb{color:var(--colorNeutralForeground2);}"]}),zAt=Ye({success:{sj55zd:"ff3wk4x"},error:{sj55zd:"fbq2gqr"},warning:{sj55zd:"fx6hq1t"},info:{sj55zd:"f1w7i9ko"}},{d:[".ff3wk4x{color:var(--colorStatusSuccessForegroundInverted);}",".fbq2gqr{color:var(--colorStatusDangerForegroundInverted);}",".fx6hq1t{color:var(--colorStatusWarningForegroundInverted);}",".f1w7i9ko{color:var(--colorNeutralForegroundInverted2);}"]}),jAt=t=>{const e=OAt(),r=BAt(),n=MAt(),i=FAt(),o=zAt(),{intent:a}=t,s=PAt();return t.root.className=Ee(ck.root,e,t.backgroundAppearance==="inverted"&&s.root,t.root.className),t.media&&(t.media.className=Ee(ck.media,n,t.backgroundAppearance==="inverted"&&s.media,a&&i[a],a&&t.backgroundAppearance==="inverted"&&o[a],t.media.className)),t.action&&(t.action.className=Ee(ck.action,r,t.backgroundAppearance==="inverted"&&s.action,t.action.className)),t},fJ=Z.forwardRef((t,e)=>{const r=RAt(t,e);return jAt(r),DAt(r)});fJ.displayName="ToastTitle";const HAt=(t,e)=>{const r=dJ(),{bodyId:n}=k7();return{components:{root:"div",subtitle:"div"},subtitle:$r(t.subtitle,{elementType:"div"}),root:Nr(ei("div",{ref:e,id:n,...t}),{elementType:"div"}),backgroundAppearance:r}},UAt=t=>Un(Z.Fragment,{children:[ve(t.root,{}),t.subtitle?ve(t.subtitle,{}):null]}),ND={root:"fui-ToastBody",subtitle:"fui-ToastBody__subtitle"},qAt=Zr("rciajo9",null,[".rciajo9{grid-column-start:2;grid-column-end:3;padding-top:6px;font-size:var(--fontSizeBase300);line-height:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);color:var(--colorNeutralForeground1);word-break:break-word;}"]),GAt=Zr("rzjw1xk",null,[".rzjw1xk{padding-top:4px;grid-column-start:2;grid-column-end:3;font-size:var(--fontSizeBase200);line-height:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);color:var(--colorNeutralForeground2);}"]),WAt=Ye({root:{sj55zd:"f1w7i9ko"},subtitle:{sj55zd:"f1w7i9ko"}},{d:[".f1w7i9ko{color:var(--colorNeutralForegroundInverted2);}"]}),VAt=t=>{const e=qAt(),r=GAt(),n=WAt();return t.root.className=Ee(ND.root,e,t.backgroundAppearance==="inverted"&&n.root,t.root.className),t.subtitle&&(t.subtitle.className=Ee(ND.subtitle,r,t.backgroundAppearance==="inverted"&&n.subtitle,t.subtitle.className)),t},gJ=Z.forwardRef((t,e)=>{const r=HAt(t,e);return VAt(r),UAt(r)});gJ.displayName="ToastBody";const YAt=(t,e)=>({components:{root:"div"},root:Nr(ei("div",{ref:e,...t}),{elementType:"div"})}),XAt=t=>ve(t.root,{}),KAt={root:"fui-ToastFooter"},ZAt=Zr("r56x6h2",null,[".r56x6h2{padding-top:16px;grid-column-start:2;grid-column-end:3;display:flex;align-items:center;gap:14px;}"]),QAt=t=>{const e=ZAt();return t.root.className=Ee(KAt.root,e,t.root.className),t},mJ=Z.forwardRef((t,e)=>{const r=YAt(t,e);return QAt(r),XAt(r)});mJ.displayName="ToastFooter";const yJ={root:"fui-ToastContainer",timer:"fui-ToastContainer__timer"},JAt=Zr("r98b696",null,[".r98b696{box-sizing:border-box;margin-top:16px;pointer-events:all;border-radius:var(--borderRadiusMedium);}",".r98b696[data-fui-focus-visible]{outline:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}"]),tCt=t=>{const e=JAt();return t.root.className=Ee(yJ.root,e,t.root.className),t},ID=()=>{};function eCt(t,e){const{targetDocument:r}=Gn(),n=Z.useRef(ID);return Z.useCallback(i=>{if(!i||!r)return n.current(),void(n.current=ID);const o=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:u=>xi(u)&&u.classList.contains(yJ.root)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),a=u=>{const{target:h,key:d}=u;if(xi(h)){if(d===q_){o.currentNode=h;let p=o.nextNode();p||(o.currentNode=i,p=o.nextNode()),xi(p)&&p.focus()}if(d===lb){o.currentNode=h;let p=o.previousNode();p&&p.contains(h)&&(p=o.previousNode()),p||(o.currentNode=i,p=o.lastChild()),xi(p)&&p.focus()}}},s=u=>{xi(u.currentTarget)&&!u.currentTarget.contains(xi(u.relatedTarget)?u.relatedTarget:null)&&t()},l=u=>{xi(u.currentTarget)&&!u.currentTarget.contains(xi(u.relatedTarget)?u.relatedTarget:null)&&e()};i.addEventListener("keydown",a),i.addEventListener("focusin",s),i.addEventListener("focusout",l),n.current=()=>{i.removeEventListener("keydown",a),i.removeEventListener("focusin",s),i.removeEventListener("focusout",l)}},[r,t,e])}function rCt(t){const e=Z.useRef(!0),r=Z.useRef(()=>{});return{announceToast:Z.useCallback((n,i)=>{e.current&&t(n,i)},[t]),toasterRef:Z.useCallback(n=>{if(!n)return void r.current();const i=a=>{xi(a.currentTarget)&&a.currentTarget.contains(xi(a.relatedTarget)?a.relatedTarget:null)||(e.current=!1)},o=a=>{xi(a.currentTarget)&&a.currentTarget.contains(xi(a.relatedTarget)?a.relatedTarget:null)||(e.current=!0)};n.addEventListener("focusin",i),n.addEventListener("focusout",o),r.current=()=>{n.removeEventListener("focusin",i),n.removeEventListener("focusout",o)}},[])}}function vJ(){return Z.useReducer(t=>t+1,0)[1]}function bJ(t){const e=[];let r=0;const n=(o,a)=>{const s=e[o];e[o]=e[a],e[a]=s},i=o=>{let a=o;const s=nCt(o),l=iCt(o);s<r&&t(e[s],e[a])<0&&(a=s),l<r&&t(e[l],e[a])<0&&(a=l),a!==o&&(n(a,o),i(a))};return{all:()=>e.slice(0,r),clear:()=>{r=0},contains:o=>{const a=e.indexOf(o);return a>=0&&a<r},dequeue:()=>{if(r===0)throw new Error("Priority queue empty");const o=e[0];return e[0]=e[--r],i(0),o},enqueue:o=>{e[r++]=o;let a=r-1,s=LD(a);for(;a>0&&t(e[s],e[a])>0;)n(s,a),a=s,s=LD(a)},peek:()=>r===0?null:e[0],remove:o=>{const a=e.indexOf(o);a===-1||a>=r||(e[a]=e[--r],i(a))},size:()=>r}}const nCt=t=>2*t+1,iCt=t=>2*t+2,LD=t=>Math.floor((t-1)/2);function RD(t,e){for(const[r,n]of Object.entries(e))n!=null&&(t[r]=n)}const oCt={onStatusChange:void 0,priority:0,pauseOnHover:!1,pauseOnWindowBlur:!1,position:"bottom-end",timeout:3e3};let aCt=0;function sCt(t){const{limit:e=Number.POSITIVE_INFINITY}=t,r=new Set,n=new Map,i=bJ((o,a)=>{const s=n.get(o),l=n.get(a);return s&&l?s.priority===l.priority?s.order-l.order:s.priority-l.priority:0});return{buildToast:(o,a)=>{var s;const{toastId:l,content:u,toasterId:h}=o;if(n.has(l))return;const d={...oCt,close:()=>{var p;const f=n.get(l);f&&(r.delete(l),a(),(p=f.onStatusChange)===null||p===void 0||p.call(f,null,{status:"dismissed",...f}))},remove:()=>{if(n.get(l)){if(n.delete(l),r.size<e&&i.peek()){const p=n.get(i.dequeue());if(!p)return;r.add(p.toastId)}a()}},toastId:l,content:u,updateId:0,toasterId:h,order:aCt++,data:{},imperativeRef:Z.createRef()};RD(d,t),RD(d,o),n.set(l,d),(s=d.onStatusChange)===null||s===void 0||s.call(d,null,{status:"queued",...d}),r.size>=e?i.enqueue(l):r.add(l)},dismissAllToasts:()=>{r.clear(),i.clear()},dismissToast:o=>{r.delete(o)},isToastVisible:o=>r.has(o),updateToast:o=>{const{toastId:a}=o,s=n.get(a);s&&(Object.assign(s,o),s.updateId++)},visibleToasts:r,toasts:n}}function lCt(t={}){const e=vJ(),{toasterId:r,shortcuts:n}=t,[i]=Z.useState(()=>sCt(t)),{targetDocument:o}=Gn(),a=Z.useRef(null),s=ar(m=>m===r),l=ar(m=>{if(n!=null&&n.focus)return n.focus(m)}),u=Z.useCallback(()=>{i.visibleToasts.forEach(m=>{var y;const v=i.toasts.get(m);v==null||(y=v.imperativeRef.current)===null||y===void 0||y.pause()})},[i]),h=Z.useCallback(()=>{i.visibleToasts.forEach(m=>{var y;const v=i.toasts.get(m);v==null||(y=v.imperativeRef.current)===null||y===void 0||y.play()})},[i]),d=Z.useCallback(()=>Array.from(i.visibleToasts).reduce((m,y)=>{const v=i.toasts.get(y);return v?m?m.order<(v==null?void 0:v.order)?v:m:v:m},void 0),[i]),p=Z.useCallback(()=>{const m=d();var y;m!=null&&m.imperativeRef.current?m.imperativeRef.current.focus():((y=a.current)===null||y===void 0||y.focus(),a.current=null)},[d]),f=Z.useCallback(()=>{i.visibleToasts.forEach(m=>{const y=i.toasts.get(m);y==null||y.close()}),p()},[i,p]);Z.useEffect(()=>{if(!o)return;const m=(S,T)=>{const A=C=>{s(C.detail.toasterId)&&(T(C),e())};return o.addEventListener(S,A),()=>o.removeEventListener(S,A)},y=m(ds.show,S=>{i.buildToast(S.detail,e)}),v=m(ds.update,S=>{i.updateToast(S.detail)}),x=m(ds.dismiss,S=>{i.dismissToast(S.detail.toastId)}),b=m(ds.dismissAll,S=>{i.dismissAllToasts()}),k=m(ds.pause,S=>{const T=i.toasts.get(S.detail.toastId);var A;T&&((A=T.imperativeRef.current)===null||A===void 0||A.pause())}),N=m(ds.play,S=>{const T=i.toasts.get(S.detail.toastId);var A;T&&((A=T.imperativeRef.current)===null||A===void 0||A.play())}),_=S=>{if(l(S)){u();const A=d();var T;A&&(a.current=xi(o.activeElement)?o.activeElement:null,(T=A.imperativeRef.current)===null||T===void 0||T.focus())}};return o.addEventListener("keydown",_),()=>{y(),b(),v(),x(),k(),N(),o.removeEventListener("keydown",_)}},[i,e,o,s,u,d,l]);const g=(()=>{if(!i)return new Map;const m=new Map;return Array.from(i.toasts.values()).forEach(y=>{const{position:v}=y;m.has(v)||m.set(v,[]),v.startsWith("bottom")?m.get(v).push(y):m.get(v).unshift(y)}),m})();return{isToastVisible:i.isToastVisible,toastsToRender:g,pauseAllToasts:u,playAllToasts:h,tryRestoreFocus:p,closeAllToasts:f}}const T7=t=>{const e=Dy();return e&&A6t(e),WQ({groupper:{tabbability:cCt(t==null?void 0:t.tabBehavior)},focusable:{ignoreKeydown:t==null?void 0:t.ignoreDefaultKeydown}})},cCt=t=>{switch(t){case"unlimited":return cb.Unlimited;case"limited":return cb.Limited;case"limited-trap-focus":return cb.LimitedTrapFocus;default:return}},uCt=Zr("r16zaflb","r75casi",[".r16zaflb{animation-name:rsacmq1;}","@keyframes rsacmq1{from{opacity:0;}to{opacity:0;}}",".r75casi{animation-name:rsacmq1;}"]),u6=Z.forwardRef((t,e)=>{const r=uCt(),{running:n,timeout:i,onTimeout:o}=t,a={animationDuration:`${i}ms`,animationPlayState:n?"running":"paused"};return i<0?null:Z.createElement("span",{onAnimationEnd:o,"data-timer-status":a.animationPlayState,ref:e,style:a,className:r})});u6.displayName="Timer";const hCt={success:"assertive",warning:"assertive",error:"assertive",info:"polite"},dCt=(t,e)=>{const{visible:r,children:n,close:i,remove:o,updateId:a,announce:s,data:l,timeout:u,politeness:h,intent:d="info",pauseOnHover:p,pauseOnWindowBlur:f,imperativeRef:g,tryRestoreFocus:m,...y}=t,v=Qu("toast-title"),x=Qu("toast-body"),b=Z.useRef(null),{targetDocument:k}=Gn(),[N,_]=Z.useState(!1),S=Z.useRef(!1),T=Z.useRef(!1),A=T7({tabBehavior:"limited-trap-focus",ignoreDefaultKeydown:{Tab:!0,Escape:!0,Enter:!0}}),C=ar(()=>{var P;const U=k==null?void 0:k.activeElement;U&&(!((P=b.current)===null||P===void 0)&&P.contains(U))&&(T.current=!0),i()}),D=ar(P=>{var U;return(U=t.onStatusChange)===null||U===void 0?void 0:U.call(t,null,{status:P,...t})}),E=ar(()=>_(!1)),$=ar(()=>{var P,U;if(S.current)return;const W=!!(!((P=b.current)===null||P===void 0)&&P.contains((U=k==null?void 0:k.activeElement)!==null&&U!==void 0?U:null));u<0?_(!0):W||_(!0)});Z.useImperativeHandle(g,()=>({focus:()=>{b.current&&b.current.focus()},play:()=>{S.current=!1,$()},pause:()=>{S.current=!0,E()}})),Z.useEffect(()=>()=>D("unmounted"),[D]),Z.useEffect(()=>{var P,U;if(k&&f)return(P=k.defaultView)===null||P===void 0||P.addEventListener("focus",$),(U=k.defaultView)===null||U===void 0||U.addEventListener("blur",E),()=>{var W,Q;(W=k.defaultView)===null||W===void 0||W.removeEventListener("focus",$),(Q=k.defaultView)===null||Q===void 0||Q.removeEventListener("blur",E)}},[k,E,$,f]);const I=l.root,L=Z.useCallback((P,{direction:U})=>{U==="exit"&&o(),U==="enter"&&($(),D("visible"))},[D,$,o]),O=ar(P=>{var U;E(),I==null||(U=I.onMouseEnter)===null||U===void 0||U.call(I,P)}),B=ar(P=>{var U;$(),I==null||(U=I.onMouseEnter)===null||U===void 0||U.call(I,P)}),{findFirstFocusable:R,findLastFocusable:M}=y7(),F=ar(P=>{var U,W,Q;P.key===rkt&&(P.preventDefault(),C()),P.key===QC&&P.currentTarget===P.target&&(P.preventDefault(),P.shiftKey?(W=M(P.currentTarget))===null||W===void 0||W.focus():(Q=R(P.currentTarget))===null||Q===void 0||Q.focus()),I==null||(U=I.onKeyDown)===null||U===void 0||U.call(I,P)});return Z.useEffect(()=>{var P;if(!r)return;const U=h??hCt[d];var W;s((W=(P=b.current)===null||P===void 0?void 0:P.textContent)!==null&&W!==void 0?W:"",{politeness:U})},[s,h,b,r,a,d]),Z.useEffect(()=>()=>{T.current&&(T.current=!1,m())},[m]),{components:{timer:u6,root:"div"},timer:Nr({onTimeout:C,running:N,timeout:u??-1},{elementType:u6}),root:Nr(ei("div",{ref:ui(e,b),children:n,tabIndex:0,role:"listitem","aria-labelledby":v,"aria-describedby":x,...y,...I,...A,onMouseEnter:O,onMouseLeave:B,onKeyDown:F}),{elementType:"div"}),timerTimeout:u,transitionTimeout:0,running:N,visible:r,remove:o,close:C,onTransitionEntering:()=>{},updateId:a,nodeRef:b,intent:d,titleId:v,bodyId:x,onMotionFinish:L}},xJ=(t,e)=>({sizeName:t==="horizontal"?"maxWidth":"maxHeight",overflowName:t==="horizontal"?"overflowX":"overflowY",toSize:`${t==="horizontal"?e.scrollWidth:e.scrollHeight}px`}),pCt=({orientation:t,duration:e,easing:r,element:n,fromSize:i="0"})=>{const{sizeName:o,overflowName:a,toSize:s}=xJ(t,n);return{keyframes:[{[o]:i,[a]:"hidden"},{[o]:s,offset:.9999,[a]:"hidden"},{[o]:"unset",[a]:"unset"}],duration:e,easing:r}},fCt=({orientation:t,duration:e,easing:r,element:n,delay:i=0,fromSize:o="0"})=>{const{sizeName:a,overflowName:s,toSize:l}=xJ(t,n);return{keyframes:[{[a]:l,[s]:"hidden"},{[a]:o,[s]:"hidden"}],duration:e,easing:r,fill:"both",delay:i}},DD=({direction:t,orientation:e,duration:r,easing:n,delay:i=0})=>{const{paddingStart:o,paddingEnd:a,marginStart:s,marginEnd:l}=(d=>d==="horizontal"?{paddingStart:"paddingInlineStart",paddingEnd:"paddingInlineEnd",marginStart:"marginInlineStart",marginEnd:"marginInlineEnd"}:{paddingStart:"paddingBlockStart",paddingEnd:"paddingBlockEnd",marginStart:"marginBlockStart",marginEnd:"marginBlockEnd"})(e),u=t==="enter"?0:1,h={keyframes:[{[o]:"0",[a]:"0",[s]:"0",[l]:"0",offset:u}],duration:r,easing:n,delay:i};return t==="exit"&&(h.fill="forwards"),h},gCt={durationUltraFast:50,durationFaster:100,durationFast:150,durationNormal:200,durationGentle:250,durationSlow:300,durationSlower:400,durationUltraSlow:500},mCt={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"},ms={...gCt,...mCt},OD=({direction:t,duration:e,easing:r=ms.curveLinear,fromValue:n=0})=>{const i=[{opacity:n},{opacity:1}];return t==="exit"&&i.reverse(),{keyframes:i,duration:e,easing:r}},yCt=Z.createContext(void 0),vCt={fill:"forwards"},bCt={duration:1};function xCt(){var t;const e=typeof window<"u"&&typeof((t=window.Animation)===null||t===void 0?void 0:t.prototype.persist)=="function";return Z.useCallback((r,n,i)=>{const o=Array.isArray(n)?n:[n],{isReducedMotion:a}=i,s=o.map(l=>{const{keyframes:u,reducedMotion:h=bCt,...d}=l,{keyframes:p=u,...f}=h,g=a?p:u,m={...vCt,...d,...a&&f},y=r.animate(g,m);if(e)y.persist();else{const x=g[g.length-1];var v;Object.assign((v=r.style)!==null&&v!==void 0?v:{},x)}return y});return{set playbackRate(l){s.forEach(u=>{u.playbackRate=l})},setMotionEndCallbacks(l,u){const h=s.map(d=>new Promise((p,f)=>{d.onfinish=()=>p(),d.oncancel=()=>f()}));Promise.all(h).then(()=>{l()}).catch(()=>{u()})},cancel:()=>{s.forEach(l=>{l.cancel()})},pause:()=>{s.forEach(l=>{l.pause()})},play:()=>{s.forEach(l=>{l.play()})},finish:()=>{s.forEach(l=>{l.finish()})}}},[e])}function wCt(){return xCt()}function kCt(t){const e=Z.useRef();return Z.useImperativeHandle(t,()=>({setPlayState:r=>{var n,i;r==="running"&&((n=e.current)===null||n===void 0||n.play()),r==="paused"&&((i=e.current)===null||i===void 0||i.pause())},setPlaybackRate:r=>{e.current&&(e.current.playbackRate=r)}})),e}function TCt(t=!1,e=!1){const r=Z.useRef(!e||t),n=vJ(),i=Z.useCallback(o=>{r.current!==o&&(r.current=o,n())},[n]);return Z.useEffect(()=>{t&&(r.current=t)}),[t||r.current,i]}function ECt(){const{targetDocument:t}=Gn();var e;const r=(e=t==null?void 0:t.defaultView)!==null&&e!==void 0?e:null,n=Z.useRef(!1),i=Z.useCallback(()=>n.current,[]);return ll(()=>{if(r===null||typeof r.matchMedia!="function")return;const o=r.matchMedia("screen and (prefers-reduced-motion: reduce)");o.matches&&(n.current=!0);const a=s=>{n.current=s.matches};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[r]),i}function _Ct(t){try{const e=Z.Children.only(t);if(typeof e.type=="string"||o3t.isForwardRef(e))return e}catch{}throw new Error(["@fluentui/react-motion: Invalid child element.",`
`,"Motion factories require a single child element to be passed. ","That element element should support ref forwarding i.e. it should be either an intrinsic element (e.g. div) or a component that uses React.forwardRef()."].join(""))}const wJ=Z.createContext(void 0);wJ.Provider;const SCt=()=>{var t;return(t=Z.useContext(wJ))!==null&&t!==void 0?t:"default"},ACt=Symbol("MOTION_DEFINITION");function hb(t){return Object.assign(e=>{const r={...Z.useContext(yCt),...e},n=SCt()==="skip",{appear:i,children:o,imperativeRef:a,onExit:s,onMotionFinish:l,onMotionStart:u,onMotionCancel:h,visible:d,unmountOnExit:p,...f}=r,g=f,[m,y]=TCt(d,p),v=_Ct(o),x=kCt(a),b=Z.useRef(),k=ui(b,v.ref),N=Z.useRef({appear:i,params:g,skipMotions:n}),_=wCt(),S=FQ(),T=ECt(),A=ar(E=>{u==null||u(null,{direction:E})}),C=ar(E=>{l==null||l(null,{direction:E}),E==="exit"&&p&&(y(!1),s==null||s())}),D=ar(E=>{h==null||h(null,{direction:E})});return ll(()=>{N.current={appear:i,params:g,skipMotions:n}}),ll(()=>{const E=b.current;if(!E||function(M,F,P){return!M&&F&&!!P}(N.current.appear,S,d))return;const $=typeof t=="function"?t({element:E,...N.current.params}):t,I=d?$.enter:$.exit,L=d?"enter":"exit",O=!d&&S,B=N.current.skipMotions;O||A(L);const R=_(E,I,{isReducedMotion:T()});if(!O)return x.current=R,R.setMotionEndCallbacks(()=>C(L),()=>D(L)),B&&R.finish(),()=>{R.cancel()};R.finish()},[_,x,T,C,A,D,d]),m?Z.cloneElement(v,{ref:k}):null},{[ACt]:typeof t=="function"?t:()=>t})}const kJ=({enterSizeDuration:t=ms.durationNormal,enterOpacityDuration:e=t,enterEasing:r=ms.curveEasyEaseMax,enterDelay:n=0,exitSizeDuration:i=t,exitOpacityDuration:o=e,exitEasing:a=r,exitDelay:s=0}={})=>({element:l,animateOpacity:u=!0,orientation:h="vertical"})=>{const d=[pCt({orientation:h,duration:t,easing:r,element:l}),DD({direction:"enter",orientation:h,duration:t,easing:r})];u&&d.push({...OD({direction:"enter",duration:e,easing:r}),delay:n,fill:"both"});const p=[];return u&&p.push(OD({direction:"exit",duration:o,easing:a})),p.push(fCt({orientation:h,duration:i,easing:a,element:l,delay:s}),DD({direction:"exit",orientation:h,duration:i,easing:a,delay:s})),{enter:d,exit:p}},uk=({enterDuration:t=ms.durationNormal,enterEasing:e=ms.curveEasyEaseMax,exitDuration:r=t,exitEasing:n=e}={})=>kJ({enterSizeDuration:t,enterEasing:e,exitSizeDuration:r,exitEasing:n});hb(uk()),hb(uk({enterDuration:ms.durationFast})),hb(uk({enterDuration:ms.durationSlower}));const CCt=hb(kJ({enterSizeDuration:ms.durationNormal,enterOpacityDuration:ms.durationSlower,enterDelay:ms.durationNormal,exitDelay:ms.durationSlower,enterEasing:ms.curveEasyEase})),$Ct=(t,e)=>{const{onMotionFinish:r,visible:n,updateId:i}=t;return ve(EAt,{value:e.toast,children:ve(CCt,{appear:!0,onMotionFinish:r,visible:n,unmountOnExit:!0,children:Un(t.root,{children:[t.root.children,ve(t.timer,{},i)]})})})};function NCt(t){const{close:e,intent:r,titleId:n,bodyId:i}=t;return{toast:Z.useMemo(()=>({close:e,intent:r,titleId:n,bodyId:i}),[e,r,n,i])}}const TJ=Z.forwardRef((t,e)=>{const r=dCt(t,e);return tCt(r),$Ct(r,NCt(r))});TJ.displayName="ToastContainer";const ICt=t=>{const{offset:e,announce:r,mountNode:n,inline:i=!1,...o}=t,a=Z.useRef(()=>null),{toastsToRender:s,isToastVisible:l,pauseAllToasts:u,playAllToasts:h,tryRestoreFocus:d,closeAllToasts:p}=lCt(o),f=Z.useCallback((b,k)=>a.current(b,k),[]),{dir:g}=Gn(),m=Nr(ei("div",o),{elementType:"div"}),y=T7({tabBehavior:"limited-trap-focus",ignoreDefaultKeydown:{Escape:!0}}),v=ar(b=>{var k;b.key===JC&&(b.preventDefault(),p()),(k=t.onKeyDown)===null||k===void 0||k.call(t,b)}),x=b=>{var k;const N=eCt(u,h),{announceToast:_,toasterRef:S}=rCt(r??f);return $r(s.has(b)?m:null,{defaultProps:{ref:ui(N,S),children:(k=s.get(b))===null||k===void 0?void 0:k.map(T=>Z.createElement(TJ,{...T,tryRestoreFocus:d,intent:T.intent,announce:_,key:T.toastId,visible:l(T.toastId)},T.content)),onKeyDown:v,...y,"data-toaster-position":b,role:"list"},elementType:"div"})};return{dir:g,mountNode:n,components:{root:"div",bottomStart:"div",bottomEnd:"div",topStart:"div",topEnd:"div",top:"div",bottom:"div"},root:Nr(m,{elementType:"div"}),bottomStart:x(ps.bottomStart),bottomEnd:x(ps.bottomEnd),topStart:x(ps.topStart),topEnd:x(ps.topEnd),top:x(ps.top),bottom:x(ps.bottom),announceRef:a,offset:e,announce:r??f,renderAriaLive:!r,inline:i}},LCt=t=>{const[e,r]=Z.useState(void 0),n=Z.useRef(0),[i]=Z.useState(()=>bJ((h,d)=>h.politeness===d.politeness?h.createdAt-d.createdAt:h.politeness==="assertive"?-1:1)),o=ar((h,d)=>{const{politeness:p}=d;if(h===(e==null?void 0:e.message))return;const f={message:h,politeness:p,createdAt:n.current++};e?i.enqueue(f):r(f)}),[a,s]=z4();Z.useEffect(()=>(a(()=>{i.peek()?r(i.dequeue()):r(void 0)},500),()=>s()),[e,i,a,s]),Z.useImperativeHandle(t.announceRef,()=>o);const l=(e==null?void 0:e.politeness)==="polite"?e.message:void 0,u=(e==null?void 0:e.politeness)==="assertive"?e.message:void 0;return{components:{assertive:"div",polite:"div"},assertive:Nr(t.assertive,{defaultProps:{"aria-live":"assertive",children:u},elementType:"div"}),polite:Nr(t.polite,{defaultProps:{"aria-live":"polite",children:l},elementType:"div"})}},RCt=t=>Un(Z.Fragment,{children:[ve(t.assertive,{}),ve(t.polite,{})]}),MD={assertive:"fui-AriaLive__assertive",polite:"fui-AriaLive__polite"},DCt=Zr("rrd10u0",null,[".rrd10u0{clip:rect(0px, 0px, 0px, 0px);height:1px;margin:-1px;overflow:hidden;padding:0px;width:1px;position:absolute;}"]),OCt=t=>{const e=DCt();return t.assertive.className=Ee(e,MD.assertive,t.assertive.className),t.polite.className=Ee(e,MD.polite,t.polite.className),t},EJ=t=>{const e=LCt(t);return OCt(e),RCt(e)};EJ.displayName="AriaLive";const MCt=t=>{const{announceRef:e,renderAriaLive:r,inline:n,mountNode:i}=t,o=!!(t.bottomStart||t.bottomEnd||t.topStart||t.topEnd||t.top||t.bottom),a=r?ve(EJ,{announceRef:e}):null,s=Un(Z.Fragment,{children:[t.bottom?ve(t.bottom,{}):null,t.bottomStart?ve(t.bottomStart,{}):null,t.bottomEnd?ve(t.bottomEnd,{}):null,t.topStart?ve(t.topStart,{}):null,t.topEnd?ve(t.topEnd,{}):null,t.top?ve(t.top,{}):null]});return Un(Z.Fragment,n?{children:[a,o?s:null]}:{children:[a,o?ve(Oy,{mountNode:i,children:s}):null]})},bp=(t,e,r)=>{const n={};var i;const o=r?function(d){return"horizontal"in d||"vertical"in d}(r)?r:(i=r[t])!==null&&i!==void 0?i:{}:{},a=t==="top"||t==="bottom",{horizontal:s=a?0:20,vertical:l=16}=o,u=e==="ltr"?"left":"right",h=e==="ltr"?"right":"left";switch(t){case"top":Object.assign(n,{top:l,left:`calc(50% + ${s}px)`,transform:"translateX(-50%)"});break;case"bottom":Object.assign(n,{bottom:l,left:`calc(50% + ${s}px)`,transform:"translateX(-50%)"});break;case"top-start":Object.assign(n,{top:l,[u]:s});break;case"top-end":Object.assign(n,{top:l,[h]:s});break;case"bottom-start":Object.assign(n,{bottom:l,[u]:s});break;case"bottom-end":Object.assign(n,{bottom:l,[h]:s})}return n},BCt={root:"fui-Toaster"},PCt=Zr("r3hfdjz",null,[".r3hfdjz{position:fixed;width:292px;pointer-events:none;}"]),FCt=Ye({inline:{qhf8xq:"f1euv43f"}},{d:[".f1euv43f{position:absolute;}"]}),zCt=t=>{const e=PCt(),r=FCt(),n=Ee(BCt.root,e,t.inline&&r.inline,t.root.className);var i,o,a,s,l,u,h,d,p,f,g,m;return t.bottomStart&&(t.bottomStart.className=n,(o=(i=t.bottomStart).style)!==null&&o!==void 0||(i.style={}),Object.assign(t.bottomStart.style,bp(ps.bottomStart,t.dir,t.offset))),t.bottomEnd&&(t.bottomEnd.className=n,(s=(a=t.bottomEnd).style)!==null&&s!==void 0||(a.style={}),Object.assign(t.bottomEnd.style,bp(ps.bottomEnd,t.dir,t.offset))),t.topStart&&(t.topStart.className=n,(u=(l=t.topStart).style)!==null&&u!==void 0||(l.style={}),Object.assign(t.topStart.style,bp(ps.topStart,t.dir,t.offset))),t.topEnd&&(t.topEnd.className=n,(d=(h=t.topEnd).style)!==null&&d!==void 0||(h.style={}),Object.assign(t.topEnd.style,bp(ps.topEnd,t.dir,t.offset))),t.top&&(t.top.className=n,(f=(p=t.top).style)!==null&&f!==void 0||(p.style={}),Object.assign(t.top.style,bp(ps.top,t.dir,t.offset))),t.bottom&&(t.bottom.className=n,(m=(g=t.bottom).style)!==null&&m!==void 0||(g.style={}),Object.assign(t.bottom.style,bp(ps.bottom,t.dir,t.offset))),t},_J=t=>{const e=ICt(t);return zCt(e),ea("useToasterStyles_unstable")(e),MCt(e)};_J.displayName="Toaster";const BD="toaster",jCt=()=>{const{dispatchToast:t}=kAt(BD);return{notify:Z.useCallback((e,r,n,i="success")=>{t(bt.jsxs(pJ,{children:[bt.jsx(fJ,{children:e}),bt.jsx(gJ,{subtitle:n,children:r}),bt.jsx(mJ,{})]}),{timeout:1e3,intent:i,position:"top-end"})},[t]),ToasterComponent:()=>Z.useMemo(()=>bt.jsx(_J,{toasterId:BD}),[])}};Fr({main:{flexGrow:1,...Hi.padding("10px"),overflowY:"auto"},container:{maxWidth:"640px",margin:"0 auto",backgroundPosition:"calc(50% + 100px) center",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"100%"},root:{height:"100%"},item:{height:"auto",width:"auto",flexShrink:1,marginBottom:"1rem"},chat:{flexGrow:1,boxSizing:"border-box",overflow:"hidden",border:"none"},attachmentBar:{display:"none"},iconButton:{width:"24px",height:"24px"},imageCard:{alignContent:"center",borderRadius:kr.borderRadiusLarge,height:"240px",textAlign:"left",position:"relative"}});const HCt=(t,{referenceLabel:e,referenceId:r},n)=>{const{checkbox:i={},onSelectionChange:o,floatingAction:a,onClick:s,onKeyDown:l}=t,{findAllFocusable:u}=y7(),h=Z.useRef(null),[d,p]=Ju({state:t.selected,defaultState:t.defaultSelected,initialState:!1}),f=[t.selected,t.defaultSelected,o].some(_=>_!==void 0),[g,m]=Z.useState(!1),y=Z.useCallback(_=>{if(!n.current)return!1;const S=u(n.current),T=_.target,A=S.some(D=>D.contains(T)),C=(h==null?void 0:h.current)===T;return A&&!C},[n,u]),v=Z.useCallback(_=>{if(y(_))return;const S=!d;p(S),o&&o(_,{selected:S})},[o,d,p,y]),x=Z.useCallback(_=>{[kd].includes(_.key)&&(_.preventDefault(),v(_))},[v]),b=Z.useMemo(()=>{if(!f||a)return;const _={};return r?_["aria-labelledby"]=r:e&&(_["aria-label"]=e),$r(i,{defaultProps:{ref:h,type:"checkbox",checked:d,onChange:S=>v(S),onFocus:()=>m(!0),onBlur:()=>m(!1),..._},elementType:"input"})},[i,a,d,f,v,r,e]),k=Z.useMemo(()=>{if(a)return $r(a,{defaultProps:{ref:h},elementType:"div"})},[a]),N=Z.useMemo(()=>f?{onClick:ci(s,v),onKeyDown:ci(l,x)}:null,[f,v,s,l,x]);return{selected:d,selectable:f,selectFocused:g,selectableCardProps:N,checkboxSlot:b,floatingActionSlot:k}},SJ=Z.createContext(void 0),h6={selectableA11yProps:{referenceId:void 0,setReferenceId(){},referenceLabel:void 0,setReferenceLabel(){}}},UCt=SJ.Provider,qCt=()=>{var t;return(t=Z.useContext(SJ))!==null&&t!==void 0?t:h6};function GCt(t,e){const r=Y4(e);r.subscribe(o=>{o||PD(t)});const n=o=>{r.isNavigatingWithKeyboard()&&FD(o.target)&&t.setAttribute(UQ,"")},i=o=>{(!o.relatedTarget||FD(o.relatedTarget)&&!t.contains(o.relatedTarget))&&PD(t)};return t.addEventListener(tl,n),t.addEventListener("focusout",i),()=>{t.removeEventListener(tl,n),t.removeEventListener("focusout",i),X4(r)}}function PD(t){t.removeAttribute(UQ)}function FD(t){return!!t&&!!(t&&typeof t=="object"&&"classList"in t&&"contains"in t)}function WCt(){const{targetDocument:t}=Gn(),e=Z.useRef(null);return Z.useEffect(()=>{if(t!=null&&t.defaultView&&e.current)return GCt(e.current,t.defaultView)},[e,t]),e}const VCt={off:void 0,"no-tab":"limited-trap-focus","tab-exit":"limited","tab-only":"unlimited"},YCt=(t,e)=>{const{appearance:r="filled",orientation:n="vertical",size:i="medium"}=t,[o,a]=Z.useState(h6.selectableA11yProps.referenceId),[s,l]=Z.useState(h6.selectableA11yProps.referenceId),u=WCt(),{selectable:h,selected:d,selectableCardProps:p,selectFocused:f,checkboxSlot:g,floatingActionSlot:m}=HCt(t,{referenceId:o,referenceLabel:s},u),y=ui(u,e),{interactive:v,focusAttributes:x}=(({focusMode:b,...k})=>{const N=["onClick","onDoubleClick","onMouseUp","onMouseDown","onPointerUp","onPointerDown","onTouchStart","onTouchEnd","onDragStart","onDragEnd"].some(T=>k[T]),_=b??(N?"no-tab":"off"),S={...T7({tabBehavior:VCt[_]}),tabIndex:0};return{interactive:N,focusAttributes:_==="off"?null:S}})(t);return{appearance:r,orientation:n,size:i,interactive:v,selectable:h,selectFocused:f,selected:d,selectableA11yProps:{setReferenceId:a,referenceId:o,referenceLabel:s,setReferenceLabel:l},components:{root:"div",floatingAction:"div",checkbox:"input"},root:Nr(ei("div",{ref:y,role:"group",...h?null:x,...t,...p}),{elementType:"div"}),floatingAction:m,checkbox:g}},XCt=(t,e)=>ve(t.root,{children:Un(UCt,{value:e,children:[t.checkbox?ve(t.checkbox,{}):null,t.floatingAction?ve(t.floatingAction,{}):null,t.root.children]})}),hk={root:"fui-Card",floatingAction:"fui-Card__floatingAction",checkbox:"fui-Card__checkbox"},KCt=Zr("rfxo2k2","rgle7w9",[".rfxo2k2{overflow:hidden;border-radius:var(--fui-Card--border-radius);padding:var(--fui-Card--size);gap:var(--fui-Card--size);display:flex;position:relative;box-sizing:border-box;color:var(--colorNeutralForeground1);}",'.rfxo2k2::after{position:absolute;top:0;left:0;right:0;bottom:0;content:"";pointer-events:none;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:var(--strokeWidthThin);border-right-width:var(--strokeWidthThin);border-bottom-width:var(--strokeWidthThin);border-left-width:var(--strokeWidthThin);border-radius:var(--fui-Card--border-radius);}',".rfxo2k2>.fui-CardHeader,.rfxo2k2>.fui-CardFooter{flex-shrink:0;}",".rgle7w9{overflow:hidden;border-radius:var(--fui-Card--border-radius);padding:var(--fui-Card--size);gap:var(--fui-Card--size);display:flex;position:relative;box-sizing:border-box;color:var(--colorNeutralForeground1);}",'.rgle7w9::after{position:absolute;top:0;right:0;left:0;bottom:0;content:"";pointer-events:none;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:var(--strokeWidthThin);border-left-width:var(--strokeWidthThin);border-bottom-width:var(--strokeWidthThin);border-right-width:var(--strokeWidthThin);border-radius:var(--fui-Card--border-radius);}',".rgle7w9>.fui-CardHeader,.rgle7w9>.fui-CardFooter{flex-shrink:0;}"]),ZCt=Ye({focused:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",B8q5s1w:"f8hki3x",Bci5o5g:["f1d2448m","ffh67wi"],n8qw10:"f1bjia2o",Bdrgwmp:["ffh67wi","f1d2448m"],Bb7d1vk:"f226i61",zhwhgb:["f13kzufm","fsx75g8"],dhy2o1:"flujwa2",Gfyso:["fsx75g8","f13kzufm"],Bm4h7ae:"f15bsgw9",B7ys5i9:"f14e48fq",Busjfv9:"f18yb2kv",Bhk32uz:"fd6o370",f6g5ot:0,Boxcth7:0,Bhdgwq3:0,hgwjuy:0,Bshpdp8:0,Bsom6fd:0,Blkhhs4:0,Bonggc9:0,Ddfuxk:0,i03rao:0,kclons:0,clg4pj:0,Bpqj9nj:0,B6dhp37:0,Bf4ptjt:0,Bqtpl0w:0,i4rwgc:"fpqizxz",Dah5zi:0,B1tsrr9:0,qqdqy8:0,Bkh64rk:0,e3fwne:"fnd8nzh",J0r882:"f15fr7a0",Bule8hv:["fwsq40z","fy0y4wt"],Bjwuhne:"f34ld9f",Ghsupd:["fy0y4wt","fwsq40z"]},selectableFocused:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",Bssx7fj:"f1b1k54r",uh7if5:["f4ne723","fqqcjud"],clntm0:"fh7aioi",Dlk2r6:["fqqcjud","f4ne723"],Bm3wd5j:"f1k55ka9",Bbrhkcr:["fgclinu","f16pcs8n"],f1oku:"fycbxed",aywvf2:["f16pcs8n","fgclinu"],B2j2mmj:"ffht0p2",wigs8:"f1p0ul1q",pbfy6t:"f1c901ms",B0v4ure:"f1alokd7",Byrf0fs:0,Bsiemmq:0,Bwckmig:0,skfxo0:0,Iidy0u:0,B98u21t:0,Bvwlmkc:0,jo1ztg:0,Ba1iezr:0,Blmvk6g:0,B24cy0v:0,Bil7v7r:0,Br3gin4:0,nr063g:0,ghq09:0,Bbgo44z:0,Bseh09z:"f1i978nd",az1dzo:0,Ba3ybja:0,B6352mv:0,vppk2z:0,Biaj6j7:"f1nh8hsq",B2pnrqr:"f1amxum7",B29w5g4:["f1cec8w7","f554mv0"],Bhhzhcn:"f1sj6kbr",Bec0n69:["f554mv0","f1cec8w7"]},orientationHorizontal:{Beiy3e4:"f1063pyq",Bt984gj:"f122n59",Binpb3b:"ftrw7vg",qrt8p2:"f18opajm",k6ws3r:["f13002it","fqo182t"],Btcwela:["f18yna97","f1kd6wh7"],Fer9m8:"f4i4759"},orientationVertical:{Beiy3e4:"f1vx9l62",B5nvv7i:["f14k419y","f1fgo9fz"],Baxg94k:["f1fgo9fz","f14k419y"],tn21ii:"fvqmfsm",B0ud6bj:"f3am6yf",Bgdo4j:"f1r5wgso"},sizeSmall:{B7balbw:"f1pi9uxy",B1h88n7:"f1h1zgly"},sizeMedium:{B7balbw:"frsmuga",B1h88n7:"fuldkky"},sizeLarge:{B7balbw:"f1qua4xo",B1h88n7:"fimkt6v"},interactive:{rhjd8f:"f1epqm3e"},filled:{De3pzq:"fxugw4r",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"]},filledInteractive:{Bceei9c:"f1k6fduh",De3pzq:"fxugw4r",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"],Bi91k9c:"feu1g3u",Jwef8y:"f1knas48",Bvxd0ez:"f1m145df",ecr2s2:"fb40n2d"},filledInteractiveSelected:{De3pzq:"f1nfm20t",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"fx9teim",Jwef8y:"f1kz6goq"},filledAlternative:{De3pzq:"f1dmdbja",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"]},filledAlternativeInteractive:{Bceei9c:"f1k6fduh",De3pzq:"f1dmdbja",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"],Bi91k9c:"fnwyq0v",Jwef8y:"f1uvynv3",Bvxd0ez:"f1m145df",ecr2s2:"f1yhgkbh"},filledAlternativeInteractiveSelected:{De3pzq:"fjxa0vh",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"f1luvkty",Jwef8y:"fehi0vp"},outline:{De3pzq:"f1c21dwh",E5pizo:"f1couhl3",B0n5ga8:"ft83z1f",s924m2:["f1g4150c","f192dr6e"],B1q35kw:"f1qnawh6",Gp14am:["f192dr6e","f1g4150c"]},outlineInteractive:{Bceei9c:"f1k6fduh",De3pzq:"f1c21dwh",E5pizo:"f1couhl3",B0n5ga8:"ft83z1f",s924m2:["f1g4150c","f192dr6e"],B1q35kw:"f1qnawh6",Gp14am:["f192dr6e","f1g4150c"],Bi91k9c:"feu1g3u",Jwef8y:"fjxutwb",Be0v6ae:"f1llr77y",B5kxglz:["fzk0khw","fjj8tog"],B3pwyw6:"fb1u8ub",Bymgtzf:["fjj8tog","fzk0khw"],ecr2s2:"fophhak",dmfk:"f1uohb70",B4ofi8:["f1jm7v1n","f1bus3rq"],jgq6uv:"f1fbu7rr",Baxewws:["f1bus3rq","f1jm7v1n"]},outlineInteractiveSelected:{De3pzq:"f1q9pm1r",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"fx9teim",Jwef8y:"fg59vm4"},subtle:{De3pzq:"fhovq9v",E5pizo:"f1couhl3",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"]},subtleInteractive:{Bceei9c:"f1k6fduh",De3pzq:"fhovq9v",E5pizo:"f1couhl3",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"],Bi91k9c:"feu1g3u",Jwef8y:"f1t94bn6",ecr2s2:"f1wfn5kd"},subtleInteractiveSelected:{De3pzq:"fq5gl1p",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"fx9teim",Jwef8y:"f1uqaxdt"},highContrastSelected:{ycbfsm:"fkc42ay",Bsw6fvg:"f1rirnrt",Bbusuzp:"f1lkg8j3",xgfqdd:"f1nkj0oa",Bmmdzwq:"fey3rwa",zkpvhj:["f5jhx11","fff9uym"],B20bydw:"fm7n0jy",Bwwwggl:["fff9uym","f5jhx11"]},highContrastInteractive:{h1vhog:"fpfvv3l",kslmdy:"f1oamsm6",Baaf6ca:"f1il21bs",x9zz3d:"fnn5dk0",Bmmdzwq:"fey3rwa",zkpvhj:["f5jhx11","fff9uym"],B20bydw:"fm7n0jy",Bwwwggl:["fff9uym","f5jhx11"]},select:{qhf8xq:"f1euv43f",Bhzewxz:"fqclxi7",j35jbq:["fiv86kb","f36uhnt"],Bj3rh1h:"f19g0ac"},hiddenCheckbox:{B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",a9b677:"frkrog8",Bqenvij:"f1mpe4l3",qhf8xq:"f1euv43f",Bh84pgu:"fmf1zke",Bgl5zvf:"f1wch0ki",Huce71:"fz5stix"}},{f:[".ftqa4ok:focus{outline-style:none;}"],i:[".f2hkw1w:focus-visible{outline-style:none;}"],d:[".f8hki3x[data-fui-focus-visible]{border-top-color:transparent;}",".f1d2448m[data-fui-focus-visible]{border-right-color:transparent;}",".ffh67wi[data-fui-focus-visible]{border-left-color:transparent;}",".f1bjia2o[data-fui-focus-visible]{border-bottom-color:transparent;}",'.f15bsgw9[data-fui-focus-visible]::after{content:"";}',".f14e48fq[data-fui-focus-visible]::after{position:absolute;}",".f18yb2kv[data-fui-focus-visible]::after{pointer-events:none;}",".fd6o370[data-fui-focus-visible]::after{z-index:1;}",[".fpqizxz[data-fui-focus-visible]::after{border:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}",{p:-2}],[".fnd8nzh[data-fui-focus-visible]::after{border-radius:var(--fui-Card--border-radius);}",{p:-1}],".f15fr7a0[data-fui-focus-visible]::after{top:calc(0px - var(--strokeWidthThick) - -2px);}",".fwsq40z[data-fui-focus-visible]::after{right:calc(0px - var(--strokeWidthThick) - -2px);}",".fy0y4wt[data-fui-focus-visible]::after{left:calc(0px - var(--strokeWidthThick) - -2px);}",".f34ld9f[data-fui-focus-visible]::after{bottom:calc(0px - var(--strokeWidthThick) - -2px);}",".f1b1k54r[data-fui-focus-within]:focus-within{border-top-color:transparent;}",".f4ne723[data-fui-focus-within]:focus-within{border-right-color:transparent;}",".fqqcjud[data-fui-focus-within]:focus-within{border-left-color:transparent;}",".fh7aioi[data-fui-focus-within]:focus-within{border-bottom-color:transparent;}",'.ffht0p2[data-fui-focus-within]:focus-within::after{content:"";}',".f1p0ul1q[data-fui-focus-within]:focus-within::after{position:absolute;}",".f1c901ms[data-fui-focus-within]:focus-within::after{pointer-events:none;}",".f1alokd7[data-fui-focus-within]:focus-within::after{z-index:1;}",[".f1i978nd[data-fui-focus-within]:focus-within::after{border:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}",{p:-2}],[".f1nh8hsq[data-fui-focus-within]:focus-within::after{border-radius:var(--fui-Card--border-radius);}",{p:-1}],".f1amxum7[data-fui-focus-within]:focus-within::after{top:calc(0px - var(--strokeWidthThick) - -2px);}",".f1cec8w7[data-fui-focus-within]:focus-within::after{right:calc(0px - var(--strokeWidthThick) - -2px);}",".f554mv0[data-fui-focus-within]:focus-within::after{left:calc(0px - var(--strokeWidthThick) - -2px);}",".f1sj6kbr[data-fui-focus-within]:focus-within::after{bottom:calc(0px - var(--strokeWidthThick) - -2px);}",".f1063pyq{flex-direction:row;}",".f122n59{align-items:center;}",".ftrw7vg>.fui-CardPreview{margin-top:calc(var(--fui-Card--size) * -1);}",".f18opajm>.fui-CardPreview{margin-bottom:calc(var(--fui-Card--size) * -1);}",'.f13002it>:not([aria-hidden="true"]).fui-CardPreview:first-of-type{margin-left:calc(var(--fui-Card--size) * -1);}','.fqo182t>:not([aria-hidden="true"]).fui-CardPreview:first-of-type{margin-right:calc(var(--fui-Card--size) * -1);}','.f18yna97>:not([aria-hidden="true"]).fui-CardPreview:last-of-type{margin-right:calc(var(--fui-Card--size) * -1);}','.f1kd6wh7>:not([aria-hidden="true"]).fui-CardPreview:last-of-type{margin-left:calc(var(--fui-Card--size) * -1);}',".f4i4759>.fui-CardHeader:last-of-type,.f4i4759>.fui-CardFooter:last-of-type{flex-grow:1;}",".f1vx9l62{flex-direction:column;}",".f14k419y>.fui-CardPreview{margin-left:calc(var(--fui-Card--size) * -1);}",".f1fgo9fz>.fui-CardPreview{margin-right:calc(var(--fui-Card--size) * -1);}",'.fvqmfsm>:not([aria-hidden="true"]).fui-CardPreview:first-of-type{margin-top:calc(var(--fui-Card--size) * -1);}',".f3am6yf>.fui-Card__floatingAction+.fui-CardPreview{margin-top:calc(var(--fui-Card--size) * -1);}",'.f1r5wgso>:not([aria-hidden="true"]).fui-CardPreview:last-of-type{margin-bottom:calc(var(--fui-Card--size) * -1);}',".f1pi9uxy{--fui-Card--size:8px;}",".f1h1zgly{--fui-Card--border-radius:var(--borderRadiusSmall);}",".frsmuga{--fui-Card--size:12px;}",".fuldkky{--fui-Card--border-radius:var(--borderRadiusMedium);}",".f1qua4xo{--fui-Card--size:16px;}",".fimkt6v{--fui-Card--border-radius:var(--borderRadiusLarge);}",".f1epqm3e .fui-Text{color:currentColor;}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1whvlc6{box-shadow:var(--shadow4);}",".f16gxe2i::after{border-top-color:var(--colorTransparentStroke);}",".fpgykix::after{border-right-color:var(--colorTransparentStroke);}",".fzybk4o::after{border-left-color:var(--colorTransparentStroke);}",".f1osi826::after{border-bottom-color:var(--colorTransparentStroke);}",".f1k6fduh{cursor:pointer;}",".f1nfm20t{background-color:var(--colorNeutralBackground1Selected);}",".f16eln5f::after{border-top-color:var(--colorNeutralStroke1Selected);}",".fa2okxs::after{border-right-color:var(--colorNeutralStroke1Selected);}",".fg4zq3l::after{border-left-color:var(--colorNeutralStroke1Selected);}",".ff6932p::after{border-bottom-color:var(--colorNeutralStroke1Selected);}",".f1dmdbja{background-color:var(--colorNeutralBackground2);}",".fjxa0vh{background-color:var(--colorNeutralBackground2Selected);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1couhl3{box-shadow:none;}",".ft83z1f::after{border-top-color:var(--colorNeutralStroke1);}",".f1g4150c::after{border-right-color:var(--colorNeutralStroke1);}",".f192dr6e::after{border-left-color:var(--colorNeutralStroke1);}",".f1qnawh6::after{border-bottom-color:var(--colorNeutralStroke1);}",".f1q9pm1r{background-color:var(--colorTransparentBackgroundSelected);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fq5gl1p{background-color:var(--colorSubtleBackgroundSelected);}",".f1euv43f{position:absolute;}",".fqclxi7{top:4px;}",".fiv86kb{right:4px;}",".f36uhnt{left:4px;}",".f19g0ac{z-index:1;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".frkrog8{width:1px;}",".f1mpe4l3{height:1px;}",".fmf1zke{clip:rect(0 0 0 0);}",".f1wch0ki{clip-path:inset(50%);}",".fz5stix{white-space:nowrap;}"],m:[["@media (forced-colors: active){.f226i61[data-fui-focus-visible]::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f13kzufm[data-fui-focus-visible]::after{border-right-color:Highlight;}.fsx75g8[data-fui-focus-visible]::after{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.flujwa2[data-fui-focus-visible]::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1k55ka9[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f16pcs8n[data-fui-focus-within]:focus-within::after{border-left-color:Highlight;}.fgclinu[data-fui-focus-within]:focus-within::after{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fycbxed[data-fui-focus-within]:focus-within::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1nkj0oa .fui-CardPreview,.f1nkj0oa .fui-CardFooter{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fey3rwa::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f5jhx11::after{border-right-color:Highlight;}.fff9uym::after{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fm7n0jy::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fpfvv3l:hover,.fpfvv3l :active{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1oamsm6:hover,.f1oamsm6 :active{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1il21bs:hover,.f1il21bs :active{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnn5dk0:hover .fui-CardPreview,.fnn5dk0 :active .fui-CardPreview,.fnn5dk0:hover .fui-CardFooter,.fnn5dk0 :active .fui-CardFooter{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}]],h:[".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".f1knas48:hover{background-color:var(--colorNeutralBackground1Hover);}",".f1m145df:hover{box-shadow:var(--shadow8);}",".fx9teim:hover{color:var(--colorNeutralForeground1Selected);}",".f1kz6goq:hover{background-color:var(--colorNeutralBackground1Selected);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".f1uvynv3:hover{background-color:var(--colorNeutralBackground2Hover);}",".f1luvkty:hover{color:var(--colorNeutralForeground2Selected);}",".fehi0vp:hover{background-color:var(--colorNeutralBackground2Selected);}",".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".f1llr77y:hover::after{border-top-color:var(--colorNeutralStroke1Hover);}",".fzk0khw:hover::after{border-right-color:var(--colorNeutralStroke1Hover);}",".fjj8tog:hover::after{border-left-color:var(--colorNeutralStroke1Hover);}",".fb1u8ub:hover::after{border-bottom-color:var(--colorNeutralStroke1Hover);}",".fg59vm4:hover{background-color:var(--colorTransparentBackgroundSelected);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".f1uqaxdt:hover{background-color:var(--colorSubtleBackgroundSelected);}"],a:[".fb40n2d:active{background-color:var(--colorNeutralBackground1Pressed);}",".f1yhgkbh:active{background-color:var(--colorNeutralBackground2Pressed);}",".fophhak:active{background-color:var(--colorTransparentBackgroundPressed);}",".f1uohb70:active::after{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1jm7v1n:active::after{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1bus3rq:active::after{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1fbu7rr:active::after{border-bottom-color:var(--colorNeutralStroke1Pressed);}",".f1wfn5kd:active{background-color:var(--colorSubtleBackgroundPressed);}"]}),QCt=t=>{const e=KCt(),r=ZCt(),n={horizontal:r.orientationHorizontal,vertical:r.orientationVertical},i={small:r.sizeSmall,medium:r.sizeMedium,large:r.sizeLarge},o={filled:r.filled,"filled-alternative":r.filledAlternative,outline:r.outline,subtle:r.subtle},a={filled:r.filledInteractiveSelected,"filled-alternative":r.filledAlternativeInteractiveSelected,outline:r.outlineInteractiveSelected,subtle:r.subtleInteractiveSelected},s={filled:r.filledInteractive,"filled-alternative":r.filledAlternativeInteractive,outline:r.outlineInteractive,subtle:r.subtleInteractive},l=t.interactive||t.selectable,u=Z.useMemo(()=>t.selectable?t.selectFocused?r.selectableFocused:"":r.focused,[t.selectFocused,t.selectable,r.focused,r.selectableFocused]);return t.root.className=Ee(hk.root,e,n[t.orientation],i[t.size],o[t.appearance],l&&r.interactive,l&&s[t.appearance],t.selected&&a[t.appearance],u,l&&r.highContrastInteractive,t.selected&&r.highContrastSelected,t.root.className),t.floatingAction&&(t.floatingAction.className=Ee(hk.floatingAction,r.select,t.floatingAction.className)),t.checkbox&&(t.checkbox.className=Ee(hk.checkbox,r.hiddenCheckbox,t.checkbox.className)),t};function JCt({selectableA11yProps:t}){return{selectableA11yProps:t}}const AJ=Z.forwardRef((t,e)=>{const r=YCt(t,e),n=JCt(r);return QCt(r),XCt(r,n)});AJ.displayName="Card";const CJ={root:"fui-CardHeader",image:"fui-CardHeader__image",header:"fui-CardHeader__header",description:"fui-CardHeader__description",action:"fui-CardHeader__action"},t7t=Ye({root:{Bkc6ea2:"fkufhic",Bt984gj:"f122n59"},image:{mc9l5x:"ftuwxu6",t21cq0:["fql5097","f6yss9k"]},header:{mc9l5x:"f22iagw"},description:{mc9l5x:"f22iagw"},action:{Frg6f3:["f6yss9k","fql5097"],B7frvx2:"f1ndzpm5",B06c7xf:["f1fkeggc","f1u45u6i"],B8uq84v:"f16eyofs",snkdo8:["f1u45u6i","f1fkeggc"],Bpf22ct:"f1wkmkig",apjfyd:"f18alut9"}},{d:[".fkufhic{--fui-CardHeader--gap:12px;}",".f122n59{align-items:center;}",".ftuwxu6{display:inline-flex;}",".fql5097{margin-right:var(--fui-CardHeader--gap);}",".f6yss9k{margin-left:var(--fui-CardHeader--gap);}",".f22iagw{display:flex;}"],m:[["@media (forced-colors: active){.f1ndzpm5 .fui-Button,.f1ndzpm5 .fui-Link{border-top-color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1fkeggc .fui-Button,.f1fkeggc .fui-Link{border-right-color:currentColor;}.f1u45u6i .fui-Button,.f1u45u6i .fui-Link{border-left-color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f16eyofs .fui-Button,.f16eyofs .fui-Link{border-bottom-color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wkmkig .fui-Button,.f1wkmkig .fui-Link{color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18alut9 .fui-Button,.f18alut9 .fui-Link{outline-color:currentColor;}}",{m:"(forced-colors: active)"}]]}),e7t=Ye({root:{mc9l5x:"f13qh94s",t4k1zu:"f8a668j"},image:{Br312pm:"fwpfdsa",Ijaq50:"fldnz9j"},header:{Br312pm:"fd46tj4",Ijaq50:"f16hsg94"},description:{Br312pm:"fd46tj4",Ijaq50:"faunodf"},action:{Br312pm:"fis13di",Ijaq50:"fldnz9j"}},{d:[".f13qh94s{display:grid;}",".f8a668j{grid-auto-columns:min-content 1fr min-content;}",".fwpfdsa{grid-column-start:1;}",".fldnz9j{grid-row-start:span 2;}",".fd46tj4{grid-column-start:2;}",".f16hsg94{grid-row-start:1;}",".faunodf{grid-row-start:2;}",".fis13di{grid-column-start:3;}"]}),r7t=Ye({root:{mc9l5x:"f22iagw"},header:{Bh6795r:"fqerorx"},image:{},description:{},action:{}},{d:[".f22iagw{display:flex;}",".fqerorx{flex-grow:1;}"]}),n7t=t=>{const e=t7t(),r=e7t(),n=r7t(),i=t.description?r:n,o=a=>{var s;return Ee(CJ[a],e[a],i[a],(s=t[a])===null||s===void 0?void 0:s.className)};return t.root.className=o("root"),t.image&&(t.image.className=o("image")),t.header&&(t.header.className=o("header")),t.description&&(t.description.className=o("description")),t.action&&(t.action.className=o("action")),t},i7t=(t,e)=>{const{image:r,header:n,description:i,action:o}=t,{selectableA11yProps:{referenceId:a,setReferenceId:s}}=qCt(),l=Z.useRef(null),u=Z.useRef(!1),h=Qu(CJ.header,a),d=$r(n,{renderByDefault:!0,defaultProps:{ref:l,id:u.current?void 0:a},elementType:"div"});return Z.useEffect(()=>{var p;const f=u.current||(p=l.current)===null||p===void 0?void 0:p.id,g=function(m){return Z.Children.toArray(m).find(function(y){return Z.isValidElement(y)&&!!y.props.id})}(d==null?void 0:d.children);u.current=!!g,s(function(m,y,v){return m||(y!=null&&y.props.id?y.props.id:v)}(f,g,h))},[h,n,d,s]),{components:{root:"div",image:"div",header:"div",description:"div",action:"div"},root:Nr(ei("div",{ref:e,...t}),{elementType:"div"}),image:$r(r,{elementType:"div"}),header:d,description:$r(i,{elementType:"div"}),action:$r(o,{elementType:"div"})}},o7t=t=>Un(t.root,{children:[t.image&&ve(t.image,{}),t.header&&ve(t.header,{}),t.description&&ve(t.description,{}),t.action&&ve(t.action,{})]}),$J=Z.forwardRef((t,e)=>{const r=i7t(t,e);return n7t(r),o7t(r)});$J.displayName="CardHeader";const NJ=Z.createContext(void 0),a7t={},s7t=NJ.Provider,IJ=()=>{var t;return(t=Z.useContext(NJ))!==null&&t!==void 0?t:a7t},l7t=(t,e)=>{const{animation:r,appearance:n}=IJ(),{animation:i=r??"wave",appearance:o=n??"opaque"}=t;return{animation:i,appearance:o,components:{root:"div"},root:Nr(ei("div",{ref:e,role:"progressbar","aria-busy":!0,...t}),{elementType:"div"})}},c7t=(t,e)=>ve(s7t,{value:e.skeletonGroup,children:ve(t.root,{})}),u7t={root:"fui-Skeleton"},h7t=t=>(t.root.className=Ee(u7t.root,t.root.className),t),d7t=t=>{const{animation:e,appearance:r}=t;return{skeletonGroup:Z.useMemo(()=>({animation:e,appearance:r}),[e,r])}},d6=Z.forwardRef((t,e)=>{const r=l7t(t,e),n=d7t(r);return h7t(r),c7t(r,n)});d6.displayName="Skeleton";const p7t=(t,e)=>{const{animation:r,appearance:n}=IJ(),{animation:i=r??"wave",appearance:o=n??"opaque",size:a=16,shape:s="rectangle"}=t;return{appearance:o,animation:i,size:a,shape:s,components:{root:"div"},root:Nr(ei("div",{ref:e,...t}),{elementType:"div"})}},f7t=t=>ve(t.root,{}),g7t={root:"fui-SkeletonItem"},m7t=Ye({root:{qhf8xq:"f10pi13n",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Bsft5z2:"f13zj6fq",ap17g6:"f2gz7yw",E3zdtr:"f1mdlcz9",By385i5:0,Eqx8gd:0,B1piin3:0,bn5sak:0,B58onuk:"f1nt53hs",s9ouvv:"f18xs7ez",xr36ep:"ffm3629",Bitv4sc:"f1f9zsvm",Jx5sug:"f1ub80pn",Hzyzrh:"f1e7twep"},wave:{De3pzq:"f1gjxg63",Br128sd:["f3fo419","f6m9r4"],h62rwi:["ftnv2js","f12jzhyt"],b1kco5:["fig1c6l","f1rv5y9h"],oi31me:"f103n15n"},pulse:{Br128sd:"f171zwvm",xr36ep:"fs3pcyf",Bjyk6c5:"f1yu5riq"},translucent:{De3pzq:"f162mh4z",h62rwi:["flvf4r0","f1uek97b"]},translucentPulse:{De3pzq:"flu3bqm",Bjyk6c5:"fxucc0w"}},{d:[".f10pi13n{position:relative;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],'.f13zj6fq::after{content:"";}',".f2gz7yw::after{display:block;}",".f1mdlcz9::after{position:absolute;}",[".f1nt53hs::after{inset:0;}",{p:-1}],".f18xs7ez::after{animation-iteration-count:infinite;}",".ffm3629::after{animation-duration:3s;}",".f1f9zsvm::after{animation-timing-function:ease-in-out;}",".f1gjxg63{background-color:var(--colorNeutralStencil1);}",".f3fo419::after{animation-name:f1efwx7q;}",".f6m9r4::after{animation-name:f1kkgpz1;}",`.ftnv2js::after{background-image:linear-gradient(
        to right,
        var(--colorNeutralStencil1) 0%,
        var(--colorNeutralStencil2) 50%,
        var(--colorNeutralStencil1) 100%);}`,`.f12jzhyt::after{background-image:linear-gradient(
        to left,
        var(--colorNeutralStencil1) 0%,
        var(--colorNeutralStencil2) 50%,
        var(--colorNeutralStencil1) 100%);}`,".fig1c6l::after{transform:translate(-100%);}",".f1rv5y9h::after{transform:translate(100%);}",".f171zwvm::after{animation-name:f12o7gg6;}",".fs3pcyf::after{animation-duration:1s;}",".f1yu5riq::after{background-color:var(--colorNeutralStencil1);}",".f162mh4z{background-color:var(--colorNeutralStencil1Alpha);}",`.flvf4r0::after{background-image:linear-gradient(
      to right,
      transparent 0%,
      var(--colorNeutralStencil1Alpha) 50%,
      transparent 100%);}`,`.f1uek97b::after{background-image:linear-gradient(
      to left,
      transparent 0%,
      var(--colorNeutralStencil1Alpha) 50%,
      transparent 100%);}`,".flu3bqm{background-color:none;}",".fxucc0w::after{background-color:var(--colorNeutralStencil1Alpha);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f1ub80pn::after{animation-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1e7twep::after{animation-iteration-count:1;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (forced-colors: active){.f103n15n::after{background-color:WindowText;}}",{m:"screen and (forced-colors: active)"}]],k:["@keyframes f1efwx7q{to{transform:translate(100%);}}","@keyframes f1kkgpz1{to{transform:translate(-100%);}}","@keyframes f12o7gg6{0%{opacity:1;}50%{opacity:0.4;}100%{opacity:1;}}"]}),y7t=Ye({8:{Bqenvij:"f1x82gua"},12:{Bqenvij:"fvblgha"},16:{Bqenvij:"fd461yt"},20:{Bqenvij:"fjamq6b"},24:{Bqenvij:"frvgh55"},28:{Bqenvij:"fxldao9"},32:{Bqenvij:"f1d2rq10"},36:{Bqenvij:"f8ljn23"},40:{Bqenvij:"fbhnoac"},48:{Bqenvij:"ff2sm71"},56:{Bqenvij:"fzki0ko"},64:{Bqenvij:"f16k9i2m"},72:{Bqenvij:"f1shusfg"},96:{Bqenvij:"fypu0ge"},120:{Bqenvij:"fjr5b71"},128:{Bqenvij:"fele2au"},root:{a9b677:"fly5x3f",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ff3glw6"}},{d:[".f1x82gua{height:8px;}",".fvblgha{height:12px;}",".fd461yt{height:16px;}",".fjamq6b{height:20px;}",".frvgh55{height:24px;}",".fxldao9{height:28px;}",".f1d2rq10{height:32px;}",".f8ljn23{height:36px;}",".fbhnoac{height:40px;}",".ff2sm71{height:48px;}",".fzki0ko{height:56px;}",".f16k9i2m{height:64px;}",".f1shusfg{height:72px;}",".fypu0ge{height:96px;}",".fjr5b71{height:120px;}",".fele2au{height:128px;}",".fly5x3f{width:100%;}",[".ff3glw6{border-radius:4px;}",{p:-1}]]}),v7t=Ye({8:{a9b677:"f1o3cbw4",Bqenvij:"f1x82gua"},12:{a9b677:"frx94fk",Bqenvij:"fvblgha"},16:{a9b677:"fjw5fx7",Bqenvij:"fd461yt"},20:{a9b677:"f64fuq3",Bqenvij:"fjamq6b"},24:{a9b677:"fq4mcun",Bqenvij:"frvgh55"},28:{a9b677:"f1w9dchk",Bqenvij:"fxldao9"},32:{a9b677:"f1szoe96",Bqenvij:"f1d2rq10"},36:{a9b677:"fpdz1er",Bqenvij:"f8ljn23"},40:{a9b677:"feqmc2u",Bqenvij:"fbhnoac"},48:{a9b677:"f124akge",Bqenvij:"ff2sm71"},56:{a9b677:"f1u66zr1",Bqenvij:"fzki0ko"},64:{a9b677:"fa9ln6p",Bqenvij:"f16k9i2m"},72:{a9b677:"fhcae8x",Bqenvij:"f1shusfg"},96:{a9b677:"f1kyr2gn",Bqenvij:"fypu0ge"},120:{a9b677:"fwfqyga",Bqenvij:"fjr5b71"},128:{a9b677:"f1iksgmy",Bqenvij:"fele2au"}},{d:[".f1o3cbw4{width:8px;}",".f1x82gua{height:8px;}",".frx94fk{width:12px;}",".fvblgha{height:12px;}",".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".f64fuq3{width:20px;}",".fjamq6b{height:20px;}",".fq4mcun{width:24px;}",".frvgh55{height:24px;}",".f1w9dchk{width:28px;}",".fxldao9{height:28px;}",".f1szoe96{width:32px;}",".f1d2rq10{height:32px;}",".fpdz1er{width:36px;}",".f8ljn23{height:36px;}",".feqmc2u{width:40px;}",".fbhnoac{height:40px;}",".f124akge{width:48px;}",".ff2sm71{height:48px;}",".f1u66zr1{width:56px;}",".fzki0ko{height:56px;}",".fa9ln6p{width:64px;}",".f16k9i2m{height:64px;}",".fhcae8x{width:72px;}",".f1shusfg{height:72px;}",".f1kyr2gn{width:96px;}",".fypu0ge{height:96px;}",".fwfqyga{width:120px;}",".fjr5b71{height:120px;}",".f1iksgmy{width:128px;}",".fele2au{height:128px;}"]}),b7t=Ye({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f5q2cvs"}},{d:[[".f5q2cvs{border-radius:50%;}",{p:-1}]]}),x7t=t=>{const{animation:e,appearance:r,size:n,shape:i}=t,o=m7t(),a=y7t(),s=v7t(),l=b7t();return t.root.className=Ee(g7t.root,o.root,e==="wave"&&o.wave,e==="pulse"&&o.pulse,r==="translucent"&&o.translucent,e==="pulse"&&r==="translucent"&&o.translucentPulse,i==="rectangle"&&a.root,i==="rectangle"&&a[n],i==="square"&&s[n],i==="circle"&&l.root,i==="circle"&&s[n],t.root.className),t},Hh=Z.forwardRef((t,e)=>{const r=p7t(t,e);return x7t(r),f7t(r)});Hh.displayName="SkeletonItem";const w7t={root:"fui-Caption1"},k7t=Ye({root:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}"]}),T7t=zZ({useStyles:k7t,className:w7t.root,displayName:"Caption1"}),E7t=Fr({iframe:{border:"none",width:"100%",height:"100%"},main:{gap:"36px",display:"flex",flexDirection:"column",flexWrap:"wrap"},card:{minWidth:"300px",maxWidth:"100%",height:"fit-content",marginBottom:"1em",paddingLeft:"1em",maxHeight:"11em",borderRadius:"10px",position:"relative"},expandedCard:{minWidth:"320px",maxWidth:"100%",height:"fit-content",marginBottom:"1em",paddingLeft:"1em",borderRadius:"10px",position:"relative"},text:{margin:"0.5em",whiteSpace:"normal",fontSize:"larger"},caption:{color:kr.colorNeutralForeground3},headerImage:{borderRadius:"4px",maxWidth:"44px",maxHeight:"44px"},rectangle:{margin:0,top:"-5px",left:"-2px",width:"5px",position:"absolute",height:"100%"},fileList:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollbarWidth:"thin",msOverflowStyle:"none",padding:"4px",margin:"0 -4px",maxWidth:"100%",boxSizing:"border-box","&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:kr.colorNeutralStroke1,borderRadius:"3px"}},htmlButton:{fontSize:"1.5em",cursor:"pointer",marginLeft:"0.5em"},headerButton:{fontSize:"1.5em",cursor:"pointer",marginLeft:"0.5em"},iconButtonRow:{position:"absolute",top:"0.5em",right:"0.5em",display:"flex",alignItems:"center",gap:"0.5em",zIndex:2},content:{overflow:"hidden",transition:"max-height 0.3s ease-out",userSelect:"text"},truncated:{maxHeight:"10em"},header:{display:"flex",flexDirection:"row",gap:"0.5em"}}),yte=({header:t,description:e,timestamp:r,text:n,image:i,tags:o,id:a,fileIds:s,codicentService:l,busy:u,onEdit:h,onShowHtmlPreview:d})=>{const p=E7t(),f=vU(),[g,m]=Z.useState(!1),[y,v]=Z.useState(!1),x=Z.useRef(null),b=Object.keys(Qt("LOGBOOK_TAG_DEFINITIONS")),k=b.find(L=>o.includes(L))||(s.length>0?b.find(L=>L==="file"):void 0),[N,_]=Z.useState([]),{t:S}=Zl(),T=["TYPE","CUSTOMER","CONTACT","SALESPERSON","MESSAGE","COMPANY","PHONE","EMAIL","WEBSITE","INFO","FÖRETAG","ROLE","KONTAKT"],A=[S("Typ"),S("Kund"),S("Kontakt"),S("Säljare"),S("Meddelande"),S("Företag"),S("Telefon"),S("E-post"),S("Hemsida"),S("Info"),S("Företag"),S("Roll"),S("Kontakt")];Z.useEffect(()=>{Promise.all(s.map(L=>l.getFileInfo(L))).then(L=>{_(L)})},[l,_,s]),Z.useEffect(()=>{const L=()=>{if(x.current){const O=x.current.scrollHeight>100+(N.length>0?-72:0);v(O)}};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[n,N]);const C=()=>m(!g),D=o.includes("chat")&&(n.includes("#function_result")||n.includes("#finish_reason_function_call")),E=L=>{const O=L.indexOf("```html");if(O===-1)return L;const B=L.indexOf("```",O+7);return B===-1?L.substring(O+7):L.substring(O+7,B)},$=new ua(n).data,I=k&&Qt("LOGBOOK_TAG_DEFINITIONS")[k].editable;return bt.jsxs(AJ,{className:g?p.expandedCard:p.card,style:{backgroundColor:Qt("MESSAGE_HIDE_BAR")?k?Qt("LOGBOOK_TAG_DEFINITIONS")[k].color:Qt("APP_HEADER_COLOR")||"#eee":"#eee"},onClick:o.includes("chat")?L=>{o.includes("chat")&&(L&&L.stopPropagation(),f("/chat?id="+a))}:void 0,children:[!Qt("MESSAGE_HIDE_BAR")&&bt.jsx("div",{className:p.rectangle,style:{backgroundColor:k?Qt("LOGBOOK_TAG_DEFINITIONS")[k].color:Qt("APP_HEADER_COLOR")||void 0}}),bt.jsxs("div",{className:p.iconButtonRow,children:[I&&h&&bt.jsx(kZ,{className:p.htmlButton,onClick:()=>h()}),d&&!I&&o.includes("html")&&bt.jsx(Hwt,{className:p.htmlButton,onClick:L=>{L.stopPropagation(),d(E(n))}}),y&&!o.includes("chat")&&g&&bt.jsx(Pwt,{className:p.headerButton,onClick:C}),y&&!o.includes("chat")&&!g&&bt.jsx(Fwt,{className:p.headerButton,onClick:C})]}),bt.jsx($J,{image:i?bt.jsx("img",{className:p.headerImage,src:"app_logo.svg",alt:"User"}):null,header:u?bt.jsx(d6,{style:{width:"50%"},children:bt.jsx(Hh,{})}):bt.jsxs("div",{className:p.header,children:[bt.jsx(D0,{weight:"semibold",children:t}),r&&bt.jsx(D0,{weight:"regular",children:r})]}),description:bt.jsx(T7t,{className:p.caption,children:e})}),bt.jsxs("div",{ref:x,className:`${p.content} ${g?"":p.truncated}`,children:[N.length>0&&bt.jsx("div",{className:p.fileList,children:N.map(L=>bt.jsx(r7,{file:L,getImageUrl:Cl.getImageUrl,onClick:()=>{L.contentType.startsWith("image")?f(`/image?id=${a}&file=${L.id}`):Cl.downloadFile(L)}},L.id))}),u?bt.jsxs(d6,{style:{width:"100%"},children:[bt.jsx(Hh,{}),bt.jsx(Hh,{}),bt.jsx(Hh,{}),bt.jsx(Hh,{}),bt.jsx(Hh,{})]}):bt.jsx("div",{className:p.text,children:o.includes("html")?bt.jsx("iframe",{className:p.iframe,title:"html",srcDoc:E(n),sandbox:"allow-same-origin allow-scripts"}):o.includes("crm")&&Object.keys($).length===0?bt.jsx(H_,{content:D?"*Tänker...*":$?(()=>{const L=new RegExp(`(${T.join("|")})\\s*:\\s*`,"gi");return n.replace(L,(O,B)=>{const R=T.indexOf(B.toUpperCase());return R===-1&&console.log("Field not found:",B),`
**${R!==-1?A[R]:B}:** `}).trim()})():n}):bt.jsx(H_,{content:D?"*Tänker...*":$&&$&&Object.keys($).length>0?Object.keys($).map(L=>{const O=T.indexOf(L.toUpperCase());return`**${O!==-1?A[O]:L}:** ${$[L]}
`}).join(`
`):n})})]})]})},zD=De("ArrowUndo20Regular","20",["M5 2.5a.5.5 0 0 0-1 0v4.9c0 .33.27.6.6.6h4.9a.5.5 0 0 0 0-1H5.9l3.48-3.02a4 4 0 0 1 5.25 6.04l-8.17 7.1a.5.5 0 0 0 .65.76l8.17-7.1a5 5 0 0 0-6.56-7.55L5 6.46V2.5Z"],{flipInRtl:!0}),_7t=Fr({container:{display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start",gap:"1rem",marginBottom:"1rem"},properties:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",gap:"0.5rem",width:"100%"},editButton:{marginLeft:"0.5rem"},saveButton:{marginTop:"0.3rem"}}),vte=({state:t})=>{const e=_7t(),{isAuthenticated:r,isLoading:n,user:i,nickname:o}=t.auth,[a,s]=Z.useState(),[l,u]=Z.useState(!1),[h,d]=Z.useState(!1),[p,f]=Z.useState(""),[g,m]=Z.useState(""),{t:y}=Zl();Z.useEffect(()=>{t.service.getUserInfo(o).then(s)},[t.service,o]);const v=()=>{f((a==null?void 0:a.name)||(i==null?void 0:i.name)||""),m((a==null?void 0:a.email)||(i==null?void 0:i.email)||""),u(!1),d(!1)},x=async b=>{const k=await t.service.updateUserInfo({nickname:o,name:b.name,email:b.email||""});s(k)};return n?bt.jsx("div",{children:y("Laddar...")}):r&&i&&bt.jsxs("div",{className:e.container,children:[bt.jsx(Iy,{shape:"circular",width:100,src:(a==null?void 0:a.picture)||i.picture,alt:i.name}),bt.jsxs("div",{className:e.properties,children:[bt.jsx("h2",{children:l?bt.jsx(bt.Fragment,{children:bt.jsx(G_,{type:"text",value:p,onChange:b=>{f(b.target.value)},contentAfter:bt.jsx(Nl,{icon:bt.jsx(zD,{}),size:"small",onClick:v})})}):bt.jsxs(bt.Fragment,{children:[(a==null?void 0:a.name)||i.name,bt.jsx(Nl,{className:e.editButton,icon:bt.jsx(kZ,{}),size:"small",onClick:()=>{u(!0),f((a==null?void 0:a.name)||(i==null?void 0:i.name)||"")}})]})}),bt.jsxs(F4,{children:[bt.jsx(bt.Fragment,h?{children:bt.jsx(G_,{type:"text",value:g,onChange:b=>{m(b.target.value)},contentAfter:bt.jsx(Nl,{icon:bt.jsx(zD,{}),size:"small",onClick:v})})}:{children:(a==null?void 0:a.email)||i.email}),(l||h)&&bt.jsx("div",{children:bt.jsx(Nl,{className:e.saveButton,appearance:"primary",size:"small",onClick:()=>{u(!1),d(!1),x({...a,name:p,email:g})},children:"Spara"})})]})]})]})};Fr({footer:{...Hi.padding("14px"),backgroundColor:Qt("APP_HEADER_COLOR")||kr.colorBrandBackground,color:Qt("APP_HEADER_TEXT_COLOR")||kr.colorNeutralForegroundOnBrand,textAlign:"center",display:"flex",justifyContent:"space-around",alignItems:"center",position:"sticky",bottom:0,zIndex:1e3,paddingBottom:"22px",width:"100%"},container:{display:"flex",justifyContent:"space-around",alignItems:"center",maxWidth:"480px",width:"100%"},button:{color:kr.colorNeutralForegroundOnBrand,height:"24px",width:"24px",...Hi.borderWidth("0")},link:{textDecoration:"none",color:"inherit","&.selected":{border:"none"},"&:hover":{textDecoration:"none"},minWidth:"48px"},buttonText:{fontSize:"12px"}});const S7t=Fr({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundPosition:"calc(50% - 100px) center",backgroundRepeat:"no-repeat",backgroundSize:"contain",gap:"20px",padding:"0 20px"},button:{minWidth:"15rem"}}),bte=({state:t})=>{const{loginWithRedirect:e}=t.auth,r=S7t(),n=mg(),{t:i}=Zl();return bt.jsxs("div",{className:r.container,style:{backgroundImage:`url(${Qt("HOME_BACKGROUND_IMAGE_URL")})`},children:[bt.jsx(HZ,{children:`${i("Välkommen till")} ${Qt("INDEX_TITLE")}!`}),bt.jsx(D0,{size:400,children:i("Logga in, eller registrera ett konto, för att komma igång.")}),bt.jsx(Ba,{className:Ee(n.button,r.button),size:"large",appearance:"primary",onClick:()=>e(),children:i("Logga in")}),!Qt("HIDE_REGISTER_BUTTON")&&bt.jsx(Ba,{className:Ee(n.button,r.button),size:"large",appearance:"primary",onClick:()=>e({authorizationParams:{screen_hint:"signup"}}),children:i("Registrera")})]})},xp=t=>{const e=new CustomEvent("log-event",{detail:{message:t}});window.dispatchEvent(e)};function xte(t){const[e,r]=Z.useState(Mo.getState()),{service:n}=t;Z.useEffect(()=>Mo.subscribe(r),[n]);const i=Z.useCallback(s=>{if(s.trim()==="")return;const l=`$user-msg-${Date.now()}`,u={id:l,sender:"user",content:s},h=e.messages.length>0?e.messages[e.messages.length-1].id:void 0;Mo.addMessage(u),Mo.setBotTyping(!0),xp("chat-send");const d=n.chat(s,h).then(p=>{const{id:f,content:g}=p,m={id:f,sender:"bot",content:g,isNew:!0};Mo.setConversationId(f),Mo.addMessage(m),Mo.setBotTyping(!1),xp("chat-receive"),g.startsWith("Error code: ")&&xp("chat-error: "+g)}).catch(()=>{const p={id:`error-${Date.now()}`,sender:"bot",content:"Ett fel uppstod. Var god försök igen.",isNew:!0};Mo.addMessage(p),Mo.setBotTyping(!1),xp("chat-error")});Mo.addPendingRequest(l,d)},[n,e.messages]),o=Z.useCallback(()=>{Mo.reset(),Mo.clearMessages(),xp("new-chat")},[]),a=Z.useCallback(s=>{Mo.reset(),Mo.clearMessages(),xp("open-chat"),n.getChatHistory(s).then(l=>{l.forEach((u,h)=>{const d={id:u.id,sender:h%2==0?"user":"bot",content:u.content};Mo.addMessage(d)})})},[]);return{messages:e.messages,isBotTyping:e.isBotTyping,handleSend:i,newChat:o,openChat:a}}const A7t=t=>({extractTemplateVariables:e=>Array.from(e.matchAll(/{{([^}]+)}}/gs)).map(r=>({name:r[1].trim(),value:""})),replaceTemplateVariables:(e,r)=>{let n=e;return r.forEach(i=>{const o=i.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=new RegExp(`{{${o}}}`,"g"),s=i.value.replace(/\n/g,`
`);n=n.replace(a,s)}),n},extractFilePlaceholders:e=>Array.from(e.matchAll(/\[\[(.*?)\]\]/g)).map(r=>({placeholder:r[0],description:r[1].trim()||"file"})),replaceFilePlaceholders:(e,r)=>{let n=e;return r.forEach(({placeholder:i,fileId:o})=>{n=n.replace(i,o?`#file:${o}`:"")}),n},handleSelectFiles:async e=>await Promise.all(Array.from(e).map(r=>{const n=new FormData;return n.append("file",r),t(r.name,n)}))});Fr({chatContainer:{width:"100%",flex:1,maxWidth:"800px",height:"100%",backgroundColor:"#ffffff",display:"flex",flexDirection:"column",margin:"0 auto",overflow:"hidden","@media (max-width: 768px)":{maxWidth:"100%",borderRadius:"0"},"@media (max-width: 480px)":{},backgroundPosition:"calc(50%) center",backgroundRepeat:"no-repeat",backgroundSize:"contain",touchAction:"pan-y",overflowY:"auto",marginBottom:"16px"},chatMessages:{display:"flex",flexDirection:"column",flex:1,padding:"16px",overflowY:"auto",touchAction:"pan-y"},inputArea:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"100%",padding:"0 16px"},promptButtons:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"center",gap:"8px",marginTop:"8px",marginLeft:"6px",marginRight:"2px",marginBottom:"12px"},answerArea:{width:"100%",marginLeft:"12px",marginRight:"12px",backgroundColor:Qt("CHAT_BOT_BACKGROUND_COLOR")||kr.colorBrandBackground2,padding:"12px",borderRadius:"16px",marginBottom:"24px"},title:{marginLeft:"12px",padding:"16px"}});Fr({container:{position:"relative",height:"100vh",width:"100vw",overflow:"auto"},flashOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",transition:"background-color 0.2s ease-out",pointerEvents:"none",zIndex:3},video:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:1},canvas:{display:"none"},bottomControls:{position:"fixed",bottom:"100px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2,boxSizing:"border-box"},controlContainer:{width:"100%",maxWidth:"600px",position:"relative"},sendButton:{position:"absolute",right:"10px",bottom:"10px",width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#0078d4",color:"white",border:"none",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},topControls:{position:"fixed",top:"20px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:2,padding:"0 10px",boxSizing:"border-box"},backButton:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"transparent",color:"white",border:"none",cursor:"pointer"},input:{padding:"5px",width:"200px",fontSize:"larger",backgroundColor:"#fff8"},bottomButtons:{position:"fixed",bottom:"0px",width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center",zIndex:2,boxSizing:"border-box"},iconButton:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"transparent",color:"white",border:"none",cursor:"pointer"},centerText:{position:"fixed",top:"30%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2,textAlign:"center"}});const C7t=Fr({iframe:{width:"100%",height:"100%",border:"none"},scrollable:{overflow:"auto"},nonScrollable:{overflow:"hidden"},fixFrameHeight:{height:"calc(100% - 5px)"}}),wte=({src:t,showFooter:e,title:r})=>{const n=C7t();return e?bt.jsx(wEt,{hideFooter:!e,hideHeader:!0,children:bt.jsx("iframe",{title:r,src:t,className:`${n.iframe} ${e?n.fixFrameHeight:""}`})}):bt.jsx("iframe",{title:r,src:t,className:n.iframe})},$7t=Fr({imageUpload:{display:"none"},spinner:{marginTop:"10px"}}),kte=Z.forwardRef(({onFileUploaded:t,accept:e,capture:r,multiple:n=!1,onUploading:i,className:o,id:a,codicentService:s},l)=>{const u=$7t(),[h,d]=Z.useState(!1),p=Z.useRef(null);Z.useEffect(()=>{i(h)},[h,i]);const f=async(y,v)=>{const x=new FormData;x.append("file",v),d(!0);try{const b=await s.uploadFile(y,x);return d(!1),b}catch(b){return console.error("Upload failed for file:",y,b),d(!1),null}},g=()=>{var y;(y=p.current)==null||y.click()};Z.useImperativeHandle(l,()=>({triggerUpload:g}));const m=r&&Xkt();return bt.jsx("div",{id:a,className:o,children:h?bt.jsx(e7,{"aria-label":"Uploading...",className:u.spinner}):bt.jsx("input",{ref:p,type:"file",className:u.imageUpload,onChange:async()=>{try{const y=p.current;if(y&&y.files){const v=[];for(let x=0;x<y.files.length;x++){const b=y.files[x],k=b.name.split("\\").pop()||b.name,N=await f(k,b);N&&v.push(N)}v.length>0&&t(v)}}catch(y){console.error("Error uploading files:",y)}},accept:e,multiple:n,...m?{capture:r}:{}})})}),N7t=Fr({container:{display:"flex",padding:"8px",width:"100%",position:"relative"},textareaWrapper:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",maxWidth:"100%"},textarea:{width:"100%",paddingBottom:"40px"},actionButtonRow:{position:"absolute",left:"8px",bottom:"8px",right:"8px",zIndex:1,display:"flex",justifyContent:"space-between"},leftButtonGroup:{display:"flex",gap:"4px"},actionButton:{color:kr.colorNeutralForeground2,"&:hover":{color:kr.colorBrandBackground,backgroundColor:"transparent"}},fileList:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollbarWidth:"thin",msOverflowStyle:"none",padding:"4px",margin:"0 -4px",maxWidth:"100%",boxSizing:"border-box","&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:kr.colorNeutralStroke1,borderRadius:"3px"}}}),Tte=({defaultText:t,onSend:e,onLocationChange:r,hasLocation:n,files:i=[],onFilesChange:o,onUploadFile:a,onUploadImage:s,onUploadCamera:l,getImageUrl:u,isUploading:h,rows:d,size:p,disableSend:f,placeholder:g,onChange:m,onHandleDefaultFiles:y})=>{const[v,x]=Z.useState(""),[b,k]=Z.useState([]),N=N7t(),_=jCt(),{t:S}=Zl();Z.useEffect(()=>{m==null||m(v)},[v,m]),Z.useEffect(()=>{const A=new ua(t||"");x(A.content||""),k(A.tags||[]),A.files.length>0&&(y==null||y(A.files))},[t]);const T=async()=>{if(v.trim()===""&&i.length===0)return void _.notify(S("Meddelandet får inte vara tomt"),"","","error");const A=b.length>0?`#${b.join(" #")} `:"#log ";e(A+v),x("");const C=new ua(t||"");k(C.tags||[]),o==null||o([])};return bt.jsx("div",{className:N.container,children:bt.jsxs("div",{className:N.textareaWrapper,children:[u&&i.length>0&&bt.jsxs("div",{className:N.fileList,children:[i.map(A=>bt.jsx(r7,{file:A,getImageUrl:u,onDelete:()=>{return C=A.id,void(o==null?void 0:o(i.filter(D=>D.id!==C)));var C}},A.id)),h&&bt.jsx(e7,{})]}),bt.jsx(ZC,{size:"large",resize:"vertical",rows:d||7,value:v,onChange:A=>x(A.target.value),placeholder:g||S("Skriv vad du vill spara här..."),onKeyDown:A=>{f!==!0?A.key!=="Enter"||A.shiftKey||(A.preventDefault(),T()):A.key==="Enter"&&A.ctrlKey&&(A.preventDefault(),T())},className:N.textarea}),bt.jsxs("div",{className:N.actionButtonRow,children:[bt.jsxs("div",{className:N.leftButtonGroup,children:[a&&bt.jsx(Ba,{appearance:"transparent",icon:s?"AttachRegular":"AddRegular",size:"small",title:S("Lägg till fil"),onClick:a,className:N.actionButton}),s&&bt.jsx(Ba,{appearance:"transparent",icon:"ImageRegular",size:"small",title:S("Lägg till bild"),onClick:s,className:N.actionButton}),l&&bt.jsx(Ba,{appearance:"transparent",icon:"CameraRegular",size:"small",title:S("Ta kort"),onClick:l,className:N.actionButton}),r&&bt.jsx(Ba,{appearance:"transparent",icon:n?"LocationFilled":"LocationRegular",size:"small",title:S("Spara plats"),onClick:()=>r(!n),className:N.actionButton})]}),bt.jsx(Ba,{appearance:Qt("SHOW_SAVE_BUTTON_TEXT")?"primary":"subtle",onClick:T,icon:"SendFilled",iconPosition:"before",title:S("Spara"),size:p||(Qt("SHOW_SAVE_BUTTON_TEXT")?"small":"large"),children:Qt("SHOW_SAVE_BUTTON_TEXT")&&bt.jsx("span",{children:S("Spara")})})]})]})})},I7t=ZZ(D6t),L7t=({voice:t,disabled:e})=>{const{isConnected:r,connectConversation:n,disconnectConversation:i}=t,{pointer:o}=mg();return e?bt.jsx(wD,{}):r?bt.jsx(I7t,{onClick:i,className:o}):bt.jsx(wD,{onClick:n,className:o})},R7t=ZZ(({isSoundCaptured:t,stopRecording:e})=>{const{pointer:r}=mg();return bt.jsx(t?L6t:R6t,{onClick:e,className:r})}),D7t=({audio:t,disabled:e})=>{const{isRecording:r,isSoundCaptured:n,startRecording:i,stopRecording:o}=t,{pointer:a}=mg();return e?bt.jsx(xD,{}):r?bt.jsx(R7t,{isSoundCaptured:n,stopRecording:o}):bt.jsx(xD,{onClick:()=>i(""),className:a})},O7t=Fr({header:{...Hi.padding("14px"),backgroundColor:Qt("APP_HEADER_COLOR")||kr.colorBrandBackground,color:Qt("APP_HEADER_TEXT_COLOR")||kr.colorNeutralForegroundOnBrand,textAlign:"center",position:"sticky",top:0,zIndex:1e3,alignItems:"center",height:"64px",display:"flex",justifyContent:"space-between"},logo:{height:"40px",shape:"circular"},link:{textDecoration:"none",color:"inherit"},headerItem:{display:"flex",alignItems:"center",gap:"16px"}}),M7t=({imageUrl:t,title:e,audio:r,voice:n})=>{const i=O7t();return bt.jsxs("header",{className:i.header,children:[bt.jsxs("div",{className:i.headerItem,children:[t&&bt.jsx(Iy,{className:i.logo,alt:"Logo",src:t,height:40}),e&&bt.jsx(jZ,{children:e})]}),bt.jsxs("div",{className:i.headerItem,children:[r&&Qt("SHOW_MICROPHONE_BUTTON")&&bt.jsx(D7t,{audio:r,disabled:n==null?void 0:n.isConnected}),n&&Qt("SHOW_VOICE_BUTTON")&&bt.jsx(L7t,{voice:n,disabled:r==null?void 0:r.isRecording}),Qt("SHOW_SETTINGS_BUTTON")&&bt.jsx(uu,{to:"/menu",className:i.link,children:bt.jsx(Dwt,{})})]})]})},B7t=Fr({message:{display:"flex",marginBottom:"16px",webkitUserSelect:"text",userSelect:"text"},user:{justifyContent:"flex-end"},bot:{justifyContent:"flex-start"},messageContent:{maxWidth:"80%",padding:"12px 16px",borderRadius:"16px",fontSize:"1rem",lineHeight:"1.4",whiteSpace:"pre-wrap",wordBreak:"break-word",overflow:"auto"},userMessage:{backgroundColor:Qt("CHAT_USER_BACKGROUND_COLOR")||kr.colorBrandBackground,color:Qt("CHAT_USER_TEXT_COLOR")||kr.colorNeutralForegroundInverted,borderTopRightRadius:"0"},botMessage:{backgroundColor:Qt("CHAT_BOT_BACKGROUND_COLOR")||kr.colorBrandBackground2,color:Qt("CHAT_BOT_TEXT_COLOR")||kr.colorNeutralForeground1,borderTopLeftRadius:"0"},newMessage:{animation:"$fadeIn 0.5s ease-in-out"}}),Ete=({sender:t,content:e,isNew:r,children:n})=>{const i=B7t(),{t:o}=Zl(),a=new ua(e),s=t==="user"?a.content.split("---")[0]:a.content,l=a.content.startsWith("Error code: ")?o("Ett fel uppstod 😟 => starta en ny chatt"):null;return bt.jsx("div",{className:Ee(i.message,t==="user"?i.user:i.bot),children:bt.jsxs("div",{className:Ee(i.messageContent,t==="user"?i.userMessage:i.botMessage,r&&i.newMessage),children:[bt.jsxs(F4,{size:400,children:[l,!l&&bt.jsx(H_,{content:s}),a.files.length>0&&bt.jsx(wwt,{})]}),n]})})},P7t=Fr({container:{display:"flex",flexDirection:"column",...Hi.gap("12px")},section:{display:"flex",flexDirection:"column",...Hi.gap("8px")},field:{display:"flex",flexDirection:"column",...Hi.gap("4px")},fileItem:{display:"flex",alignItems:"center",...Hi.gap("8px")},label:{fontWeight:kr.fontWeightSemibold},textarea:{minHeight:"100px",resize:"vertical"},dialogSurface:{backgroundColor:kr.colorNeutralBackground1,boxShadow:kr.shadow16},dialogBody:{backgroundColor:"transparent"}}),F7t=({open:t,templateVariables:e,filePlaceholders:r,onTemplateVariablesChange:n,onFilePlaceholdersChange:i,onConfirm:o,onCancel:a,uploadFile:s})=>{const l=P7t(),{t:u}=Zl();return bt.jsxs(VZ,{open:t,children:[bt.jsx(KZ,{children:u("Fyll i information")}),bt.jsx(XZ,{children:bt.jsxs("div",{className:l.container,children:[e.length>0&&bt.jsx("div",{className:l.section,children:e.map((h,d)=>bt.jsxs("div",{className:l.field,children:[bt.jsx(Dkt,{className:l.label,children:h.name}),bt.jsx(ZC,{className:l.textarea,value:h.value,onChange:p=>{const f=[...e];f[d].value=p.target.value,n(f)}})]},d))}),r.length>0&&bt.jsx("div",{className:l.section,children:r.map((h,d)=>bt.jsxs("div",{className:l.fileItem,children:[bt.jsx(D0,{weight:"semibold",children:h.description}),bt.jsx(Ba,{appearance:"primary",onClick:()=>(async p=>{const f=document.createElement("input");f.type="file";const g=await new Promise(m=>{f.onchange=y=>m(y.target.files),f.click()});if(g&&g.length>0){const m=g[0],y=new FormData;y.append("file",m);const v=await s(m.name,y),x=[...r];x[p].fileId=v,i(x)}})(d),children:h.fileId?u("Fil vald"):u("Välj fil")})]},d))})]})}),bt.jsxs(YZ,{children:[bt.jsx(Ba,{appearance:"secondary",onClick:a,children:u("Avbryt")}),bt.jsx(Ba,{appearance:"primary",onClick:o,children:u("OK")})]})]})},z7t=Fr({inputContainer:{display:"flex",flexDirection:"column",padding:"8px",width:"100%",position:"relative",gap:"8px"},textareaWrapper:{position:"relative",width:"100%",display:"flex",flexDirection:"column"},actionButtonRow:{position:"absolute",left:"8px",bottom:"8px",right:"8px",zIndex:1,display:"flex",justifyContent:"space-between",alignItems:"center"},fileList:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollbarWidth:"thin",msOverflowStyle:"none",padding:"4px 0",maxWidth:"100%",boxSizing:"border-box",gap:"4px",minHeight:"72px",backgroundColor:kr.colorNeutralBackground2,borderRadius:kr.borderRadiusMedium,"&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:kr.colorNeutralStroke1,borderRadius:"3px"}},hiddenInput:{display:"none"},button:{color:kr.colorNeutralForeground2,"&:hover":{color:kr.colorBrandBackground,backgroundColor:"transparent"}}}),_te=({onSend:t,disableSend:e,onSelectFiles:r,getImageUrl:n,getFileInfo:i,codicent:o,defaultText:a,rows:s,noMemory:l,selectAll:u})=>{const h=z7t(),[d,p]=W_("chatInput-"+o,""),f=Z.useRef(null),[g,m]=Z.useState([]),[y,v]=Z.useState([]),[x,b]=Z.useState(!1),[k,N]=Z.useState([]),{t:_}=Zl(),S=mg();Z.useEffect(()=>{a&&p(a)},[p,a]),Z.useEffect(()=>{l===!0&&p("")},[l,p]);const T=()=>{if(d.trim()===""&&k.length===0)return;const A=g.length>0?" #"+g.join(" #"):"",C=y.length>0?`
#file:`+y.join(`
#file:`):"";t(A+d+C),p(""),m([]),v([]),N([])};return bt.jsxs("div",{className:h.inputContainer,children:[bt.jsx("input",{title:_("Välj fil att ladda upp"),type:"file",ref:f,className:h.hiddenInput,onChange:async A=>{const C=A.target.files;if(C&&C.length>0&&r){b(!0);try{const D=await r(C),E=await Promise.all(D.map($=>i($)));v($=>[...$,...D]),N($=>[...$,...E])}catch(D){console.error("Failed to upload files",D)}finally{b(!1),f.current&&(f.current.value="")}}},multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),k.length>0&&bt.jsx("div",{className:h.fileList,children:k.map(A=>bt.jsx(r7,{file:A,getImageUrl:n,onDelete:()=>{return C=A.id,v(D=>D.filter(E=>E!==C)),void N(D=>D.filter(E=>E.id!==C));var C}},A.id))}),bt.jsxs("div",{className:h.textareaWrapper,onPaste:async A=>{for(const C of A.clipboardData.items)if(C.type.indexOf("image")!==-1){const D=C.getAsFile();if(D&&(A.preventDefault(),r))try{b(!0);const E=new DataTransfer;E.items.add(D);const $=await r(E.files),I=await Promise.all($.map(L=>i(L)));v(L=>[...L,...$]),N(L=>[...L,...I])}catch(E){console.error("Failed to upload pasted image",E)}finally{b(!1)}}},children:[bt.jsx(ZC,{size:"large",placeholder:_(Qt("APP_CHAT_TEXT_PLACEHOLDER")||"Skriv ditt meddelande här..."),value:d,onChange:A=>p(A.target.value),onKeyDown:A=>{e||A.key!=="Enter"||A.shiftKey||(A.preventDefault(),T())},autoFocus:!1,rows:s||4,onFocus:A=>{u===!0&&A.target.select()}}),bt.jsxs("div",{className:h.actionButtonRow,children:[bt.jsx("div",{children:r&&bt.jsx(Nl,{appearance:"subtle",size:"small",title:_("Lägg till fil"),icon:bt.jsx(x?t7:LZ,{}),onClick:()=>{var A;return(A=f.current)==null?void 0:A.click()},className:h.button})}),bt.jsx(Nl,{appearance:Qt("SHOW_SEND_BUTTON_TEXT")?"primary":"subtle",size:Qt("SHOW_SEND_BUTTON_TEXT")?"small":"large",title:_("Skicka"),disabled:e,icon:d.trim()===""&&k.length===0?bt.jsx(Mwt,{}):bt.jsx(IZ,{}),onClick:T,className:Qt("SEND_BUTTON_ROUND_BACKGROUND")?Ee(S.roundButton,h.button):Qt("SHOW_SEND_BUTTON_TEXT")?void 0:h.button,children:Qt("SHOW_SEND_BUTTON_TEXT")&&bt.jsx("span",{children:_("Skicka")})})]})]})]})},j7t=Fr({typingContainer:{display:"flex",gap:"8px"}}),Ste=()=>{const t=j7t(),{t:e}=Zl();return bt.jsxs("div",{className:t.typingContainer,children:[bt.jsx(e7,{size:"extra-small"}),bt.jsx(D0,{size:400,children:e("Tänker...")})]})},H7t=Fr({header:{...Hi.padding("16px"),textAlign:"start",position:"sticky",top:0,zIndex:1e3,alignItems:"center",justifyContent:"space-between",width:"100%",display:"flex"}}),U7t=({title:t,onNewChat:e,subtitle:r})=>{const n=H7t(),i=mg(),{t:o}=Zl();return bt.jsxs("header",{className:n.header,children:[t&&bt.jsx(HZ,{children:t}),r&&bt.jsx(D0,{size:300,weight:"regular",children:r}),e&&bt.jsx(Ba,{className:i.button,appearance:"primary",title:o("Ny chatt"),icon:"ArrowClockwiseRegular",onClick:e})]})},Ate=({open:t,onYes:e,onNo:r,title:n,content:i})=>bt.jsxs(VZ,{open:t,children:[bt.jsx(KZ,{children:n}),bt.jsx(XZ,{children:i}),bt.jsxs(YZ,{children:[bt.jsx(Ba,{appearance:"secondary",onClick:r,children:"Nej"}),bt.jsx(Ba,{type:"submit",appearance:"primary",onClick:e,children:"Ja"})]})]}),Cte=({service:t,children:e})=>{const[r,n]=Z.useState(!1),[i,o]=Z.useState([]),[a,s]=Z.useState([]),[l,u]=Z.useState(null),{extractTemplateVariables:h,extractFilePlaceholders:d,replaceTemplateVariables:p,replaceFilePlaceholders:f}=A7t(t.uploadFile);return bt.jsxs(bt.Fragment,{children:[e(async g=>{u(g);const m=d(g),y=h(g);m.length!==0||y.length!==0?(s(m),o(y),n(!0)):window.location.href=g}),bt.jsx(F7t,{open:r,templateVariables:i,filePlaceholders:a,onTemplateVariablesChange:o,onFilePlaceholdersChange:s,onConfirm:async()=>{if(l)try{let g=l;a.length>0&&(a.filter(m=>m.fileId).length!==a.length&&console.warn("Some file placeholders are missing fileIds:",a.filter(m=>!m.fileId).map(m=>m.description)),g=f(g,a)),i.length>0&&(g=p(g,i)),n(!1),window.location.href=g}catch(g){console.error("Failed to process URL:",g)}finally{u(null)}},onCancel:()=>{n(!1),u(null),o([]),s([])},uploadFile:t.uploadFile})]})},q7t=t=>{const{isAuthenticated:e,getAccessTokenSilently:r,user:n,isLoading:i,logout:o,getAccessTokenWithPopup:a,loginWithRedirect:s}=t,[l,u]=Z.useState(null),[h,d]=Z.useState(void 0),[p,f]=Z.useState(null),[g,m]=Z.useState(""),y=Z.useMemo(()=>new Cl({API_BASE_URL:Qt("API_BASE_URL"),APP_LOG_CODICENT:Qt("APP_LOG_CODICENT"),APP_LOG_TOKEN:Qt("APP_LOG_TOKEN"),APP_NAME:Qt("APP_NAME"),APP_PREFIX:Qt("APP_PREFIX"),APP_TEMPLATE:Qt("APP_TEMPLATE"),BUTTON_TAG:Qt("BUTTON_TAG"),STRIPE_PUBLIC_KEY:Qt("STRIPE_PUBLIC_KEY"),SUBSCRIPTION_NEEDED:Qt("SUBSCRIPTION_NEEDED"),USER_PREFIX:Qt("USER_PREFIX"),ANONYMOUS_TOKEN:Qt("ANONYMOUS_TOKEN")}),[]);Z.useEffect(()=>{i||(async()=>{var x;try{const b=await r({});console.debug("CODICENT: ACCESS TOKEN",b),u(b)}catch(b){console.debug("CODICENT: Failed to get access token",b);const k=b;if(k&&typeof k=="object"&&"error"in k&&k.error==="login_required")console.warn("CODICENT: Login required"),v();else if(k&&typeof k=="object"&&"error"in k&&k.error==="consent_required")try{const N=await a();if(!N)return void f("Failed to get access token: no token from auth0 with popup");console.log("CODICENT: GOT ACCESS TOKEN"),u(N)}catch(N){console.warn("CODICENT: Failed to get access token with popup",N),v()}else f("Failed to get access token: "+(((x=k.message)==null?void 0:x.toString())||k.toString())),console.log("CODICENT: ACCESS TOKEN ERROR",k)}})().then(()=>{})},[e,a,r,s,i]),Z.useEffect(()=>{if(n&&n.sub&&l&&h===void 0){let x=!0;return y.loginUser(n.sub,l).then(b=>{x&&(b===null?d(!1):b===""?f("Kontrollera internetanslutningen och försök igen."):(y.setToken(l),y.getNickname().then(m),d(!0)))}).catch(()=>{x&&(f("Ett fel uppstod. Försök igen senare."),d(!1))}),()=>{x=!1}}},[n,l,h,y]);const v=()=>{y.logout(),u(null),f(null),d(void 0),m(""),o({logoutParams:{returnTo:Qt("AUTH_REDIRECT_URL")}})};return{isAuthenticated:e,isRegistered:h,accessToken:l,authError:p,isLoading:i,user:n,nickname:g,logout:v,registerUser:async x=>{const b=await y.registerUser(x,n.email,n.sub,l);return b&&(y.setToken(l),d(!0)),b},codicentService:y,loginWithRedirect:s}},$te=t=>{const[e,r]=W_("APP_WELCOME_STATE_TEXT_"+t.context.selectedApp,""),[n,i]=W_("CODICENT_STATE_LAST_TIMESTAMP_"+t.context.selectedApp,0),{service:o,current:a}=t,[s,l]=Z.useState(!1),u=Z.useRef(!1),h=Z.useCallback(async()=>{if(!u.current){u.current=!0;try{const p=await o.getMessagesFast(Qt("LOGBOOK_TAGS").split(",").filter(g=>g!=="chat")),f=p.length>0?p[0].createdAt.getTime():n;if(f>n){i(f),l(!0);const g=await o.chat(Qt("WELCOME_STATUS_PROMPT"));r(g.content)}}finally{l(!1),u.current=!1}}},[o,n,i,r]),d=Z.useCallback(()=>{o&&Qt("CHAT_INSTRUCTIONS")&&o.updateChatInstructions(Qt("CHAT_INSTRUCTIONS")).catch(console.warn)},[o]);return Z.useEffect(()=>{a===t.allStates.hasAccess&&Qt("WELCOME_STATUS_PROMPT")?(h(),d()):Qt("WELCOME_STATUS_PROMPT")||r("")},[a,t,h,d,r]),{welcomeStatusText:e,updating:s}},G7t=t=>{const[e,r]=Z.useState({isRecording:!1,isPaused:!1,recordingTime:0,mediaURL:null,isSoundCaptured:!1,error:null}),n=Z.useRef(!1),i=Z.useRef(null),o=Z.useRef([]),a=Z.useRef(),s=Z.useRef(null),l=Z.useRef(""),u=Z.useCallback(async g=>{l.current=g;try{const m=await navigator.mediaDevices.getUserMedia({audio:!0});o.current=[],i.current=new MediaRecorder(m,{mimeType:f()}),i.current.ondataavailable=N=>{N.data.size>0&&o.current.push(N.data)},i.current.onstop=()=>{const N=new Blob(o.current,{type:f()}),_=URL.createObjectURL(N);r(S=>({...S,mediaURL:_})),m.getTracks().forEach(S=>S.stop())};const y=new(window.AudioContext||window.webkitAudioContext),v=y.createMediaStreamSource(m),x=y.createAnalyser();x.fftSize=256;const b=new Uint8Array(x.frequencyBinCount);v.connect(x);const k=()=>{x.getByteFrequencyData(b);const N=b.reduce((_,S)=>_+S)/b.length>10;N!==n.current&&(n.current=N,r(_=>({..._,isSoundCaptured:N})))};s.current=setInterval(k,100),i.current.start(10),a.current=setInterval(()=>{r(N=>({...N,recordingTime:N.recordingTime+1}))},1e3),r(N=>({...N,isRecording:!0,isPaused:!1}))}catch(m){const y=m instanceof Error?m.message:String(m);r(v=>({...v,error:y})),console.error("Error accessing microphone:",m)}},[]),h=Z.useCallback(()=>{i.current&&e.isRecording&&(i.current.stop(),i.current.stream.getTracks().forEach(g=>g.stop()),a.current&&clearInterval(a.current),s.current&&(clearInterval(s.current),s.current=null),r(g=>({...g,isRecording:!1,isPaused:!1,isSoundCaptured:!1})))},[e.isRecording]),d=Z.useCallback(()=>{var g;((g=i.current)==null?void 0:g.state)==="recording"&&(i.current.pause(),a.current&&clearInterval(a.current),r(m=>({...m,isPaused:!0})))},[]),p=Z.useCallback(()=>{var g;((g=i.current)==null?void 0:g.state)==="paused"&&(i.current.resume(),a.current=setInterval(()=>{r(m=>({...m,recordingTime:m.recordingTime+1}))},1e3),r(m=>({...m,isPaused:!1})))},[]),f=()=>["audio/webm","audio/mp4","audio/ogg","audio/wav"].find(g=>MediaRecorder.isTypeSupported(g))||"audio/webm";return Z.useEffect(()=>{if(e.mediaURL){const g=`audio.${f().split("/")[1]}`;fetch(e.mediaURL).then(m=>m.blob()).then(m=>{const y=new FormData;y.append("file",m,g),t(y,l.current)})}},[e.mediaURL,t]),Z.useEffect(()=>()=>{i.current&&i.current.stream.getTracks().forEach(g=>g.stop()),a.current&&clearInterval(a.current),s.current&&clearInterval(s.current)},[]),{...e,startRecording:u,stopRecording:h,pauseRecording:d,resumeRecording:p}},W7t=(t,e=o=>{console.log(o)},r=o=>{console.log(o)},n,i)=>Z.useMemo(()=>{const o=[],a=(l,u)=>{o.push({definition:l,handler:u})},s=async()=>{const l=Qt("APP_CONFIG"),u=Qt("APP_BUTTONS");return[...u&&l.apps[u]?l.apps[u].tasks:[],...await t.getAppTasks()]};return a({name:"inject_script",description:"Injects a script into the html/canvas view.",parameters:{type:"object",properties:{script:{type:"string",description:"The script to inject"}},required:["script"]}},async({script:l})=>(console.log("TOOL: inject_script",l),r(l),{ok:!0})),a({name:"post_codicent_message",description:"Posts a message to Codicent, only when requested by the user.",parameters:{type:"object",properties:{content:{type:"string",description:'The codicent message text, e.g. "remember to call Linda"'},parent_id:{type:"string",description:'The parent message id of a previous message that you will add a new revision to, by setting parent_id to the origin message being "edited"'}},required:["content"]}},async({content:l,parent_id:u})=>await t.sendMessage(l,u)),a({name:"update_codicent_message",description:"Posts an edited message, which replaces the old message.",parameters:{type:"object",properties:{content:{type:"string",description:'The updated codicent message text, e.g. "remember to call Johan", usually including the tags from the original message.'},parent_id:{type:"string",description:"The message id of a previous/old message to be updated."}},required:["content","parent_id"]}},async({content:l,parent_id:u})=>await t.sendMessage(l,u)),a({name:"get_messages_list",description:"Gets messages tagged with given tag name, optionally limited by num_messages. The messages are listed in chronological order, latest first.",parameters:{type:"object",properties:{num_messages:{type:"integer",description:"The number of matching messages to return"},search_text:{type:"string",description:"Search text to filter messages by"},tag_name:{type:"string",description:"Name of tag to find messages by"},after_timestamp:{type:"string",description:"Only return messages after this timestamp"},before_timestamp:{type:"string",description:"Only return messages before this timestamp"}},required:["num_messages"]}},async({num_messages:l,search_text:u,tag_name:h,after_timestamp:d,before_timestamp:p})=>{let f=await t.getMessages(h?[h]:[]);return u&&(f=f.filter(g=>g.content.includes(u))),d&&(f=f.filter(g=>g.createdAt>d)),p&&(f=f.filter(g=>g.createdAt<p)),f.slice(0,l)}),a({name:"chat_with_codicent_ai",description:"Sends a message to Codicent AI and gets a response message back. Remember that you can always ask codicent via this tool to find out more about what you can achieve from chatting with the codicent AI.",parameters:{type:"object",properties:{message:{type:"string",description:"Text of message to the codicent"}},required:["message"]}},async({message:l})=>await t.chat(l)),a({name:"create_todo",description:"Saves a todo message in Codicent.",parameters:{type:"object",properties:{text:{type:"string",description:"Text of todo"}},required:["text"]}},async({text:l})=>await t.sendMessage("#todo "+l)),a({name:"place_order",description:"Places and order with the Codicent AI.",parameters:{type:"object",properties:{message:{type:"string",description:"The text message of the order as spoken by the user."}},required:["message"]}},async({message:l})=>await t.sendMessage(`#do Jag kommer ge dig en text (nedan) på vad jag ska beställa. Använd bara den text du får av mig, inga tools.
    Du ska skapa en tabell med detaljerad information inklusive lagerstatus 
    för varje artikel i beställningen. Svara först när du har all info på plats. Ställ inga frågor på vägen utan använd det du får av mig.
    
    ----
    EXEMPEL PÅ SVAR:
    ----
    Här är en tabell med detaljerad information inklusive lagerstatus för varje artikel i beställningen:
    
    Artikel	Hyresobjekt	Namn	Lagertyp	Grupp	Namn.1	SRA/SBEF	Leverantör	Levnr	Depå	Lager	Reserverat	Uthyrt nu	Tillgängligt nu	Märke/typ	Tillverkarnr	Tillv.år	Inköpsdato	Inköpspris	Vikt
    Elverk	12345	Elverk 1	Hyresobjekt	Maskiner	Elverk	SRA	Leverantör A	001	Depå 1	5	0	1	4	Honda EU22i	123456	2020	2020-01-01	10000 SEK	21 kg
    Elverk	12345	Elverk 2	Hyresobjekt	Maskiner	Elverk	SRA	Leverantör B	002	Depå 2	3	0	1	2	Yamaha EF2000iS	654321	2019	2019-05-01	9000 SEK	20 kg
    Observera att denna tabell är baserad på den information som finns tillgänglig i lagerstatusen. Om du behöver ytterligare detaljer eller om något specifikt saknas, vänligen meddela mig.
    ----
    
    --- här följer texten på vad jag vill beställa ---
    
    
    ${l}`)),a({name:"remember_info",description:"Saves info in your internal memory for future use. Use this tool to save insights on how to perform our conversations and tasks related to them.",parameters:{type:"object",properties:{message:{type:"string",description:"Your insights to improve our future conversations."}},required:["message"]}},async({message:l})=>await t.sendMessage(`#index #insights

${l}`)),a({name:"save_to_crm",description:"Saves CRM related info to your memory (logbook).",parameters:{type:"object",properties:{message:{type:"string",description:"CRM log entry description/contents."},company:{type:"string",description:"Company name for CRM log entry."},contact:{type:"string",description:"Contact name for CRM log entry."}},required:["message","company"]}},async({message:l,company:u,contact:h})=>await t.sendMessage(`#crm

Företag: ${u}

Info: ${l}${h?`

Kontakt: `+h:""}`)),a({name:"set_page_html",description:"Sets the innerHtml of the div covering the full app page. You can display any html/javascript/style/mermaid content here for the user to see ;-). This view is usually referred to as the canvas, or tavlan in Swedish.",parameters:{type:"object",properties:{html:{type:"string",description:"The inner html to set the page to."}},required:["html"]}},async({html:l})=>(e(l),n.play(),{ok:!0})),a({name:"hide_page_html",description:"Hides the inner html of the page.",parameters:{type:"object",properties:{}}},async()=>(e(void 0),{ok:!0})),a({name:"get_page_html",description:"Gets the inner html of the page.",parameters:{type:"object",properties:{}}},async()=>({html:i})),a({name:"get_tasks",description:"Gets the list of possible tasks that can be performed. This lists task names and their id:s. Use get_task to get the task instructions given a task id.",parameters:{type:"object",properties:{},required:[]}},async l=>(await s()).map(u=>({id:u.id,name:u.title}))),a({name:"get_task",description:"Gets the task instructions for a given task id. Use get_tasks to get a list of possible tasks (with their id:s).",parameters:{type:"object",properties:{task_id:{type:"string",description:"The task id to get instructions for."}},required:["task_id"]}},async({task_id:l})=>{const u=(await s()).find(h=>h.id===l);return u?u.content:"Task not found"}),o},[t,e,r,i,n]),V7t=t=>new Promise(e=>setTimeout(()=>e(),t));let LJ=class{constructor(){this.eventHandlers={},this.nextEventHandlers={}}clearEventHandlers(){return this.eventHandlers={},this.nextEventHandlers={},!0}on(e,r){return this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(r),r}onNext(e,r){return this.nextEventHandlers[e]=this.nextEventHandlers[e]||[],this.nextEventHandlers[e].push(r),r}off(e,r){const n=this.eventHandlers[e]||[];if(r){const i=n.indexOf(r);if(i===-1)throw new Error(`Could not turn off specified event listener for "${e}": not found as a listener`);n.splice(i,1)}else delete this.eventHandlers[e];return!0}offNext(e,r){const n=this.nextEventHandlers[e]||[];if(r){const i=n.indexOf(r);if(i===-1)throw new Error(`Could not turn off specified next event listener for "${e}": not found as a listener`);n.splice(i,1)}else delete this.nextEventHandlers[e];return!0}async waitForNext(e,r=null){const n=Date.now();let i;for(this.onNext(e,o=>i=o);!i;){if(r&&Date.now()-n>r)return null;await V7t(1)}return i}dispatch(e,r){const n=[].concat(this.eventHandlers[e]||[]);for(const o of n)o(r);const i=[].concat(this.nextEventHandlers[e]||[]);for(const o of i)o(r);return delete this.nextEventHandlers[e],!0}};const Y7t=globalThis.atob,X7t=globalThis.btoa;let xf=class{static floatTo16BitPCM(e){const r=new ArrayBuffer(2*e.length),n=new DataView(r);let i=0;for(let o=0;o<e.length;o++,i+=2){let a=Math.max(-1,Math.min(1,e[o]));n.setInt16(i,a<0?32768*a:32767*a,!0)}return r}static base64ToArrayBuffer(e){const r=Y7t(e),n=r.length,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=r.charCodeAt(o);return i.buffer}static arrayBufferToBase64(e){e instanceof Float32Array?e=this.floatTo16BitPCM(e):e instanceof Int16Array&&(e=e.buffer);let r="",n=new Uint8Array(e);for(let i=0;i<n.length;i+=32768){let o=n.subarray(i,i+32768);r+=String.fromCharCode.apply(null,o)}return X7t(r)}static mergeInt16Arrays(e,r){if(e instanceof ArrayBuffer&&(e=new Int16Array(e)),r instanceof ArrayBuffer&&(r=new Int16Array(r)),!(e instanceof Int16Array&&r instanceof Int16Array))throw new Error("Both items must be Int16Array");const n=new Int16Array(e.length+r.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<r.length;i++)n[e.length+i]=r[i];return n}static generateId(e,r=21){const n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return`${e}${Array(r-e.length).fill(0).map(i=>n[Math.floor(58*Math.random())]).join("")}`}},K7t=class extends LJ{constructor({url:e,apiKey:r,dangerouslyAllowAPIKeyInBrowser:n,debug:i}={}){if(super(),this.defaultUrl="wss://api.openai.com/v1/realtime",this.url=e||this.defaultUrl,this.apiKey=r||null,this.debug=!!i,this.ws=null,globalThis.document&&this.apiKey&&!n)throw new Error('Can not provide API key in the browser without "dangerouslyAllowAPIKeyInBrowser" set to true')}isConnected(){return!!this.ws}log(...e){const r=[`[Websocket/${new Date().toISOString()}]`].concat(e).map(n=>typeof n=="object"&&n!==null?JSON.stringify(n,null,2):n);return this.debug&&console.log(...r),!0}async connect({model:e}={model:"gpt-4o-realtime-preview-2024-10-01"}){if(this.apiKey||this.url!==this.defaultUrl||console.warn(`No apiKey provided for connection to "${this.url}"`),this.isConnected())throw new Error("Already connected");if(globalThis.WebSocket){globalThis.document&&this.apiKey&&console.warn("Warning: Connecting using API key in the browser, this is not recommended");const r=new globalThis.WebSocket(`${this.url}`,["realtime",`websocket.api_key.${this.apiKey}`]);return r.addEventListener("message",n=>{const i=JSON.parse(n.data);this.receive(i.type,i)}),new Promise((n,i)=>{const o=()=>{this.disconnect(r),i(new Error(`Could not connect to "${this.url}"`))};r.addEventListener("error",o),r.addEventListener("open",()=>{this.log(`Connected to "${this.url}"`),r.removeEventListener("error",o),r.addEventListener("error",()=>{this.disconnect(r),this.log(`Error, disconnected from "${this.url}"`),this.dispatch("close",{error:!0})}),r.addEventListener("close",()=>{this.disconnect(r),this.log(`Disconnected from "${this.url}"`),this.dispatch("close",{error:!1})}),this.ws=r,n(!0)})})}{const r="ws",n=new(await import(r)).default(`${this.url||"wss://api.openai.com/v1/realtime"}${e?`?model=${e}`:""}`,[],{finishRequest:i=>{i.setHeader("Authorization",`Bearer ${this.apiKey}`),i.setHeader("OpenAI-Beta","realtime=v1"),i.setHeader("api-key",this.apiKey),i.end()}});return n.on("message",i=>{const o=JSON.parse(i.toString());this.receive(o.type,o)}),new Promise((i,o)=>{const a=()=>{this.disconnect(n),o(new Error(`Could not connect to "${this.url}"`))};n.on("error",a),n.on("open",()=>{this.log(`Connected to "${this.url}"`),n.removeListener("error",a),n.on("error",()=>{this.disconnect(n),this.log(`Error, disconnected from "${this.url}"`),this.dispatch("close",{error:!0})}),n.on("close",()=>{this.disconnect(n),this.log(`Disconnected from "${this.url}"`),this.dispatch("close",{error:!1})}),this.ws=n,i(!0)})})}}disconnect(e){if(!e||this.ws===e)return this.ws&&this.ws.close(),this.ws=null,!0}receive(e,r){return this.log("received:",e,r),this.dispatch(`server.${e}`,r),this.dispatch("server.*",r),!0}send(e,r){if(!this.isConnected())throw new Error("RealtimeAPI is not connected");if(typeof(r=r||{})!="object")throw new Error("data must be an object");const n={event_id:xf.generateId("evt_"),type:e,...r};return this.dispatch(`client.${e}`,n),this.dispatch("client.*",n),this.log("sent:",e,n),this.ws.send(JSON.stringify(n)),!0}},Z7t=class{constructor(){Ar(this,"defaultFrequency",24e3);Ar(this,"EventProcessors",{"conversation.item.created":e=>{const{item:r}=e,n=JSON.parse(JSON.stringify(r));if(this.itemLookup[n.id]||(this.itemLookup[n.id]=n,this.items.push(n)),n.formatted={},n.formatted.audio=new Int16Array(0),n.formatted.text="",n.formatted.transcript="",this.queuedSpeechItems[n.id]&&(n.formatted.audio=this.queuedSpeechItems[n.id].audio,delete this.queuedSpeechItems[n.id]),n.content){const i=n.content.filter(o=>["text","input_text"].includes(o.type));for(const o of i)n.formatted.text+=o.text}return this.queuedTranscriptItems[n.id]&&(n.formatted.transcript=this.queuedTranscriptItems.transcript,delete this.queuedTranscriptItems[n.id]),n.type==="message"?n.role==="user"?(n.status="completed",this.queuedInputAudio&&(n.formatted.audio=this.queuedInputAudio,this.queuedInputAudio=null)):n.status="in_progress":n.type==="function_call"?(n.formatted.tool={type:"function",name:n.name,call_id:n.call_id,arguments:""},n.status="in_progress"):n.type==="function_call_output"&&(n.status="completed",n.formatted.output=n.output),{item:n,delta:null}},"conversation.item.truncated":e=>{const{item_id:r,audio_end_ms:n}=e,i=this.itemLookup[r];if(!i)throw new Error(`item.truncated: Item "${r}" not found`);const o=Math.floor(n*this.defaultFrequency/1e3);return i.formatted.transcript="",i.formatted.audio=i.formatted.audio.slice(0,o),{item:i,delta:null}},"conversation.item.deleted":e=>{const{item_id:r}=e,n=this.itemLookup[r];if(!n)throw new Error(`item.deleted: Item "${r}" not found`);delete this.itemLookup[n.id];const i=this.items.indexOf(n);return i>-1&&this.items.splice(i,1),{item:n,delta:null}},"conversation.item.input_audio_transcription.completed":e=>{const{item_id:r,content_index:n,transcript:i}=e,o=this.itemLookup[r],a=i||" ";return o?(o.content[n].transcript=i,o.formatted.transcript=a,{item:o,delta:{transcript:i}}):(this.queuedTranscriptItems[r]={transcript:a},{item:null,delta:null})},"input_audio_buffer.speech_started":e=>{const{item_id:r,audio_start_ms:n}=e;return this.queuedSpeechItems[r]={audio_start_ms:n},{item:null,delta:null}},"input_audio_buffer.speech_stopped":(e,r)=>{const{item_id:n,audio_end_ms:i}=e;this.queuedSpeechItems[n]||(this.queuedSpeechItems[n]={audio_start_ms:i});const o=this.queuedSpeechItems[n];if(o.audio_end_ms=i,r){const a=Math.floor(o.audio_start_ms*this.defaultFrequency/1e3),s=Math.floor(o.audio_end_ms*this.defaultFrequency/1e3);o.audio=r.slice(a,s)}return{item:null,delta:null}},"response.created":e=>{const{response:r}=e;return this.responseLookup[r.id]||(this.responseLookup[r.id]=r,this.responses.push(r)),{item:null,delta:null}},"response.output_item.added":e=>{const{response_id:r,item:n}=e,i=this.responseLookup[r];if(!i)throw new Error(`response.output_item.added: Response "${r}" not found`);return i.output.push(n.id),{item:null,delta:null}},"response.output_item.done":e=>{const{item:r}=e;if(!r)throw new Error('response.output_item.done: Missing "item"');const n=this.itemLookup[r.id];if(!n)throw new Error(`response.output_item.done: Item "${r.id}" not found`);return n.status=r.status,{item:n,delta:null}},"response.content_part.added":e=>{const{item_id:r,part:n}=e,i=this.itemLookup[r];if(!i)throw new Error(`response.content_part.added: Item "${r}" not found`);return i.content.push(n),{item:i,delta:null}},"response.audio_transcript.delta":e=>{const{item_id:r,content_index:n,delta:i}=e,o=this.itemLookup[r];if(!o)throw new Error(`response.audio_transcript.delta: Item "${r}" not found`);return o.content[n].transcript+=i,o.formatted.transcript+=i,{item:o,delta:{transcript:i}}},"response.audio.delta":e=>{const{item_id:r,content_index:n,delta:i}=e,o=this.itemLookup[r];if(!o)throw new Error(`response.audio.delta: Item "${r}" not found`);const a=xf.base64ToArrayBuffer(i),s=new Int16Array(a);return o.formatted.audio=xf.mergeInt16Arrays(o.formatted.audio,s),{item:o,delta:{audio:s}}},"response.text.delta":e=>{const{item_id:r,content_index:n,delta:i}=e,o=this.itemLookup[r];if(!o)throw new Error(`response.text.delta: Item "${r}" not found`);return o.content[n].text+=i,o.formatted.text+=i,{item:o,delta:{text:i}}},"response.function_call_arguments.delta":e=>{const{item_id:r,delta:n}=e,i=this.itemLookup[r];if(!i)throw new Error(`response.function_call_arguments.delta: Item "${r}" not found`);return i.arguments+=n,i.formatted.tool.arguments+=n,{item:i,delta:{arguments:n}}}});this.clear()}clear(){return this.itemLookup={},this.items=[],this.responseLookup={},this.responses=[],this.queuedSpeechItems={},this.queuedTranscriptItems={},this.queuedInputAudio=null,!0}queueInputAudio(e){return this.queuedInputAudio=e,e}processEvent(e,...r){if(!e.event_id)throw console.error(e),new Error('Missing "event_id" on event');if(!e.type)throw console.error(e),new Error('Missing "type" on event');const n=this.EventProcessors[e.type];if(!n)throw new Error(`Missing conversation event processor for "${e.type}"`);return n.call(this,e,...r)}getItem(e){return this.itemLookup[e]||null}getItems(){return this.items.slice()}},Q7t=class extends LJ{constructor({url:e,apiKey:r,dangerouslyAllowAPIKeyInBrowser:n,debug:i}={}){super(),this.defaultSessionConfig={modalities:["text","audio"],instructions:"",voice:"alloy",input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:null,turn_detection:null,tools:[],tool_choice:"auto",temperature:.8,max_response_output_tokens:4096},this.sessionConfig={},this.transcriptionModels=[{model:"whisper-1"}],this.defaultServerVadConfig={type:"server_vad",threshold:.5,prefix_padding_ms:300,silence_duration_ms:200},this.realtime=new K7t({url:e,apiKey:r,dangerouslyAllowAPIKeyInBrowser:n,debug:i}),this.conversation=new Z7t,this._resetConfig(),this._addAPIEventHandlers()}_resetConfig(){return this.sessionCreated=!1,this.tools={},this.sessionConfig=JSON.parse(JSON.stringify(this.defaultSessionConfig)),this.inputAudioBuffer=new Int16Array(0),!0}_addAPIEventHandlers(){this.realtime.on("client.*",i=>{const o={time:new Date().toISOString(),source:"client",event:i};this.dispatch("realtime.event",o)}),this.realtime.on("server.*",i=>{const o={time:new Date().toISOString(),source:"server",event:i};this.dispatch("realtime.event",o)}),this.realtime.on("server.session.created",()=>this.sessionCreated=!0);const e=(i,...o)=>{const{item:a,delta:s}=this.conversation.processEvent(i,...o);return{item:a,delta:s}},r=(i,...o)=>{const{item:a,delta:s}=e(i,...o);return a&&this.dispatch("conversation.updated",{item:a,delta:s}),{item:a,delta:s}},n=async i=>{try{const o=JSON.parse(i.arguments),a=this.tools[i.name];if(!a)throw new Error(`Tool "${i.name}" has not been added`);const s=await a.handler(o);this.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:i.call_id,output:JSON.stringify(s)}})}catch(o){this.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:i.call_id,output:JSON.stringify({error:o.message})}})}this.createResponse()};return this.realtime.on("server.response.created",e),this.realtime.on("server.response.output_item.added",e),this.realtime.on("server.response.content_part.added",e),this.realtime.on("server.input_audio_buffer.speech_started",i=>{e(i),this.dispatch("conversation.interrupted")}),this.realtime.on("server.input_audio_buffer.speech_stopped",i=>e(i,this.inputAudioBuffer)),this.realtime.on("server.conversation.item.created",i=>{const{item:o}=r(i);this.dispatch("conversation.item.appended",{item:o}),o.status==="completed"&&this.dispatch("conversation.item.completed",{item:o})}),this.realtime.on("server.conversation.item.truncated",r),this.realtime.on("server.conversation.item.deleted",r),this.realtime.on("server.conversation.item.input_audio_transcription.completed",r),this.realtime.on("server.response.audio_transcript.delta",r),this.realtime.on("server.response.audio.delta",r),this.realtime.on("server.response.text.delta",r),this.realtime.on("server.response.function_call_arguments.delta",r),this.realtime.on("server.response.output_item.done",async i=>{const{item:o}=r(i);o.status==="completed"&&this.dispatch("conversation.item.completed",{item:o}),o.formatted.tool&&n(o.formatted.tool)}),!0}isConnected(){return this.realtime.isConnected()}reset(){return this.disconnect(),this.clearEventHandlers(),this.realtime.clearEventHandlers(),this._resetConfig(),this._addAPIEventHandlers(),!0}async connect(){if(this.isConnected())throw new Error("Already connected, use .disconnect() first");return await this.realtime.connect(),this.updateSession(),!0}async waitForSessionCreated(){if(!this.isConnected())throw new Error("Not connected, use .connect() first");for(;!this.sessionCreated;)await new Promise(e=>setTimeout(()=>e(),1));return!0}disconnect(){this.sessionCreated=!1,this.realtime.isConnected()&&this.realtime.disconnect(),this.conversation.clear()}getTurnDetectionType(){var e;return((e=this.sessionConfig.turn_detection)==null?void 0:e.type)||null}addTool(e,r){if(!(e!=null&&e.name))throw new Error("Missing tool name in definition");const n=e==null?void 0:e.name;if(this.tools[n])throw new Error(`Tool "${n}" already added. Please use .removeTool("${n}") before trying to add again.`);if(typeof r!="function")throw new Error(`Tool "${n}" handler must be a function`);return this.tools[n]={definition:e,handler:r},this.updateSession(),this.tools[n]}removeTool(e){if(!this.tools[e])throw new Error(`Tool "${e}" does not exist, can not be removed.`);return delete this.tools[e],!0}deleteItem(e){return this.realtime.send("conversation.item.delete",{item_id:e}),!0}updateSession({modalities:e,instructions:r,voice:n,input_audio_format:i,output_audio_format:o,input_audio_transcription:a,turn_detection:s,tools:l,tool_choice:u,temperature:h,max_response_output_tokens:d}={}){e!==void 0&&(this.sessionConfig.modalities=e),r!==void 0&&(this.sessionConfig.instructions=r),n!==void 0&&(this.sessionConfig.voice=n),i!==void 0&&(this.sessionConfig.input_audio_format=i),o!==void 0&&(this.sessionConfig.output_audio_format=o),a!==void 0&&(this.sessionConfig.input_audio_transcription=a),s!==void 0&&(this.sessionConfig.turn_detection=s),l!==void 0&&(this.sessionConfig.tools=l),u!==void 0&&(this.sessionConfig.tool_choice=u),h!==void 0&&(this.sessionConfig.temperature=h),d!==void 0&&(this.sessionConfig.max_response_output_tokens=d);const p=[].concat((l||[]).map(g=>{const m={type:"function",...g};if(this.tools[m==null?void 0:m.name])throw new Error(`Tool "${m==null?void 0:m.name}" has already been defined`);return m}),Object.keys(this.tools).map(g=>({type:"function",...this.tools[g].definition}))),f={...this.sessionConfig};return f.tools=p,this.realtime.isConnected()&&this.realtime.send("session.update",{session:f}),!0}sendUserMessageContent(e=[]){if(e.length){for(const r of e)r.type==="input_audio"&&(r.audio instanceof ArrayBuffer||r.audio instanceof Int16Array)&&(r.audio=xf.arrayBufferToBase64(r.audio));this.realtime.send("conversation.item.create",{item:{type:"message",role:"user",content:e}})}return this.createResponse(),!0}appendInputAudio(e){return e.byteLength>0&&(this.realtime.send("input_audio_buffer.append",{audio:xf.arrayBufferToBase64(e)}),this.inputAudioBuffer=xf.mergeInt16Arrays(this.inputAudioBuffer,e)),!0}createResponse(){return this.getTurnDetectionType()===null&&this.inputAudioBuffer.byteLength>0&&(this.realtime.send("input_audio_buffer.commit"),this.conversation.queueInputAudio(this.inputAudioBuffer),this.inputAudioBuffer=new Int16Array(0)),this.realtime.send("response.create"),!0}cancelResponse(e,r=0){if(!e)return this.realtime.send("response.cancel"),{item:null};if(e){const n=this.conversation.getItem(e);if(!n)throw new Error(`Could not find item "${e}"`);if(n.type!=="message")throw new Error('Can only cancelResponse messages with type "message"');if(n.role!=="assistant")throw new Error('Can only cancelResponse messages with role "assistant"');this.realtime.send("response.cancel");const i=n.content.findIndex(o=>o.type==="audio");if(i===-1)throw new Error("Could not find audio on item to cancel");return this.realtime.send("conversation.item.truncate",{item_id:e,content_index:i,audio_end_ms:Math.floor(r/this.conversation.defaultFrequency*1e3)}),{item:n}}}async waitForNextItem(){const e=await this.waitForNext("conversation.item.appended"),{item:r}=e;return{item:r}}async waitForNextCompletedItem(){const e=await this.waitForNext("conversation.item.completed"),{item:r}=e;return{item:r}}};const dk=new WeakMap,jD=(t,e,r=!1,n=!1)=>{let i,o,a;if(n&&(o=e.toString(),a=r.toString(),i=dk.has(t)?dk.get(t):{},dk.set(t,i),i[o]=i[o]||{},i[o][a]))return i[o][a];const s=t.length,l=new Array(e);if(e<=s){l.fill(0);const u=new Array(e).fill(0);for(let h=0;h<s;h++){const d=Math.floor(h*(e/s));r?l[d]=Math.max(l[d],Math.abs(t[h])):l[d]+=Math.abs(t[h]),u[d]++}if(!r)for(let h=0;h<l.length;h++)l[h]=l[h]/u[h]}else for(let u=0;u<e;u++){const h=u*(s-1)/(e-1),d=Math.floor(h),p=Math.ceil(h),f=h-d;l[u]=p>=s?t[s-1]:t[d]*(1-f)+t[p]*f}return n&&(i[o][a]=l),l},HD={drawBars:(t,e,r,n,i=0,o=0,a=0,s=!1)=>{(i=Math.floor(Math.min(i,(t.width-a)/(Math.max(o,1)+a))))||(i=Math.floor((t.width-a)/(Math.max(o,1)+a))),o||(o=(t.width-a)/i-a);const l=jD(r,i,!0);for(let u=0;u<i;u++){const h=Math.abs(l[u]),d=Math.max(1,h*t.height),p=a+u*(o+a),f=s?(t.height-d)/2:t.height-d;e.fillStyle=n,e.fillRect(p,f,o,d)}},drawCircularBars:(t,e,r,n,i=0,o=2,a=200)=>{i=i||r.length;const s=jD(r,i,!0),l=t.width/2,u=t.height/2,h=2*Math.PI/i;for(let d=0;d<i;d++){const p=Math.abs(s[d]),f=Math.max(1,p*t.height/2),g=d*h,m=l+a*Math.cos(g),y=u+a*Math.sin(g),v=l+(a+f)*Math.cos(g),x=u+(a+f)*Math.sin(g);e.strokeStyle=n,e.lineWidth=o,e.beginPath(),e.moveTo(m,y),e.lineTo(v,x),e.stroke()}}},J7t=(t,e)=>{if(!Qt("APP_CONFIG"))return void console.warn("APP_CONFIG is not set. Voice AI will not be available.");if(!Qt("APP_BUTTONS"))return void console.warn("APP_BUTTONS is not set. Voice AI will not be available.");const r=Qt("APP_CONFIG"),n=Qt("APP_BUTTONS"),i=Z.useRef(new m_({sampleRate:24e3})),o=Z.useRef(new lX({sampleRate:24e3})),a=Z.useRef(new Q7t({apiKey:t,dangerouslyAllowAPIKeyInBrowser:!0,url:"wss://codicent-ai-sweden.openai.azure.com/openai/realtime?api-version=2024-10-01-preview&deployment=gpt-4o-realtime-preview-2&api-key=9013365c13ee4f3dad0016fb0f0c450a"})),s=Z.useRef(!1),l=Z.useRef(null),u=Z.useRef(null),h=Z.useRef(null),d=Z.useRef(new Date().toISOString()),[p,f]=Z.useState([]),[g,m]=Z.useState([]),[y,v]=Z.useState(!1),[x,b]=Z.useState(!1),[k,N]=Z.useState(!1),[_,S]=Z.useState(0),[T,A]=Z.useState(0),[C,D]=Z.useState(""),[E,$]=Z.useState(()=>n&&r.apps[n]?r.apps[n].voiceInstructions||r.REALTIME_VOICE_INSTRUCTIONS||"":r.REALTIME_VOICE_INSTRUCTIONS||""),I=Z.useCallback(M=>{const F=d.current,P=new Date(F).valueOf(),U=new Date(M).valueOf()-P,W=Math.floor(U/10)%100,Q=Math.floor(U/1e3)%60,K=G=>{let V=G+"";for(;V.length<2;)V="0"+V;return V};return`${K(Math.floor(U/6e4)%60)}:${K(Q)}.${K(W)}`},[]),L=Z.useCallback(async()=>{const M=a.current,F=i.current,P=o.current;d.current=new Date().toISOString(),v(!0),m([]),f(M.conversation.getItems()),R("server_vad"),await F.begin(),await P.connect(),await M.connect(),M.sendUserMessageContent([{type:"input_text",text:"Hello!"}]),M.getTurnDetectionType()==="server_vad"&&await F.record(U=>M.appendInputAudio(U.mono))},[]),O=Z.useCallback(async()=>{v(!1),m([]),f([]);const M=a.current;await i.current.end(),M.disconnect(),await o.current.interrupt()},[]),B=Z.useCallback(async M=>{a.current.deleteItem(M)},[]),R=async M=>{const F=a.current,P=i.current;M==="none"&&P.getStatus()==="recording"&&await P.pause(),F.updateSession({turn_detection:M==="none"?null:{type:"server_vad"}}),M==="server_vad"&&F.isConnected()&&await P.record(U=>F.appendInputAudio(U.mono)),b(M==="none")};return Z.useEffect(()=>{C&&a.current.updateSession({instructions:E.replace("{{name}}",C)})},[E,C]),Z.useEffect(()=>{let M=!0;const F=i.current,P=l.current;let U=null;const W=o.current,Q=u.current;let K=null;const G=()=>{if(M){if(P&&(P.width&&P.height||(P.width=P.offsetWidth,P.height=P.offsetHeight),U=U||P.getContext("2d"),U)){U.clearRect(0,0,P.width,P.height);const V=F.recording?F.getFrequencies("voice"):{values:new Float32Array([0])},rt=1-Math.max(...V.values);S(rt),HD.drawCircularBars(P,U,V.values,"#0099ff",20,0,8)}if(Q&&(Q.width&&Q.height||(Q.width=Q.offsetWidth,Q.height=Q.offsetHeight),K=K||Q.getContext("2d"),K)){K.clearRect(0,0,Q.width,Q.height);const V=W.analyser?W.getFrequencies("voice"):{values:new Float32Array([0])},rt=1-Math.max(...V.values);A(rt),HD.drawCircularBars(Q,K,V.values,"#009900",20,0,8)}window.requestAnimationFrame(G)}};return G(),()=>{M=!1}},[]),Z.useEffect(()=>{e&&E&&(()=>{if(!s.current){s.current=!0;const M=o.current,F=a.current;F.updateSession({instructions:E}),F.updateSession({input_audio_transcription:{model:"whisper-1"}});for(const P of e)F.addTool(P.definition,P.handler);F.on("error",P=>console.error(P)),F.on("conversation.interrupted",async()=>{const P=await M.interrupt();if(P!=null&&P.trackId){const{trackId:U,offset:W}=P;await F.cancelResponse(U,W)}}),F.on("conversation.updated",async({item:P,delta:U})=>{var Q;const W=F.conversation.getItems();if(U!=null&&U.audio&&M.add16BitPCM(U.audio,P.id),P.status==="completed"&&((Q=P.formatted.audio)==null?void 0:Q.length)){const K=await m_.decode(P.formatted.audio,24e3,24e3);P.formatted.file=K}f(W)}),f(F.conversation.getItems())}})()},[e,E]),{items:p,realtimeEvents:g,isConnected:y,canPushToTalk:x,isRecording:k,clientCanvasRef:l,serverCanvasRef:u,eventsScrollRef:h,formatTime:I,connectConversation:L,disconnectConversation:O,deleteConversationItem:B,startRecording:async()=>{N(!0);const M=a.current,F=i.current,P=o.current,U=await P.interrupt();if(U!=null&&U.trackId){const{trackId:W,offset:Q}=U;await M.cancelResponse(W,Q)}await F.record(W=>M.appendInputAudio(W.mono))},stopRecording:async()=>{N(!1);const M=a.current;await i.current.pause(),M.createResponse()},changeTurnEndType:R,recorderLevel:_,streamLevel:T,setUsername:D,updateInstructions:M=>{const F=a.current,P=M.replace("{{name}}",C);F.updateSession({instructions:P}),$(M),console.log(`Voice instructions updated: ${P.substring(0,50)}...`)}}};let t8t=class extends ii.StateMachine{constructor(e,r){super(),this.context={isAuthenticated:void 0,hasAccess:!1,error:null,errorType:void 0,apps:[],hasApps:!1,appsLoaded:!1},this.currentStateName="",this.resetContext(),this.service=e,this.onStateChange=r,this.allStates=this.initializeStateMachine()}resetContext(){this.context={isAuthenticated:!1,isRegistered:void 0,hasValidPurchase:void 0,hasAccess:!1,selectedApp:localStorage.getItem("selectedApp")||void 0,error:null,errorType:void 0,accessToken:void 0,nickname:void 0,apps:[],hasApps:!1,appsLoaded:!1},Qt("APP_PREFIX")&&this.context.selectedApp&&!this.context.selectedApp.startsWith(Qt("APP_PREFIX"))?this.context.selectedApp=void 0:this.context.selectedApp}update(){super.update()}handlePurchase(){window.location.href="./#/purchase"}initializeStateMachine(){const e=new ii.State,r=new ii.State({entering:()=>{this.context.selectedApp&&!this.service.codicent&&(this.service.codicent=this.context.selectedApp)}}),n=new ii.State,i=new ii.State,o=new ii.State({entering:()=>{this.service.findUsername().then(k=>{k?this.service.nicknameExists(k).then(N=>{N?this.updateContext({error:"Användarnamnet finns redan.",errorType:"UsernameExists"}):this.service.registerUser(k,this.context.user.email,this.context.user.sub,this.context.accessToken).then(()=>{this.service.setToken(this.context.accessToken),this.updateContext({nickname:k,isRegistered:!0})}).catch(_=>{console.warn("Failed to register account",_),this.updateContext({error:"Ett fel uppstod vid registrering. Försök igen senare.",errorType:"ErrorRegistering"})})}).catch(N=>{console.warn("Failed to check username",N),this.updateContext({error:"Ett fel uppstod vid kontroll av användarnamn.",errorType:"ErrorCheckingUsername"})}):this.updateContext({error:"Användarnamn kunde inte hittas.",errorType:"NoUsernameFound"})}).catch(k=>{console.warn("Failed to find username",k),this.updateContext({error:"Ett fel uppstod vid sökning av användarnamn.",errorType:"ErrorFindingUsername"})})}}),a=new ii.State,s=new ii.State({entering:()=>{this.checkPurchase()}}),l=new ii.State({entering:()=>{this.handlePurchase()}}),u=new ii.State({entering:()=>{this.getApps()}}),h=new ii.State,d=new ii.State,p=new ii.State({}),f=new ii.State,g=new ii.State({entering:()=>{this.context.nickname&&(localStorage.setItem("nickname",this.context.nickname),this.service.getUserInfo(this.context.nickname).then(k=>{const N=(k==null?void 0:k.name)||(k==null?void 0:k.nickname)||"";this.updateContext({name:N})}).catch(k=>this.updateContext({error:k.toString(),errorType:"ErrorLoadingUser"})))}}),m=new ii.State({entering:()=>{localStorage.removeItem("selectedApp"),localStorage.removeItem("nickname"),localStorage.removeItem("codicent"),sessionStorage.clear(),this.updateContext({isAuthenticated:!1,isRegistered:void 0,apps:[],hasApps:!1,selectedApp:void 0,accessToken:void 0,user:void 0}),setTimeout(()=>{this.current=this.allStates.initial},1e3)}}),y=new ii.State({entering:()=>{this.service.createApp().then(k=>{k?(this.service.codicent=k,this.updateContext({selectedApp:k,apps:[...this.context.apps||[],{id:k,title:k,logo:""}]})):this.updateContext({error:"Misslyckades att skapa din app. Försök igen senare.",errorType:"ErrorCreatingApp"})}).catch(k=>{console.warn("Error creating app",k),this.updateContext({error:"Misslyckades att skapa din app. Försök igen senare.",errorType:"ErrorCreatingApp"})})}}),v=new ii.State({entering:()=>{this.service.loginUser(this.context.user.sub,this.context.accessToken).then(k=>{k===null?this.updateContext({isRegistered:!1}):k===""?this.updateContext({isRegistered:!1,error:"Kunde inte logga in hos Codicent.",errorType:"CodicentLoginFailed"}):(this.service.setToken(this.context.accessToken),this.service.getNickname().then(N=>{N?this.updateContext({isRegistered:!0,nickname:N}):this.updateContext({error:"Kunde inte hitta användarnamn.",errorType:"ErrorFindingUsername"})}).catch(()=>{this.updateContext({error:"Fel vid hämtning av användarnamn.",errorType:"ErrorFindingUsername"})}))}).catch(()=>{this.updateContext({isRegistered:!1,error:"Fel vid inloggning hos Codicent.",errorType:"CodicentLoginError"})})}}),x=new ii.State({entering:()=>{this.service.setToken(Qt("ANONYMOUS_TOKEN")),this.service.codicent=Qt("ANONYMOUS_CODICENT")||Qt("APP_NAME")||""}});e.addTransition(r,{condition:()=>!0}),r.addTransition(i,{condition:()=>this.context.isAuthenticated===!0}),r.addTransition(f,{condition:()=>!!this.context.error}),r.addTransition(x,{condition:()=>this.context.isAnonymous===!0&&!!Qt("ANONYMOUS_TOKEN")}),r.addTransition(n,{condition:()=>this.context.isAuthenticated===!1}),n.addTransition(i,{condition:()=>this.context.isAuthenticated===!0}),n.addTransition(f,{condition:()=>!!this.context.error}),i.addTransition(v,{}),v.addTransition(o,{condition:()=>this.context.isRegistered===!1}),v.addTransition(a,{condition:()=>this.context.isRegistered===!0}),v.addTransition(f,{condition:()=>!!this.context.error}),a.addTransition(g,{condition:()=>!!this.context.nickname}),a.addTransition(f,{condition:()=>!this.context.nickname,action:()=>this.updateContext({error:"Missing nickname after registration",errorType:"ErrorLoadingUser"})}),s.addTransition(l,{condition:()=>this.context.hasValidPurchase===!1}),s.addTransition(u,{condition:()=>this.context.hasValidPurchase===!0}),u.addTransition(f,{condition:()=>!!this.context.error,action:()=>console.log("getting apps -> error")}),u.addTransition(h,{condition:()=>!!Qt("APP_NAME")&&this.context.hasApps}),u.addTransition(y,{condition:()=>!Qt("APP_NAME")&&this.context.appsLoaded&&this.context.apps.length===0,action:()=>this.updateContext({selectedApp:void 0})}),u.addTransition(h,{condition:()=>!Qt("APP_NAME")&&this.context.hasApps&&this.context.apps.length>0}),y.addTransition(h,{condition:()=>!!this.context.selectedApp}),y.addTransition(f,{condition:()=>!!this.context.error}),h.addTransition(p,{condition:()=>!Qt("APP_NAME")&&this.context.apps.some(k=>k.id===this.context.selectedApp),action:()=>{this.service.codicent=this.context.selectedApp||"",localStorage.setItem("selectedApp",this.context.selectedApp||"")}}),h.addTransition(p,{condition:()=>!Qt("APP_NAME")&&!this.context.selectedApp,action:()=>{const k=this.context.apps[0].id;this.service.codicent=k,localStorage.setItem("selectedApp",k),this.updateContext({selectedApp:k})}}),h.addTransition(p,{condition:()=>this.context.apps.some(k=>k.id===Qt("APP_NAME")),action:()=>{this.service.codicent=Qt("APP_NAME"),this.updateContext({selectedApp:Qt("APP_NAME")})}}),h.addTransition(d,{condition:()=>!this.context.apps.some(k=>k.id===this.context.selectedApp||k.id===Qt("APP_NAME")),action:()=>console.log("checking access -> no access",this.context.apps,this.context.selectedApp,Qt("APP_NAME"))}),p.addTransition(g,{condition:()=>!!localStorage.getItem("selectedApp")&&localStorage.getItem("selectedApp")!==this.context.selectedApp,action:()=>{this.service.codicent=localStorage.getItem("selectedApp")||"",this.updateContext({selectedApp:localStorage.getItem("selectedApp")||void 0})}}),o.addTransition(a,{condition:()=>this.context.isRegistered===!0}),o.addTransition(f,{condition:()=>!!this.context.error}),l.addTransition(s,{condition:()=>this.context.hasValidPurchase===void 0,action:()=>{window.history.replaceState({},document.title,window.location.pathname),this.checkPurchase()}}),[r,u,s,v,o].forEach(k=>{k.addTransition(f,{condition:()=>{var N,_;return((N=this.context.error)==null?void 0:N.includes("network"))||((_=this.context.error)==null?void 0:_.includes("connectivity"))||!1}}),k.addTransition(f,{condition:()=>!!this.context.error})}),[i,a,p,d].forEach(k=>{k.addTransition(m,{condition:()=>this.context.isAuthenticated===!1})}),a.addTransition(g,{condition:()=>!this.context.user&&!!this.context.nickname}),g.addTransition(s,{condition:()=>!!this.context.name&&Qt("SUBSCRIPTION_NEEDED")}),g.addTransition(u,{condition:()=>!!this.context.name&&!Qt("SUBSCRIPTION_NEEDED")}),f.addTransition(s,{condition:()=>!this.context.error&&this.context.errorType!=="ErrorCheckingPurchase"}),f.addTransition(u,{condition:()=>!this.context.error&&this.context.errorType!=="ErrorGettingApps"}),f.addTransition(h,{condition:()=>!this.context.error&&this.context.errorType!=="ErrorCheckingAccess"}),f.addTransition(g,{condition:()=>!this.context.error&&this.context.errorType!=="ErrorLoadingUser"}),f.addTransition(y,{condition:()=>!this.context.error&&this.context.errorType!=="ErrorCreatingApp"}),f.addTransition(v,{condition:()=>!this.context.error&&this.context.errorType!=="CodicentLoginFailed"}),m.addTransition(e,{condition:()=>!this.context.isAuthenticated&&!this.context.accessToken});const b={initial:e,authenticating:r,notAuthenticated:n,authenticated:i,checkingCodicentAccess:v,registering:o,registered:a,checkingPurchase:s,needsPurchase:l,gettingApps:u,creatingApp:y,checkingAccess:h,noAccess:d,error:f,loadingUser:g,loggingOut:m,hasAccess:p,anonymous:x};return this.states.push(...Object.values(b)),b}get error(){return this.context.error}checkPurchase(){this.service.checkSubscriptionStatus().then(e=>this.updateContext({hasValidPurchase:e==="active"})).catch(e=>this.updateContext({error:e.toString(),errorType:"ErrorCheckingPurchase"}))}getApps(){this.service.getApps().then(e=>{if(e===null)throw new Error("Failed to fetch apps.");Qt("APP_PREFIX")&&(e=e.filter(r=>r.id.startsWith(Qt("APP_PREFIX")))),this.updateContext({apps:e,hasApps:!0,appsLoaded:!0}),this.context.selectedApp&&!e.some(r=>r.id===this.context.selectedApp)&&this.updateContext({selectedApp:void 0})}).catch(e=>this.updateContext({error:e.toString(),errorType:"ErrorGettingApps"}))}setUser(e){this.context.user=e}getContext(){return{...this.context}}updateContext(e){this.context={...this.context,...e}}getCurrentStateName(){const e=Object.entries(this.allStates).find(([r,n])=>n===this.current);return e?e[0]:""}logout(){localStorage.clear(),sessionStorage.clear(),this.resetContext()}setSelectedApp(e){localStorage.setItem("selectedApp",e),this.update()}isBusy(){return this.current===this.allStates.gettingApps||this.current===this.allStates.checkingPurchase||this.current===this.allStates.checkingAccess||this.current===this.allStates.checkingCodicentAccess||this.current===this.allStates.registering||this.current===this.allStates.loadingUser||this.current===this.allStates.creatingApp||this.current===this.allStates.loggingOut}};const e8t=(t,e)=>new t8t(t,e),Mte=({auth0:t})=>{const e=q7t(t),r=Z.useRef(e8t(e.codicentService,()=>{})),[n,i]=Z.useState(),{service:o,context:a}=r.current,{nickname:s,name:l,error:u,errorType:h,selectedApp:d}=a,p=Z.useCallback((N,_)=>{const S=N.get("file").name;o.uploadFile(S,N).then(T=>{o.sendMessage(`#transcribe ${_!==""?(_.startsWith("#")?"":"#")+_+" ":""}#file:${T}`).then(()=>{}).catch(console.warn)})},[o]),f=G7t(p),[g,m]=Z.useState(),[y,v]=Z.useState(),x=Z.useMemo(()=>new Audio("./notification.mp3"),[]),b=W7t(o,m,v,x,g),k=J7t(Qt("REALTIME_VOICE_API_KEY")||"",b);return Z.useEffect(()=>{e.isAuthenticated&&e.user&&e.accessToken&&r.current.updateContext({isAuthenticated:e.isAuthenticated,user:{sub:e.user.sub,email:e.user.email},accessToken:e.accessToken})},[e.isAuthenticated,e.user,e.accessToken]),Z.useEffect(()=>r.current.updateContext({nickname:e.nickname}),[e.nickname]),Z.useEffect(()=>{r.current.update();let N=r.current;const _=setInterval(()=>{r.current.currentStateName==="hasAccess"&&N.currentStateName===r.current.currentStateName||(r.current.update(),i(r.current.getCurrentStateName()),N=r.current)},50);return()=>clearInterval(_)},[]),{audio:f,auth:e,currentStateName:n,stateMachine:r.current,service:o,context:a,state:n,nickname:s,name:l,error:u,errorType:h,fixAppUrl:N=>N.replace("{nickname}",s||"unknown").replace("{token}",encodeURIComponent(e.accessToken||"unknown")).replace("{app}",d||"unknown"),setAnonymous:N=>{r.current.updateContext({isAnonymous:N})},allStates:r.current.allStates,isBusy:()=>r.current.isBusy(),voice:k,html:g,setHtml:m,script:y}},Bte=t=>{const e=(new Date().getTime()-t.getTime())/1e3/60,r=e/60,n=r/24;return e<1?"now":r<1?Math.round(e)+"m":n<1?Math.round(r)+"h":Math.round(n)+"d"},Pte=({state:t})=>{const{auth:e,stateMachine:r}=t;return Z.useEffect(()=>{r.logout(),e.logout()},[e,r]),null};ii.StateMachine;let zs=class RJ{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?e&&e.loc&&r.loc&&e.loc.lexer===r.loc.lexer?new RJ(e.loc.lexer,e.loc.start,r.loc.end):null:e&&e.loc}},zl=class DJ{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new DJ(r,zs.range(this,e))}},ue=class OJ{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n,i,o="KaTeX parse error: "+e,a=r&&r.loc;if(a&&a.start<=a.end){var s=a.lexer.input;n=a.start,i=a.end,n===s.length?o+=" at end of input: ":o+=" at position "+(n+1)+": ";var l=s.slice(n,i).replace(/[^]/g,"$&̲");o+=(n>15?"…"+s.slice(n-15,n):s.slice(0,n))+l+(i+15<s.length?s.slice(i,i+15)+"…":s.slice(i))}var u=new Error(o);return u.name="ParseError",u.__proto__=OJ.prototype,u.position=n,n!=null&&i!=null&&(u.length=i-n),u.rawMessage=e,u}};ue.prototype.__proto__=Error.prototype;var r8t=/([A-Z])/g,n8t={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i8t=/[&><"']/g,UD=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Ke={contains:function(t,e){return t.indexOf(e)!==-1},deflt:function(t,e){return t===void 0?e:t},escape:function(t){return String(t).replace(i8t,e=>n8t[e])},hyphenate:function(t){return t.replace(r8t,"-$1").toLowerCase()},getBaseElem:UD,isCharacterBox:function(t){var e=UD(t);return e.type==="mathord"||e.type==="textord"||e.type==="atom"},protocolFromUrl:function(t){var e=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return e?e[2]!==":"?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e[1])?e[1].toLowerCase():null:"_relative"}},um={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function o8t(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let E7=class{constructor(e){for(var r in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},um)if(um.hasOwnProperty(r)){var n=um[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:o8t(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),i&&i!=="ignore"){if(i===!0||i==="error")throw new ue("LaTeX-incompatible input and strict mode is set to 'error': "+r+" ["+e+"]",n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+r+" ["+e+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+r+" ["+e+"]")}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!(!i||i==="ignore")&&(i===!0||i==="error"||(i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+r+" ["+e+"]"),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+r+" ["+e+"]"),!1)))}isTrusted(e){if(e.url&&!e.protocol){var r=Ke.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}},eu=class{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return _l[a8t[this.id]]}sub(){return _l[s8t[this.id]]}fracNum(){return _l[l8t[this.id]]}fracDen(){return _l[c8t[this.id]]}cramp(){return _l[u8t[this.id]]}text(){return _l[h8t[this.id]]}isTight(){return this.size>=2}};var _l=[new eu(0,0,!1),new eu(1,0,!0),new eu(2,1,!1),new eu(3,1,!0),new eu(4,2,!1),new eu(5,2,!0),new eu(6,3,!1),new eu(7,3,!0)],a8t=[4,5,4,5,6,7,6,7],s8t=[5,5,5,5,7,7,7,7],l8t=[2,3,4,5,6,7,6,7],c8t=[3,3,5,5,7,7,7,7],u8t=[1,1,3,3,5,5,7,7],h8t=[0,1,2,3,2,3,2,3],er={DISPLAY:_l[0],TEXT:_l[2],SCRIPT:_l[4],SCRIPTSCRIPT:_l[6]},p6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],db=[];function MJ(t){for(var e=0;e<db.length;e+=2)if(t>=db[e]&&t<=db[e+1])return!0;return!1}p6.forEach(t=>t.blocks.forEach(e=>db.push(...e)));var wp=80,qD={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};let My=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ke.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join("")}};var Ll={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Gv={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},GD={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function BJ(t,e){Ll[t]=e}function _7(t,e,r){if(!Ll[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Ll[e][n];if(!i&&t[0]in GD&&(n=GD[t[0]].charCodeAt(0),i=Ll[e][n]),i||r!=="text"||MJ(n)&&(i=Ll[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var pk={},d8t=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],WD=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],VD=function(t,e){return e.size<2?t:d8t[t-1][e.size-1]};let PJ=class Uh{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Uh.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=WD[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Uh(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:VD(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:WD[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=VD(Uh.BASESIZE,e);return this.size===r&&this.textSize===Uh.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Uh.BASESIZE?["sizing","reset-size"+this.size,"size"+Uh.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var r;if(!pk[r=e>=5?0:e>=3?1:2]){var n=pk[r]={cssEmPerMu:Gv.quad[r]/18};for(var i in Gv)Gv.hasOwnProperty(i)&&(n[i]=Gv[i][r])}return pk[r]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};PJ.BASESIZE=6;var f6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},p8t={ex:!0,em:!0,mu:!0},FJ=function(t){return typeof t!="string"&&(t=t.unit),t in f6||t in p8t||t==="ex"},Rn=function(t,e){var r;if(t.unit in f6)r=f6[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if(t.unit==="mu")r=e.fontMetrics().cssEmPerMu;else{var n;if(n=e.style.isTight()?e.havingStyle(e.style.text()):e,t.unit==="ex")r=n.fontMetrics().xHeight;else{if(t.unit!=="em")throw new ue("Invalid unit: '"+t.unit+"'");r=n.fontMetrics().quad}n!==e&&(r*=n.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*r,e.maxSize)},ye=function(t){return+t.toFixed(4)+"em"},rh=function(t){return t.filter(e=>e).join(" ")},zJ=function(t,e,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},e){e.style.isTight()&&this.classes.push("mtight");var n=e.getColor();n&&(this.style.color=n)}},jJ=function(t){var e=document.createElement(t);for(var r in e.className=rh(this.classes),this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&e.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e},f8t=/[\s"'>/=\x00-\x1f]/,HJ=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+Ke.escape(rh(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Ke.hyphenate(n)+":"+this.style[n]+";");for(var i in r&&(e+=' style="'+Ke.escape(r)+'"'),this.attributes)if(this.attributes.hasOwnProperty(i)){if(f8t.test(i))throw new ue("Invalid attribute name '"+i+"'");e+=" "+i+'="'+Ke.escape(this.attributes[i])+'"'}e+=">";for(var o=0;o<this.children.length;o++)e+=this.children[o].toMarkup();return e+="</"+t+">"};let By=class{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,zJ.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ke.contains(this.classes,e)}toNode(){return jJ.call(this,"span")}toMarkup(){return HJ.call(this,"span")}},S7=class{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,zJ.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ke.contains(this.classes,e)}toNode(){return jJ.call(this,"a")}toMarkup(){return HJ.call(this,"a")}},g8t=class{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return Ke.contains(this.classes,e)}toNode(){var e=document.createElement("img");for(var r in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Ke.escape(this.src)+'" alt="'+Ke.escape(this.alt)+'"',r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Ke.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+Ke.escape(r)+'"'),e+="'/>"}};var m8t={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};let ks=class{constructor(e,r,n,i,o,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=function(h){for(var d=0;d<p6.length;d++)for(var p=p6[d],f=0;f<p.blocks.length;f++){var g=p.blocks[f];if(h>=g[0]&&h<=g[1])return p.name}return null}(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=m8t[this.text])}hasClass(e){return Ke.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;for(var n in this.italic>0&&((r=document.createElement("span")).style.marginRight=ye(this.italic)),this.classes.length>0&&((r=r||document.createElement("span")).className=rh(this.classes)),this.style)this.style.hasOwnProperty(n)&&((r=r||document.createElement("span")).style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Ke.escape(rh(this.classes)),r+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=Ke.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+Ke.escape(n)+'"');var o=Ke.escape(this.text);return e?(r+=">",r+=o,r+="</span>"):o}},Fc=class{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ke.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>"}},nh=class{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",qD[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+Ke.escape(this.alternate)+'"/>':'<path d="'+Ke.escape(qD[this.pathName])+'"/>'}},g6=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);return e}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ke.escape(this.attributes[r])+'"');return e+="/>"}};function YD(t){if(t instanceof ks)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}var y8t={bin:1,close:1,inner:1,open:1,punct:1,rel:1},v8t={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},xn={math:{},text:{}};function j(t,e,r,n,i,o){xn[t][i]={font:e,group:r,replace:n},o&&n&&(xn[t][n]=xn[t][i])}var q="math",te="text",J="main",vt="ams",Sn="accent-token",$e="bin",Bo="close",kp="inner",Je="mathord",ni="op-token",La="open",Wv="punct",wt="rel",nc="spacing",Lt="textord";j(q,J,wt,"≡","\\equiv",!0),j(q,J,wt,"≺","\\prec",!0),j(q,J,wt,"≻","\\succ",!0),j(q,J,wt,"∼","\\sim",!0),j(q,J,wt,"⊥","\\perp"),j(q,J,wt,"⪯","\\preceq",!0),j(q,J,wt,"⪰","\\succeq",!0),j(q,J,wt,"≃","\\simeq",!0),j(q,J,wt,"∣","\\mid",!0),j(q,J,wt,"≪","\\ll",!0),j(q,J,wt,"≫","\\gg",!0),j(q,J,wt,"≍","\\asymp",!0),j(q,J,wt,"∥","\\parallel"),j(q,J,wt,"⋈","\\bowtie",!0),j(q,J,wt,"⌣","\\smile",!0),j(q,J,wt,"⊑","\\sqsubseteq",!0),j(q,J,wt,"⊒","\\sqsupseteq",!0),j(q,J,wt,"≐","\\doteq",!0),j(q,J,wt,"⌢","\\frown",!0),j(q,J,wt,"∋","\\ni",!0),j(q,J,wt,"∝","\\propto",!0),j(q,J,wt,"⊢","\\vdash",!0),j(q,J,wt,"⊣","\\dashv",!0),j(q,J,wt,"∋","\\owns"),j(q,J,Wv,".","\\ldotp"),j(q,J,Wv,"⋅","\\cdotp"),j(q,J,Lt,"#","\\#"),j(te,J,Lt,"#","\\#"),j(q,J,Lt,"&","\\&"),j(te,J,Lt,"&","\\&"),j(q,J,Lt,"ℵ","\\aleph",!0),j(q,J,Lt,"∀","\\forall",!0),j(q,J,Lt,"ℏ","\\hbar",!0),j(q,J,Lt,"∃","\\exists",!0),j(q,J,Lt,"∇","\\nabla",!0),j(q,J,Lt,"♭","\\flat",!0),j(q,J,Lt,"ℓ","\\ell",!0),j(q,J,Lt,"♮","\\natural",!0),j(q,J,Lt,"♣","\\clubsuit",!0),j(q,J,Lt,"℘","\\wp",!0),j(q,J,Lt,"♯","\\sharp",!0),j(q,J,Lt,"♢","\\diamondsuit",!0),j(q,J,Lt,"ℜ","\\Re",!0),j(q,J,Lt,"♡","\\heartsuit",!0),j(q,J,Lt,"ℑ","\\Im",!0),j(q,J,Lt,"♠","\\spadesuit",!0),j(q,J,Lt,"§","\\S",!0),j(te,J,Lt,"§","\\S"),j(q,J,Lt,"¶","\\P",!0),j(te,J,Lt,"¶","\\P"),j(q,J,Lt,"†","\\dag"),j(te,J,Lt,"†","\\dag"),j(te,J,Lt,"†","\\textdagger"),j(q,J,Lt,"‡","\\ddag"),j(te,J,Lt,"‡","\\ddag"),j(te,J,Lt,"‡","\\textdaggerdbl"),j(q,J,Bo,"⎱","\\rmoustache",!0),j(q,J,La,"⎰","\\lmoustache",!0),j(q,J,Bo,"⟯","\\rgroup",!0),j(q,J,La,"⟮","\\lgroup",!0),j(q,J,$e,"∓","\\mp",!0),j(q,J,$e,"⊖","\\ominus",!0),j(q,J,$e,"⊎","\\uplus",!0),j(q,J,$e,"⊓","\\sqcap",!0),j(q,J,$e,"∗","\\ast"),j(q,J,$e,"⊔","\\sqcup",!0),j(q,J,$e,"◯","\\bigcirc",!0),j(q,J,$e,"∙","\\bullet",!0),j(q,J,$e,"‡","\\ddagger"),j(q,J,$e,"≀","\\wr",!0),j(q,J,$e,"⨿","\\amalg"),j(q,J,$e,"&","\\And"),j(q,J,wt,"⟵","\\longleftarrow",!0),j(q,J,wt,"⇐","\\Leftarrow",!0),j(q,J,wt,"⟸","\\Longleftarrow",!0),j(q,J,wt,"⟶","\\longrightarrow",!0),j(q,J,wt,"⇒","\\Rightarrow",!0),j(q,J,wt,"⟹","\\Longrightarrow",!0),j(q,J,wt,"↔","\\leftrightarrow",!0),j(q,J,wt,"⟷","\\longleftrightarrow",!0),j(q,J,wt,"⇔","\\Leftrightarrow",!0),j(q,J,wt,"⟺","\\Longleftrightarrow",!0),j(q,J,wt,"↦","\\mapsto",!0),j(q,J,wt,"⟼","\\longmapsto",!0),j(q,J,wt,"↗","\\nearrow",!0),j(q,J,wt,"↩","\\hookleftarrow",!0),j(q,J,wt,"↪","\\hookrightarrow",!0),j(q,J,wt,"↘","\\searrow",!0),j(q,J,wt,"↼","\\leftharpoonup",!0),j(q,J,wt,"⇀","\\rightharpoonup",!0),j(q,J,wt,"↙","\\swarrow",!0),j(q,J,wt,"↽","\\leftharpoondown",!0),j(q,J,wt,"⇁","\\rightharpoondown",!0),j(q,J,wt,"↖","\\nwarrow",!0),j(q,J,wt,"⇌","\\rightleftharpoons",!0),j(q,vt,wt,"≮","\\nless",!0),j(q,vt,wt,"","\\@nleqslant"),j(q,vt,wt,"","\\@nleqq"),j(q,vt,wt,"⪇","\\lneq",!0),j(q,vt,wt,"≨","\\lneqq",!0),j(q,vt,wt,"","\\@lvertneqq"),j(q,vt,wt,"⋦","\\lnsim",!0),j(q,vt,wt,"⪉","\\lnapprox",!0),j(q,vt,wt,"⊀","\\nprec",!0),j(q,vt,wt,"⋠","\\npreceq",!0),j(q,vt,wt,"⋨","\\precnsim",!0),j(q,vt,wt,"⪹","\\precnapprox",!0),j(q,vt,wt,"≁","\\nsim",!0),j(q,vt,wt,"","\\@nshortmid"),j(q,vt,wt,"∤","\\nmid",!0),j(q,vt,wt,"⊬","\\nvdash",!0),j(q,vt,wt,"⊭","\\nvDash",!0),j(q,vt,wt,"⋪","\\ntriangleleft"),j(q,vt,wt,"⋬","\\ntrianglelefteq",!0),j(q,vt,wt,"⊊","\\subsetneq",!0),j(q,vt,wt,"","\\@varsubsetneq"),j(q,vt,wt,"⫋","\\subsetneqq",!0),j(q,vt,wt,"","\\@varsubsetneqq"),j(q,vt,wt,"≯","\\ngtr",!0),j(q,vt,wt,"","\\@ngeqslant"),j(q,vt,wt,"","\\@ngeqq"),j(q,vt,wt,"⪈","\\gneq",!0),j(q,vt,wt,"≩","\\gneqq",!0),j(q,vt,wt,"","\\@gvertneqq"),j(q,vt,wt,"⋧","\\gnsim",!0),j(q,vt,wt,"⪊","\\gnapprox",!0),j(q,vt,wt,"⊁","\\nsucc",!0),j(q,vt,wt,"⋡","\\nsucceq",!0),j(q,vt,wt,"⋩","\\succnsim",!0),j(q,vt,wt,"⪺","\\succnapprox",!0),j(q,vt,wt,"≆","\\ncong",!0),j(q,vt,wt,"","\\@nshortparallel"),j(q,vt,wt,"∦","\\nparallel",!0),j(q,vt,wt,"⊯","\\nVDash",!0),j(q,vt,wt,"⋫","\\ntriangleright"),j(q,vt,wt,"⋭","\\ntrianglerighteq",!0),j(q,vt,wt,"","\\@nsupseteqq"),j(q,vt,wt,"⊋","\\supsetneq",!0),j(q,vt,wt,"","\\@varsupsetneq"),j(q,vt,wt,"⫌","\\supsetneqq",!0),j(q,vt,wt,"","\\@varsupsetneqq"),j(q,vt,wt,"⊮","\\nVdash",!0),j(q,vt,wt,"⪵","\\precneqq",!0),j(q,vt,wt,"⪶","\\succneqq",!0),j(q,vt,wt,"","\\@nsubseteqq"),j(q,vt,$e,"⊴","\\unlhd"),j(q,vt,$e,"⊵","\\unrhd"),j(q,vt,wt,"↚","\\nleftarrow",!0),j(q,vt,wt,"↛","\\nrightarrow",!0),j(q,vt,wt,"⇍","\\nLeftarrow",!0),j(q,vt,wt,"⇏","\\nRightarrow",!0),j(q,vt,wt,"↮","\\nleftrightarrow",!0),j(q,vt,wt,"⇎","\\nLeftrightarrow",!0),j(q,vt,wt,"△","\\vartriangle"),j(q,vt,Lt,"ℏ","\\hslash"),j(q,vt,Lt,"▽","\\triangledown"),j(q,vt,Lt,"◊","\\lozenge"),j(q,vt,Lt,"Ⓢ","\\circledS"),j(q,vt,Lt,"®","\\circledR"),j(te,vt,Lt,"®","\\circledR"),j(q,vt,Lt,"∡","\\measuredangle",!0),j(q,vt,Lt,"∄","\\nexists"),j(q,vt,Lt,"℧","\\mho"),j(q,vt,Lt,"Ⅎ","\\Finv",!0),j(q,vt,Lt,"⅁","\\Game",!0),j(q,vt,Lt,"‵","\\backprime"),j(q,vt,Lt,"▲","\\blacktriangle"),j(q,vt,Lt,"▼","\\blacktriangledown"),j(q,vt,Lt,"■","\\blacksquare"),j(q,vt,Lt,"⧫","\\blacklozenge"),j(q,vt,Lt,"★","\\bigstar"),j(q,vt,Lt,"∢","\\sphericalangle",!0),j(q,vt,Lt,"∁","\\complement",!0),j(q,vt,Lt,"ð","\\eth",!0),j(te,J,Lt,"ð","ð"),j(q,vt,Lt,"╱","\\diagup"),j(q,vt,Lt,"╲","\\diagdown"),j(q,vt,Lt,"□","\\square"),j(q,vt,Lt,"□","\\Box"),j(q,vt,Lt,"◊","\\Diamond"),j(q,vt,Lt,"¥","\\yen",!0),j(te,vt,Lt,"¥","\\yen",!0),j(q,vt,Lt,"✓","\\checkmark",!0),j(te,vt,Lt,"✓","\\checkmark"),j(q,vt,Lt,"ℶ","\\beth",!0),j(q,vt,Lt,"ℸ","\\daleth",!0),j(q,vt,Lt,"ℷ","\\gimel",!0),j(q,vt,Lt,"ϝ","\\digamma",!0),j(q,vt,Lt,"ϰ","\\varkappa"),j(q,vt,La,"┌","\\@ulcorner",!0),j(q,vt,Bo,"┐","\\@urcorner",!0),j(q,vt,La,"└","\\@llcorner",!0),j(q,vt,Bo,"┘","\\@lrcorner",!0),j(q,vt,wt,"≦","\\leqq",!0),j(q,vt,wt,"⩽","\\leqslant",!0),j(q,vt,wt,"⪕","\\eqslantless",!0),j(q,vt,wt,"≲","\\lesssim",!0),j(q,vt,wt,"⪅","\\lessapprox",!0),j(q,vt,wt,"≊","\\approxeq",!0),j(q,vt,$e,"⋖","\\lessdot"),j(q,vt,wt,"⋘","\\lll",!0),j(q,vt,wt,"≶","\\lessgtr",!0),j(q,vt,wt,"⋚","\\lesseqgtr",!0),j(q,vt,wt,"⪋","\\lesseqqgtr",!0),j(q,vt,wt,"≑","\\doteqdot"),j(q,vt,wt,"≓","\\risingdotseq",!0),j(q,vt,wt,"≒","\\fallingdotseq",!0),j(q,vt,wt,"∽","\\backsim",!0),j(q,vt,wt,"⋍","\\backsimeq",!0),j(q,vt,wt,"⫅","\\subseteqq",!0),j(q,vt,wt,"⋐","\\Subset",!0),j(q,vt,wt,"⊏","\\sqsubset",!0),j(q,vt,wt,"≼","\\preccurlyeq",!0),j(q,vt,wt,"⋞","\\curlyeqprec",!0),j(q,vt,wt,"≾","\\precsim",!0),j(q,vt,wt,"⪷","\\precapprox",!0),j(q,vt,wt,"⊲","\\vartriangleleft"),j(q,vt,wt,"⊴","\\trianglelefteq"),j(q,vt,wt,"⊨","\\vDash",!0),j(q,vt,wt,"⊪","\\Vvdash",!0),j(q,vt,wt,"⌣","\\smallsmile"),j(q,vt,wt,"⌢","\\smallfrown"),j(q,vt,wt,"≏","\\bumpeq",!0),j(q,vt,wt,"≎","\\Bumpeq",!0),j(q,vt,wt,"≧","\\geqq",!0),j(q,vt,wt,"⩾","\\geqslant",!0),j(q,vt,wt,"⪖","\\eqslantgtr",!0),j(q,vt,wt,"≳","\\gtrsim",!0),j(q,vt,wt,"⪆","\\gtrapprox",!0),j(q,vt,$e,"⋗","\\gtrdot"),j(q,vt,wt,"⋙","\\ggg",!0),j(q,vt,wt,"≷","\\gtrless",!0),j(q,vt,wt,"⋛","\\gtreqless",!0),j(q,vt,wt,"⪌","\\gtreqqless",!0),j(q,vt,wt,"≖","\\eqcirc",!0),j(q,vt,wt,"≗","\\circeq",!0),j(q,vt,wt,"≜","\\triangleq",!0),j(q,vt,wt,"∼","\\thicksim"),j(q,vt,wt,"≈","\\thickapprox"),j(q,vt,wt,"⫆","\\supseteqq",!0),j(q,vt,wt,"⋑","\\Supset",!0),j(q,vt,wt,"⊐","\\sqsupset",!0),j(q,vt,wt,"≽","\\succcurlyeq",!0),j(q,vt,wt,"⋟","\\curlyeqsucc",!0),j(q,vt,wt,"≿","\\succsim",!0),j(q,vt,wt,"⪸","\\succapprox",!0),j(q,vt,wt,"⊳","\\vartriangleright"),j(q,vt,wt,"⊵","\\trianglerighteq"),j(q,vt,wt,"⊩","\\Vdash",!0),j(q,vt,wt,"∣","\\shortmid"),j(q,vt,wt,"∥","\\shortparallel"),j(q,vt,wt,"≬","\\between",!0),j(q,vt,wt,"⋔","\\pitchfork",!0),j(q,vt,wt,"∝","\\varpropto"),j(q,vt,wt,"◀","\\blacktriangleleft"),j(q,vt,wt,"∴","\\therefore",!0),j(q,vt,wt,"∍","\\backepsilon"),j(q,vt,wt,"▶","\\blacktriangleright"),j(q,vt,wt,"∵","\\because",!0),j(q,vt,wt,"⋘","\\llless"),j(q,vt,wt,"⋙","\\gggtr"),j(q,vt,$e,"⊲","\\lhd"),j(q,vt,$e,"⊳","\\rhd"),j(q,vt,wt,"≂","\\eqsim",!0),j(q,J,wt,"⋈","\\Join"),j(q,vt,wt,"≑","\\Doteq",!0),j(q,vt,$e,"∔","\\dotplus",!0),j(q,vt,$e,"∖","\\smallsetminus"),j(q,vt,$e,"⋒","\\Cap",!0),j(q,vt,$e,"⋓","\\Cup",!0),j(q,vt,$e,"⩞","\\doublebarwedge",!0),j(q,vt,$e,"⊟","\\boxminus",!0),j(q,vt,$e,"⊞","\\boxplus",!0),j(q,vt,$e,"⋇","\\divideontimes",!0),j(q,vt,$e,"⋉","\\ltimes",!0),j(q,vt,$e,"⋊","\\rtimes",!0),j(q,vt,$e,"⋋","\\leftthreetimes",!0),j(q,vt,$e,"⋌","\\rightthreetimes",!0),j(q,vt,$e,"⋏","\\curlywedge",!0),j(q,vt,$e,"⋎","\\curlyvee",!0),j(q,vt,$e,"⊝","\\circleddash",!0),j(q,vt,$e,"⊛","\\circledast",!0),j(q,vt,$e,"⋅","\\centerdot"),j(q,vt,$e,"⊺","\\intercal",!0),j(q,vt,$e,"⋒","\\doublecap"),j(q,vt,$e,"⋓","\\doublecup"),j(q,vt,$e,"⊠","\\boxtimes",!0),j(q,vt,wt,"⇢","\\dashrightarrow",!0),j(q,vt,wt,"⇠","\\dashleftarrow",!0),j(q,vt,wt,"⇇","\\leftleftarrows",!0),j(q,vt,wt,"⇆","\\leftrightarrows",!0),j(q,vt,wt,"⇚","\\Lleftarrow",!0),j(q,vt,wt,"↞","\\twoheadleftarrow",!0),j(q,vt,wt,"↢","\\leftarrowtail",!0),j(q,vt,wt,"↫","\\looparrowleft",!0),j(q,vt,wt,"⇋","\\leftrightharpoons",!0),j(q,vt,wt,"↶","\\curvearrowleft",!0),j(q,vt,wt,"↺","\\circlearrowleft",!0),j(q,vt,wt,"↰","\\Lsh",!0),j(q,vt,wt,"⇈","\\upuparrows",!0),j(q,vt,wt,"↿","\\upharpoonleft",!0),j(q,vt,wt,"⇃","\\downharpoonleft",!0),j(q,J,wt,"⊶","\\origof",!0),j(q,J,wt,"⊷","\\imageof",!0),j(q,vt,wt,"⊸","\\multimap",!0),j(q,vt,wt,"↭","\\leftrightsquigarrow",!0),j(q,vt,wt,"⇉","\\rightrightarrows",!0),j(q,vt,wt,"⇄","\\rightleftarrows",!0),j(q,vt,wt,"↠","\\twoheadrightarrow",!0),j(q,vt,wt,"↣","\\rightarrowtail",!0),j(q,vt,wt,"↬","\\looparrowright",!0),j(q,vt,wt,"↷","\\curvearrowright",!0),j(q,vt,wt,"↻","\\circlearrowright",!0),j(q,vt,wt,"↱","\\Rsh",!0),j(q,vt,wt,"⇊","\\downdownarrows",!0),j(q,vt,wt,"↾","\\upharpoonright",!0),j(q,vt,wt,"⇂","\\downharpoonright",!0),j(q,vt,wt,"⇝","\\rightsquigarrow",!0),j(q,vt,wt,"⇝","\\leadsto"),j(q,vt,wt,"⇛","\\Rrightarrow",!0),j(q,vt,wt,"↾","\\restriction"),j(q,J,Lt,"‘","`"),j(q,J,Lt,"$","\\$"),j(te,J,Lt,"$","\\$"),j(te,J,Lt,"$","\\textdollar"),j(q,J,Lt,"%","\\%"),j(te,J,Lt,"%","\\%"),j(q,J,Lt,"_","\\_"),j(te,J,Lt,"_","\\_"),j(te,J,Lt,"_","\\textunderscore"),j(q,J,Lt,"∠","\\angle",!0),j(q,J,Lt,"∞","\\infty",!0),j(q,J,Lt,"′","\\prime"),j(q,J,Lt,"△","\\triangle"),j(q,J,Lt,"Γ","\\Gamma",!0),j(q,J,Lt,"Δ","\\Delta",!0),j(q,J,Lt,"Θ","\\Theta",!0),j(q,J,Lt,"Λ","\\Lambda",!0),j(q,J,Lt,"Ξ","\\Xi",!0),j(q,J,Lt,"Π","\\Pi",!0),j(q,J,Lt,"Σ","\\Sigma",!0),j(q,J,Lt,"Υ","\\Upsilon",!0),j(q,J,Lt,"Φ","\\Phi",!0),j(q,J,Lt,"Ψ","\\Psi",!0),j(q,J,Lt,"Ω","\\Omega",!0),j(q,J,Lt,"A","Α"),j(q,J,Lt,"B","Β"),j(q,J,Lt,"E","Ε"),j(q,J,Lt,"Z","Ζ"),j(q,J,Lt,"H","Η"),j(q,J,Lt,"I","Ι"),j(q,J,Lt,"K","Κ"),j(q,J,Lt,"M","Μ"),j(q,J,Lt,"N","Ν"),j(q,J,Lt,"O","Ο"),j(q,J,Lt,"P","Ρ"),j(q,J,Lt,"T","Τ"),j(q,J,Lt,"X","Χ"),j(q,J,Lt,"¬","\\neg",!0),j(q,J,Lt,"¬","\\lnot"),j(q,J,Lt,"⊤","\\top"),j(q,J,Lt,"⊥","\\bot"),j(q,J,Lt,"∅","\\emptyset"),j(q,vt,Lt,"∅","\\varnothing"),j(q,J,Je,"α","\\alpha",!0),j(q,J,Je,"β","\\beta",!0),j(q,J,Je,"γ","\\gamma",!0),j(q,J,Je,"δ","\\delta",!0),j(q,J,Je,"ϵ","\\epsilon",!0),j(q,J,Je,"ζ","\\zeta",!0),j(q,J,Je,"η","\\eta",!0),j(q,J,Je,"θ","\\theta",!0),j(q,J,Je,"ι","\\iota",!0),j(q,J,Je,"κ","\\kappa",!0),j(q,J,Je,"λ","\\lambda",!0),j(q,J,Je,"μ","\\mu",!0),j(q,J,Je,"ν","\\nu",!0),j(q,J,Je,"ξ","\\xi",!0),j(q,J,Je,"ο","\\omicron",!0),j(q,J,Je,"π","\\pi",!0),j(q,J,Je,"ρ","\\rho",!0),j(q,J,Je,"σ","\\sigma",!0),j(q,J,Je,"τ","\\tau",!0),j(q,J,Je,"υ","\\upsilon",!0),j(q,J,Je,"ϕ","\\phi",!0),j(q,J,Je,"χ","\\chi",!0),j(q,J,Je,"ψ","\\psi",!0),j(q,J,Je,"ω","\\omega",!0),j(q,J,Je,"ε","\\varepsilon",!0),j(q,J,Je,"ϑ","\\vartheta",!0),j(q,J,Je,"ϖ","\\varpi",!0),j(q,J,Je,"ϱ","\\varrho",!0),j(q,J,Je,"ς","\\varsigma",!0),j(q,J,Je,"φ","\\varphi",!0),j(q,J,$e,"∗","*",!0),j(q,J,$e,"+","+"),j(q,J,$e,"−","-",!0),j(q,J,$e,"⋅","\\cdot",!0),j(q,J,$e,"∘","\\circ",!0),j(q,J,$e,"÷","\\div",!0),j(q,J,$e,"±","\\pm",!0),j(q,J,$e,"×","\\times",!0),j(q,J,$e,"∩","\\cap",!0),j(q,J,$e,"∪","\\cup",!0),j(q,J,$e,"∖","\\setminus",!0),j(q,J,$e,"∧","\\land"),j(q,J,$e,"∨","\\lor"),j(q,J,$e,"∧","\\wedge",!0),j(q,J,$e,"∨","\\vee",!0),j(q,J,Lt,"√","\\surd"),j(q,J,La,"⟨","\\langle",!0),j(q,J,La,"∣","\\lvert"),j(q,J,La,"∥","\\lVert"),j(q,J,Bo,"?","?"),j(q,J,Bo,"!","!"),j(q,J,Bo,"⟩","\\rangle",!0),j(q,J,Bo,"∣","\\rvert"),j(q,J,Bo,"∥","\\rVert"),j(q,J,wt,"=","="),j(q,J,wt,":",":"),j(q,J,wt,"≈","\\approx",!0),j(q,J,wt,"≅","\\cong",!0),j(q,J,wt,"≥","\\ge"),j(q,J,wt,"≥","\\geq",!0),j(q,J,wt,"←","\\gets"),j(q,J,wt,">","\\gt",!0),j(q,J,wt,"∈","\\in",!0),j(q,J,wt,"","\\@not"),j(q,J,wt,"⊂","\\subset",!0),j(q,J,wt,"⊃","\\supset",!0),j(q,J,wt,"⊆","\\subseteq",!0),j(q,J,wt,"⊇","\\supseteq",!0),j(q,vt,wt,"⊈","\\nsubseteq",!0),j(q,vt,wt,"⊉","\\nsupseteq",!0),j(q,J,wt,"⊨","\\models"),j(q,J,wt,"←","\\leftarrow",!0),j(q,J,wt,"≤","\\le"),j(q,J,wt,"≤","\\leq",!0),j(q,J,wt,"<","\\lt",!0),j(q,J,wt,"→","\\rightarrow",!0),j(q,J,wt,"→","\\to"),j(q,vt,wt,"≱","\\ngeq",!0),j(q,vt,wt,"≰","\\nleq",!0),j(q,J,nc," ","\\ "),j(q,J,nc," ","\\space"),j(q,J,nc," ","\\nobreakspace"),j(te,J,nc," ","\\ "),j(te,J,nc," "," "),j(te,J,nc," ","\\space"),j(te,J,nc," ","\\nobreakspace"),j(q,J,nc,null,"\\nobreak"),j(q,J,nc,null,"\\allowbreak"),j(q,J,Wv,",",","),j(q,J,Wv,";",";"),j(q,vt,$e,"⊼","\\barwedge",!0),j(q,vt,$e,"⊻","\\veebar",!0),j(q,J,$e,"⊙","\\odot",!0),j(q,J,$e,"⊕","\\oplus",!0),j(q,J,$e,"⊗","\\otimes",!0),j(q,J,Lt,"∂","\\partial",!0),j(q,J,$e,"⊘","\\oslash",!0),j(q,vt,$e,"⊚","\\circledcirc",!0),j(q,vt,$e,"⊡","\\boxdot",!0),j(q,J,$e,"△","\\bigtriangleup"),j(q,J,$e,"▽","\\bigtriangledown"),j(q,J,$e,"†","\\dagger"),j(q,J,$e,"⋄","\\diamond"),j(q,J,$e,"⋆","\\star"),j(q,J,$e,"◃","\\triangleleft"),j(q,J,$e,"▹","\\triangleright"),j(q,J,La,"{","\\{"),j(te,J,Lt,"{","\\{"),j(te,J,Lt,"{","\\textbraceleft"),j(q,J,Bo,"}","\\}"),j(te,J,Lt,"}","\\}"),j(te,J,Lt,"}","\\textbraceright"),j(q,J,La,"{","\\lbrace"),j(q,J,Bo,"}","\\rbrace"),j(q,J,La,"[","\\lbrack",!0),j(te,J,Lt,"[","\\lbrack",!0),j(q,J,Bo,"]","\\rbrack",!0),j(te,J,Lt,"]","\\rbrack",!0),j(q,J,La,"(","\\lparen",!0),j(q,J,Bo,")","\\rparen",!0),j(te,J,Lt,"<","\\textless",!0),j(te,J,Lt,">","\\textgreater",!0),j(q,J,La,"⌊","\\lfloor",!0),j(q,J,Bo,"⌋","\\rfloor",!0),j(q,J,La,"⌈","\\lceil",!0),j(q,J,Bo,"⌉","\\rceil",!0),j(q,J,Lt,"\\","\\backslash"),j(q,J,Lt,"∣","|"),j(q,J,Lt,"∣","\\vert"),j(te,J,Lt,"|","\\textbar",!0),j(q,J,Lt,"∥","\\|"),j(q,J,Lt,"∥","\\Vert"),j(te,J,Lt,"∥","\\textbardbl"),j(te,J,Lt,"~","\\textasciitilde"),j(te,J,Lt,"\\","\\textbackslash"),j(te,J,Lt,"^","\\textasciicircum"),j(q,J,wt,"↑","\\uparrow",!0),j(q,J,wt,"⇑","\\Uparrow",!0),j(q,J,wt,"↓","\\downarrow",!0),j(q,J,wt,"⇓","\\Downarrow",!0),j(q,J,wt,"↕","\\updownarrow",!0),j(q,J,wt,"⇕","\\Updownarrow",!0),j(q,J,ni,"∐","\\coprod"),j(q,J,ni,"⋁","\\bigvee"),j(q,J,ni,"⋀","\\bigwedge"),j(q,J,ni,"⨄","\\biguplus"),j(q,J,ni,"⋂","\\bigcap"),j(q,J,ni,"⋃","\\bigcup"),j(q,J,ni,"∫","\\int"),j(q,J,ni,"∫","\\intop"),j(q,J,ni,"∬","\\iint"),j(q,J,ni,"∭","\\iiint"),j(q,J,ni,"∏","\\prod"),j(q,J,ni,"∑","\\sum"),j(q,J,ni,"⨂","\\bigotimes"),j(q,J,ni,"⨁","\\bigoplus"),j(q,J,ni,"⨀","\\bigodot"),j(q,J,ni,"∮","\\oint"),j(q,J,ni,"∯","\\oiint"),j(q,J,ni,"∰","\\oiiint"),j(q,J,ni,"⨆","\\bigsqcup"),j(q,J,ni,"∫","\\smallint"),j(te,J,kp,"…","\\textellipsis"),j(q,J,kp,"…","\\mathellipsis"),j(te,J,kp,"…","\\ldots",!0),j(q,J,kp,"…","\\ldots",!0),j(q,J,kp,"⋯","\\@cdots",!0),j(q,J,kp,"⋱","\\ddots",!0),j(q,J,Lt,"⋮","\\varvdots"),j(te,J,Lt,"⋮","\\varvdots"),j(q,J,Sn,"ˊ","\\acute"),j(q,J,Sn,"ˋ","\\grave"),j(q,J,Sn,"¨","\\ddot"),j(q,J,Sn,"~","\\tilde"),j(q,J,Sn,"ˉ","\\bar"),j(q,J,Sn,"˘","\\breve"),j(q,J,Sn,"ˇ","\\check"),j(q,J,Sn,"^","\\hat"),j(q,J,Sn,"⃗","\\vec"),j(q,J,Sn,"˙","\\dot"),j(q,J,Sn,"˚","\\mathring"),j(q,J,Je,"","\\@imath"),j(q,J,Je,"","\\@jmath"),j(q,J,Lt,"ı","ı"),j(q,J,Lt,"ȷ","ȷ"),j(te,J,Lt,"ı","\\i",!0),j(te,J,Lt,"ȷ","\\j",!0),j(te,J,Lt,"ß","\\ss",!0),j(te,J,Lt,"æ","\\ae",!0),j(te,J,Lt,"œ","\\oe",!0),j(te,J,Lt,"ø","\\o",!0),j(te,J,Lt,"Æ","\\AE",!0),j(te,J,Lt,"Œ","\\OE",!0),j(te,J,Lt,"Ø","\\O",!0),j(te,J,Sn,"ˊ","\\'"),j(te,J,Sn,"ˋ","\\`"),j(te,J,Sn,"ˆ","\\^"),j(te,J,Sn,"˜","\\~"),j(te,J,Sn,"ˉ","\\="),j(te,J,Sn,"˘","\\u"),j(te,J,Sn,"˙","\\."),j(te,J,Sn,"¸","\\c"),j(te,J,Sn,"˚","\\r"),j(te,J,Sn,"ˇ","\\v"),j(te,J,Sn,"¨",'\\"'),j(te,J,Sn,"˝","\\H"),j(te,J,Sn,"◯","\\textcircled");var UJ={"--":!0,"---":!0,"``":!0,"''":!0};j(te,J,Lt,"–","--",!0),j(te,J,Lt,"–","\\textendash"),j(te,J,Lt,"—","---",!0),j(te,J,Lt,"—","\\textemdash"),j(te,J,Lt,"‘","`",!0),j(te,J,Lt,"‘","\\textquoteleft"),j(te,J,Lt,"’","'",!0),j(te,J,Lt,"’","\\textquoteright"),j(te,J,Lt,"“","``",!0),j(te,J,Lt,"“","\\textquotedblleft"),j(te,J,Lt,"”","''",!0),j(te,J,Lt,"”","\\textquotedblright"),j(q,J,Lt,"°","\\degree",!0),j(te,J,Lt,"°","\\degree"),j(te,J,Lt,"°","\\textdegree",!0),j(q,J,Lt,"£","\\pounds"),j(q,J,Lt,"£","\\mathsterling",!0),j(te,J,Lt,"£","\\pounds"),j(te,J,Lt,"£","\\textsterling",!0),j(q,vt,Lt,"✠","\\maltese"),j(te,vt,Lt,"✠","\\maltese");for(var b8t='0123456789/@."',fk=0;fk<14;fk++){var XD=b8t.charAt(fk);j(q,J,Lt,XD,XD)}for(var x8t='0123456789!@*()-=+";:?/.,',gk=0;gk<25;gk++){var KD=x8t.charAt(gk);j(te,J,Lt,KD,KD)}for(var qJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",mk=0;mk<52;mk++){var Vv=qJ.charAt(mk);j(q,J,Je,Vv,Vv),j(te,J,Lt,Vv,Vv)}j(q,vt,Lt,"C","ℂ"),j(te,vt,Lt,"C","ℂ"),j(q,vt,Lt,"H","ℍ"),j(te,vt,Lt,"H","ℍ"),j(q,vt,Lt,"N","ℕ"),j(te,vt,Lt,"N","ℕ"),j(q,vt,Lt,"P","ℙ"),j(te,vt,Lt,"P","ℙ"),j(q,vt,Lt,"Q","ℚ"),j(te,vt,Lt,"Q","ℚ"),j(q,vt,Lt,"R","ℝ"),j(te,vt,Lt,"R","ℝ"),j(q,vt,Lt,"Z","ℤ"),j(te,vt,Lt,"Z","ℤ"),j(q,J,Je,"h","ℎ"),j(te,J,Je,"h","ℎ");for(var Hr="",Po=0;Po<52;Po++){var Pn=qJ.charAt(Po);j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56320+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56372+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56424+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56580+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56684+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56736+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56788+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56840+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56944+Po)),j(te,J,Lt,Pn,Hr),Po<26&&(j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56632+Po)),j(te,J,Lt,Pn,Hr),j(q,J,Je,Pn,Hr=String.fromCharCode(55349,56476+Po)),j(te,J,Lt,Pn,Hr))}j(q,J,Je,"k",Hr="𝕜"),j(te,J,Lt,"k",Hr);for(var Ch=0;Ch<10;Ch++){var ru=Ch.toString();j(q,J,Je,ru,Hr=String.fromCharCode(55349,57294+Ch)),j(te,J,Lt,ru,Hr),j(q,J,Je,ru,Hr=String.fromCharCode(55349,57314+Ch)),j(te,J,Lt,ru,Hr),j(q,J,Je,ru,Hr=String.fromCharCode(55349,57324+Ch)),j(te,J,Lt,ru,Hr),j(q,J,Je,ru,Hr=String.fromCharCode(55349,57334+Ch)),j(te,J,Lt,ru,Hr)}for(var GJ="ÐÞþ",yk=0;yk<3;yk++){var Yv=GJ.charAt(yk);j(q,J,Je,Yv,Yv),j(te,J,Lt,Yv,Yv)}var Xv=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ZD=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],pb=function(t,e,r){return xn[r][t]&&xn[r][t].replace&&(t=xn[r][t].replace),{value:t,metrics:_7(t,e,r)}},Ns=function(t,e,r,n,i){var o,a=pb(t,e,r),s=a.metrics;if(t=a.value,s){var l=s.italic;(r==="text"||n&&n.font==="mathit")&&(l=0),o=new ks(t,s.height,s.depth,l,s.skew,s.width,i)}else typeof console<"u"&&console.warn("No character metrics for '"+t+"' in style '"+e+"' and mode '"+r+"'"),o=new ks(t,0,0,0,0,0,i);if(n){o.maxFontSize=n.sizeMultiplier,n.style.isTight()&&o.classes.push("mtight");var u=n.getColor();u&&(o.style.color=u)}return o},w8t=(t,e)=>{if(rh(t.classes)!==rh(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},A7=function(t){for(var e=0,r=0,n=0,i=0;i<t.children.length;i++){var o=t.children[i];o.height>e&&(e=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>n&&(n=o.maxFontSize)}t.height=e,t.depth=r,t.maxFontSize=n},aa=function(t,e,r,n){var i=new By(t,e,r,n);return A7(i),i},QD=(t,e,r,n)=>new By(t,e,r,n),JD=function(t){var e=new My(t);return A7(e),e},Kv=function(t,e,r){var n="";switch(t){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=t}return n+"-"+(e==="textbf"&&r==="textit"?"BoldItalic":e==="textbf"?"Bold":e==="textit"?"Italic":"Regular")},tO={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},eO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},zt={fontMap:tO,makeSymbol:Ns,mathsym:function(t,e,r,n){return n===void 0&&(n=[]),r.font==="boldsymbol"&&pb(t,"Main-Bold",e).metrics?Ns(t,"Main-Bold",e,r,n.concat(["mathbf"])):t==="\\"||xn[e][t].font==="main"?Ns(t,"Main-Regular",e,r,n):Ns(t,"AMS-Regular",e,r,n.concat(["amsrm"]))},makeSpan:aa,makeSvgSpan:QD,makeLineSpan:function(t,e,r){var n=aa([t],[],e);return n.height=Math.max(r||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),n.style.borderBottomWidth=ye(n.height),n.maxFontSize=1,n},makeAnchor:function(t,e,r,n){var i=new S7(t,e,r,n);return A7(i),i},makeFragment:JD,wrapFragment:function(t,e){return t instanceof My?aa([],[t],e):t},makeVList:function(t,e){for(var{children:r,depth:n}=function(A){if(A.positionType==="individualShift"){for(var C=A.children,D=[C[0]],E=-C[0].shift-C[0].elem.depth,$=E,I=1;I<C.length;I++){var L=-C[I].shift-$-C[I].elem.depth,O=L-(C[I-1].elem.height+C[I-1].elem.depth);$+=L,D.push({type:"kern",size:O}),D.push(C[I])}return{children:D,depth:E}}var B;if(A.positionType==="top"){for(var R=A.positionData,M=0;M<A.children.length;M++){var F=A.children[M];R-=F.type==="kern"?F.size:F.elem.height+F.elem.depth}B=R}else if(A.positionType==="bottom")B=-A.positionData;else{var P=A.children[0];if(P.type!=="elem")throw new Error('First child must have type "elem".');if(A.positionType==="shift")B=-P.elem.depth-A.positionData;else{if(A.positionType!=="firstBaseline")throw new Error("Invalid positionType "+A.positionType+".");B=-P.elem.depth}}return{children:A.children,depth:B}}(t),i=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var s=a.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var l=aa(["pstrut"],[]);l.style.height=ye(i);for(var u=[],h=n,d=n,p=n,f=0;f<r.length;f++){var g=r[f];if(g.type==="kern")p+=g.size;else{var m=g.elem,y=g.wrapperClasses||[],v=g.wrapperStyle||{},x=aa(y,[l,m],void 0,v);x.style.top=ye(-i-p-m.depth),g.marginLeft&&(x.style.marginLeft=g.marginLeft),g.marginRight&&(x.style.marginRight=g.marginRight),u.push(x),p+=m.height+m.depth}h=Math.min(h,p),d=Math.max(d,p)}var b,k=aa(["vlist"],u);if(k.style.height=ye(d),h<0){var N=aa([],[]),_=aa(["vlist"],[N]);_.style.height=ye(-h);var S=aa(["vlist-s"],[new ks("​")]);b=[aa(["vlist-r"],[k,S]),aa(["vlist-r"],[_])]}else b=[aa(["vlist-r"],[k])];var T=aa(["vlist-t"],b);return b.length===2&&T.classes.push("vlist-t2"),T.height=d,T.depth=-h,T},makeOrd:function(t,e,r){var n=t.mode,i=t.text,o=["mord"],a=n==="math"||n==="text"&&e.font,s=a?e.font:e.fontFamily,l="",u="";if(i.charCodeAt(0)===55349&&([l,u]=function(b,k){var N=1024*(b.charCodeAt(0)-55296)+(b.charCodeAt(1)-56320)+65536,_=k==="math"?0:1;if(119808<=N&&N<120484){var S=Math.floor((N-119808)/26);return[Xv[S][2],Xv[S][_]]}if(120782<=N&&N<=120831){var T=Math.floor((N-120782)/10);return[ZD[T][2],ZD[T][_]]}if(N===120485||N===120486)return[Xv[0][2],Xv[0][_]];if(120486<N&&N<120782)return["",""];throw new ue("Unsupported character: "+b)}(i,n)),l.length>0)return Ns(i,l,n,e,o.concat(u));if(s){var h,d;if(s==="boldsymbol"){var p=function(b,k,N,_,S){return S!=="textord"&&pb(b,"Math-BoldItalic",k).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,n,0,0,r);h=p.fontName,d=[p.fontClass]}else a?(h=tO[s].fontName,d=[s]):(h=Kv(s,e.fontWeight,e.fontShape),d=[s,e.fontWeight,e.fontShape]);if(pb(i,h,n).metrics)return Ns(i,h,n,e,o.concat(d));if(UJ.hasOwnProperty(i)&&h.slice(0,10)==="Typewriter"){for(var f=[],g=0;g<i.length;g++)f.push(Ns(i[g],h,n,e,o.concat(d)));return JD(f)}}if(r==="mathord")return Ns(i,"Math-Italic",n,e,o.concat(["mathnormal"]));if(r==="textord"){var m=xn[n][i]&&xn[n][i].font;if(m==="ams"){var y=Kv("amsrm",e.fontWeight,e.fontShape);return Ns(i,y,n,e,o.concat("amsrm",e.fontWeight,e.fontShape))}if(m!=="main"&&m){var v=Kv(m,e.fontWeight,e.fontShape);return Ns(i,v,n,e,o.concat(v,e.fontWeight,e.fontShape))}var x=Kv("textrm",e.fontWeight,e.fontShape);return Ns(i,x,n,e,o.concat(e.fontWeight,e.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},makeGlue:(t,e)=>{var r=aa(["mspace"],[],e),n=Rn(t,e);return r.style.marginRight=ye(n),r},staticSvg:function(t,e){var[r,n,i]=eO[t],o=new nh(r),a=new Fc([o],{width:ye(n),height:ye(i),style:"width:"+ye(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),s=QD(["overlay"],[a],e);return s.height=i,s.style.height=ye(i),s.style.width=ye(n),s},svgData:eO,tryCombineChars:t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof ks&&n instanceof ks&&w8t(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t}},Ln={number:3,unit:"mu"},$h={number:4,unit:"mu"},ic={number:5,unit:"mu"},k8t={mord:{mop:Ln,mbin:$h,mrel:ic,minner:Ln},mop:{mord:Ln,mop:Ln,mrel:ic,minner:Ln},mbin:{mord:$h,mop:$h,mopen:$h,minner:$h},mrel:{mord:ic,mop:ic,mopen:ic,minner:ic},mopen:{},mclose:{mop:Ln,mbin:$h,mrel:ic,minner:Ln},mpunct:{mord:Ln,mop:Ln,mrel:ic,mopen:Ln,mclose:Ln,mpunct:Ln,minner:Ln},minner:{mord:Ln,mop:Ln,mbin:$h,mrel:ic,mopen:Ln,mpunct:Ln,minner:Ln}},T8t={mord:{mop:Ln},mop:{mord:Ln,mop:Ln},mbin:{},mrel:{},mopen:{},mclose:{mop:Ln},mpunct:{},minner:{mop:Ln}},WJ={},Ox={},Mx={};function Ae(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)WJ[r[l]]=s;e&&(o&&(Ox[e]=o),a&&(Mx[e]=a))}function Od(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;Ae({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Bx=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Jn=function(t){return t.type==="ordgroup"?t.body:[t]},zc=zt.makeSpan,E8t=["leftmost","mbin","mopen","mrel","mop","mpunct"],_8t=["rightmost","mrel","mclose","mpunct"],S8t={display:er.DISPLAY,text:er.TEXT,script:er.SCRIPT,scriptscript:er.SCRIPTSCRIPT},A8t={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Si=function(t,e,r,n){n===void 0&&(n=[null,null]);for(var i=[],o=0;o<t.length;o++){var a=Pr(t[o],e);if(a instanceof My){var s=a.children;i.push(...s)}else i.push(a)}if(zt.tryCombineChars(i),!r)return i;var l=e;if(t.length===1){var u=t[0];u.type==="sizing"?l=e.havingSize(u.size):u.type==="styling"&&(l=e.havingStyle(S8t[u.style]))}var h=zc([n[0]||"leftmost"],[],e),d=zc([n[1]||"rightmost"],[],e),p=r==="root";return rO(i,(f,g)=>{var m=g.classes[0],y=f.classes[0];m==="mbin"&&Ke.contains(_8t,y)?g.classes[0]="mord":y==="mbin"&&Ke.contains(E8t,m)&&(f.classes[0]="mord")},{node:h},d,p),rO(i,(f,g)=>{var m=m6(g),y=m6(f),v=m&&y?f.hasClass("mtight")?T8t[m][y]:k8t[m][y]:null;if(v)return zt.makeGlue(v,l)},{node:h},d,p),i},rO=function t(e,r,n,i,o){i&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a],l=VJ(s);if(l)t(l.children,r,n,null,o);else{var u=!s.hasClass("mspace");if(u){var h=r(s,n.node);h&&(n.insertAfter?n.insertAfter(h):(e.unshift(h),a++))}u?n.node=s:o&&s.hasClass("newline")&&(n.node=zc(["leftmost"])),n.insertAfter=(d=>p=>{e.splice(d+1,0,p),a++})(a)}}i&&e.pop()},VJ=function(t){return t instanceof My||t instanceof S7||t instanceof By&&t.hasClass("enclosing")?t:null},C8t=function t(e,r){var n=VJ(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},m6=function(t,e){return t?(e&&(t=C8t(t,e)),A8t[t.classes[0]]||null):null},hm=function(t,e){var r=["nulldelimiter"].concat(t.baseSizingClasses());return zc(e.concat(r))},Pr=function(t,e,r){if(!t)return zc();if(Ox[t.type]){var n=Ox[t.type](t,e);if(r&&e.size!==r.size){n=zc(e.sizingClasses(r),[n],e);var i=e.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}throw new ue("Got group of unknown type: '"+t.type+"'")};function Zv(t,e){var r=zc(["base"],t,e),n=zc(["strut"]);return n.style.height=ye(r.height+r.depth),r.depth&&(n.style.verticalAlign=ye(-r.depth)),r.children.unshift(n),r}function y6(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n,i=Si(t,e,"root");i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var o,a=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var u=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(u=!0);u||(a.push(Zv(s,e)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Zv(s,e)),s=[]),a.push(i[l]));s.length>0&&a.push(Zv(s,e)),r?((o=Zv(Si(r,e,!0))).classes=["tag"],a.push(o)):n&&a.push(n);var h=zc(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),o){var d=o.children[0];d.style.height=ye(h.height+h.depth),h.depth&&(d.style.verticalAlign=ye(-h.depth))}return h}function YJ(t){return new My(t)}let Fa=class{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=rh(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Rl&&this.children[n+1]instanceof Rl){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Rl;)i+=this.children[++n].toText();e.appendChild(new Rl(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Ke.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Ke.escape(rh(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"}toText(){return this.children.map(e=>e.toText()).join("")}},Rl=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ke.escape(this.toText())}toText(){return this.text}};var ae={MathNode:Fa,TextNode:Rl,SpaceNode:class{constructor(t){this.width=void 0,this.character=void 0,this.width=t,this.character=t>=.05555&&t<=.05556?" ":t>=.1666&&t<=.1667?" ":t>=.2222&&t<=.2223?" ":t>=.2777&&t<=.2778?"  ":t>=-.05556&&t<=-.05555?" ⁣":t>=-.1667&&t<=-.1666?" ⁣":t>=-.2223&&t<=-.2222?" ⁣":t>=-.2778&&t<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ye(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ye(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:YJ},ys=function(t,e,r){return!xn[e][t]||!xn[e][t].replace||t.charCodeAt(0)===55349||UJ.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt")||(t=xn[e][t].replace),new ae.TextNode(t)},C7=function(t){return t.length===1?t[0]:new ae.MathNode("mrow",t)},v6=function(t,e){if(e.fontFamily==="texttt")return"monospace";if(e.fontFamily==="textsf")return e.fontShape==="textit"&&e.fontWeight==="textbf"?"sans-serif-bold-italic":e.fontShape==="textit"?"sans-serif-italic":e.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(e.fontShape==="textit"&&e.fontWeight==="textbf")return"bold-italic";if(e.fontShape==="textit")return"italic";if(e.fontWeight==="textbf")return"bold";var r=e.font;if(!r||r==="mathnormal")return null;var n=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var i=t.text;return Ke.contains(["\\imath","\\jmath"],i)?null:(xn[n][i]&&xn[n][i].replace&&(i=xn[n][i].replace),_7(i,zt.fontMap[r].fontName,n)?zt.fontMap[r].variant:null)};function vk(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Rl&&e.text==="."}if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Rl&&r.text===","}return!1}var xa=function(t,e,r){if(t.length===1){var n=ln(t[0],e);return r&&n instanceof Fa&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i,o=[],a=0;a<t.length;a++){var s=ln(t[a],e);if(s instanceof Fa&&i instanceof Fa){if(s.type==="mtext"&&i.type==="mtext"&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...s.children);continue}if(s.type==="mn"&&i.type==="mn"){i.children.push(...s.children);continue}if(vk(s)&&i.type==="mn"){i.children.push(...s.children);continue}if(s.type==="mn"&&vk(i))s.children=[...i.children,...s.children],o.pop();else if((s.type==="msup"||s.type==="msub")&&s.children.length>=1&&(i.type==="mn"||vk(i))){var l=s.children[0];l instanceof Fa&&l.type==="mn"&&(l.children=[...i.children,...l.children],o.pop())}else if(i.type==="mi"&&i.children.length===1){var u=i.children[0];if(u instanceof Rl&&u.text==="̸"&&(s.type==="mo"||s.type==="mi"||s.type==="mn")){var h=s.children[0];h instanceof Rl&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),o.pop())}}}o.push(s),i=s}return o},Hu=function(t,e,r){return C7(xa(t,e,r))},ln=function(t,e){if(!t)return new ae.MathNode("mrow");if(Mx[t.type])return Mx[t.type](t,e);throw new ue("Got group of unknown type: '"+t.type+"'")};function nO(t,e,r,n,i){var o,a=xa(t,r);o=a.length===1&&a[0]instanceof Fa&&Ke.contains(["mrow","mtable"],a[0].type)?a[0]:new ae.MathNode("mrow",a);var s=new ae.MathNode("annotation",[new ae.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new ae.MathNode("semantics",[o,s]),u=new ae.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return zt.makeSpan([h],[u])}var XJ=function(t){return new PJ({style:t.displayMode?er.DISPLAY:er.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},KJ=function(t,e){if(e.displayMode){var r=["katex-display"];e.leqno&&r.push("leqno"),e.fleqn&&r.push("fleqn"),t=zt.makeSpan(r,[t])}return t},$8t={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},N8t={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},I8t=function(t,e,r,n,i){var o,a=t.height+t.depth+r+n;if(/fbox|color|angl/.test(e)){if(o=zt.makeSpan(["stretchy",e],[],i),e==="fbox"){var s=i.color&&i.getColor();s&&(o.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(e)&&l.push(new g6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&l.push(new g6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Fc(l,{width:"100%",height:ye(a)});o=zt.makeSvgSpan([],[u],i)}return o.height=a,o.style.height=ye(a),o},Q4=function(t){var e=new ae.MathNode("mo",[new ae.TextNode($8t[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},J4=function(t,e){var{span:r,minWidth:n,height:i}=function(){var o=4e5,a=t.label.slice(1);if(Ke.contains(["widehat","widecheck","widetilde","utilde"],a)){var s,l,u,h=(y=t.base).type==="ordgroup"?y.body.length:1;if(h>5)a==="widehat"||a==="widecheck"?(s=420,o=2364,u=.42,l=a+"4"):(s=312,o=2340,u=.34,l="tilde4");else{var d=[1,1,2,2,3,3][h];a==="widehat"||a==="widecheck"?(o=[0,1062,2364,2364,2364][d],s=[0,239,300,360,420][d],u=[0,.24,.3,.3,.36,.42][d],l=a+d):(o=[0,600,1033,2339,2340][d],s=[0,260,286,306,312][d],u=[0,.26,.286,.3,.306,.34][d],l="tilde"+d)}var p=new nh(l),f=new Fc([p],{width:"100%",height:ye(u),viewBox:"0 0 "+o+" "+s,preserveAspectRatio:"none"});return{span:zt.makeSvgSpan([],[f],e),minWidth:0,height:u}}var g,m,y,v=[],x=N8t[a],[b,k,N]=x,_=N/1e3,S=b.length;if(S===1)g=["hide-tail"],m=[x[3]];else if(S===2)g=["halfarrow-left","halfarrow-right"],m=["xMinYMin","xMaxYMin"];else{if(S!==3)throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");g=["brace-left","brace-center","brace-right"],m=["xMinYMin","xMidYMin","xMaxYMin"]}for(var T=0;T<S;T++){var A=new nh(b[T]),C=new Fc([A],{width:"400em",height:ye(_),viewBox:"0 0 "+o+" "+N,preserveAspectRatio:m[T]+" slice"}),D=zt.makeSvgSpan([g[T]],[C],e);if(S===1)return{span:D,minWidth:k,height:_};D.style.height=ye(_),v.push(D)}return{span:zt.makeSpan(["stretchy"],v,e),minWidth:k,height:_}}();return r.height=i,r.style.height=ye(i),n>0&&(r.style.minWidth=ye(n)),r};function vr(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function bk(t){var e=Px(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Px(t){return t&&(t.type==="atom"||v8t.hasOwnProperty(t.type))?t:null}var b6=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(r=(n=vr(t.base,"accent")).base,t.base=r,i=function(y){if(y instanceof By)return y;throw new Error("Expected span<HtmlDomNode> but got "+String(y)+".")}(Pr(t,e)),t.base=n):r=(n=vr(t,"accent")).base;var o=Pr(r,e.havingCrampedStyle()),a=0;if(n.isShifty&&Ke.isCharacterBox(r)){var s=Ke.getBaseElem(r);a=YD(Pr(s,e.havingCrampedStyle())).skew}var l,u=n.label==="\\c",h=u?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight);if(n.isStretchy)l=J4(n,e),l=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+ye(2*a)+")",marginLeft:ye(2*a)}:void 0}]},e);else{var d,p;n.label==="\\vec"?(d=zt.staticSvg("vec",e),p=zt.svgData.vec[1]):((d=YD(d=zt.makeOrd({mode:n.mode,text:n.label},e,"textord"))).italic=0,p=d.width,u&&(h+=d.depth)),l=zt.makeSpan(["accent-body"],[d]);var f=n.label==="\\textcircled";f&&(l.classes.push("accent-full"),h=o.height);var g=a;f||(g-=p/2),l.style.left=ye(g),n.label==="\\textcircled"&&(l.style.top=".2em"),l=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-h},{type:"elem",elem:l}]},e)}var m=zt.makeSpan(["mord","accent"],[l],e);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},iO=(t,e)=>{var r=t.isStretchy?Q4(t.label):new ae.MathNode("mo",[ys(t.label,t.mode)]),n=new ae.MathNode("mover",[ln(t.base,e),r]);return n.setAttribute("accent","true"),n},L8t=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Ae({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Bx(e[0]),n=!L8t.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:b6,mathmlBuilder:iO}),Ae({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:b6,mathmlBuilder:iO}),Ae({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Pr(t.base,e),n=J4(t,e),i=t.label==="\\utilde"?.12:0,o=zt.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return zt.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var r=Q4(t.label),n=new ae.MathNode("munder",[ln(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var Qv=t=>{var e=new ae.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ae({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r,n=e.style,i=e.havingStyle(n.sup()),o=zt.wrapFragment(Pr(t.body,i,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(a+"-arrow-pad"),t.below&&(i=e.havingStyle(n.sub()),(r=zt.wrapFragment(Pr(t.below,i,e),e)).classes.push(a+"-arrow-pad"));var s,l=J4(t,e),u=-e.fontMetrics().axisHeight+.5*l.height,h=-e.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||t.label==="\\xleftequilibrium")&&(h-=o.depth),r){var d=-e.fontMetrics().axisHeight+r.height+.5*l.height+.111;s=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:h},{type:"elem",elem:l,shift:u},{type:"elem",elem:r,shift:d}]},e)}else s=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:h},{type:"elem",elem:l,shift:u}]},e);return s.children[0].children[0].children[1].classes.push("svg-align"),zt.makeSpan(["mrel","x-arrow"],[s],e)},mathmlBuilder(t,e){var r,n=Q4(t.label);if(n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em"),t.body){var i=Qv(ln(t.body,e));if(t.below){var o=Qv(ln(t.below,e));r=new ae.MathNode("munderover",[n,o,i])}else r=new ae.MathNode("mover",[n,i])}else if(t.below){var a=Qv(ln(t.below,e));r=new ae.MathNode("munder",[n,a])}else r=Qv(),r=new ae.MathNode("mover",[n,r]);return r}});var R8t=zt.makeSpan;function ZJ(t,e){var r=Si(t.body,e,!0);return R8t([t.mclass],r,e)}function QJ(t,e){var r,n=xa(t.body,e);return t.mclass==="minner"?r=new ae.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0]).type="mi":r=new ae.MathNode("mi",n):(t.isCharacterBox?(r=n[0]).type="mo":r=new ae.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Ae({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Jn(i),isCharacterBox:Ke.isCharacterBox(i)}},htmlBuilder:ZJ,mathmlBuilder:QJ});var fb=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type!=="atom"||e.family!=="bin"&&e.family!=="rel"?"mord":"m"+e.family};Ae({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:fb(e[0]),body:Jn(e[1]),isCharacterBox:Ke.isCharacterBox(e[1])}}}),Ae({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var r,{parser:n,funcName:i}=t,o=e[1],a=e[0];r=i!=="\\stackrel"?fb(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Jn(o)},l={type:"supsub",mode:a.mode,base:s,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:r,body:[l],isCharacterBox:Ke.isCharacterBox(l)}},htmlBuilder:ZJ,mathmlBuilder:QJ}),Ae({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:fb(e[0]),body:Jn(e[0])}},htmlBuilder(t,e){var r=Si(t.body,e,!0),n=zt.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=xa(t.body,e),n=new ae.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var D8t={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},oO=t=>t.type==="textord"&&t.text==="@";function O8t(t,e,r){var n=D8t[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:n,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[e[0]],[]),r.callFunction("\\Big",[i],[]),r.callFunction("\\\\cdright",[e[1]],[])]};return r.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}Ae({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=zt.wrapFragment(Pr(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ye(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new ae.MathNode("mrow",[ln(t.label,e)]);return(r=new ae.MathNode("mpadded",[r])).setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new ae.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),Ae({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=zt.wrapFragment(Pr(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:(t,e)=>new ae.MathNode("mrow",[ln(t.fragment,e)])}),Ae({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=vr(e[0],"ordgroup").body,i="",o=0;o<n.length;o++)i+=vr(n[o],"textord").text;var a,s=parseInt(i);if(isNaN(s))throw new ue("\\@char has non-numeric argument "+i);if(s<0||s>=1114111)throw new ue("\\@char with invalid code point "+i);return s<=65535?a=String.fromCharCode(s):(s-=65536,a=String.fromCharCode(55296+(s>>10),56320+(1023&s))),{type:"textord",mode:r.mode,text:a}}});var aO=(t,e)=>{var r=Si(t.body,e.withColor(t.color),!1);return zt.makeFragment(r)},sO=(t,e)=>{var r=xa(t.body,e.withColor(t.color)),n=new ae.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};Ae({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=vr(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Jn(i)}},htmlBuilder:aO,mathmlBuilder:sO}),Ae({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=vr(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:aO,mathmlBuilder:sO}),Ae({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&vr(i,"size").value}},htmlBuilder(t,e){var r=zt.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=ye(Rn(t.size,e)))),r},mathmlBuilder(t,e){var r=new ae.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",ye(Rn(t.size,e)))),r}});var xk={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},lO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ue("Expected a control sequence",t);return e},cO=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};Ae({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(xk[n.text])return r!=="\\global"&&r!=="\\\\globallong"||(n.text=xk[n.text]),vr(e.parseFunction(),"internal");throw new ue("Invalid token after macro prefix",n)}}),Ae({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ue("Expected a control sequence",n);for(var o,a=0,s=[[]];e.gullet.future().text!=="{";)if((n=e.gullet.popToken()).text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),s[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new ue('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new ue('Argument number "'+n.text+'" out of order');a++,s.push([])}else{if(n.text==="EOF")throw new ue("Expected a macro definition");s[a].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),r!=="\\edef"&&r!=="\\xdef"||(l=e.gullet.expandTokens(l)).reverse(),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:s},r===xk[r]),{type:"internal",mode:e.mode}}}),Ae({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=lO(e.gullet.popToken());e.gullet.consumeSpaces();var i=(o=>{var a=o.gullet.popToken();return a.text==="="&&(a=o.gullet.popToken()).text===" "&&(a=o.gullet.popToken()),a})(e);return cO(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}}),Ae({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=lO(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return cO(e,n,o,r==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var L1=function(t,e,r){var n=_7(xn.math[t]&&xn.math[t].replace||t,e,r);if(!n)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return n},$7=function(t,e,r,n){var i=r.havingBaseStyle(e),o=zt.makeSpan(n.concat(i.sizingClasses(r)),[t],r),a=i.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},JJ=function(t,e,r){var n=e.havingBaseStyle(r),i=(1-e.sizeMultiplier/n.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ye(i),t.height-=i,t.depth+=i},ttt=function(t,e,r,n,i,o){var a=function(l,u,h,d){return zt.makeSymbol(l,"Size"+u+"-Regular",h,d)}(t,e,i,n),s=$7(zt.makeSpan(["delimsizing","size"+e],[a],n),er.TEXT,n,o);return r&&JJ(s,n,er.TEXT),s},wk=function(t,e,r){var n;return n=e==="Size1-Regular"?"delim-size1":"delim-size4",{type:"elem",elem:zt.makeSpan(["delimsizinginner",n],[zt.makeSpan([],[zt.makeSymbol(t,e,r)])])}},kk=function(t,e,r){var n=Ll["Size4-Regular"][t.charCodeAt(0)]?Ll["Size4-Regular"][t.charCodeAt(0)][4]:Ll["Size1-Regular"][t.charCodeAt(0)][4],i=new nh("inner",function(s,l){switch(s){case"⎜":return"M291 0 H417 V"+l+" H291z M291 0 H417 V"+l+" H291z";case"∣":return"M145 0 H188 V"+l+" H145z M145 0 H188 V"+l+" H145z";case"∥":return"M145 0 H188 V"+l+" H145z M145 0 H188 V"+l+" H145zM367 0 H410 V"+l+" H367z M367 0 H410 V"+l+" H367z";case"⎟":return"M457 0 H583 V"+l+" H457z M457 0 H583 V"+l+" H457z";case"⎢":return"M319 0 H403 V"+l+" H319z M319 0 H403 V"+l+" H319z";case"⎥":return"M263 0 H347 V"+l+" H263z M263 0 H347 V"+l+" H263z";case"⎪":return"M384 0 H504 V"+l+" H384z M384 0 H504 V"+l+" H384z";case"⏐":return"M312 0 H355 V"+l+" H312z M312 0 H355 V"+l+" H312z";case"‖":return"M257 0 H300 V"+l+" H257z M257 0 H300 V"+l+" H257zM478 0 H521 V"+l+" H478z M478 0 H521 V"+l+" H478z";default:return""}}(t,Math.round(1e3*e))),o=new Fc([i],{width:ye(n),height:ye(e),style:"width:"+ye(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),a=zt.makeSvgSpan([],[o],r);return a.height=e,a.style.height=ye(e),a.style.width=ye(n),{type:"elem",elem:a}},Jv={type:"kern",size:-.008},M8t=["|","\\lvert","\\rvert","\\vert"],B8t=["\\|","\\lVert","\\rVert","\\Vert"],ett=function(t,e,r,n,i,o){var a,s,l,u,h="",d=0;a=l=u=t,s=null;var p="Size1-Regular";t==="\\uparrow"?l=u="⏐":t==="\\Uparrow"?l=u="‖":t==="\\downarrow"?a=l="⏐":t==="\\Downarrow"?a=l="‖":t==="\\updownarrow"?(a="\\uparrow",l="⏐",u="\\downarrow"):t==="\\Updownarrow"?(a="\\Uparrow",l="‖",u="\\Downarrow"):Ke.contains(M8t,t)?(l="∣",h="vert",d=333):Ke.contains(B8t,t)?(l="∥",h="doublevert",d=556):t==="["||t==="\\lbrack"?(a="⎡",l="⎢",u="⎣",p="Size4-Regular",h="lbrack",d=667):t==="]"||t==="\\rbrack"?(a="⎤",l="⎥",u="⎦",p="Size4-Regular",h="rbrack",d=667):t==="\\lfloor"||t==="⌊"?(l=a="⎢",u="⎣",p="Size4-Regular",h="lfloor",d=667):t==="\\lceil"||t==="⌈"?(a="⎡",l=u="⎢",p="Size4-Regular",h="lceil",d=667):t==="\\rfloor"||t==="⌋"?(l=a="⎥",u="⎦",p="Size4-Regular",h="rfloor",d=667):t==="\\rceil"||t==="⌉"?(a="⎤",l=u="⎥",p="Size4-Regular",h="rceil",d=667):t==="("||t==="\\lparen"?(a="⎛",l="⎜",u="⎝",p="Size4-Regular",h="lparen",d=875):t===")"||t==="\\rparen"?(a="⎞",l="⎟",u="⎠",p="Size4-Regular",h="rparen",d=875):t==="\\{"||t==="\\lbrace"?(a="⎧",s="⎨",u="⎩",l="⎪",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a="⎫",s="⎬",u="⎭",l="⎪",p="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(a="⎧",u="⎩",l="⎪",p="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(a="⎫",u="⎭",l="⎪",p="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(a="⎧",u="⎭",l="⎪",p="Size4-Regular"):t!=="\\rmoustache"&&t!=="⎱"||(a="⎫",u="⎩",l="⎪",p="Size4-Regular");var f=L1(a,p,i),g=f.height+f.depth,m=L1(l,p,i),y=m.height+m.depth,v=L1(u,p,i),x=v.height+v.depth,b=0,k=1;if(s!==null){var N=L1(s,p,i);b=N.height+N.depth,k=2}var _=g+x+b,S=_+Math.max(0,Math.ceil((e-_)/(k*y)))*k*y,T=n.fontMetrics().axisHeight;r&&(T*=n.sizeMultiplier);var A=S/2-T,C=[];if(h.length>0){var D=S-g-x,E=Math.round(1e3*S),$=function(W,Q){switch(W){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+Q+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+Q+" v1759 h84z";case"vert":return"M145 15 v585 v"+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Q+" v585 h43z";case"doublevert":return"M145 15 v585 v"+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Q+` v585 h43z
M367 15 v585 v`+Q+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Q+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+Q+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+Q+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+Q+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+Q+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+Q+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+` v602 h84z
M403 1759 V0 H319 V1759 v`+Q+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+` v602 h84z
M347 1759 V0 h-84 V1759 v`+Q+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(Q+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(Q+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(Q+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(Q+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}}(h,Math.round(1e3*D)),I=new nh(h,$),L=(d/1e3).toFixed(3)+"em",O=(E/1e3).toFixed(3)+"em",B=new Fc([I],{width:L,height:O,viewBox:"0 0 "+d+" "+E}),R=zt.makeSvgSpan([],[B],n);R.height=E/1e3,R.style.width=L,R.style.height=O,C.push({type:"elem",elem:R})}else{if(C.push(wk(u,p,i)),C.push(Jv),s===null){var M=S-g-x+.016;C.push(kk(l,M,n))}else{var F=(S-g-x-b)/2+.016;C.push(kk(l,F,n)),C.push(Jv),C.push(wk(s,p,i)),C.push(Jv),C.push(kk(l,F,n))}C.push(Jv),C.push(wk(a,p,i))}var P=n.havingBaseStyle(er.TEXT),U=zt.makeVList({positionType:"bottom",positionData:A,children:C},P);return $7(zt.makeSpan(["delimsizing","mult"],[U],P),er.TEXT,n,o)},Tk=.08,Ek=function(t,e,r,n,i){var o=function(l,u,h){u*=1e3;var d="";switch(l){case"sqrtMain":d=function(p,f){return"M95,"+(622+p+f)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+p/2.075+" -"+p+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+p)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+p)+" "+f+"h400000v"+(40+p)+"h-400000z"}(u,wp);break;case"sqrtSize1":d=function(p,f){return"M263,"+(601+p+f)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+p/2.084+" -"+p+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+p)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+p)+" "+f+"h400000v"+(40+p)+"h-400000z"}(u,wp);break;case"sqrtSize2":d=function(p,f){return"M983 "+(10+p+f)+`
l`+p/3.13+" -"+p+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+p)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+p)+" "+f+"h400000v"+(40+p)+"h-400000z"}(u,wp);break;case"sqrtSize3":d=function(p,f){return"M424,"+(2398+p+f)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+p/4.223+" -"+p+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+p)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+p)+" "+f+`
h400000v`+(40+p)+"h-400000z"}(u,wp);break;case"sqrtSize4":d=function(p,f){return"M473,"+(2713+p+f)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+p/5.298+" -"+p+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+p)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+p)+" "+f+"h400000v"+(40+p)+"H1017.7z"}(u,wp);break;case"sqrtTall":d=function(p,f,g){return"M702 "+(p+f)+"H400000"+(40+p)+`
H742v`+(g-54-f-p)+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+f+"H400000v"+(40+p)+"H742z"}(u,wp,h)}return d}(t,n,r),a=new nh(t,o),s=new Fc([a],{width:"400em",height:ye(e),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return zt.makeSvgSpan(["hide-tail"],[s],i)},rtt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],P8t=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],ntt=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],i1=[0,1.2,1.8,2.4,3],F8t=[{type:"small",style:er.SCRIPTSCRIPT},{type:"small",style:er.SCRIPT},{type:"small",style:er.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],z8t=[{type:"small",style:er.SCRIPTSCRIPT},{type:"small",style:er.SCRIPT},{type:"small",style:er.TEXT},{type:"stack"}],itt=[{type:"small",style:er.SCRIPTSCRIPT},{type:"small",style:er.SCRIPT},{type:"small",style:er.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],j8t=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},ott=function(t,e,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&r[i].type!=="stack";i++){var o=L1(t,j8t(r[i]),"math"),a=o.height+o.depth;if(r[i].type==="small"&&(a*=n.havingBaseStyle(r[i].style).sizeMultiplier),a>e)return r[i]}return r[r.length-1]},uO=function(t,e,r,n,i,o){var a;t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":t!==">"&&t!=="\\gt"&&t!=="⟩"||(t="\\rangle"),a=Ke.contains(ntt,t)?F8t:Ke.contains(rtt,t)?itt:z8t;var s=ott(t,e,a,n);return s.type==="small"?function(l,u,h,d,p,f){var g=zt.makeSymbol(l,"Main-Regular",p,d),m=$7(g,u,d,f);return h&&JJ(m,d,u),m}(t,s.style,r,n,i,o):s.type==="large"?ttt(t,s.size,r,n,i,o):ett(t,e,r,n,i,o)},gc={sqrtImage:function(t,e){var r,n,i=e.havingBaseSizing(),o=ott("\\surd",t*i.sizeMultiplier,itt,i),a=i.sizeMultiplier,s=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),l=0,u=0,h=0;return o.type==="small"?(t<1?a=1:t<1.4&&(a=.7),u=(1+s)/a,(r=Ek("sqrtMain",l=(1+s+Tk)/a,h=1e3+1e3*s+80,s,e)).style.minWidth="0.853em",n=.833/a):o.type==="large"?(h=1080*i1[o.size],u=(i1[o.size]+s)/a,l=(i1[o.size]+s+Tk)/a,(r=Ek("sqrtSize"+o.size,l,h,s,e)).style.minWidth="1.02em",n=1/a):(l=t+s+Tk,u=t+s,h=Math.floor(1e3*t+s)+80,(r=Ek("sqrtTall",l,h,s,e)).style.minWidth="0.742em",n=1.056),r.height=u,r.style.height=ye(l),{span:r,advanceWidth:n,ruleWidth:(e.fontMetrics().sqrtRuleThickness+s)*a}},sizedDelim:function(t,e,r,n,i){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":t!==">"&&t!=="\\gt"&&t!=="⟩"||(t="\\rangle"),Ke.contains(rtt,t)||Ke.contains(ntt,t))return ttt(t,e,!1,r,n,i);if(Ke.contains(P8t,t))return ett(t,i1[e],!1,r,n,i);throw new ue("Illegal delimiter: '"+t+"'")},sizeToMaxHeight:i1,customSizedDelim:uO,leftRightDelim:function(t,e,r,n,i,o){var a=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(e-a,r+a),u=Math.max(l/500*901,2*l-s);return uO(t,u,!0,n,i,o)}},hO={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},H8t=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function t2(t,e){var r=Px(t);if(r&&Ke.contains(H8t,r.text))return r;throw new ue(r?"Invalid delimiter '"+r.text+"' after '"+e.funcName+"'":"Invalid delimiter type '"+t.type+"'",t)}function dO(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ae({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=t2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:hO[t.funcName].size,mclass:hO[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?zt.makeSpan([t.mclass]):gc.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ys(t.delim,t.mode));var r=new ae.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ye(gc.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}}),Ae({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new ue("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:t2(e[0],t).text,color:r}}}),Ae({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t2(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=vr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{dO(t);for(var r,n,i=Si(t.body,e,!0,["mopen","mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));if(o*=e.sizeMultiplier,a*=e.sizeMultiplier,r=t.left==="."?hm(e,["mopen"]):gc.leftRightDelim(t.left,o,a,e,t.mode,["mopen"]),i.unshift(r),s)for(var u=1;u<i.length;u++){var h=i[u].isMiddle;h&&(i[u]=gc.leftRightDelim(h.delim,o,a,h.options,t.mode,[]))}if(t.right===".")n=hm(e,["mclose"]);else{var d=t.rightColor?e.withColor(t.rightColor):e;n=gc.leftRightDelim(t.right,o,a,d,t.mode,["mclose"])}return i.push(n),zt.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{dO(t);var r=xa(t.body,e);if(t.left!=="."){var n=new ae.MathNode("mo",[ys(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new ae.MathNode("mo",[ys(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return C7(r)}}),Ae({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t2(e[0],t);if(!t.parser.leftrightDepth)throw new ue("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=hm(e,[]);else{r=gc.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?ys("|","text"):ys(t.delim,t.mode),n=new ae.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var _k=(t,e)=>{var r,n,i,o=zt.wrapFragment(Pr(t.body,e),e),a=t.label.slice(1),s=e.sizeMultiplier,l=0,u=Ke.isCharacterBox(t.body);if(a==="sout")(r=zt.makeSpan(["stretchy","sout"])).height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if(a==="phase"){var h=Rn({number:.6,unit:"pt"},e),d=Rn({number:.35,unit:"ex"},e);s/=e.havingBaseSizing().sizeMultiplier;var p=o.height+o.depth+h+d;o.style.paddingLeft=ye(p/2+h);var f=Math.floor(1e3*p*s),g="M400000 "+(n=f)+" H0 L"+n/2+" 0 l65 45 L145 "+(n-80)+" H400000z",m=new Fc([new nh("phase",g)],{width:"400em",height:ye(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});(r=zt.makeSvgSpan(["hide-tail"],[m],e)).style.height=ye(p),l=o.depth+h+d}else{/cancel/.test(a)?u||o.classes.push("cancel-pad"):a==="angl"?o.classes.push("anglpad"):o.classes.push("boxpad");var y=0,v=0,x=0;/box/.test(a)?(x=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),v=y=e.fontMetrics().fboxsep+(a==="colorbox"?0:x)):a==="angl"?(y=4*(x=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness)),v=Math.max(0,.25-o.depth)):v=y=u?.2:0,r=I8t(o,a,y,v,e),/fbox|boxed|fcolorbox/.test(a)?(r.style.borderStyle="solid",r.style.borderWidth=ye(x)):a==="angl"&&x!==.049&&(r.style.borderTopWidth=ye(x),r.style.borderRightWidth=ye(x)),l=o.depth+v,t.backgroundColor&&(r.style.backgroundColor=t.backgroundColor,t.borderColor&&(r.style.borderColor=t.borderColor))}if(t.backgroundColor)i=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:l},{type:"elem",elem:o,shift:0}]},e);else{var b=/cancel|phase/.test(a)?["svg-align"]:[];i=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:r,shift:l,wrapperClasses:b}]},e)}return/cancel/.test(a)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(a)&&!u?zt.makeSpan(["mord","cancel-lap"],[i],e):zt.makeSpan(["mord"],[i],e)},Sk=(t,e)=>{var r=0,n=new ae.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ln(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Ae({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=vr(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:_k,mathmlBuilder:Sk}),Ae({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=vr(e[0],"color-token").color,a=vr(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:_k,mathmlBuilder:Sk}),Ae({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}}),Ae({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:_k,mathmlBuilder:Sk}),Ae({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var att={};function yl(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)att[r[l]]=s;o&&(Ox[e]=o),a&&(Mx[e]=a)}var stt={};function it(t,e){stt[t]=e}function pO(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var gb=t=>{if(!t.parser.settings.displayMode)throw new ue("{"+t.envName+"} can be used only in display mode.")};function x6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function gu(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:d,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(!(a=parseFloat(f))||a<0)throw new ue("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var g=[],m=[g],y=[],v=[],x=l!=null?[]:void 0;function b(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new zl("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(b(),v.push(pO(t));;){var N=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),N={type:"ordgroup",mode:t.mode,body:N},r&&(N={type:"styling",mode:t.mode,style:r,body:[N]}),g.push(N);var _=t.fetch().text;if(_==="&"){if(d&&g.length===d){if(u||s)throw new ue("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else{if(_==="\\end"){k(),g.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(m.length>1||!h)&&m.pop(),v.length<m.length+1&&v.push([]);break}if(_!=="\\\\")throw new ue("Expected & or \\\\ or \\cr or \\end",t.nextToken);t.consume();var S=void 0;t.gullet.future().text!==" "&&(S=t.parseSizeGroup(!0)),y.push(S?S.value:null),k(),v.push(pO(t)),g=[],m.push(g),b()}}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:m,cols:o,rowGaps:y,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:s,tags:x,leqno:p}}function Ak(t){return t.slice(0,1)==="d"?"display":"text"}var vl=function(t,e){var r,n,i=t.body.length,o=t.hLinesBeforeRow,a=0,s=new Array(i),l=[],u=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),h=1/e.fontMetrics().ptPerEm,d=5*h;t.colSeparationType&&t.colSeparationType==="small"&&(d=e.havingStyle(er.SCRIPT).sizeMultiplier/e.sizeMultiplier*.2778);var p=t.colSeparationType==="CD"?Rn({number:3,unit:"ex"},e):12*h,f=3*h,g=t.arraystretch*p,m=.7*g,y=.3*g,v=0;function x(H){for(var ct=0;ct<H.length;++ct)ct>0&&(v+=.25),l.push({pos:v,isDashed:H[ct]})}for(x(o[0]),r=0;r<t.body.length;++r){var b=t.body[r],k=m,N=y;a<b.length&&(a=b.length);var _=new Array(b.length);for(n=0;n<b.length;++n){var S=Pr(b[n],e);N<S.depth&&(N=S.depth),k<S.height&&(k=S.height),_[n]=S}var T=t.rowGaps[r],A=0;T&&(A=Rn(T,e))>0&&(N<(A+=y)&&(N=A),A=0),t.addJot&&(N+=f),_.height=k,_.depth=N,v+=k,_.pos=v,v+=N+A,s[r]=_,x(o[r+1])}var C,D,E=v/2+e.fontMetrics().axisHeight,$=t.cols||[],I=[],L=[];if(t.tags&&t.tags.some(H=>H))for(r=0;r<i;++r){var O=s[r],B=O.pos-E,R=t.tags[r],M=void 0;(M=R===!0?zt.makeSpan(["eqn-num"],[],e):R===!1?zt.makeSpan([],[],e):zt.makeSpan([],Si(R,e,!0),e)).depth=O.depth,M.height=O.height,L.push({type:"elem",elem:M,shift:B})}for(n=0,D=0;n<a||D<$.length;++n,++D){for(var F=$[D]||{},P=!0;F.type==="separator";){if(P||((C=zt.makeSpan(["arraycolsep"],[])).style.width=ye(e.fontMetrics().doubleRuleSep),I.push(C)),F.separator!=="|"&&F.separator!==":")throw new ue("Invalid separator type: "+F.separator);var U=F.separator==="|"?"solid":"dashed",W=zt.makeSpan(["vertical-separator"],[],e);W.style.height=ye(v),W.style.borderRightWidth=ye(u),W.style.borderRightStyle=U,W.style.margin="0 "+ye(-u/2);var Q=v-E;Q&&(W.style.verticalAlign=ye(-Q)),I.push(W),F=$[++D]||{},P=!1}if(!(n>=a)){var K=void 0;(n>0||t.hskipBeforeAndAfter)&&(K=Ke.deflt(F.pregap,d))!==0&&((C=zt.makeSpan(["arraycolsep"],[])).style.width=ye(K),I.push(C));var G=[];for(r=0;r<i;++r){var V=s[r],rt=V[n];if(rt){var tt=V.pos-E;rt.depth=V.depth,rt.height=V.height,G.push({type:"elem",elem:rt,shift:tt})}}G=zt.makeVList({positionType:"individualShift",children:G},e),G=zt.makeSpan(["col-align-"+(F.align||"c")],[G]),I.push(G),(n<a-1||t.hskipBeforeAndAfter)&&(K=Ke.deflt(F.postgap,d))!==0&&((C=zt.makeSpan(["arraycolsep"],[])).style.width=ye(K),I.push(C))}}if(s=zt.makeSpan(["mtable"],I),l.length>0){for(var at=zt.makeLineSpan("hline",e,u),ut=zt.makeLineSpan("hdashline",e,u),st=[{type:"elem",elem:s,shift:0}];l.length>0;){var _t=l.pop(),X=_t.pos-E;_t.isDashed?st.push({type:"elem",elem:ut,shift:X}):st.push({type:"elem",elem:at,shift:X})}s=zt.makeVList({positionType:"individualShift",children:st},e)}if(L.length===0)return zt.makeSpan(["mord"],[s],e);var Et=zt.makeVList({positionType:"individualShift",children:L},e);return Et=zt.makeSpan(["tag"],[Et],e),zt.makeFragment([s,Et])},U8t={c:"center ",l:"left ",r:"right "},bl=function(t,e){for(var r=[],n=new ae.MathNode("mtd",[],["mtr-glue"]),i=new ae.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var a=t.body[o],s=[],l=0;l<a.length;l++)s.push(new ae.MathNode("mtd",[ln(a[l],e)]));t.tags&&t.tags[o]&&(s.unshift(n),s.push(n),t.leqno?s.unshift(i):s.push(i)),r.push(new ae.MathNode("mtr",s))}var u=new ae.MathNode("mtable",r),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);u.setAttribute("rowspacing",ye(h));var d="",p="";if(t.cols&&t.cols.length>0){var f=t.cols,g="",m=!1,y=0,v=f.length;f[0].type==="separator"&&(d+="top ",y=1),f[f.length-1].type==="separator"&&(d+="bottom ",v-=1);for(var x=y;x<v;x++)f[x].type==="align"?(p+=U8t[f[x].align],m&&(g+="none "),m=!0):f[x].type==="separator"&&m&&(g+=f[x].separator==="|"?"solid ":"dashed ",m=!1);u.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&u.setAttribute("columnlines",g.trim())}if(t.colSeparationType==="align"){for(var b=t.cols||[],k="",N=1;N<b.length;N++)k+=N%2?"0em ":"1em ";u.setAttribute("columnspacing",k.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var _="",S=t.hLinesBeforeRow;d+=S[0].length>0?"left ":"",d+=S[S.length-1].length>0?"right ":"";for(var T=1;T<S.length-1;T++)_+=S[T].length===0?"none ":S[T][0]?"dashed ":"solid ";return/[sd]/.test(_)&&u.setAttribute("rowlines",_.trim()),d!==""&&(u=new ae.MathNode("menclose",[u])).setAttribute("notation",d.trim()),t.arraystretch&&t.arraystretch<1&&(u=new ae.MathNode("mstyle",[u])).setAttribute("scriptlevel","1"),u},fO=function(t,e){t.envName.indexOf("ed")===-1&&gb(t);var r,n=[],i=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",a=gu(t.parser,{cols:n,addJot:!0,autoTag:o?void 0:x6(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&e[0].type==="ordgroup"){for(var u="",h=0;h<e[0].body.length;h++)u+=vr(e[0].body[h],"textord").text;r=Number(u),s=2*r}var d=!s;a.body.forEach(function(m){for(var y=1;y<m.length;y+=2){var v=vr(m[y],"styling");vr(v.body[0],"ordgroup").body.unshift(l)}if(d)s<m.length&&(s=m.length);else{var x=m.length/2;if(r<x)throw new ue("Too many math in a row: expected "+r+", but got "+x,m[0])}});for(var p=0;p<s;++p){var f="r",g=0;p%2==1?f="l":p>0&&d&&(g=1),n[p]={type:"align",align:f,pregap:g,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};yl({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=(Px(e[0])?[e[0]]:vr(e[0],"ordgroup").body).map(function(i){var o=bk(i).text;if("lcr".indexOf(o)!==-1)return{type:"align",align:o};if(o==="|")return{type:"separator",separator:"|"};if(o===":")return{type:"separator",separator:":"};throw new ue("Unknown column alignment: "+o,i)}),n={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return gu(t.parser,n,Ak(t.envName))},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new ue("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=gu(t.parser,n,Ak(t.envName)),a=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e=gu(t.parser,{arraystretch:.5},"script");return e.colSeparationType="small",e},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=(Px(e[0])?[e[0]]:vr(e[0],"ordgroup").body).map(function(i){var o=bk(i).text;if("lc".indexOf(o)!==-1)return{type:"align",align:o};throw new ue("Unknown column alignment: "+o,i)});if(r.length>1)throw new ue("{subarray} can contain only one column");var n={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((n=gu(t.parser,n,"script")).body.length>0&&n.body[0].length>1)throw new ue("{subarray} can contain only one column");return n},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e=gu(t.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Ak(t.envName));return{type:"leftright",mode:t.mode,body:[e],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:fO,htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Ke.contains(["gather","gather*"],t.envName)&&gb(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:x6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return gu(t.parser,e,"display")},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:fO,htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){gb(t);var e={autoTag:x6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return gu(t.parser,e,"display")},htmlBuilder:vl,mathmlBuilder:bl}),yl({type:"array",names:["CD"],props:{numArgs:0},handler:t=>(gb(t),function(e){var r=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){r.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n!=="&"&&n!=="\\\\"){if(n==="\\end"){r[r.length-1].length===0&&r.pop();break}throw new ue("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var i,o,a=[],s=[a],l=0;l<r.length;l++){for(var u=r[l],h={type:"styling",body:[],mode:"math",style:"display"},d=0;d<u.length;d++)if(oO(u[d])){a.push(h);var p=bk(u[d+=1]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(p)>-1)){if(!("<>AV".indexOf(p)>-1))throw new ue('Expected one of "<>AV=|." after @',u[d]);for(var g=0;g<2;g++){for(var m=!0,y=d+1;y<u.length;y++){if(o=p,((i=u[y]).type==="mathord"||i.type==="atom")&&i.text===o){m=!1,d=y;break}if(oO(u[y]))throw new ue("Missing a "+p+" character to complete a CD arrow.",u[y]);f[g].body.push(u[y])}if(m)throw new ue("Missing a "+p+" character to complete a CD arrow.",u[d])}}var v={type:"styling",body:[O8t(p,f,e)],mode:"math",style:"display"};a.push(v),h={type:"styling",body:[],mode:"math",style:"display"}}else h.body.push(u[d]);l%2==0?a.push(h):a.shift(),a=[],s.push(a)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}(t.parser)),htmlBuilder:vl,mathmlBuilder:bl}),it("\\nonumber","\\gdef\\@eqnsw{0}"),it("\\notag","\\nonumber"),Ae({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ue(t.funcName+" valid only within array environment")}});var gO=att;Ae({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new ue("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=vr(i.body[a],"textord").text;if(n==="\\begin"){if(!gO.hasOwnProperty(o))throw new ue("No such environment: "+o,i);var s=gO[o],{args:l,optArgs:u}=r.parseArguments("\\begin{"+o+"}",s),h={mode:r.mode,envName:o,parser:r},d=s.handler(h,l,u);r.expect("\\end",!1);var p=r.nextToken,f=vr(r.parseFunction(),"environment");if(f.name!==o)throw new ue("Mismatch: \\begin{"+o+"} matched by \\end{"+f.name+"}",p);return d}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var mO=(t,e)=>{var r=t.font,n=e.withFont(r);return Pr(t.body,n)},yO=(t,e)=>{var r=t.font,n=e.withFont(r);return ln(t.body,n)},vO={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ae({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=Bx(e[0]),o=n;return o in vO&&(o=vO[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},htmlBuilder:mO,mathmlBuilder:yO}),Ae({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=Ke.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:fb(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}}),Ae({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:o}=r,a=r.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:mO,mathmlBuilder:yO});var ltt=(t,e)=>{var r=e;return t==="display"?r=r.id>=er.SCRIPT.id?r.text():er.DISPLAY:t==="text"&&r.size===er.DISPLAY.size?r=er.TEXT:t==="script"?r=er.SCRIPT:t==="scriptscript"&&(r=er.SCRIPTSCRIPT),r},w6=(t,e)=>{var r,n=ltt(t.size,e.style),i=n.fracNum(),o=n.fracDen();r=e.havingStyle(i);var a=Pr(t.numer,r,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}r=e.havingStyle(o);var u,h,d,p,f,g,m,y,v,x,b=Pr(t.denom,r,e);if(t.hasBarLine?(t.barSize?(h=Rn(t.barSize,e),u=zt.makeLineSpan("frac-line",e,h)):u=zt.makeLineSpan("frac-line",e),h=u.height,d=u.height):(u=null,h=0,d=e.fontMetrics().defaultRuleThickness),n.size===er.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,f=h>0?3*d:7*d,g=e.fontMetrics().denom1):(h>0?(p=e.fontMetrics().num2,f=d):(p=e.fontMetrics().num3,f=3*d),g=e.fontMetrics().denom2),u){var k=e.fontMetrics().axisHeight;p-a.depth-(k+.5*h)<f&&(p+=f-(p-a.depth-(k+.5*h))),k-.5*h-(b.height-g)<f&&(g+=f-(k-.5*h-(b.height-g)));var N=-(k-.5*h);m=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:g},{type:"elem",elem:u,shift:N},{type:"elem",elem:a,shift:-p}]},e)}else{var _=p-a.depth-(b.height-g);_<f&&(p+=.5*(f-_),g+=.5*(f-_)),m=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:g},{type:"elem",elem:a,shift:-p}]},e)}return r=e.havingStyle(n),m.height*=r.sizeMultiplier/e.sizeMultiplier,m.depth*=r.sizeMultiplier/e.sizeMultiplier,y=n.size===er.DISPLAY.size?e.fontMetrics().delim1:n.size===er.SCRIPTSCRIPT.size?e.havingStyle(er.SCRIPT).fontMetrics().delim2:e.fontMetrics().delim2,v=t.leftDelim==null?hm(e,["mopen"]):gc.customSizedDelim(t.leftDelim,y,!0,e.havingStyle(n),t.mode,["mopen"]),x=t.continued?zt.makeSpan([]):t.rightDelim==null?hm(e,["mclose"]):gc.customSizedDelim(t.rightDelim,y,!0,e.havingStyle(n),t.mode,["mclose"]),zt.makeSpan(["mord"].concat(r.sizingClasses(e)),[v,zt.makeSpan(["mfrac"],[m]),x],e)},k6=(t,e)=>{var r=new ae.MathNode("mfrac",[ln(t.numer,e),ln(t.denom,e)]);if(t.hasBarLine){if(t.barSize){var n=Rn(t.barSize,e);r.setAttribute("linethickness",ye(n))}}else r.setAttribute("linethickness","0px");var i=ltt(t.size,e.style);if(i.size!==e.style.size){r=new ae.MathNode("mstyle",[r]);var o=i.size===er.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var s=new ae.MathNode("mo",[new ae.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(r),t.rightDelim!=null){var l=new ae.MathNode("mo",[new ae.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return C7(a)}return r};Ae({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var r,{parser:n,funcName:i}=t,o=e[0],a=e[1],s=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:a,hasBarLine:r,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:w6,mathmlBuilder:k6}),Ae({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Ae({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var e,{parser:r,funcName:n,token:i}=t;switch(n){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;case"\\brace":e="\\\\bracefrac";break;case"\\brack":e="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:e,token:i}}});var bO=["display","text","script","scriptscript"],xO=function(t){var e=null;return t.length>0&&(e=(e=t)==="."?null:e),e};Ae({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var r,{parser:n}=t,i=e[4],o=e[5],a=Bx(e[0]),s=a.type==="atom"&&a.family==="open"?xO(a.text):null,l=Bx(e[1]),u=l.type==="atom"&&l.family==="close"?xO(l.text):null,h=vr(e[2],"size"),d=null;r=!!h.isBlank||(d=h.value).number>0;var p="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var g=vr(f.body[0],"textord");p=bO[Number(g.text)]}}else f=vr(f,"textord"),p=bO[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:r,barSize:d,leftDelim:s,rightDelim:u,size:p}},htmlBuilder:w6,mathmlBuilder:k6}),Ae({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:vr(e[0],"size").value,token:i}}}),Ae({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=function(l){if(!l)throw new Error("Expected non-null, but got "+String(l));return l}(vr(e[1],"infix").size),a=e[2],s=o.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:w6,mathmlBuilder:k6});var ctt=(t,e)=>{var r,n,i=e.style;t.type==="supsub"?(r=t.sup?Pr(t.sup,e.havingStyle(i.sup()),e):Pr(t.sub,e.havingStyle(i.sub()),e),n=vr(t.base,"horizBrace")):n=vr(t,"horizBrace");var o,a=Pr(n.base,e.havingBaseStyle(er.DISPLAY)),s=J4(n,e);if(n.isOver?(o=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e)).children[0].children[0].children[1].classes.push("svg-align"):(o=zt.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e)).children[0].children[0].children[0].classes.push("svg-align"),r){var l=zt.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e);o=n.isOver?zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):zt.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return zt.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e)};Ae({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:ctt,mathmlBuilder:(t,e)=>{var r=Q4(t.label);return new ae.MathNode(t.isOver?"mover":"munder",[ln(t.base,e),r])}}),Ae({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=vr(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Jn(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Si(t.body,e,!1);return zt.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Hu(t.body,e);return r instanceof Fa||(r=new Fa("mrow",[r])),r.setAttribute("href",t.href),r}}),Ae({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=vr(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var a=n[o];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Jn(s)}}}),Ae({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Jn(e[0])}},htmlBuilder(t,e){var r=Si(t.body,e,!1);return zt.makeFragment(r)},mathmlBuilder:(t,e)=>new ae.MathNode("mrow",xa(t.body,e))}),Ae({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var r,{parser:n,funcName:i,token:o}=t,a=vr(e[0],"raw").string,s=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(i){case"\\htmlClass":l.class=a,r={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,r={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,r={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var u=a.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length!==2)throw new ue("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}r={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(r)?{type:"html",mode:n.mode,attributes:l,body:Jn(s)}:n.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var r=Si(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=zt.makeSpan(n,r,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Hu(t.body,e)}),Ae({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Jn(e[0]),mathml:Jn(e[1])}},htmlBuilder:(t,e)=>{var r=Si(t.html,e,!1);return zt.makeFragment(r)},mathmlBuilder:(t,e)=>Hu(t.mathml,e)});var Ck=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new ue("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(e[1]+e[2]),unit:e[3]};if(!FJ(r))throw new ue("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Ae({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(r[0])for(var l=vr(r[0],"raw").string.split(","),u=0;u<l.length;u++){var h=l[u].split("=");if(h.length===2){var d=h[1].trim();switch(h[0].trim()){case"alt":s=d;break;case"width":i=Ck(d);break;case"height":o=Ck(d);break;case"totalheight":a=Ck(d);break;default:throw new ue("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=vr(e[0],"url").url;return s===""&&(s=(s=(s=p).replace(/^.*[\\/]/,"")).substring(0,s.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:n.mode,alt:s,width:i,height:o,totalheight:a,src:p}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Rn(t.height,e),n=0;t.totalheight.number>0&&(n=Rn(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Rn(t.width,e));var o={height:ye(r+n)};i>0&&(o.width=ye(i)),n>0&&(o.verticalAlign=ye(-n));var a=new g8t(t.src,t.alt,o);return a.height=r,a.depth=n,a},mathmlBuilder:(t,e)=>{var r=new ae.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Rn(t.height,e),i=0;if(t.totalheight.number>0&&(i=Rn(t.totalheight,e)-n,r.setAttribute("valign",ye(-i))),r.setAttribute("height",ye(n+i)),t.width.number>0){var o=Rn(t.width,e);r.setAttribute("width",ye(o))}return r.setAttribute("src",t.src),r}}),Ae({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=vr(e[0],"size");if(r.settings.strict){var o=n[1]==="m",a=i.value.unit==="mu";o?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+i.value.unit+" units"),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder:(t,e)=>zt.makeGlue(t.dimension,e),mathmlBuilder(t,e){var r=Rn(t.dimension,e);return new ae.SpaceNode(r)}}),Ae({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=zt.makeSpan([],[Pr(t.body,e)]),r=zt.makeSpan(["inner"],[r],e)):r=zt.makeSpan(["inner"],[Pr(t.body,e)]);var n=zt.makeSpan(["fix"],[]),i=zt.makeSpan([t.alignment],[r,n],e),o=zt.makeSpan(["strut"]);return o.style.height=ye(i.height+i.depth),i.depth&&(o.style.verticalAlign=ye(-i.depth)),i.children.unshift(o),i=zt.makeSpan(["thinbox"],[i],e),zt.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new ae.MathNode("mpadded",[ln(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),Ae({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",a=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}}),Ae({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ue("Mismatched "+t.funcName)}});var wO=(t,e)=>{switch(e.style.size){case er.DISPLAY.size:return t.display;case er.TEXT.size:return t.text;case er.SCRIPT.size:return t.script;case er.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ae({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Jn(e[0]),text:Jn(e[1]),script:Jn(e[2]),scriptscript:Jn(e[3])}},htmlBuilder:(t,e)=>{var r=wO(t,e),n=Si(r,e,!1);return zt.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=wO(t,e);return Hu(r,e)}});var utt=(t,e,r,n,i,o,a)=>{t=zt.makeSpan([],[t]);var s,l,u,h=r&&Ke.isCharacterBox(r);if(e){var d=Pr(e,n.havingStyle(i.sup()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var p=Pr(r,n.havingStyle(i.sub()),n);s={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}if(l&&s){var f=n.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+t.depth+a;u=zt.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:ye(-o)},{type:"kern",size:s.kern},{type:"elem",elem:t},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:ye(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(s){var g=t.height-a;u=zt.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:ye(-o)},{type:"kern",size:s.kern},{type:"elem",elem:t}]},n)}else{if(!l)return t;var m=t.depth+a;u=zt.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:ye(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}var y=[u];if(s&&o!==0&&!h){var v=zt.makeSpan(["mspace"],[],n);v.style.marginRight=ye(o),y.unshift(v)}return zt.makeSpan(["mop","op-limits"],y,n)},htt=["\\smallint"],wf=(t,e)=>{var r,n,i,o=!1;t.type==="supsub"?(r=t.sup,n=t.sub,i=vr(t.base,"op"),o=!0):i=vr(t,"op");var a,s=e.style,l=!1;if(s.size===er.DISPLAY.size&&i.symbol&&!Ke.contains(htt,i.name)&&(l=!0),i.symbol){var u=l?"Size2-Regular":"Size1-Regular",h="";if(i.name!=="\\oiint"&&i.name!=="\\oiiint"||(h=i.name.slice(1),i.name=h==="oiint"?"\\iint":"\\iiint"),a=zt.makeSymbol(i.name,u,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var d=a.italic,p=zt.staticSvg(h+"Size"+(l?"2":"1"),e);a=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:p,shift:l?.08:0}]},e),i.name="\\"+h,a.classes.unshift("mop"),a.italic=d}}else if(i.body){var f=Si(i.body,e,!0);f.length===1&&f[0]instanceof ks?(a=f[0]).classes[0]="mop":a=zt.makeSpan(["mop"],f,e)}else{for(var g=[],m=1;m<i.name.length;m++)g.push(zt.mathsym(i.name[m],i.mode,e));a=zt.makeSpan(["mop"],g,e)}var y=0,v=0;return(a instanceof ks||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(y=(a.height-a.depth)/2-e.fontMetrics().axisHeight,v=a.italic),o?utt(a,r,n,e,s,v,y):(y&&(a.style.position="relative",a.style.top=ye(y)),a)},dm=(t,e)=>{var r;if(t.symbol)r=new Fa("mo",[ys(t.name,t.mode)]),Ke.contains(htt,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Fa("mo",xa(t.body,e));else{r=new Fa("mi",[new Rl(t.name.slice(1))]);var n=new Fa("mo",[ys("⁡","text")]);r=t.parentIsSupSub?new Fa("mrow",[r,n]):YJ([r,n])}return r},q8t={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ae({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=q8t[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:wf,mathmlBuilder:dm}),Ae({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Jn(n)}},htmlBuilder:wf,mathmlBuilder:dm});var G8t={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ae({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:wf,mathmlBuilder:dm}),Ae({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:wf,mathmlBuilder:dm}),Ae({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=G8t[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:wf,mathmlBuilder:dm});var dtt=(t,e)=>{var r,n,i,o,a=!1;if(t.type==="supsub"?(r=t.sup,n=t.sub,i=vr(t.base,"operatorname"),a=!0):i=vr(t,"operatorname"),i.body.length>0){for(var s=i.body.map(d=>{var p=d.text;return typeof p=="string"?{type:"textord",mode:d.mode,text:p}:d}),l=Si(s,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof ks&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=zt.makeSpan(["mop"],l,e)}else o=zt.makeSpan(["mop"],[],e);return a?utt(o,r,n,e,e.style,0,0):o};function ptt(t,e,r){for(var n=Si(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var a=n[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[o].classes,e.sizingClasses(r)):n[o].classes[a+1]==="reset-size"+e.size&&(n[o].classes[a+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return zt.makeFragment(n)}Ae({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Jn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:dtt,mathmlBuilder:(t,e)=>{for(var r=xa(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(!(o instanceof ae.SpaceNode))if(o instanceof ae.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];o.children.length===1&&a instanceof ae.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var s=r.map(h=>h.toText()).join("");r=[new ae.TextNode(s)]}var l=new ae.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new ae.MathNode("mo",[ys("⁡","text")]);return t.parentIsSupSub?new ae.MathNode("mrow",[l,u]):ae.newDocumentFragment([l,u])}}),it("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Od({type:"ordgroup",htmlBuilder:(t,e)=>t.semisimple?zt.makeFragment(Si(t.body,e,!1)):zt.makeSpan(["mord"],Si(t.body,e,!0),e),mathmlBuilder:(t,e)=>Hu(t.body,e,!0)}),Ae({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Pr(t.body,e.havingCrampedStyle()),n=zt.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return zt.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var r=new ae.MathNode("mo",[new ae.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new ae.MathNode("mover",[ln(t.body,e),r]);return n.setAttribute("accent","true"),n}}),Ae({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Jn(n)}},htmlBuilder:(t,e)=>{var r=Si(t.body,e.withPhantom(),!1);return zt.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=xa(t.body,e);return new ae.MathNode("mphantom",r)}}),Ae({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=zt.makeSpan([],[Pr(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),zt.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=xa(Jn(t.body),e),n=new ae.MathNode("mphantom",r),i=new ae.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),Ae({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=zt.makeSpan(["inner"],[Pr(t.body,e.withPhantom())]),n=zt.makeSpan(["fix"],[]);return zt.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=xa(Jn(t.body),e),n=new ae.MathNode("mphantom",r),i=new ae.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}}),Ae({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=vr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Pr(t.body,e),n=Rn(t.dy,e);return zt.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new ae.MathNode("mpadded",[ln(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}}),Ae({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}}),Ae({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],o=vr(e[0],"size"),a=vr(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&vr(i,"size").value,width:o.value,height:a.value}},htmlBuilder(t,e){var r=zt.makeSpan(["mord","rule"],[],e),n=Rn(t.width,e),i=Rn(t.height,e),o=t.shift?Rn(t.shift,e):0;return r.style.borderRightWidth=ye(n),r.style.borderTopWidth=ye(i),r.style.bottom=ye(o),r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=1.125*i*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Rn(t.width,e),n=Rn(t.height,e),i=t.shift?Rn(t.shift,e):0,o=e.color&&e.getColor()||"black",a=new ae.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",ye(r)),a.setAttribute("height",ye(n));var s=new ae.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",ye(i)):(s.setAttribute("height",ye(i)),s.setAttribute("depth",ye(-i))),s.setAttribute("voffset",ye(i)),s}});var kO=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ae({type:"sizing",names:kO,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:kO.indexOf(n)+1,body:o}},htmlBuilder:(t,e)=>{var r=e.havingSize(t.size);return ptt(t.body,r,e)},mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=xa(t.body,r),i=new ae.MathNode("mstyle",n);return i.setAttribute("mathsize",ye(r.sizeMultiplier)),i}}),Ae({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,o=!1,a=r[0]&&vr(r[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l)if((s=a.body[l].text)==="t")i=!0;else{if(s!=="b"){i=!1,o=!1;break}o=!0}else i=!0,o=!0;var u=e[0];return{type:"smash",mode:n.mode,body:u,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var r=zt.makeSpan([],[Pr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return zt.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var r=new ae.MathNode("mpadded",[ln(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}}),Ae({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],o=e[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder(t,e){var r=Pr(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=zt.wrapFragment(r,e);var n=e.fontMetrics().defaultRuleThickness,i=n;e.style.id<er.TEXT.id&&(i=e.fontMetrics().xHeight);var o=n+i/4,a=r.height+r.depth+o+n,{span:s,ruleWidth:l,advanceWidth:u}=gc.sqrtImage(a,e),h=s.height-l;h>r.height+r.depth+o&&(o=(o+h-r.height-r.depth)/2);var d=s.height-r.height-o-l;r.style.paddingLeft=ye(u);var p=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+d)},{type:"elem",elem:s},{type:"kern",size:l}]},e);if(t.index){var f=e.havingStyle(er.SCRIPTSCRIPT),g=Pr(t.index,f,e),m=.6*(p.height-p.depth),y=zt.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:g}]},e),v=zt.makeSpan(["root"],[y]);return zt.makeSpan(["mord","sqrt"],[v,p],e)}return zt.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new ae.MathNode("mroot",[ln(r,e),ln(n,e)]):new ae.MathNode("msqrt",[ln(r,e)])}});var TO={display:er.DISPLAY,text:er.TEXT,script:er.SCRIPT,scriptscript:er.SCRIPTSCRIPT};Ae({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(t,e){var r=TO[t.style],n=e.havingStyle(r).withFont("");return ptt(t.body,n,e)},mathmlBuilder(t,e){var r=TO[t.style],n=e.havingStyle(r),i=xa(t.body,n),o=new ae.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}});Od({type:"supsub",htmlBuilder(t,e){var r=function(C,D){var E=C.base;return E?E.type==="op"?E.limits&&(D.style.size===er.DISPLAY.size||E.alwaysHandleSupSub)?wf:null:E.type==="operatorname"?E.alwaysHandleSupSub&&(D.style.size===er.DISPLAY.size||E.limits)?dtt:null:E.type==="accent"?Ke.isCharacterBox(E.base)?b6:null:E.type==="horizBrace"&&!C.sub===E.isOver?ctt:null:null}(t,e);if(r)return r(t,e);var n,i,o,{base:a,sup:s,sub:l}=t,u=Pr(a,e),h=e.fontMetrics(),d=0,p=0,f=a&&Ke.isCharacterBox(a);if(s){var g=e.havingStyle(e.style.sup());n=Pr(s,g,e),f||(d=u.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(l){var m=e.havingStyle(e.style.sub());i=Pr(l,m,e),f||(p=u.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}o=e.style===er.DISPLAY?h.sup1:e.style.cramped?h.sup3:h.sup2;var y,v=e.sizeMultiplier,x=ye(.5/h.ptPerEm/v),b=null;if(i){var k=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(u instanceof ks||k)&&(b=ye(-u.italic))}if(n&&i){d=Math.max(d,o,n.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var N=4*h.defaultRuleThickness;if(d-n.depth-(i.height-p)<N){p=N-(d-n.depth)+i.height;var _=.8*h.xHeight-(d-n.depth);_>0&&(d+=_,p-=_)}var S=[{type:"elem",elem:i,shift:p,marginRight:x,marginLeft:b},{type:"elem",elem:n,shift:-d,marginRight:x}];y=zt.makeVList({positionType:"individualShift",children:S},e)}else if(i){p=Math.max(p,h.sub1,i.height-.8*h.xHeight);var T=[{type:"elem",elem:i,marginLeft:b,marginRight:x}];y=zt.makeVList({positionType:"shift",positionData:p,children:T},e)}else{if(!n)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,n.depth+.25*h.xHeight),y=zt.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:n,marginRight:x}]},e)}var A=m6(u,"right")||"mord";return zt.makeSpan([A],[u,zt.makeSpan(["msupsub"],[y])],e)},mathmlBuilder(t,e){var r,n=!1;t.base&&t.base.type==="horizBrace"&&!!t.sup===t.base.isOver&&(n=!0,r=t.base.isOver),!t.base||t.base.type!=="op"&&t.base.type!=="operatorname"||(t.base.parentIsSupSub=!0);var i,o=[ln(t.base,e)];if(t.sub&&o.push(ln(t.sub,e)),t.sup&&o.push(ln(t.sup,e)),n)i=r?"mover":"munder";else if(t.sub)if(t.sup){var a=t.base;i=a&&a.type==="op"&&a.limits&&e.style===er.DISPLAY||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(e.style===er.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=t.base;i=s&&s.type==="op"&&s.limits&&(e.style===er.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||e.style===er.DISPLAY)?"munder":"msub"}else{var l=t.base;i=l&&l.type==="op"&&l.limits&&(e.style===er.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===er.DISPLAY)?"mover":"msup"}return new ae.MathNode(i,o)}}),Od({type:"atom",htmlBuilder:(t,e)=>zt.mathsym(t.text,t.mode,e,["m"+t.family]),mathmlBuilder(t,e){var r=new ae.MathNode("mo",[ys(t.text,t.mode)]);if(t.family==="bin"){var n=v6(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):t.family!=="open"&&t.family!=="close"||r.setAttribute("stretchy","false");return r}});var EO={mi:"italic",mn:"normal",mtext:"normal"};Od({type:"mathord",htmlBuilder:(t,e)=>zt.makeOrd(t,e,"mathord"),mathmlBuilder(t,e){var r=new ae.MathNode("mi",[ys(t.text,t.mode,e)]),n=v6(t,e)||"italic";return n!==EO[r.type]&&r.setAttribute("mathvariant",n),r}}),Od({type:"textord",htmlBuilder:(t,e)=>zt.makeOrd(t,e,"textord"),mathmlBuilder(t,e){var r,n=ys(t.text,t.mode,e),i=v6(t,e)||"normal";return r=t.mode==="text"?new ae.MathNode("mtext",[n]):/[0-9]/.test(t.text)?new ae.MathNode("mn",[n]):t.text==="\\prime"?new ae.MathNode("mo",[n]):new ae.MathNode("mi",[n]),i!==EO[r.type]&&r.setAttribute("mathvariant",i),r}});var $k={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Nk={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Od({type:"spacing",htmlBuilder(t,e){if(Nk.hasOwnProperty(t.text)){var r=Nk[t.text].className||"";if(t.mode==="text"){var n=zt.makeOrd(t,e,"textord");return n.classes.push(r),n}return zt.makeSpan(["mspace",r],[zt.mathsym(t.text,t.mode,e)],e)}if($k.hasOwnProperty(t.text))return zt.makeSpan(["mspace",$k[t.text]],[],e);throw new ue('Unknown type of space "'+t.text+'"')},mathmlBuilder(t,e){if(!Nk.hasOwnProperty(t.text)){if($k.hasOwnProperty(t.text))return new ae.MathNode("mspace");throw new ue('Unknown type of space "'+t.text+'"')}return new ae.MathNode("mtext",[new ae.TextNode(" ")])}});var _O=()=>{var t=new ae.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Od({type:"tag",mathmlBuilder(t,e){var r=new ae.MathNode("mtable",[new ae.MathNode("mtr",[_O(),new ae.MathNode("mtd",[Hu(t.body,e)]),_O(),new ae.MathNode("mtd",[Hu(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var SO={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},AO={"\\textbf":"textbf","\\textmd":"textmd"},W8t={"\\textit":"textit","\\textup":"textup"},CO=(t,e)=>{var r=t.font;return r?SO[r]?e.withTextFontFamily(SO[r]):AO[r]?e.withTextFontWeight(AO[r]):r==="\\emph"?e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit"):e.withTextFontShape(W8t[r]):e};Ae({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Jn(i),font:n}},htmlBuilder(t,e){var r=CO(t,e),n=Si(t.body,r,!0);return zt.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=CO(t,e);return Hu(t.body,r)}}),Ae({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Pr(t.body,e),n=zt.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=zt.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return zt.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var r=new ae.MathNode("mo",[new ae.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new ae.MathNode("munder",[ln(t.body,e),r]);return n.setAttribute("accentunder","true"),n}}),Ae({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Pr(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return zt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder:(t,e)=>new ae.MathNode("mpadded",[ln(t.body,e)],["vcenter"])}),Ae({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new ue("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=$O(t),n=[],i=e.havingStyle(e.style.text()),o=0;o<r.length;o++){var a=r[o];a==="~"&&(a="\\textasciitilde"),n.push(zt.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return zt.makeSpan(["mord","text"].concat(i.sizingClasses(e)),zt.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new ae.TextNode($O(t)),n=new ae.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var $O=t=>t.body.replace(/ /g,t.star?"␣":" "),Cu=WJ,ftt=`[ \r
	]`,V8t="(\\\\[a-zA-Z@]+)"+ftt+"*",T6="[̀-ͯ]",Y8t=new RegExp(T6+"+$"),X8t="("+ftt+`+)|\\\\(
|[ \r	]+
?)[ \r	]*|([!-\\[\\]-‧‪-퟿豈-￿]`+T6+"*|[\uD800-\uDBFF][\uDC00-\uDFFF]"+T6+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+V8t+"|\\\\[^\uD800-\uDFFF])";let NO=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(X8t,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new zl("EOF",new zs(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new ue("Unexpected character: '"+e[r]+"'",new zl(e[r],new zs(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new zl(i,new zs(this,r,this.tokenRegex.lastIndex))}},K8t=class{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ue("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}};var Z8t=stt;it("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}}),it("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}}),it("\\@firstoftwo",function(t){return{tokens:t.consumeArgs(2)[0],numArgs:0}}),it("\\@secondoftwo",function(t){return{tokens:t.consumeArgs(2)[1],numArgs:0}}),it("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}}),it("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),it("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var IO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};it("\\char",function(t){var e,r=t.popToken(),n="";if(r.text==="'")e=8,r=t.popToken();else if(r.text==='"')e=16,r=t.popToken();else if(r.text==="`")if((r=t.popToken()).text[0]==="\\")n=r.text.charCodeAt(1);else{if(r.text==="EOF")throw new ue("\\char` missing argument");n=r.text.charCodeAt(0)}else e=10;if(e){if((n=IO[r.text])==null||n>=e)throw new ue("Invalid base-"+e+" digit "+r.text);for(var i;(i=IO[t.future().text])!=null&&i<e;)n*=e,n+=i,t.popToken()}return"\\@char{"+n+"}"});var Ik=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new ue("\\newcommand's first argument must be a macro name");var o=i[0].text,a=t.isDefined(o);if(a&&!e)throw new ue("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!a&&!r)throw new ue("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if((i=t.consumeArg().tokens).length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ue("Invalid number of arguments: "+l);s=parseInt(l),i=t.consumeArg().tokens}return a&&n||t.macros.set(o,{tokens:i,numArgs:s}),""};it("\\newcommand",t=>Ik(t,!1,!0,!1)),it("\\renewcommand",t=>Ik(t,!0,!1,!1)),it("\\providecommand",t=>Ik(t,!0,!0,!0)),it("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""}),it("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""}),it("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Cu[r],xn.math[r],xn.text[r]),""}),it("\\bgroup","{"),it("\\egroup","}"),it("~","\\nobreakspace"),it("\\lq","`"),it("\\rq","'"),it("\\aa","\\r a"),it("\\AA","\\r A"),it("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),it("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),it("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),it("ℬ","\\mathscr{B}"),it("ℰ","\\mathscr{E}"),it("ℱ","\\mathscr{F}"),it("ℋ","\\mathscr{H}"),it("ℐ","\\mathscr{I}"),it("ℒ","\\mathscr{L}"),it("ℳ","\\mathscr{M}"),it("ℛ","\\mathscr{R}"),it("ℭ","\\mathfrak{C}"),it("ℌ","\\mathfrak{H}"),it("ℨ","\\mathfrak{Z}"),it("\\Bbbk","\\Bbb{k}"),it("·","\\cdotp"),it("\\llap","\\mathllap{\\textrm{#1}}"),it("\\rlap","\\mathrlap{\\textrm{#1}}"),it("\\clap","\\mathclap{\\textrm{#1}}"),it("\\mathstrut","\\vphantom{(}"),it("\\underbar","\\underline{\\text{#1}}"),it("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),it("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),it("\\ne","\\neq"),it("≠","\\neq"),it("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),it("∉","\\notin"),it("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),it("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),it("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),it("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),it("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),it("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),it("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),it("⟂","\\perp"),it("‼","\\mathclose{!\\mkern-0.8mu!}"),it("∌","\\notni"),it("⌜","\\ulcorner"),it("⌝","\\urcorner"),it("⌞","\\llcorner"),it("⌟","\\lrcorner"),it("©","\\copyright"),it("®","\\textregistered"),it("️","\\textregistered"),it("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),it("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),it("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),it("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),it("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),it("⋮","\\vdots"),it("\\varGamma","\\mathit{\\Gamma}"),it("\\varDelta","\\mathit{\\Delta}"),it("\\varTheta","\\mathit{\\Theta}"),it("\\varLambda","\\mathit{\\Lambda}"),it("\\varXi","\\mathit{\\Xi}"),it("\\varPi","\\mathit{\\Pi}"),it("\\varSigma","\\mathit{\\Sigma}"),it("\\varUpsilon","\\mathit{\\Upsilon}"),it("\\varPhi","\\mathit{\\Phi}"),it("\\varPsi","\\mathit{\\Psi}"),it("\\varOmega","\\mathit{\\Omega}"),it("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),it("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),it("\\boxed","\\fbox{$\\displaystyle{#1}$}"),it("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),it("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),it("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),it("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),it("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var LO={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};it("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in LO?e=LO[r]:(r.slice(0,4)==="\\not"||r in xn.math&&Ke.contains(["bin","rel"],xn.math[r].group))&&(e="\\dotsb"),e});var Lk={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};it("\\dotso",function(t){return t.future().text in Lk?"\\ldots\\,":"\\ldots"}),it("\\dotsc",function(t){var e=t.future().text;return e in Lk&&e!==","?"\\ldots\\,":"\\ldots"}),it("\\cdots",function(t){return t.future().text in Lk?"\\@cdots\\,":"\\@cdots"}),it("\\dotsb","\\cdots"),it("\\dotsm","\\cdots"),it("\\dotsi","\\!\\cdots"),it("\\dotsx","\\ldots\\,"),it("\\DOTSI","\\relax"),it("\\DOTSB","\\relax"),it("\\DOTSX","\\relax"),it("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),it("\\,","\\tmspace+{3mu}{.1667em}"),it("\\thinspace","\\,"),it("\\>","\\mskip{4mu}"),it("\\:","\\tmspace+{4mu}{.2222em}"),it("\\medspace","\\:"),it("\\;","\\tmspace+{5mu}{.2777em}"),it("\\thickspace","\\;"),it("\\!","\\tmspace-{3mu}{.1667em}"),it("\\negthinspace","\\!"),it("\\negmedspace","\\tmspace-{4mu}{.2222em}"),it("\\negthickspace","\\tmspace-{5mu}{.277em}"),it("\\enspace","\\kern.5em "),it("\\enskip","\\hskip.5em\\relax"),it("\\quad","\\hskip1em\\relax"),it("\\qquad","\\hskip2em\\relax"),it("\\tag","\\@ifstar\\tag@literal\\tag@paren"),it("\\tag@paren","\\tag@literal{({#1})}"),it("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ue("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),it("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),it("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),it("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),it("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),it("\\newline","\\\\\\relax"),it("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var RO=ye(Ll["Main-Regular"][84][1]-.7*Ll["Main-Regular"][65][1]);it("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+RO+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),it("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+RO+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),it("\\hspace","\\@ifstar\\@hspacer\\@hspace"),it("\\@hspace","\\hskip #1\\relax"),it("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),it("\\ordinarycolon",":"),it("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),it("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),it("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),it("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),it("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),it("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),it("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),it("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),it("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),it("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),it("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),it("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),it("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),it("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),it("∷","\\dblcolon"),it("∹","\\eqcolon"),it("≔","\\coloneqq"),it("≕","\\eqqcolon"),it("⩴","\\Coloneqq"),it("\\ratio","\\vcentcolon"),it("\\coloncolon","\\dblcolon"),it("\\colonequals","\\coloneqq"),it("\\coloncolonequals","\\Coloneqq"),it("\\equalscolon","\\eqqcolon"),it("\\equalscoloncolon","\\Eqqcolon"),it("\\colonminus","\\coloneq"),it("\\coloncolonminus","\\Coloneq"),it("\\minuscolon","\\eqcolon"),it("\\minuscoloncolon","\\Eqcolon"),it("\\coloncolonapprox","\\Colonapprox"),it("\\coloncolonsim","\\Colonsim"),it("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),it("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),it("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),it("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),it("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),it("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),it("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),it("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),it("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),it("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),it("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),it("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),it("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),it("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),it("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),it("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),it("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),it("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),it("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),it("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),it("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),it("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),it("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),it("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),it("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),it("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),it("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),it("\\imath","\\html@mathml{\\@imath}{ı}"),it("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),it("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),it("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),it("⟦","\\llbracket"),it("⟧","\\rrbracket"),it("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),it("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),it("⦃","\\lBrace"),it("⦄","\\rBrace"),it("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),it("⦵","\\minuso"),it("\\darr","\\downarrow"),it("\\dArr","\\Downarrow"),it("\\Darr","\\Downarrow"),it("\\lang","\\langle"),it("\\rang","\\rangle"),it("\\uarr","\\uparrow"),it("\\uArr","\\Uparrow"),it("\\Uarr","\\Uparrow"),it("\\N","\\mathbb{N}"),it("\\R","\\mathbb{R}"),it("\\Z","\\mathbb{Z}"),it("\\alef","\\aleph"),it("\\alefsym","\\aleph"),it("\\Alpha","\\mathrm{A}"),it("\\Beta","\\mathrm{B}"),it("\\bull","\\bullet"),it("\\Chi","\\mathrm{X}"),it("\\clubs","\\clubsuit"),it("\\cnums","\\mathbb{C}"),it("\\Complex","\\mathbb{C}"),it("\\Dagger","\\ddagger"),it("\\diamonds","\\diamondsuit"),it("\\empty","\\emptyset"),it("\\Epsilon","\\mathrm{E}"),it("\\Eta","\\mathrm{H}"),it("\\exist","\\exists"),it("\\harr","\\leftrightarrow"),it("\\hArr","\\Leftrightarrow"),it("\\Harr","\\Leftrightarrow"),it("\\hearts","\\heartsuit"),it("\\image","\\Im"),it("\\infin","\\infty"),it("\\Iota","\\mathrm{I}"),it("\\isin","\\in"),it("\\Kappa","\\mathrm{K}"),it("\\larr","\\leftarrow"),it("\\lArr","\\Leftarrow"),it("\\Larr","\\Leftarrow"),it("\\lrarr","\\leftrightarrow"),it("\\lrArr","\\Leftrightarrow"),it("\\Lrarr","\\Leftrightarrow"),it("\\Mu","\\mathrm{M}"),it("\\natnums","\\mathbb{N}"),it("\\Nu","\\mathrm{N}"),it("\\Omicron","\\mathrm{O}"),it("\\plusmn","\\pm"),it("\\rarr","\\rightarrow"),it("\\rArr","\\Rightarrow"),it("\\Rarr","\\Rightarrow"),it("\\real","\\Re"),it("\\reals","\\mathbb{R}"),it("\\Reals","\\mathbb{R}"),it("\\Rho","\\mathrm{P}"),it("\\sdot","\\cdot"),it("\\sect","\\S"),it("\\spades","\\spadesuit"),it("\\sub","\\subset"),it("\\sube","\\subseteq"),it("\\supe","\\supseteq"),it("\\Tau","\\mathrm{T}"),it("\\thetasym","\\vartheta"),it("\\weierp","\\wp"),it("\\Zeta","\\mathrm{Z}"),it("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),it("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),it("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),it("\\bra","\\mathinner{\\langle{#1}|}"),it("\\ket","\\mathinner{|{#1}\\rangle}"),it("\\braket","\\mathinner{\\langle{#1}\\rangle}"),it("\\Bra","\\left\\langle#1\\right|"),it("\\Ket","\\left|#1\\right\\rangle");var DO=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=d=>p=>{t&&(p.macros.set("|",a),i.length&&p.macros.set("\\|",s));var f=d;return!d&&i.length&&p.future().text==="|"&&(p.popToken(),f=!0),{tokens:f?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...o,...u,...r]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};it("\\bra@ket",DO(!1)),it("\\bra@set",DO(!0)),it("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),it("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),it("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),it("\\angln","{\\angl n}"),it("\\blue","\\textcolor{##6495ed}{#1}"),it("\\orange","\\textcolor{##ffa500}{#1}"),it("\\pink","\\textcolor{##ff00af}{#1}"),it("\\red","\\textcolor{##df0030}{#1}"),it("\\green","\\textcolor{##28ae7b}{#1}"),it("\\gray","\\textcolor{gray}{#1}"),it("\\purple","\\textcolor{##9d38bd}{#1}"),it("\\blueA","\\textcolor{##ccfaff}{#1}"),it("\\blueB","\\textcolor{##80f6ff}{#1}"),it("\\blueC","\\textcolor{##63d9ea}{#1}"),it("\\blueD","\\textcolor{##11accd}{#1}"),it("\\blueE","\\textcolor{##0c7f99}{#1}"),it("\\tealA","\\textcolor{##94fff5}{#1}"),it("\\tealB","\\textcolor{##26edd5}{#1}"),it("\\tealC","\\textcolor{##01d1c1}{#1}"),it("\\tealD","\\textcolor{##01a995}{#1}"),it("\\tealE","\\textcolor{##208170}{#1}"),it("\\greenA","\\textcolor{##b6ffb0}{#1}"),it("\\greenB","\\textcolor{##8af281}{#1}"),it("\\greenC","\\textcolor{##74cf70}{#1}"),it("\\greenD","\\textcolor{##1fab54}{#1}"),it("\\greenE","\\textcolor{##0d923f}{#1}"),it("\\goldA","\\textcolor{##ffd0a9}{#1}"),it("\\goldB","\\textcolor{##ffbb71}{#1}"),it("\\goldC","\\textcolor{##ff9c39}{#1}"),it("\\goldD","\\textcolor{##e07d10}{#1}"),it("\\goldE","\\textcolor{##a75a05}{#1}"),it("\\redA","\\textcolor{##fca9a9}{#1}"),it("\\redB","\\textcolor{##ff8482}{#1}"),it("\\redC","\\textcolor{##f9685d}{#1}"),it("\\redD","\\textcolor{##e84d39}{#1}"),it("\\redE","\\textcolor{##bc2612}{#1}"),it("\\maroonA","\\textcolor{##ffbde0}{#1}"),it("\\maroonB","\\textcolor{##ff92c6}{#1}"),it("\\maroonC","\\textcolor{##ed5fa6}{#1}"),it("\\maroonD","\\textcolor{##ca337c}{#1}"),it("\\maroonE","\\textcolor{##9e034e}{#1}"),it("\\purpleA","\\textcolor{##ddd7ff}{#1}"),it("\\purpleB","\\textcolor{##c6b9fc}{#1}"),it("\\purpleC","\\textcolor{##aa87ff}{#1}"),it("\\purpleD","\\textcolor{##7854ab}{#1}"),it("\\purpleE","\\textcolor{##543b78}{#1}"),it("\\mintA","\\textcolor{##f5f9e8}{#1}"),it("\\mintB","\\textcolor{##edf2df}{#1}"),it("\\mintC","\\textcolor{##e0e5cc}{#1}"),it("\\grayA","\\textcolor{##f6f7f7}{#1}"),it("\\grayB","\\textcolor{##f0f1f2}{#1}"),it("\\grayC","\\textcolor{##e3e5e6}{#1}"),it("\\grayD","\\textcolor{##d6d8da}{#1}"),it("\\grayE","\\textcolor{##babec2}{#1}"),it("\\grayF","\\textcolor{##888d93}{#1}"),it("\\grayG","\\textcolor{##626569}{#1}"),it("\\grayH","\\textcolor{##3b3e40}{#1}"),it("\\grayI","\\textcolor{##21242c}{#1}"),it("\\kaBlue","\\textcolor{##314453}{#1}"),it("\\kaGreen","\\textcolor{##71B307}{#1}");var gtt={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};let Q8t=class{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new K8t(Z8t,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new NO(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new zl("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i,o=this.future(),a=0,s=0;do{if(i=this.popToken(),r.push(i),i.text==="{")++a;else if(i.text==="}"){if(--a===-1)throw new ue("Extra }",i)}else if(i.text==="EOF")throw new ue("Unexpected end of input in a macro argument, expected '"+(e&&n?e[s]:"}")+"'",i);if(e&&n)if((a===0||a===1&&e[s]==="{")&&i.text===e[s]){if(++s===e.length){r.splice(-s,s);break}}else s=0}while(a!==0||n);return o.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:o,end:i}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new ue("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new ue("Use of the macro doesn't match its definition",o)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(r&&r[s+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ue("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new ue("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var s=(o=o.slice()).length-1;s>=0;--s){var l=o[s];if(l.text==="#"){if(s===0)throw new ue("Incomplete placeholder at end of macro body",l);if((l=o[--s]).text==="#")o.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new ue("Not a valid argument number",l);o.splice(s,2,...a[+l.text-1])}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zl(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(o+1))!==-1;)++o;for(var s=new NO(i,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();return l.reverse(),{tokens:l,numArgs:o}}return i}isDefined(e){return this.macros.has(e)||Cu.hasOwnProperty(e)||xn.math.hasOwnProperty(e)||xn.text.hasOwnProperty(e)||gtt.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Cu.hasOwnProperty(e)&&!Cu[e].primitive}};var OO=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,e2=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Rk={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},MO={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let mtt=class ytt{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Q8t(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new ue("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new zl("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(ytt.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Cu[i.text]&&Cu[i.text].infix)break;var o=this.parseAtom(r);if(!o)break;o.type!=="internal"&&n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r,n=-1,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new ue("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,a,s=e.slice(0,n),l=e.slice(n+1);return o=s.length===1&&s[0].type==="ordgroup"?s[0]:{type:"ordgroup",mode:this.mode,body:s},a=l.length===1&&l[0].type==="ordgroup"?l[0]:{type:"ordgroup",mode:this.mode,body:l},[r==="\\\\abovefrac"?this.callFunction(r,[o,e[n],a],[]):this.callFunction(r,[o,a],[])]}return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new ue("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]}}parseAtom(e){var r,n,i=this.parseGroup("atom",e);if(this.mode==="text")return i;for(;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(i&&i.type==="op"){var a=o.text==="\\limits";i.limits=a,i.alwaysHandleSupSub=!0}else{if(!i||i.type!=="operatorname")throw new ue("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits=o.text==="\\limits")}this.consume()}else if(o.text==="^"){if(r)throw new ue("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(n)throw new ue("Double subscript",o);n=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new ue("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else{if(!e2[o.text])break;var u=OO.test(o.text),h=[];for(h.push(new zl(e2[o.text])),this.consume();;){var d=this.fetch().text;if(!e2[d]||OO.test(d)!==u)break;h.unshift(new zl(e2[d])),this.consume()}var p=this.subparse(h);u?n={type:"ordgroup",mode:"math",body:p}:r={type:"ordgroup",mode:"math",body:p}}}return r||n?{type:"supsub",mode:this.mode,base:i,sup:r,sub:n}:i}parseFunction(e,r){var n=this.fetch(),i=n.text,o=Cu[i];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new ue("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new ue("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new ue("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,a,s,n,e)}callFunction(e,r,n,i,o){var a={funcName:e,parser:this,token:i,breakOnTokenText:o},s=Cu[e];if(s&&s.handler)return s.handler(a,r,n);throw new ue("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<n;a++){var s=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&s==null||r.type==="sqrt"&&a===1&&o[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)o.push(u);else{if(u==null)throw new ue("Null argument, please report this as a bug");i.push(u)}}return{args:i,optArgs:o}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(n)throw new ue("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new ue("Expected group as "+e,this.fetch());return a;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new ue("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i,o="";(i=this.fetch()).text!=="EOF";)o+=i.text,this.consume();return this.consume(),n.text=o,n}parseRegexGroup(e,r){for(var n,i=this.fetch(),o=i,a="";(n=this.fetch()).text!=="EOF"&&e.test(a+n.text);)a+=(o=n).text,this.consume();if(a==="")throw new ue("Invalid "+r+": '"+i.text+"'",i);return i.range(o,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new ue("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!(r=e||this.gullet.future().text==="{"?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||r.text.length!==0||(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new ue("Invalid size: '"+r.text+"'",r);var o={number:+(i[1]+i[2]),unit:i[3]};if(!FJ(o))throw new ue("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(i),a}parseGroup(e,r){var n,i=this.fetch(),o=i.text;if(o==="{"||o==="\\begingroup"){this.consume();var a=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:zs.range(i,l),body:s,semisimple:o==="\\begingroup"||void 0}}else if((n=this.parseFunction(r,e)||this.parseSymbol())==null&&o[0]==="\\"&&!gtt.hasOwnProperty(o)){if(this.settings.throwOnError)throw new ue("Undefined control sequence: "+o,i);n=this.formatUnsupportedCmd(o),this.consume()}return n}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],o=i.text;o==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:zs.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:zs.range(i,e[n+1]),text:"--"}),r-=1)),o!=="'"&&o!=="`"||e[n+1].text!==o||(e.splice(n,2,{type:"textord",mode:"text",loc:zs.range(i,e[n+1]),text:o+o}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new ue(`\\verb assertion failed --
                    please report what input caused this bug`);return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}MO.hasOwnProperty(r[0])&&!xn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=MO[r[0]]+r.slice(1));var o,a=Y8t.exec(r);if(a&&((r=r.substring(0,a.index))==="i"?r="ı":r==="j"&&(r="ȷ")),xn[this.mode][r]){this.settings.strict&&this.mode==="math"&&GJ.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var s,l=xn[this.mode][r].group,u=zs.range(e);if(y8t.hasOwnProperty(l)){var h=l;s={type:"atom",mode:this.mode,family:h,loc:u,text:r}}else s={type:l,mode:this.mode,loc:u,text:r};o=s}else{if(!(r.charCodeAt(0)>=128))return null;this.settings.strict&&(MJ(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'" ('+r.charCodeAt(0)+")",e)),o={type:"textord",mode:"text",loc:zs.range(e),text:r}}if(this.consume(),a)for(var d=0;d<a[0].length;d++){var p=a[0][d];if(!Rk[p])throw new ue("Unknown accent ' "+p+"'",e);var f=Rk[p][this.mode]||Rk[p].text;if(!f)throw new ue("Accent "+p+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:zs.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o}};mtt.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var N7=function(t,e){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new mtt(t,e);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new ue("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new zl("\\df@tag")])}]}return n},I7=function(t,e,r){e.textContent="";var n=t3(t,r).toNode();e.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),I7=function(){throw new ue("KaTeX doesn't work in quirks mode.")});var vtt=function(t,e){return t3(t,e).toMarkup()},btt=function(t,e){var r=new E7(e);return N7(t,r)},xtt=function(t,e,r){if(r.throwOnError||!(t instanceof ue))throw t;var n=zt.makeSpan(["katex-error"],[new ks(e)]);return n.setAttribute("title",t.toString()),n.setAttribute("style","color:"+r.errorColor),n},t3=function(t,e){var r=new E7(e);try{return function(n,i,o){var a,s=XJ(o);if(o.output==="mathml")return nO(n,i,s,o.displayMode,!0);if(o.output==="html"){var l=y6(n,s);a=zt.makeSpan(["katex"],[l])}else{var u=nO(n,i,s,o.displayMode,!1),h=y6(n,s);a=zt.makeSpan(["katex"],[u,h])}return KJ(a,o)}(N7(t,r),t,r)}catch(n){return xtt(n,t,r)}},wtt=function(t,e){var r=new E7(e);try{return function(n,i,o){var a=y6(n,XJ(o)),s=zt.makeSpan(["katex"],[a]);return KJ(s,o)}(N7(t,r),0,r)}catch(n){return xtt(n,t,r)}},ktt="0.16.21",Ttt={Span:By,Anchor:S7,SymbolNode:ks,SvgNode:Fc,PathNode:nh,LineNode:g6},J8t={version:ktt,render:I7,renderToString:vtt,ParseError:ue,SETTINGS_SCHEMA:um,__parse:btt,__renderToDomTree:t3,__renderToHTMLTree:wtt,__setFontMetrics:BJ,__defineSymbol:j,__defineFunction:Ae,__defineMacro:it,__domTree:Ttt};const t$t=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ue,SETTINGS_SCHEMA:um,__defineFunction:Ae,__defineMacro:it,__defineSymbol:j,__domTree:Ttt,__parse:btt,__renderToDomTree:t3,__renderToHTMLTree:wtt,__setFontMetrics:BJ,default:J8t,get render(){return I7},renderToString:vtt,version:ktt},Symbol.toStringTag,{value:"Module"}));function ki(t){return Xl(t)?sW(t):RY(t)}function L7(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function R7(t,e){return t&&ZA(t,e,ki)}function e$t(t,e){return function(r,n){if(r==null)return r;if(!Xl(r))return t(r,n);for(var i=r.length,o=-1,a=Object(r);++o<i&&n(a[o],o,a)!==!1;);return r}}var ip=e$t(R7);function Ett(t,e){var r=[];return ip(t,function(n,i,o){e(n,i,o)&&r.push(n)}),r}function r$t(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}function n$t(t){return this.__data__.has(t)}function kf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new yc;++e<r;)this.add(t[e])}kf.prototype.add=kf.prototype.push=r$t,kf.prototype.has=n$t;function _tt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function D7(t,e){return t.has(e)}function Stt(t,e,r,n,i,o){var a=1&r,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,f=2&r?new kf:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],m=e[d];if(n)var y=a?n(m,g,d,e,t,o):n(g,m,d,t,e,o);if(y!==void 0){if(y)continue;p=!1;break}if(f){if(!_tt(e,function(v,x){if(!D7(f,x)&&(g===v||i(g,v,r,n,o)))return f.push(x)})){p=!1;break}}else if(g!==m&&!i(g,m,r,n,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function i$t(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function O7(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var BO=Es?Es.prototype:void 0,Dk=BO?BO.valueOf:void 0;function o$t(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new nx(t),new nx(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sg(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=i$t;case"[object Set]":var l=1&n;if(s||(s=O7),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;n|=2,a.set(t,e);var h=Stt(s(t),s(e),n,i,o,a);return a.delete(t),h;case"[object Symbol]":if(Dk)return Dk.call(t)==Dk.call(e)}return!1}function M7(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Att(t,e,r){var n=e(t);return Sr(t)?n:M7(n,r(t))}function Ctt(){return[]}var a$t=Object.prototype.propertyIsEnumerable,PO=Object.getOwnPropertySymbols,B7=PO?function(t){return t==null?[]:(t=Object(t),L7(PO(t),function(e){return a$t.call(t,e)}))}:Ctt;function E6(t){return Att(t,ki,B7)}var s$t=Object.prototype.hasOwnProperty;function l$t(t,e,r,n,i,o){var a=1&r,s=E6(t),l=s.length;if(l!=E6(e).length&&!a)return!1;for(var u=l;u--;){var h=s[u];if(!(a?h in e:s$t.call(e,h)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var f=!0;o.set(t,e),o.set(e,t);for(var g=a;++u<l;){var m=t[h=s[u]],y=e[h];if(n)var v=a?n(y,m,h,e,t,o):n(m,y,h,t,e,o);if(!(v===void 0?m===y||i(m,y,r,n,o):v)){f=!1;break}g||(g=h=="constructor")}if(f&&!g){var x=t.constructor,b=e.constructor;x==b||!("constructor"in t)||!("constructor"in e)||typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b||(f=!1)}return o.delete(t),o.delete(e),f}var FO="[object Arguments]",zO="[object Array]",r2="[object Object]",jO=Object.prototype.hasOwnProperty;function c$t(t,e,r,n,i,o){var a=Sr(t),s=Sr(e),l=a?zO:E0(t),u=s?zO:E0(e),h=(l=l==FO?r2:l)==r2,d=(u=u==FO?r2:u)==r2,p=l==u;if(p&&T0(t)){if(!T0(e))return!1;a=!0,h=!1}if(p&&!h)return o||(o=new Vs),a||u4(t)?Stt(t,e,r,n,i,o):o$t(t,e,l,r,n,i,o);if(!(1&r)){var f=h&&jO.call(t,"__wrapped__"),g=d&&jO.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,y=g?e.value():e;return o||(o=new Vs),i(m,y,r,n,o)}}return!!p&&(o||(o=new Vs),l$t(t,e,r,n,i,o))}function P7(t,e,r,n,i){return t===e||(t==null||e==null||!Ss(t)&&!Ss(e)?t!=t&&e!=e:c$t(t,e,r,n,P7,i))}function u$t(t,e,r,n){var i=r.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=r[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var s=(a=r[i])[0],l=t[s],u=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var h=new Vs,d;if(!(d===void 0?P7(u,l,3,n,h):d))return!1}}return!0}function $tt(t){return t==t&&!Ta(t)}function h$t(t){for(var e=ki(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,$tt(i)]}return e}function Ntt(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}}function d$t(t){var e=h$t(t);return e.length==1&&e[0][2]?Ntt(e[0][0],e[0][1]):function(r){return r===t||u$t(r,t,e)}}function Md(t){return typeof t=="symbol"||Ss(t)&&Yc(t)=="[object Symbol]"}var p$t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f$t=/^\w*$/;function F7(t,e){if(Sr(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!Md(t))||f$t.test(t)||!p$t.test(t)||e!=null&&t in Object(e)}function g$t(t){var e=lg(t,function(n){return r.size===500&&r.clear(),n}),r=e.cache;return e}var m$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y$t=/\\(\\)?/g,v$t=g$t(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(m$t,function(r,n,i,o){e.push(i?o.replace(y$t,"$1"):n||r)}),e});function Td(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var HO=Es?Es.prototype:void 0,UO=HO?HO.toString:void 0;function Itt(t){if(typeof t=="string")return t;if(Sr(t))return Td(t,Itt)+"";if(Md(t))return UO?UO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ltt(t){return t==null?"":Itt(t)}function e3(t,e){return Sr(t)?t:F7(t,e)?[t]:v$t(Ltt(t))}function Py(t){if(typeof t=="string"||Md(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function r3(t,e){for(var r=0,n=(e=e3(e,t)).length;t!=null&&r<n;)t=t[Py(e[r++])];return r&&r==n?t:void 0}function b$t(t,e,r){var n=t==null?void 0:r3(t,e);return n===void 0?r:n}function x$t(t,e){return t!=null&&e in Object(t)}function Rtt(t,e,r){for(var n=-1,i=(e=e3(e,t)).length,o=!1;++n<i;){var a=Py(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=t==null?0:t.length)&&tC(i)&&h4(a,i)&&(Sr(t)||k0(t))}function Dtt(t,e){return t!=null&&Rtt(t,e,x$t)}function w$t(t,e){return F7(t)&&$tt(e)?Ntt(Py(t),e):function(r){var n=b$t(r,t);return n===void 0&&n===e?Dtt(r,t):P7(e,n,3)}}function k$t(t){return function(e){return e==null?void 0:e[t]}}function T$t(t){return function(e){return r3(e,t)}}function E$t(t){return F7(t)?k$t(Py(t)):T$t(t)}function Aa(t){return typeof t=="function"?t:t==null?Rc:typeof t=="object"?Sr(t)?w$t(t[0],t[1]):d$t(t):E$t(t)}function Hn(t,e){return(Sr(t)?L7:Ett)(t,Aa(e))}function Ott(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function z7(t){return typeof t=="function"?t:Rc}function Mt(t,e){return(Sr(t)?Ott:ip)(t,z7(e))}function Xr(t){return t===void 0}function _$t(t,e){return Td(e,function(r){return t[r]})}function rn(t){return t==null?[]:_$t(t,ki(t))}function S$t(t,e,r,n){var i=-1,o=t==null?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function A$t(t,e,r,n,i){return i(t,function(o,a,s){r=n?(n=!1,o):e(r,o,a,s)}),r}function hi(t,e,r){var n=Sr(t)?S$t:A$t,i=arguments.length<3;return n(t,Aa(e),r,i,ip)}var qO=Es?Es.isConcatSpreadable:void 0;function C$t(t){return Sr(t)||k0(t)||!!(qO&&t&&t[qO])}function Fy(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=C$t),i||(i=[]);++o<a;){var s=t[o];r(s)?M7(i,s):n||(i[i.length]=s)}return i}function Mtt(t,e,r,n){for(var i=t.length,o=r+-1;++o<i;)if(e(t[o],o,t))return o;return-1}function $$t(t){return t!=t}function N$t(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function j7(t,e,r){return e==e?N$t(t,e,r):Mtt(t,$$t,r)}function Btt(t,e){return!!(t!=null&&t.length)&&j7(t,e,0)>-1}function yi(){}var I$t=gf&&1/O7(new gf([,-0]))[1]==1/0?function(t){return new gf(t)}:yi;function H7(t,e,r){var n=-1,i=Btt,o=t.length,a=!0,s=[],l=s;if(o>=200){var u=e?null:I$t(t);if(u)return O7(u);a=!1,i=D7,l=new kf}else l=e?[]:s;t:for(;++n<o;){var h=t[n],d=e?e(h):h;if(h=h!==0?h:0,a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue t;e&&l.push(d),s.push(h)}else i(l,d,r)||(l!==s&&l.push(d),s.push(h))}return s}var L$t=_y(function(t){return H7(Fy(t,1,ix,!0))}),Nh="\0";let Lo=class{constructor(e={}){this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=Jp(void 0),this._defaultEdgeLabelFn=Jp(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Nh]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return _s(e)||(e=Jp(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return ki(this._nodes)}sources(){var e=this;return Hn(this.nodes(),function(r){return Gr(e._in[r])})}sinks(){var e=this;return Hn(this.nodes(),function(r){return Gr(e._out[r])})}setNodes(e,r){var n=arguments,i=this;return Mt(e,function(o){n.length>1?i.setNode(o,r):i.setNode(o)}),this}setNode(e,r){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Nh,this._children[e]={},this._children[Nh][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var r=n=>this.removeEdge(this._edgeObjs[n]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Mt(this.children(e),n=>{this.setParent(n)}),delete this._children[e]),Mt(ki(this._in[e]),r),delete this._in[e],delete this._preds[e],Mt(ki(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Xr(r))r=Nh;else{for(var n=r+="";!Xr(n);n=this.parent(n))if(n===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==Nh)return r}}children(e){if(Xr(e)&&(e=Nh),this._isCompound){var r=this._children[e];if(r)return ki(r)}else{if(e===Nh)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return ki(r)}successors(e){var r=this._sucs[e];if(r)return ki(r)}neighbors(e){var r=this.predecessors(e);if(r)return L$t(r,this.successors(e))}isLeaf(e){return(this.isDirected()?this.successors(e):this.neighbors(e)).length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Mt(this._nodes,function(a,s){e(s)&&r.setNode(s,a)}),Mt(this._edgeObjs,function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,n.edge(a))});var i={};function o(a){var s=n.parent(a);return s===void 0||r.hasNode(s)?(i[a]=s,s):s in i?i[s]:o(s)}return this._isCompound&&Mt(r.nodes(),function(a){r.setParent(a,o(a))}),r}setDefaultEdgeLabel(e){return _s(e)||(e=Jp(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return rn(this._edgeObjs)}setPath(e,r){var n=this,i=arguments;return hi(e,function(o,a){return i.length>1?n.setEdge(o,a,r):n.setEdge(o,a),a}),this}setEdge(){var e,r,n,i,o=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,n=a.name,arguments.length===2&&(i=arguments[1],o=!0)):(e=a,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,r=""+r,Xr(n)||(n=""+n);var s=R1(this._isDirected,e,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!Xr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(e,r,n);var l=function(u,h,d,p){var f=""+h,g=""+d;if(!u&&f>g){var m=f;f=g,g=m}var y={v:f,w:g};return p&&(y.name=p),y}(this._isDirected,e,r,n);return e=l.v,r=l.w,Object.freeze(l),this._edgeObjs[s]=l,GO(this._preds[r],e),GO(this._sucs[e],r),this._in[r][s]=l,this._out[e][s]=l,this._edgeCount++,this}edge(e,r,n){var i=arguments.length===1?Ok(this._isDirected,arguments[0]):R1(this._isDirected,e,r,n);return this._edgeLabels[i]}hasEdge(e,r,n){var i=arguments.length===1?Ok(this._isDirected,arguments[0]):R1(this._isDirected,e,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,r,n){var i=arguments.length===1?Ok(this._isDirected,arguments[0]):R1(this._isDirected,e,r,n),o=this._edgeObjs[i];return o&&(e=o.v,r=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],WO(this._preds[r],e),WO(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){var n=this._in[e];if(n){var i=rn(n);return r?Hn(i,function(o){return o.v===r}):i}}outEdges(e,r){var n=this._out[e];if(n){var i=rn(n);return r?Hn(i,function(o){return o.w===r}):i}}nodeEdges(e,r){var n=this.inEdges(e,r);if(n)return n.concat(this.outEdges(e,r))}};function GO(t,e){t[e]?t[e]++:t[e]=1}function WO(t,e){--t[e]||delete t[e]}function R1(t,e,r,n){var i=""+e,o=""+r;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(Xr(n)?"\0":n)}function Ok(t,e){return R1(t,e.v,e.w,e.name)}Lo.prototype._nodeCount=0,Lo.prototype._edgeCount=0;var R$t=0;function U7(t){var e=++R$t;return Ltt(t)+e}function Ptt(t,e){var r=-1,n=Xl(t)?Array(t.length):[];return ip(t,function(i,o,a){n[++r]=e(i,o,a)}),n}function me(t,e){return(Sr(t)?Td:Ptt)(t,Aa(e))}function q7(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(a!=null&&(s===void 0?a==a&&!Md(a):r(a,s)))var s=a,l=o}return l}function Ftt(t,e){return t<e}function z0(t){return t&&t.length?q7(t,Rc,Ftt):void 0}var D$t=Object.prototype.hasOwnProperty;function O$t(t,e){return t!=null&&D$t.call(t,e)}function Qe(t,e){return t!=null&&Rtt(t,e,O$t)}function M$t(t,e){return t>e}function Bd(t){return t&&t.length?q7(t,Rc,M$t):void 0}var B$t=Math.ceil,P$t=Math.max;function F$t(t,e,r,n){for(var i=-1,o=P$t(B$t((e-t)/(r||1)),0),a=Array(o);o--;)a[++i]=t,t+=r;return a}var z$t=/\s/;function j$t(t){for(var e=t.length;e--&&z$t.test(t.charAt(e)););return e}var H$t=/^\s+/;function U$t(t){return t&&t.slice(0,j$t(t)+1).replace(H$t,"")}var q$t=/^[-+]0x[0-9a-f]+$/i,G$t=/^0b[01]+$/i,W$t=/^0o[0-7]+$/i,V$t=parseInt;function Y$t(t){if(typeof t=="number")return t;if(Md(t))return NaN;if(Ta(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ta(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=U$t(t);var r=G$t.test(t);return r||W$t.test(t)?V$t(t.slice(2),r?2:8):q$t.test(t)?NaN:+t}var X$t=1/0;function mb(t){return t?(t=Y$t(t))===X$t||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0}function K$t(t){return function(e,r,n){return n&&typeof n!="number"&&Am(e,r,n)&&(r=n=void 0),e=mb(e),r===void 0?(r=e,e=0):r=mb(r),n=n===void 0?e<r?1:-1:mb(n),F$t(e,r,n)}}var j0=K$t();function H0(t,e,r,n){var i;do i=U7(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function Z$t(t){var e=new Lo().setGraph(t.graph());return Mt(t.nodes(),function(r){e.setNode(r,t.node(r))}),Mt(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function ztt(t){var e=new Lo({multigraph:t.isMultigraph()}).setGraph(t.graph());return Mt(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),Mt(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function VO(t,e){var r,n,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,u=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),r=u*a/s,n=u):(a<0&&(l=-l),r=l,n=l*s/a),{x:i+r,y:o+n}}function n3(t){var e=me(j0(jtt(t)+1),function(){return[]});return Mt(t.nodes(),function(r){var n=t.node(r),i=n.rank;Xr(i)||(e[i][n.order]=r)}),e}function Q$t(t){var e=z0(me(t.nodes(),function(r){return t.node(r).rank}));Mt(t.nodes(),function(r){var n=t.node(r);Qe(n,"rank")&&(n.rank-=e)})}function J$t(t){var e=z0(me(t.nodes(),function(o){return t.node(o).rank})),r=[];Mt(t.nodes(),function(o){var a=t.node(o).rank-e;r[a]||(r[a]=[]),r[a].push(o)});var n=0,i=t.graph().nodeRankFactor;Mt(r,function(o,a){Xr(o)&&a%i!=0?--n:n&&Mt(o,function(s){t.node(s).rank+=n})})}function YO(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),H0(t,"border",i,e)}function jtt(t){return Bd(me(t.nodes(),function(e){var r=t.node(e).rank;if(!Xr(r))return r}))}function tNt(t,e){var r={lhs:[],rhs:[]};return Mt(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function eNt(t,e){return e()}function rNt(t){Mt(t.children(),function e(r){var n=t.children(r),i=t.node(r);if(n.length&&Mt(n,e),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)XO(t,"borderLeft","_bl",r,i,o),XO(t,"borderRight","_br",r,i,o)}})}function XO(t,e,r,n,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],l=H0(t,"border",a,r);i[e][o]=l,t.setParent(l,n),s&&t.setEdge(s,l,{weight:1})}function nNt(t){var e=t.graph().rankdir.toLowerCase();e!=="lr"&&e!=="rl"||Htt(t)}function iNt(t){var e=t.graph().rankdir.toLowerCase();e!=="bt"&&e!=="rl"||function(r){Mt(r.nodes(),function(n){Mk(r.node(n))}),Mt(r.edges(),function(n){var i=r.edge(n);Mt(i.points,Mk),Object.prototype.hasOwnProperty.call(i,"y")&&Mk(i)})}(t),e!=="lr"&&e!=="rl"||(function(r){Mt(r.nodes(),function(n){Bk(r.node(n))}),Mt(r.edges(),function(n){var i=r.edge(n);Mt(i.points,Bk),Object.prototype.hasOwnProperty.call(i,"x")&&Bk(i)})}(t),Htt(t))}function Htt(t){Mt(t.nodes(),function(e){KO(t.node(e))}),Mt(t.edges(),function(e){KO(t.edge(e))})}function KO(t){var e=t.width;t.width=t.height,t.height=e}function Mk(t){t.y=-t.y}function Bk(t){var e=t.x;t.x=t.y,t.y=e}let oNt=class{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return ZO(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&ZO(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,aNt)),n=n._prev;return"["+e.join(", ")+"]"}};function ZO(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function aNt(t,e){if(t!=="_next"&&t!=="_prev")return e}function Ui(t){return t!=null&&t.length?Fy(t):[]}var sNt=Jp(1);function lNt(t,e){if(t.nodeCount()<=1)return[];var r=function(i,o){var a=new Lo,s=0,l=0;Mt(i.nodes(),function(d){a.setNode(d,{v:d,in:0,out:0})}),Mt(i.edges(),function(d){var p=a.edge(d.v,d.w)||0,f=o(d),g=p+f;a.setEdge(d.v,d.w,g),l=Math.max(l,a.node(d.v).out+=f),s=Math.max(s,a.node(d.w).in+=f)});var u=j0(l+s+3).map(function(){return new oNt}),h=s+1;return Mt(a.nodes(),function(d){_6(u,h,a.node(d))}),{graph:a,buckets:u,zeroIdx:h}}(t,e||sNt),n=function(i,o,a){for(var s,l=[],u=o[o.length-1],h=o[0];i.nodeCount();){for(;s=h.dequeue();)Pk(i,o,a,s);for(;s=u.dequeue();)Pk(i,o,a,s);if(i.nodeCount()){for(var d=o.length-2;d>0;--d)if(s=o[d].dequeue()){l=l.concat(Pk(i,o,a,s,!0));break}}}return l}(r.graph,r.buckets,r.zeroIdx);return Ui(me(n,function(i){return t.outEdges(i.v,i.w)}))}function Pk(t,e,r,n,i){var o=i?[]:void 0;return Mt(t.inEdges(n.v),function(a){var s=t.edge(a),l=t.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,_6(e,r,l)}),Mt(t.outEdges(n.v),function(a){var s=t.edge(a),l=a.w,u=t.node(l);u.in-=s,_6(e,r,u)}),t.removeNode(n.v),o}function _6(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function cNt(t){var e=t.graph().acyclicer==="greedy"?lNt(t,function(r){return function(n){return r.edge(n).weight}}(t)):function(r){var n=[],i={},o={};function a(s){Object.prototype.hasOwnProperty.call(o,s)||(o[s]=!0,i[s]=!0,Mt(r.outEdges(s),function(l){Object.prototype.hasOwnProperty.call(i,l.w)?n.push(l):a(l.w)}),delete i[s])}return Mt(r.nodes(),a),n}(t);Mt(e,function(r){var n=t.edge(r);t.removeEdge(r),n.forwardName=r.name,n.reversed=!0,t.setEdge(r.w,r.v,n,U7("rev"))})}function uNt(t){Mt(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}function hNt(t){t.graph().dummyChains=[],Mt(t.edges(),function(e){(function(r,n){var i=n.v,o=r.node(i).rank,a=n.w,s=r.node(a).rank,l=n.name,u=r.edge(n),h=u.labelRank;if(s!==o+1){r.removeEdge(n);var d,p,f=void 0;for(p=0,++o;o<s;++p,++o)u.points=[],d=H0(r,"edge",f={width:0,height:0,edgeLabel:u,edgeObj:n,rank:o},"_d"),o===h&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),r.setEdge(i,d,{weight:u.weight},l),p===0&&r.graph().dummyChains.push(d),i=d;r.setEdge(i,a,{weight:u.weight},l)}})(t,e)})}function dNt(t){Mt(t.graph().dummyChains,function(e){var r,n=t.node(e),i=n.edgeLabel;for(t.setEdge(n.edgeObj,i);n.dummy;)r=t.successors(e)[0],t.removeNode(e),i.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=r,n=t.node(e)})}function G7(t){var e={};Mt(t.sources(),function r(n){var i=t.node(n);if(Object.prototype.hasOwnProperty.call(e,n))return i.rank;e[n]=!0;var o=z0(me(t.outEdges(n),function(a){return r(a.w)-t.edge(a).minlen}));return o!==Number.POSITIVE_INFINITY&&o!=null||(o=0),i.rank=o})}function Gm(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function W7(t,e){return t&&t.length?q7(t,Aa(e),Ftt):void 0}function Utt(t){var e,r,n=new Lo({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(n.setNode(i,{});pNt(n,t)<o;)e=fNt(n,t),r=n.hasNode(e.v)?Gm(t,e):-Gm(t,e),gNt(n,t,r);return n}function pNt(t,e){return Mt(t.nodes(),function r(n){Mt(e.nodeEdges(n),function(i){var o=i.v,a=n===o?i.w:o;t.hasNode(a)||Gm(e,i)||(t.setNode(a,{}),t.setEdge(n,a,{}),r(a))})}),t.nodeCount()}function fNt(t,e){return W7(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return Gm(e,r)})}function gNt(t,e,r){Mt(t.nodes(),function(n){e.node(n).rank+=r})}function qtt(t,e,r){Sr(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return Mt(e,function(a){if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);Gtt(t,a,r==="post",o,n,i)}),i}function Gtt(t,e,r,n,i,o){Object.prototype.hasOwnProperty.call(n,e)||(n[e]=!0,r||o.push(e),Mt(i(e),function(a){Gtt(t,a,r,n,i,o)}),r&&o.push(e))}function mNt(t,e){return qtt(t,e,"post")}function yNt(t,e){return qtt(t,e,"pre")}function vNt(t){return function(e,r,n){var i=Object(e);if(!Xl(e)){var o=Aa(r);e=ki(e),r=function(s){return o(i[s],s,i)}}var a=t(e,r,n);return a>-1?i[o?e[a]:a]:void 0}}function i3(t){var e=mb(t),r=e%1;return e==e?r?e-r:e:0}var bNt=Math.max;function xNt(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:i3(r);return i<0&&(i=bNt(n+i,0)),Mtt(t,Aa(e),i)}var jc=vNt(xNt);function qh(t){t=Z$t(t),G7(t);var e,r=Utt(t);for(Y7(r),V7(r,t);e=Ytt(r);)Ktt(r,t,e,Xtt(r,t,e))}function V7(t,e){var r=mNt(t,t.nodes());r=r.slice(0,r.length-1),Mt(r,function(n){(function(i,o,a){var s=i.node(a),l=s.parent;i.edge(a,l).cutvalue=Wtt(i,o,a)})(t,e,n)})}function Wtt(t,e,r){var n=t.node(r).parent,i=!0,o=e.edge(r,n),a=0;return o||(i=!1,o=e.edge(n,r)),a=o.weight,Mt(e.nodeEdges(r),function(s){var l,u,h=s.v===r,d=h?s.w:s.v;if(d!==n){var p=h===i,f=e.edge(s).weight;if(a+=p?f:-f,l=r,u=d,t.hasEdge(l,u)){var g=t.edge(r,d).cutvalue;a+=p?-g:g}}}),a}function Y7(t,e){arguments.length<2&&(e=t.nodes()[0]),Vtt(t,{},1,e)}function Vtt(t,e,r,n,i){var o=r,a=t.node(n);return e[n]=!0,Mt(t.neighbors(n),function(s){Object.prototype.hasOwnProperty.call(e,s)||(r=Vtt(t,e,r,s,n))}),a.low=o,a.lim=r++,i?a.parent=i:delete a.parent,r}function Ytt(t){return jc(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Xtt(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var o=t.node(n),a=t.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=Hn(e.edges(),function(h){return l===QO(t,t.node(h.v),s)&&l!==QO(t,t.node(h.w),s)});return W7(u,function(h){return Gm(e,h)})}function Ktt(t,e,r,n){var i=r.v,o=r.w;t.removeEdge(i,o),t.setEdge(n.v,n.w,{}),Y7(t),V7(t,e),function(a,s){var l=jc(a.nodes(),function(h){return!s.node(h).parent}),u=yNt(a,l);u=u.slice(1),Mt(u,function(h){var d=a.node(h).parent,p=s.edge(h,d),f=!1;p||(p=s.edge(d,h),f=!0),s.node(h).rank=s.node(d).rank+(f?p.minlen:-p.minlen)})}(t,e)}function QO(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}qh.initLowLimValues=Y7,qh.initCutValues=V7,qh.calcCutValue=Wtt,qh.leaveEdge=Ytt,qh.enterEdge=Xtt,qh.exchangeEdges=Ktt;function wNt(t){switch(t.graph().ranker){case"network-simplex":default:TNt(t);break;case"tight-tree":(function(e){G7(e),Utt(e)})(t);break;case"longest-path":kNt(t)}}var kNt=G7;function TNt(t){qh(t)}function ENt(t){var e=H0(t,"root",{},"_root"),r=function(a){var s={};function l(u,h){var d=a.children(u);d&&d.length&&Mt(d,function(p){l(p,h+1)}),s[u]=h}return Mt(a.children(),function(u){l(u,1)}),s}(t),n=Bd(rn(r))-1,i=2*n+1;t.graph().nestingRoot=e,Mt(t.edges(),function(a){t.edge(a).minlen*=i});var o=function(a){return hi(a.edges(),function(s,l){return s+a.edge(l).weight},0)}(t)+1;Mt(t.children(),function(a){Ztt(t,e,i,o,n,r,a)}),t.graph().nodeRankFactor=i}function Ztt(t,e,r,n,i,o,a){var s=t.children(a);if(s.length){var l=YO(t,"_bt"),u=YO(t,"_bb"),h=t.node(a);t.setParent(l,a),h.borderTop=l,t.setParent(u,a),h.borderBottom=u,Mt(s,function(d){Ztt(t,e,r,n,i,o,d);var p=t.node(d),f=p.borderTop?p.borderTop:d,g=p.borderBottom?p.borderBottom:d,m=p.borderTop?n:2*n,y=f!==g?1:i-o[a]+1;t.setEdge(l,f,{weight:m,minlen:y,nestingEdge:!0}),t.setEdge(g,u,{weight:m,minlen:y,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:i+o[a]})}else a!==e&&t.setEdge(e,a,{weight:0,minlen:r})}function _Nt(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Mt(t.edges(),function(r){t.edge(r).nestingEdge&&t.removeEdge(r)})}function SNt(t,e,r){var n,i={};Mt(r,function(o){for(var a,s,l=t.parent(o);l;){if((a=t.parent(l))?(s=i[a],i[a]=l):(s=n,n=l),s&&s!==l)return void e.setEdge(s,l);l=a}})}function ANt(t,e,r){var n=function(o){for(var a;o.hasNode(a=U7("_root")););return a}(t),i=new Lo({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(o){return t.node(o)});return Mt(t.nodes(),function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||n),Mt(t[r](o),function(l){var u=l.v===o?l.w:l.v,h=i.edge(u,o),d=Xr(h)?0:h.weight;i.setEdge(u,o,{weight:t.edge(l).weight+d})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i}function CNt(t,e,r){for(var n=-1,i=t.length,o=e.length,a={};++n<i;){var s=n<o?e[n]:void 0;r(a,t[n],s)}return a}function $Nt(t,e){return CNt(t||[],e||[],Ey)}function NNt(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function INt(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t==t,o=Md(t),a=e!==void 0,s=e===null,l=e==e,u=Md(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&t<e||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}function LNt(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var l=INt(i[n],o[n]);if(l)return n>=s?l:l*(r[n]=="desc"?-1:1)}return t.index-e.index}function RNt(t,e,r){e=e.length?Td(e,function(o){return Sr(o)?function(a){return r3(a,o.length===1?o[0]:o)}:o}):[Rc];var n=-1;e=Td(e,Ty(Aa));var i=Ptt(t,function(o,a,s){return{criteria:Td(e,function(l){return l(o)}),index:++n,value:o}});return NNt(i,function(o,a){return LNt(o,a,r)})}var zy=_y(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Am(t,e[0],e[1])?e=[]:r>2&&Am(e[0],e[1],e[2])&&(e=[e[0]]),RNt(t,Fy(e),[])});function DNt(t,e){for(var r=0,n=1;n<e.length;++n)r+=ONt(t,e[n-1],e[n]);return r}function ONt(t,e,r){for(var n=$Nt(r,me(r,function(u,h){return h})),i=Ui(me(e,function(u){return zy(me(t.outEdges(u),function(h){return{pos:n[h.w],weight:t.edge(h).weight}}),"pos")})),o=1;o<r.length;)o<<=1;var a=2*o-1;o-=1;var s=me(new Array(a),function(){return 0}),l=0;return Mt(i.forEach(function(u){var h=u.pos+o;s[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=s[h+1]),s[h=h-1>>1]+=u.weight;l+=u.weight*d})),l}function MNt(t){var e={},r=Hn(t.nodes(),function(a){return!t.children(a).length}),n=Bd(me(r,function(a){return t.node(a).rank})),i=me(j0(n+1),function(){return[]}),o=zy(r,function(a){return t.node(a).rank});return Mt(o,function a(s){if(!Qe(e,s)){e[s]=!0;var l=t.node(s);i[l.rank].push(s),Mt(t.successors(s),a)}}),i}function BNt(t,e){return me(e,function(r){var n=t.inEdges(r);if(n.length){var i=hi(n,function(o,a){var s=t.edge(a),l=t.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}return{v:r}})}function PNt(t,e,r,n){if(!Ta(t))return t;for(var i=-1,o=(e=e3(e,t)).length,a=o-1,s=t;s!=null&&++i<o;){var l=Py(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var h=s[l];(u=void 0)==void 0&&(u=Ta(h)?h:h4(e[i+1])?[]:{})}Ey(s,l,u),s=s[l]}return t}function Qtt(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],s=r3(t,a);r(s,a)&&PNt(o,e3(a,t),s)}return o}function FNt(t,e){return Qtt(t,e,function(r,n){return Dtt(t,n)})}function zNt(t){return uW(cW(t,void 0,Ui),t+"")}var Fx=zNt(function(t,e){return t==null?{}:FNt(t,e)});function jNt(t,e){var r={};return Mt(t,function(n,i){var o=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i};Xr(n.barycenter)||(o.barycenter=n.barycenter,o.weight=n.weight)}),Mt(e.edges(),function(n){var i=r[n.v],o=r[n.w];Xr(i)||Xr(o)||(o.indegree++,i.out.push(r[n.w]))}),function(n){var i=[];function o(l){return function(u){u.merged||(Xr(u.barycenter)||Xr(l.barycenter)||u.barycenter>=l.barycenter)&&function(h,d){var p=0,f=0;h.weight&&(p+=h.barycenter*h.weight,f+=h.weight),d.weight&&(p+=d.barycenter*d.weight,f+=d.weight),h.vs=d.vs.concat(h.vs),h.barycenter=p/f,h.weight=f,h.i=Math.min(d.i,h.i),d.merged=!0}(l,u)}}function a(l){return function(u){u.in.push(l),--u.indegree==0&&n.push(u)}}for(;n.length;){var s=n.pop();i.push(s),Mt(s.in.reverse(),o(s)),Mt(s.out,a(s))}return me(Hn(i,function(l){return!l.merged}),function(l){return Fx(l,["vs","i","barycenter","weight"])})}(Hn(r,function(n){return!n.indegree}))}function ql(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function HNt(t,e){var r,n=tNt(t,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),i=n.lhs,o=zy(n.rhs,function(d){return-d.i}),a=[],s=0,l=0,u=0;i.sort((r=!!e,function(d,p){return d.barycenter<p.barycenter?-1:d.barycenter>p.barycenter?1:r?p.i-d.i:d.i-p.i})),u=JO(a,o,u),Mt(i,function(d){u+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,l+=d.weight,u=JO(a,o,u)});var h={vs:Ui(a)};return l&&(h.barycenter=s/l,h.weight=l),h}function JO(t,e,r){for(var n;e.length&&(n=ql(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function Jtt(t,e,r,n){var i=t.children(e),o=t.node(e),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=Hn(i,function(g){return g!==a&&g!==s}));var u=BNt(t,i);Mt(u,function(g){if(t.children(g.v).length){var m=Jtt(t,g.v,r,n);l[g.v]=m,Object.prototype.hasOwnProperty.call(m,"barycenter")&&(v=m,Xr((y=g).barycenter)?(y.barycenter=v.barycenter,y.weight=v.weight):(y.barycenter=(y.barycenter*y.weight+v.barycenter*v.weight)/(y.weight+v.weight),y.weight+=v.weight))}var y,v});var h=jNt(u,r);(function(g,m){Mt(g,function(y){y.vs=Ui(y.vs.map(function(v){return m[v]?m[v].vs:v}))})})(h,l);var d=HNt(h,n);if(a&&(d.vs=Ui([a,d.vs,s]),t.predecessors(a).length)){var p=t.node(t.predecessors(a)[0]),f=t.node(t.predecessors(s)[0]);Object.prototype.hasOwnProperty.call(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+f.order)/(d.weight+2),d.weight+=2}return d}function UNt(t,e){return t&&cg(e,ki(e),t)}function qNt(t,e){return t&&cg(e,Jd(e),t)}function GNt(t,e){return cg(t,B7(t),e)}var tet=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)M7(e,B7(t)),t=JA(t);return e}:Ctt;function WNt(t,e){return cg(t,tet(t),e)}function eet(t){return Att(t,Jd,tet)}var VNt=Object.prototype.hasOwnProperty;function YNt(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&VNt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function XNt(t,e){var r=e?QA(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var KNt=/\w*$/;function ZNt(t){var e=new t.constructor(t.source,KNt.exec(t));return e.lastIndex=t.lastIndex,e}var tM=Es?Es.prototype:void 0,eM=tM?tM.valueOf:void 0;function QNt(t){return eM?Object(eM.call(t)):{}}function JNt(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return QA(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return XNt(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return JG(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return ZNt(t);case"[object Symbol]":return QNt(t)}}function t9t(t){return Ss(t)&&E0(t)=="[object Map]"}var rM=Yu&&Yu.isMap,e9t=rM?Ty(rM):t9t;function r9t(t){return Ss(t)&&E0(t)=="[object Set]"}var nM=Yu&&Yu.isSet,n9t=nM?Ty(nM):r9t,ret="[object Arguments]",net="[object Function]",iet="[object Object]",mn={};function pm(t,e,r,n,i,o){var a,s=1&e,l=2&e,u=4&e;if(a!==void 0)return a;if(!Ta(t))return t;var h=Sr(t);if(h){if(a=YNt(t),!s)return tW(t,a)}else{var d=E0(t),p=d==net||d=="[object GeneratorFunction]";if(T0(t))return QG(t,s);if(d==iet||d==ret||p&&!i){if(a=l||p?{}:rW(t),!s)return l?WNt(t,qNt(a,t)):GNt(t,UNt(a,t))}else{if(!mn[d])return i?t:{};a=JNt(t,d,s)}}o||(o=new Vs);var f=o.get(t);if(f)return f;o.set(t,a),n9t(t)?t.forEach(function(m){a.add(pm(m,e,r,m,t,o))}):e9t(t)&&t.forEach(function(m,y){a.set(y,pm(m,e,r,y,t,o))});var g=h?void 0:(u?l?eet:E6:l?Jd:ki)(t);return Ott(g||t,function(m,y){g&&(m=t[y=m]),Ey(a,y,pm(m,e,r,y,t,o))}),a}mn[ret]=mn["[object Array]"]=mn["[object ArrayBuffer]"]=mn["[object DataView]"]=mn["[object Boolean]"]=mn["[object Date]"]=mn["[object Float32Array]"]=mn["[object Float64Array]"]=mn["[object Int8Array]"]=mn["[object Int16Array]"]=mn["[object Int32Array]"]=mn["[object Map]"]=mn["[object Number]"]=mn[iet]=mn["[object RegExp]"]=mn["[object Set]"]=mn["[object String]"]=mn["[object Symbol]"]=mn["[object Uint8Array]"]=mn["[object Uint8ClampedArray]"]=mn["[object Uint16Array]"]=mn["[object Uint32Array]"]=!0,mn["[object Error]"]=mn[net]=mn["[object WeakMap]"]=!1;function i9t(t){return pm(t,5)}function o9t(t){var e=jtt(t),r=iM(t,j0(1,e+1),"inEdges"),n=iM(t,j0(e-1,-1,-1),"outEdges"),i=MNt(t);oM(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){a9t(s%2?r:n,s%4>=2),i=n3(t);var u=DNt(t,i);u<a&&(l=0,o=i9t(i),a=u)}oM(t,o)}function iM(t,e,r){return me(e,function(n){return ANt(t,n,r)})}function a9t(t,e){var r=new Lo;Mt(t,function(n){var i=n.graph().root,o=Jtt(n,i,r,e);Mt(o.vs,function(a,s){n.node(a).order=s}),SNt(n,r,o.vs)})}function oM(t,e){Mt(e,function(r){Mt(r,function(n,i){t.node(n).order=i})})}function s9t(t){var e=function(r){var n={},i=0;function o(a){var s=i;Mt(r.children(a),o),n[a]={low:s,lim:i++}}return Mt(r.children(),o),n}(t);Mt(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,o=function(d,p,f,g){var m,y,v=[],x=[],b=Math.min(p[f].low,p[g].low),k=Math.max(p[f].lim,p[g].lim);m=f;do m=d.parent(m),v.push(m);while(m&&(p[m].low>b||k>p[m].lim));for(y=m,m=g;(m=d.parent(m))!==y;)x.push(m);return{path:v.concat(x.reverse()),lca:y}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(u=a[l])!==s&&t.node(u).maxRank<n.rank;)l++;u===s&&(h=!1)}if(!h){for(;l<a.length-1&&t.node(u=a[l+1]).minRank<=n.rank;)l++;u=a[l]}t.setParent(r,u),r=t.successors(r)[0]}})}function o3(t,e){var r={};return e=Aa(e),R7(t,function(n,i,o){wy(r,i,e(n,i,o))}),r}function l9t(t,e){return t==null?t:ZA(t,z7(e),Jd)}function c9t(t,e){var r={};return hi(e,function(n,i){var o=0,a=0,s=n.length,l=ql(i);return Mt(i,function(u,h){var d=function(f,g){if(f.node(g).dummy)return jc(f.predecessors(g),function(m){return f.node(m).dummy})}(t,u),p=d?t.node(d).order:s;(d||u===l)&&(Mt(i.slice(a,h+1),function(f){Mt(t.predecessors(f),function(g){var m=t.node(g),y=m.order;!(y<o||p<y)||m.dummy&&t.node(f).dummy||oet(r,g,f)})}),a=h+1,o=p)}),i}),r}function u9t(t,e){var r={};function n(i,o,a,s,l){var u;Mt(j0(o,a),function(h){u=i[h],t.node(u).dummy&&Mt(t.predecessors(u),function(d){var p=t.node(d);p.dummy&&(p.order<s||p.order>l)&&oet(r,d,u)})})}return hi(e,function(i,o){var a,s=-1,l=0;return Mt(o,function(u,h){if(t.node(u).dummy==="border"){var d=t.predecessors(u);d.length&&(a=t.node(d[0]).order,n(o,l,h,s,a),l=h,s=a)}n(o,l,o.length,a,i.length)}),o}),r}function oet(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function h9t(t,e,r){if(e>r){var n=e;e=r,r=n}return!!t[e]&&Object.prototype.hasOwnProperty.call(t[e],r)}function d9t(t,e,r,n){var i={},o={},a={};return Mt(e,function(s){Mt(s,function(l,u){i[l]=l,o[l]=l,a[l]=u})}),Mt(e,function(s){var l=-1;Mt(s,function(u){var h=n(u);if(h.length){h=zy(h,function(m){return a[m]});for(var d=(h.length-1)/2,p=Math.floor(d),f=Math.ceil(d);p<=f;++p){var g=h[p];o[u]===u&&l<a[g]&&!h9t(r,u,g)&&(o[g]=u,o[u]=i[u]=i[g],l=a[g])}}})}),{root:i,align:o}}function p9t(t,e,r,n,i){var o={},a=function(u,h,d,p){var f=new Lo,g=u.graph(),m=function(y,v,x){return function(b,k,N){var _,S=b.node(k),T=b.node(N),A=0;if(A+=S.width/2,Object.prototype.hasOwnProperty.call(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":_=-S.width/2;break;case"r":_=S.width/2}if(_&&(A+=x?_:-_),_=0,A+=(S.dummy?v:y)/2,A+=(T.dummy?v:y)/2,A+=T.width/2,Object.prototype.hasOwnProperty.call(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":_=T.width/2;break;case"r":_=-T.width/2}return _&&(A+=x?_:-_),_=0,A}}(g.nodesep,g.edgesep,p);return Mt(h,function(y){var v;Mt(y,function(x){var b=d[x];if(f.setNode(b),v){var k=d[v],N=f.edge(k,b);f.setEdge(k,b,Math.max(m(u,x,v),N||0))}v=x})}),f}(t,e,r,i),s=i?"borderLeft":"borderRight";function l(u,h){for(var d=a.nodes(),p=d.pop(),f={};p;)f[p]?u(p):(f[p]=!0,d.push(p),d=d.concat(h(p))),p=d.pop()}return l(function(u){o[u]=a.inEdges(u).reduce(function(h,d){return Math.max(h,o[d.v]+a.edge(d))},0)},a.predecessors.bind(a)),l(function(u){var h=a.outEdges(u).reduce(function(p,f){return Math.min(p,o[f.w]-a.edge(f))},Number.POSITIVE_INFINITY),d=t.node(u);h!==Number.POSITIVE_INFINITY&&d.borderType!==s&&(o[u]=Math.max(o[u],h))},a.successors.bind(a)),Mt(n,function(u){o[u]=o[r[u]]}),o}function f9t(t,e){return W7(rn(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return l9t(r,function(o,a){var s=function(l,u){return l.node(u).width}(t,a)/2;n=Math.max(o+s,n),i=Math.min(o-s,i)}),n-i})}function g9t(t,e){var r=rn(e),n=z0(r),i=Bd(r);Mt(["u","d"],function(o){Mt(["l","r"],function(a){var s,l=o+a,u=t[l];if(u!==e){var h=rn(u);(s=a==="l"?n-z0(h):i-Bd(h))&&(t[l]=o3(u,function(d){return d+s}))}})})}function m9t(t,e){return o3(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=zy(me(t,n));return(i[1]+i[2])/2})}function y9t(t){var e,r=n3(t),n=ox(c9t(t,r),u9t(t,r)),i={};Mt(["u","d"],function(a){e=a==="u"?r:rn(r).reverse(),Mt(["l","r"],function(s){s==="r"&&(e=me(e,function(d){return rn(d).reverse()}));var l=(a==="u"?t.predecessors:t.successors).bind(t),u=d9t(0,e,n,l),h=p9t(t,e,u.root,u.align,s==="r");s==="r"&&(h=o3(h,function(d){return-d})),i[a+s]=h})});var o=f9t(t,i);return g9t(i,o),m9t(i,t.graph().align)}function v9t(t,e){return t&&R7(t,z7(e))}function b9t(t){(function(e){var r=n3(e),n=e.graph().ranksep,i=0;Mt(r,function(o){var a=Bd(me(o,function(s){return e.node(s).height}));Mt(o,function(s){e.node(s).y=i+a/2}),i+=a+n})})(t=ztt(t)),v9t(y9t(t),function(e,r){t.node(r).x=e})}var aet=Object.prototype,x9t=aet.hasOwnProperty,a3=_y(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&Am(e[0],e[1],i)&&(n=1);++r<n;)for(var o=e[r],a=Jd(o),s=-1,l=a.length;++s<l;){var u=a[s],h=t[u];(h===void 0||sg(h,aet[u])&&!x9t.call(t,u))&&(t[u]=o[u])}return t});function s3(t,e){var r=eNt;r("layout",()=>{var n=r("  buildLayoutGraph",()=>function(i){var o=new Lo({multigraph:!0,compound:!0}),a=zk(i.graph());return o.setGraph(ox({},k9t,Fk(a,w9t),Fx(a,T9t))),Mt(i.nodes(),function(s){var l=zk(i.node(s));o.setNode(s,a3(Fk(l,E9t),_9t)),o.setParent(s,i.parent(s))}),Mt(i.edges(),function(s){var l=zk(i.edge(s));o.setEdge(s,ox({},A9t,Fk(l,S9t),Fx(l,C9t)))}),o}(t));r("  runLayout",()=>function(i,o){o("    makeSpaceForEdgeLabels",()=>function(a){var s=a.graph();s.ranksep/=2,Mt(a.edges(),function(l){var u=a.edge(l);u.minlen*=2,u.labelpos.toLowerCase()!=="c"&&(s.rankdir==="TB"||s.rankdir==="BT"?u.width+=u.labeloffset:u.height+=u.labeloffset)})}(i)),o("    removeSelfEdges",()=>function(a){Mt(a.edges(),function(s){if(s.v===s.w){var l=a.node(s.v);l.selfEdges||(l.selfEdges=[]),l.selfEdges.push({e:s,label:a.edge(s)}),a.removeEdge(s)}})}(i)),o("    acyclic",()=>cNt(i)),o("    nestingGraph.run",()=>ENt(i)),o("    rank",()=>wNt(ztt(i))),o("    injectEdgeLabelProxies",()=>function(a){Mt(a.edges(),function(s){var l=a.edge(s);if(l.width&&l.height){var u=a.node(s.v),h={rank:(a.node(s.w).rank-u.rank)/2+u.rank,e:s};H0(a,"edge-proxy",h,"_ep")}})}(i)),o("    removeEmptyRanks",()=>J$t(i)),o("    nestingGraph.cleanup",()=>_Nt(i)),o("    normalizeRanks",()=>Q$t(i)),o("    assignRankMinMax",()=>function(a){var s=0;Mt(a.nodes(),function(l){var u=a.node(l);u.borderTop&&(u.minRank=a.node(u.borderTop).rank,u.maxRank=a.node(u.borderBottom).rank,s=Bd(s,u.maxRank))}),a.graph().maxRank=s}(i)),o("    removeEdgeLabelProxies",()=>function(a){Mt(a.nodes(),function(s){var l=a.node(s);l.dummy==="edge-proxy"&&(a.edge(l.e).labelRank=l.rank,a.removeNode(s))})}(i)),o("    normalize.run",()=>hNt(i)),o("    parentDummyChains",()=>s9t(i)),o("    addBorderSegments",()=>rNt(i)),o("    order",()=>o9t(i)),o("    insertSelfEdges",()=>function(a){var s=n3(a);Mt(s,function(l){var u=0;Mt(l,function(h,d){var p=a.node(h);p.order=d+u,Mt(p.selfEdges,function(f){H0(a,"selfedge",{width:f.label.width,height:f.label.height,rank:p.rank,order:d+ ++u,e:f.e,label:f.label},"_se")}),delete p.selfEdges})})}(i)),o("    adjustCoordinateSystem",()=>nNt(i)),o("    position",()=>b9t(i)),o("    positionSelfEdges",()=>function(a){Mt(a.nodes(),function(s){var l=a.node(s);if(l.dummy==="selfedge"){var u=a.node(l.e.v),h=u.x+u.width/2,d=u.y,p=l.x-h,f=u.height/2;a.setEdge(l.e,l.label),a.removeNode(s),l.label.points=[{x:h+2*p/3,y:d-f},{x:h+5*p/6,y:d-f},{x:h+p,y:d},{x:h+5*p/6,y:d+f},{x:h+2*p/3,y:d+f}],l.label.x=l.x,l.label.y=l.y}})}(i)),o("    removeBorderNodes",()=>function(a){Mt(a.nodes(),function(s){if(a.children(s).length){var l=a.node(s),u=a.node(l.borderTop),h=a.node(l.borderBottom),d=a.node(ql(l.borderLeft)),p=a.node(ql(l.borderRight));l.width=Math.abs(p.x-d.x),l.height=Math.abs(h.y-u.y),l.x=d.x+l.width/2,l.y=u.y+l.height/2}}),Mt(a.nodes(),function(s){a.node(s).dummy==="border"&&a.removeNode(s)})}(i)),o("    normalize.undo",()=>dNt(i)),o("    fixupEdgeLabelCoords",()=>function(a){Mt(a.edges(),function(s){var l=a.edge(s);if(Object.prototype.hasOwnProperty.call(l,"x"))switch(l.labelpos!=="l"&&l.labelpos!=="r"||(l.width-=l.labeloffset),l.labelpos){case"l":l.x-=l.width/2+l.labeloffset;break;case"r":l.x+=l.width/2+l.labeloffset}})}(i)),o("    undoCoordinateSystem",()=>iNt(i)),o("    translateGraph",()=>function(a){var s=Number.POSITIVE_INFINITY,l=0,u=Number.POSITIVE_INFINITY,h=0,d=a.graph(),p=d.marginx||0,f=d.marginy||0;function g(m){var y=m.x,v=m.y,x=m.width,b=m.height;s=Math.min(s,y-x/2),l=Math.max(l,y+x/2),u=Math.min(u,v-b/2),h=Math.max(h,v+b/2)}Mt(a.nodes(),function(m){g(a.node(m))}),Mt(a.edges(),function(m){var y=a.edge(m);Object.prototype.hasOwnProperty.call(y,"x")&&g(y)}),s-=p,u-=f,Mt(a.nodes(),function(m){var y=a.node(m);y.x-=s,y.y-=u}),Mt(a.edges(),function(m){var y=a.edge(m);Mt(y.points,function(v){v.x-=s,v.y-=u}),Object.prototype.hasOwnProperty.call(y,"x")&&(y.x-=s),Object.prototype.hasOwnProperty.call(y,"y")&&(y.y-=u)}),d.width=l-s+p,d.height=h-u+f}(i)),o("    assignNodeIntersects",()=>function(a){Mt(a.edges(),function(s){var l,u,h=a.edge(s),d=a.node(s.v),p=a.node(s.w);h.points?(l=h.points[0],u=h.points[h.points.length-1]):(h.points=[],l=p,u=d),h.points.unshift(VO(d,l)),h.points.push(VO(p,u))})}(i)),o("    reversePoints",()=>function(a){Mt(a.edges(),function(s){var l=a.edge(s);l.reversed&&l.points.reverse()})}(i)),o("    acyclic.undo",()=>uNt(i))}(n,r)),r("  updateInputGraph",()=>function(i,o){Mt(i.nodes(),function(a){var s=i.node(a),l=o.node(a);s&&(s.x=l.x,s.y=l.y,o.children(a).length&&(s.width=l.width,s.height=l.height))}),Mt(i.edges(),function(a){var s=i.edge(a),l=o.edge(a);s.points=l.points,Object.prototype.hasOwnProperty.call(l,"x")&&(s.x=l.x,s.y=l.y)}),i.graph().width=o.graph().width,i.graph().height=o.graph().height}(t,n))})}var w9t=["nodesep","edgesep","ranksep","marginx","marginy"],k9t={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T9t=["acyclicer","ranker","rankdir","align"],E9t=["width","height"],_9t={width:0,height:0},S9t=["minlen","weight","width","height","labeloffset"],A9t={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C9t=["labelpos"];function Fk(t,e){return o3(Fx(t,e),Number)}function zk(t){var e={};return Mt(t,function(r,n){e[n.toLowerCase()]=r}),e}function $i(t){return pm(t,4)}function Dl(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:$9t(t),edges:N9t(t)};return Xr(t.graph())||(e.value=$i(t.graph())),e}function $9t(t){return me(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),i={v:e};return Xr(r)||(i.value=r),Xr(n)||(i.parent=n),i})}function N9t(t){return me(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return Xr(e.name)||(n.name=e.name),Xr(r)||(n.value=r),n})}var wr=new Map,gd=new Map,set=new Map,I9t=w(()=>{gd.clear(),set.clear(),wr.clear()},"clear"),zx=w((t,e)=>{const r=gd.get(e)||[];return et.trace("In isDescendant",e," ",t," = ",r.includes(t)),r.includes(t)},"isDescendant"),L9t=w((t,e)=>{const r=gd.get(e)||[];return et.info("Descendants of ",e," is ",r),et.info("Edge is ",t),t.v!==e&&t.w!==e&&(r?r.includes(t.v)||zx(t.v,e)||zx(t.w,e)||r.includes(t.w):(et.debug("Tilt, ",e,",not in descendants"),!1))},"edgeInCluster"),cet=w((t,e,r,n)=>{et.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),et.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(o=>{if(e.children(o).length>0)cet(o,e,r,n);else{const a=e.node(o);et.info("cp ",o," to ",n," with parent ",t),r.setNode(o,a),n!==e.parent(o)&&(et.warn("Setting parent",o,e.parent(o)),r.setParent(o,e.parent(o))),t!==n&&o!==t?(et.debug("Setting parent",o,t),r.setParent(o,t)):(et.info("In copy ",t,"root",n,"data",e.node(t),n),et.debug("Not Setting parent for node=",o,"cluster!==rootId",t!==n,"node!==clusterId",o!==t));const s=e.edges(o);et.debug("Copying Edges",s),s.forEach(l=>{et.info("Edge",l);const u=e.edge(l.v,l.w,l.name);et.info("Edge data",u,n);try{L9t(l,n)?(et.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),et.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):et.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){et.error(h)}})}et.debug("Removing node",o),e.removeNode(o)})},"copy"),uet=w((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)set.set(i,t),n=[...n,...uet(i,e)];return n},"extractDescendants"),R9t=w((t,e,r)=>{const n=t.edges().filter(s=>s.v===e||s.w===e),i=t.edges().filter(s=>s.v===r||s.w===r),o=n.map(s=>({v:s.v===e?r:s.v,w:s.w===e?e:s.w})),a=i.map(s=>({v:s.v,w:s.w}));return o.filter(s=>a.some(l=>s.v===l.v&&s.w===l.w))},"findCommonEdges"),Wm=w((t,e,r)=>{const n=e.children(t);if(et.trace("Searching children of id ",t,n),n.length<1)return t;let i;for(const o of n){const a=Wm(o,e,r),s=R9t(e,r,a);if(a){if(!(s.length>0))return a;i=a}}return i},"findNonClusterChild"),aM=w(t=>wr.has(t)&&wr.get(t).externalConnections&&wr.has(t)?wr.get(t).id:t,"getAnchorId"),D9t=w((t,e)=>{if(!t||e>10)et.debug("Opting out, no graph ");else{et.debug("Opting in, graph "),t.nodes().forEach(function(r){t.children(r).length>0&&(et.warn("Cluster identified",r," Replacement id in edges: ",Wm(r,t,r)),gd.set(r,uet(r,t)),wr.set(r,{id:Wm(r,t,r),clusterData:t.node(r)}))}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(et.debug("Cluster identified",r,gd),i.forEach(o=>{zx(o.v,r)^zx(o.w,r)&&(et.warn("Edge: ",o," leaves cluster ",r),et.warn("Descendants of XXX ",r,": ",gd.get(r)),wr.get(r).externalConnections=!0)})):et.debug("Not a cluster ",r,gd)});for(let r of wr.keys()){const n=wr.get(r).id,i=t.parent(n);i!==r&&wr.has(i)&&!wr.get(i).externalConnections&&(wr.get(r).id=i)}t.edges().forEach(function(r){const n=t.edge(r);et.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),et.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,o=r.w;if(et.warn("Fix XXX",wr,"ids:",r.v,r.w,"Translating: ",wr.get(r.v)," --- ",wr.get(r.w)),wr.get(r.v)||wr.get(r.w)){if(et.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=aM(r.v),o=aM(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const a=t.parent(i);wr.get(a).externalConnections=!0,n.fromCluster=r.v}if(o!==r.w){const a=t.parent(o);wr.get(a).externalConnections=!0,n.toCluster=r.w}et.warn("Fix Replacing with XXX",i,o,r.name),t.setEdge(i,o,n,r.name)}}),et.warn("Adjusted Graph",Dl(t)),het(t,0),et.trace(wr)}},"adjustClustersAndEdges"),het=w((t,e)=>{var i,o;if(et.warn("extractor - ",e,Dl(t),t.children("D")),e>10)return void et.error("Bailing out");let r=t.nodes(),n=!1;for(const a of r){const s=t.children(a);n=n||s.length>0}if(n){et.debug("Nodes = ",r,e);for(const a of r)if(et.debug("Extracting node",a,wr,wr.has(a)&&!wr.get(a).externalConnections,!t.parent(a),t.node(a),t.children("D")," Depth ",e),wr.has(a))if(!wr.get(a).externalConnections&&t.children(a)&&t.children(a).length>0){et.warn("Cluster without external connections, without a parent and with children",a,e);let s=t.graph().rankdir==="TB"?"LR":"TB";(o=(i=wr.get(a))==null?void 0:i.clusterData)!=null&&o.dir&&(s=wr.get(a).clusterData.dir,et.warn("Fixing dir",wr.get(a).clusterData.dir,s));const l=new Lo({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});et.warn("Old graph before copy",Dl(t)),cet(a,t,l,a),t.setNode(a,{clusterNode:!0,id:a,clusterData:wr.get(a).clusterData,label:wr.get(a).label,graph:l}),et.warn("New graph after copy node: (",a,")",Dl(l)),et.debug("Old graph after copy",Dl(t))}else et.warn("Cluster ** ",a," **not meeting the criteria !externalConnections:",!wr.get(a).externalConnections," no parent: ",!t.parent(a)," children ",t.children(a)&&t.children(a).length>0,t.children("D"),e),et.debug(wr);else et.debug("Not a cluster",a,e);r=t.nodes(),et.warn("New list of nodes",r);for(const a of r){const s=t.node(a);et.warn(" Now next level",a,s),s!=null&&s.clusterNode&&het(s.graph,e+1)}}else et.debug("Done, no node has children",t.nodes())},"extractor"),det=w((t,e)=>{if(e.length===0)return[];let r=Object.assign([],e);return e.forEach(n=>{const i=t.children(n),o=det(t,i);r=[...r,...o]}),r},"sorter"),O9t=w(t=>det(t,t.children()),"sortNodesByHierarchy"),pet=w(async(t,e,r,n,i,o)=>{et.warn("Graph in recursive render:XAX",Dl(e),i);const a=e.graph().rankdir;et.trace("Dir in recursive render - dir:",a);const s=t.insert("g").attr("class","root");e.nodes()?et.info("Recursive render XXX",e.nodes()):et.info("No nodes found for",e),e.edges().length>0&&et.info("Recursive edges",e.edge(e.edges()[0]));const l=s.insert("g").attr("class","clusters"),u=s.insert("g").attr("class","edgePaths"),h=s.insert("g").attr("class","edgeLabels"),d=s.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(m){const y=e.node(m);if(i!==void 0){const v=JSON.parse(JSON.stringify(i.clusterData));et.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,v.height,`
Parent cluster`,i.height),e.setNode(i.id,v),e.parent(m)||(et.trace("Setting parent",m,i.id),e.setParent(m,i.id,v))}if(et.info("(Insert) Node XXX"+m+": "+JSON.stringify(e.node(m))),y==null?void 0:y.clusterNode){et.info("Cluster identified XBX",m,y.width,e.node(m));const{ranksep:v,nodesep:x}=e.graph();y.graph.setGraph({...y.graph.graph(),ranksep:v+25,nodesep:x});const b=await pet(d,y.graph,r,n,e.node(m),o),k=b.elem;Ue(y,k),y.diff=b.diff||0,et.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),y1t(k,y)}else e.children(m).length>0?(et.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",e),et.trace(Wm(y.id,e)),wr.set(y.id,{id:Wm(y.id,e),node:y})):(et.trace("Node - the non recursive path XAX",m,d,e.node(m),a),await x4(d,e.node(m),{config:o,dir:a}))})),await w(async()=>{const m=e.edges().map(async function(y){const v=e.edge(y.v,y.w,y.name);et.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),et.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(e.edge(y))),et.info("Fix",wr,"ids:",y.v,y.w,"Translating: ",wr.get(y.v),wr.get(y.w)),await SY(h,v)});await Promise.all(m)},"processEdges")(),et.info("Graph before layout:",JSON.stringify(Dl(e))),et.info("############################################# XXX"),et.info("###                Layout                 ### XXX"),et.info("############################################# XXX"),s3(e),et.info("Graph after layout:",JSON.stringify(Dl(e)));let f=0,{subGraphTitleTotalMargin:g}=xy(o);return await Promise.all(O9t(e).map(async function(m){var v;const y=e.node(m);if(et.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y==null?void 0:y.clusterNode)y.y+=g,et.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,e.parent(m)),wr.get(y.id).node=y,a_(y);else if(e.children(m).length>0){et.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,e.parent(m)),y.height+=g,e.node(y.parentId);const x=(y==null?void 0:y.padding)/2||0,b=((v=y==null?void 0:y.labelBBox)==null?void 0:v.height)||0,k=b-x||0;et.debug("OffsetY",k,"labelHeight",b,"halfPadding",x),await kC(l,y),wr.get(y.id).node=y}else{const x=e.node(y.parentId);y.y+=g/2,et.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",x,x==null?void 0:x.offsetY,y),a_(y)}})),e.edges().forEach(function(m){const y=e.edge(m);et.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(k=>k.y+=g/2);const v=e.node(m.v);var x=e.node(m.w);const b=$Y(u,y,wr,r,v,x,n);AY(y,b)}),e.nodes().forEach(function(m){const y=e.node(m);et.info(m,y.type,y.diff),y.isGroup&&(f=y.diff)}),et.warn("Returning from recursive render XAX",s,f),{elem:s,diff:f}},"recursiveRender"),M9t=w(async(t,e)=>{var o,a,s,l,u,h;const r=new Lo({multigraph:!0,compound:!0}).setGraph({rankdir:t.direction,nodesep:((o=t.config)==null?void 0:o.nodeSpacing)||((s=(a=t.config)==null?void 0:a.flowchart)==null?void 0:s.nodeSpacing)||t.nodeSpacing,ranksep:((l=t.config)==null?void 0:l.rankSpacing)||((h=(u=t.config)==null?void 0:u.flowchart)==null?void 0:h.rankSpacing)||t.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=e.select("g");NY(n,t.markers,t.type,t.diagramId),v1t(),_1t(),t1t(),I9t(),t.nodes.forEach(d=>{r.setNode(d.id,{...d}),d.parentId&&r.setParent(d.id,d.parentId)}),et.debug("Edges:",t.edges),t.edges.forEach(d=>{if(d.start===d.end){const p=d.start,f=p+"---"+p+"---1",g=p+"---"+p+"---2",m=r.node(p);r.setNode(f,{domId:f,id:f,parentId:m.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(f,m.parentId),r.setNode(g,{domId:g,id:g,parentId:m.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(g,m.parentId);const y=structuredClone(d),v=structuredClone(d),x=structuredClone(d);y.label="",y.arrowTypeEnd="none",y.id=p+"-cyclic-special-1",v.arrowTypeEnd="none",v.id=p+"-cyclic-special-mid",x.label="",m.isGroup&&(y.fromCluster=p,x.toCluster=p),x.id=p+"-cyclic-special-2",r.setEdge(p,f,y,p+"-cyclic-special-0"),r.setEdge(f,g,v,p+"-cyclic-special-1"),r.setEdge(g,p,x,p+"-cyc<lic-special-2")}else r.setEdge(d.start,d.end,{...d},d.id)}),et.warn("Graph at first:",JSON.stringify(Dl(r))),D9t(r),et.warn("Graph after XAX:",JSON.stringify(Dl(r)));const i=Tt();await pet(n,r,t.type,t.diagramId,void 0,i)},"render");const B9t=Object.freeze(Object.defineProperty({__proto__:null,render:M9t},Symbol.toStringTag,{value:"Module"}));var l3=w((t,e)=>{const r=t.append("rect");if(r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),e.name&&r.attr("name",e.name),e.rx&&r.attr("rx",e.rx),e.ry&&r.attr("ry",e.ry),e.attrs!==void 0)for(const n in e.attrs)r.attr(n,e.attrs[n]);return e.class&&r.attr("class",e.class),r},"drawRect"),fet=w((t,e)=>{const r={x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"};l3(t,r).lower()},"drawBackgroundRect"),P9t=w((t,e)=>{const r=e.text.replace(og," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.text(r),n},"drawText"),F9t=w((t,e,r,n)=>{const i=t.append("image");i.attr("x",e),i.attr("y",r);const o=fh(n);i.attr("xlink:href",o)},"drawImage"),z9t=w((t,e,r,n)=>{const i=t.append("use");i.attr("x",e),i.attr("y",r);const o=fh(n);i.attr("xlink:href",`#${o}`)},"drawEmbeddedImage"),op=w(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),X7=w(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),jx=function(){var t=w(function(mt,It,gt,xt){for(gt=gt||{},xt=mt.length;xt--;gt[mt[xt]]=It);return gt},"o"),e=[1,24],r=[1,25],n=[1,26],i=[1,27],o=[1,28],a=[1,63],s=[1,64],l=[1,65],u=[1,66],h=[1,67],d=[1,68],p=[1,69],f=[1,29],g=[1,30],m=[1,31],y=[1,32],v=[1,33],x=[1,34],b=[1,35],k=[1,36],N=[1,37],_=[1,38],S=[1,39],T=[1,40],A=[1,41],C=[1,42],D=[1,43],E=[1,44],$=[1,45],I=[1,46],L=[1,47],O=[1,48],B=[1,50],R=[1,51],M=[1,52],F=[1,53],P=[1,54],U=[1,55],W=[1,56],Q=[1,57],K=[1,58],G=[1,59],V=[1,60],rt=[14,42],tt=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],at=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ut=[1,82],st=[1,83],_t=[1,84],X=[1,85],Et=[12,14,42],H=[12,14,33,42],ct=[12,14,33,42,76,77,79,80],dt=[12,33],Nt=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ft={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:w(function(mt,It,gt,xt,Ct,lt,ot){var Y=lt.length-1;switch(Ct){case 3:xt.setDirection("TB");break;case 4:xt.setDirection("BT");break;case 5:xt.setDirection("RL");break;case 6:xt.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:xt.setC4Type(lt[Y-3]);break;case 19:xt.setTitle(lt[Y].substring(6)),this.$=lt[Y].substring(6);break;case 20:xt.setAccDescription(lt[Y].substring(15)),this.$=lt[Y].substring(15);break;case 21:this.$=lt[Y].trim(),xt.setTitle(this.$);break;case 22:case 23:this.$=lt[Y].trim(),xt.setAccDescription(this.$);break;case 28:lt[Y].splice(2,0,"ENTERPRISE"),xt.addPersonOrSystemBoundary(...lt[Y]),this.$=lt[Y];break;case 29:lt[Y].splice(2,0,"SYSTEM"),xt.addPersonOrSystemBoundary(...lt[Y]),this.$=lt[Y];break;case 30:xt.addPersonOrSystemBoundary(...lt[Y]),this.$=lt[Y];break;case 31:lt[Y].splice(2,0,"CONTAINER"),xt.addContainerBoundary(...lt[Y]),this.$=lt[Y];break;case 32:xt.addDeploymentNode("node",...lt[Y]),this.$=lt[Y];break;case 33:xt.addDeploymentNode("nodeL",...lt[Y]),this.$=lt[Y];break;case 34:xt.addDeploymentNode("nodeR",...lt[Y]),this.$=lt[Y];break;case 35:xt.popBoundaryParseStack();break;case 39:xt.addPersonOrSystem("person",...lt[Y]),this.$=lt[Y];break;case 40:xt.addPersonOrSystem("external_person",...lt[Y]),this.$=lt[Y];break;case 41:xt.addPersonOrSystem("system",...lt[Y]),this.$=lt[Y];break;case 42:xt.addPersonOrSystem("system_db",...lt[Y]),this.$=lt[Y];break;case 43:xt.addPersonOrSystem("system_queue",...lt[Y]),this.$=lt[Y];break;case 44:xt.addPersonOrSystem("external_system",...lt[Y]),this.$=lt[Y];break;case 45:xt.addPersonOrSystem("external_system_db",...lt[Y]),this.$=lt[Y];break;case 46:xt.addPersonOrSystem("external_system_queue",...lt[Y]),this.$=lt[Y];break;case 47:xt.addContainer("container",...lt[Y]),this.$=lt[Y];break;case 48:xt.addContainer("container_db",...lt[Y]),this.$=lt[Y];break;case 49:xt.addContainer("container_queue",...lt[Y]),this.$=lt[Y];break;case 50:xt.addContainer("external_container",...lt[Y]),this.$=lt[Y];break;case 51:xt.addContainer("external_container_db",...lt[Y]),this.$=lt[Y];break;case 52:xt.addContainer("external_container_queue",...lt[Y]),this.$=lt[Y];break;case 53:xt.addComponent("component",...lt[Y]),this.$=lt[Y];break;case 54:xt.addComponent("component_db",...lt[Y]),this.$=lt[Y];break;case 55:xt.addComponent("component_queue",...lt[Y]),this.$=lt[Y];break;case 56:xt.addComponent("external_component",...lt[Y]),this.$=lt[Y];break;case 57:xt.addComponent("external_component_db",...lt[Y]),this.$=lt[Y];break;case 58:xt.addComponent("external_component_queue",...lt[Y]),this.$=lt[Y];break;case 60:xt.addRel("rel",...lt[Y]),this.$=lt[Y];break;case 61:xt.addRel("birel",...lt[Y]),this.$=lt[Y];break;case 62:xt.addRel("rel_u",...lt[Y]),this.$=lt[Y];break;case 63:xt.addRel("rel_d",...lt[Y]),this.$=lt[Y];break;case 64:xt.addRel("rel_l",...lt[Y]),this.$=lt[Y];break;case 65:xt.addRel("rel_r",...lt[Y]),this.$=lt[Y];break;case 66:xt.addRel("rel_b",...lt[Y]),this.$=lt[Y];break;case 67:lt[Y].splice(0,1),xt.addRel("rel",...lt[Y]),this.$=lt[Y];break;case 68:xt.updateElStyle("update_el_style",...lt[Y]),this.$=lt[Y];break;case 69:xt.updateRelStyle("update_rel_style",...lt[Y]),this.$=lt[Y];break;case 70:xt.updateLayoutConfig("update_layout_config",...lt[Y]),this.$=lt[Y];break;case 71:this.$=[lt[Y]];break;case 72:lt[Y].unshift(lt[Y-1]),this.$=lt[Y];break;case 73:case 75:this.$=lt[Y].trim();break;case 74:let Ot={};Ot[lt[Y-1].trim()]=lt[Y].trim(),this.$=Ot;break;case 76:this.$=""}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:a,36:s,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V},{13:70,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:a,36:s,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V},{13:71,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:a,36:s,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V},{13:72,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:a,36:s,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V},{13:73,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:a,36:s,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V},{14:[1,74]},t(rt,[2,13],{43:23,29:49,30:61,32:62,20:75,34:a,36:s,37:l,38:u,39:h,40:d,41:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V}),t(rt,[2,14]),t(tt,[2,16],{12:[1,76]}),t(rt,[2,36],{12:[1,77]}),t(at,[2,19]),t(at,[2,20]),{25:[1,78]},{27:[1,79]},t(at,[2,23]),{35:80,75:81,76:ut,77:st,79:_t,80:X},{35:86,75:81,76:ut,77:st,79:_t,80:X},{35:87,75:81,76:ut,77:st,79:_t,80:X},{35:88,75:81,76:ut,77:st,79:_t,80:X},{35:89,75:81,76:ut,77:st,79:_t,80:X},{35:90,75:81,76:ut,77:st,79:_t,80:X},{35:91,75:81,76:ut,77:st,79:_t,80:X},{35:92,75:81,76:ut,77:st,79:_t,80:X},{35:93,75:81,76:ut,77:st,79:_t,80:X},{35:94,75:81,76:ut,77:st,79:_t,80:X},{35:95,75:81,76:ut,77:st,79:_t,80:X},{35:96,75:81,76:ut,77:st,79:_t,80:X},{35:97,75:81,76:ut,77:st,79:_t,80:X},{35:98,75:81,76:ut,77:st,79:_t,80:X},{35:99,75:81,76:ut,77:st,79:_t,80:X},{35:100,75:81,76:ut,77:st,79:_t,80:X},{35:101,75:81,76:ut,77:st,79:_t,80:X},{35:102,75:81,76:ut,77:st,79:_t,80:X},{35:103,75:81,76:ut,77:st,79:_t,80:X},{35:104,75:81,76:ut,77:st,79:_t,80:X},t(Et,[2,59]),{35:105,75:81,76:ut,77:st,79:_t,80:X},{35:106,75:81,76:ut,77:st,79:_t,80:X},{35:107,75:81,76:ut,77:st,79:_t,80:X},{35:108,75:81,76:ut,77:st,79:_t,80:X},{35:109,75:81,76:ut,77:st,79:_t,80:X},{35:110,75:81,76:ut,77:st,79:_t,80:X},{35:111,75:81,76:ut,77:st,79:_t,80:X},{35:112,75:81,76:ut,77:st,79:_t,80:X},{35:113,75:81,76:ut,77:st,79:_t,80:X},{35:114,75:81,76:ut,77:st,79:_t,80:X},{35:115,75:81,76:ut,77:st,79:_t,80:X},{20:116,29:49,30:61,32:62,34:a,36:s,37:l,38:u,39:h,40:d,41:p,43:23,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V},{12:[1,118],33:[1,117]},{35:119,75:81,76:ut,77:st,79:_t,80:X},{35:120,75:81,76:ut,77:st,79:_t,80:X},{35:121,75:81,76:ut,77:st,79:_t,80:X},{35:122,75:81,76:ut,77:st,79:_t,80:X},{35:123,75:81,76:ut,77:st,79:_t,80:X},{35:124,75:81,76:ut,77:st,79:_t,80:X},{35:125,75:81,76:ut,77:st,79:_t,80:X},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(rt,[2,15]),t(tt,[2,17],{21:22,19:130,22:e,23:r,24:n,26:i,28:o}),t(rt,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:r,24:n,26:i,28:o,34:a,36:s,37:l,38:u,39:h,40:d,41:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b,51:k,52:N,53:_,54:S,55:T,56:A,57:C,58:D,59:E,60:$,61:I,62:L,63:O,64:B,65:R,66:M,67:F,68:P,69:U,70:W,71:Q,72:K,73:G,74:V}),t(at,[2,21]),t(at,[2,22]),t(Et,[2,39]),t(H,[2,71],{75:81,35:132,76:ut,77:st,79:_t,80:X}),t(ct,[2,73]),{78:[1,133]},t(ct,[2,75]),t(ct,[2,76]),t(Et,[2,40]),t(Et,[2,41]),t(Et,[2,42]),t(Et,[2,43]),t(Et,[2,44]),t(Et,[2,45]),t(Et,[2,46]),t(Et,[2,47]),t(Et,[2,48]),t(Et,[2,49]),t(Et,[2,50]),t(Et,[2,51]),t(Et,[2,52]),t(Et,[2,53]),t(Et,[2,54]),t(Et,[2,55]),t(Et,[2,56]),t(Et,[2,57]),t(Et,[2,58]),t(Et,[2,60]),t(Et,[2,61]),t(Et,[2,62]),t(Et,[2,63]),t(Et,[2,64]),t(Et,[2,65]),t(Et,[2,66]),t(Et,[2,67]),t(Et,[2,68]),t(Et,[2,69]),t(Et,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(dt,[2,28]),t(dt,[2,29]),t(dt,[2,30]),t(dt,[2,31]),t(dt,[2,32]),t(dt,[2,33]),t(dt,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(tt,[2,18]),t(rt,[2,38]),t(H,[2,72]),t(ct,[2,74]),t(Et,[2,24]),t(Et,[2,35]),t(Nt,[2,25]),t(Nt,[2,26],{12:[1,138]}),t(Nt,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:w(function(mt,It){if(!It.recoverable){var gt=new Error(mt);throw gt.hash=It,gt}this.trace(mt)},"parseError"),parse:w(function(mt){var It=this,gt=[0],xt=[],Ct=[null],lt=[],ot=this.table,Y="",Ot=0,nt=0,Ut=lt.slice.call(arguments,1),Ft=Object.create(this.lexer),qt={yy:{}};for(var Wt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Wt)&&(qt.yy[Wt]=this.yy[Wt]);Ft.setInput(mt,qt.yy),qt.yy.lexer=Ft,qt.yy.parser=this,Ft.yylloc===void 0&&(Ft.yylloc={});var Ht=Ft.yylloc;lt.push(Ht);var Xe=Ft.options&&Ft.options.ranges;function Vt(){var Ce;return typeof(Ce=xt.pop()||Ft.lex()||1)!="number"&&(Ce instanceof Array&&(Ce=(xt=Ce).pop()),Ce=It.symbols_[Ce]||Ce),Ce}typeof qt.yy.parseError=="function"?this.parseError=qt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(Ce){gt.length=gt.length-2*Ce,Ct.length=Ct.length-Ce,lt.length=lt.length-Ce},"popStack"),w(Vt,"lex");for(var xe,Kt,Xt,pe,de,ge,pr,Ne,Ze={};;){if(Kt=gt[gt.length-1],this.defaultActions[Kt]?Xt=this.defaultActions[Kt]:(xe==null&&(xe=Vt()),Xt=ot[Kt]&&ot[Kt][xe]),Xt===void 0||!Xt.length||!Xt[0]){var ke="";for(de in Ne=[],ot[Kt])this.terminals_[de]&&de>2&&Ne.push("'"+this.terminals_[de]+"'");ke=Ft.showPosition?"Parse error on line "+(Ot+1)+`:
`+Ft.showPosition()+`
Expecting `+Ne.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":"Parse error on line "+(Ot+1)+": Unexpected "+(xe==1?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(ke,{text:Ft.match,token:this.terminals_[xe]||xe,line:Ft.yylineno,loc:Ht,expected:Ne})}if(Xt[0]instanceof Array&&Xt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Kt+", token: "+xe);switch(Xt[0]){case 1:gt.push(xe),Ct.push(Ft.yytext),lt.push(Ft.yylloc),gt.push(Xt[1]),xe=null,nt=Ft.yyleng,Y=Ft.yytext,Ot=Ft.yylineno,Ht=Ft.yylloc;break;case 2:if(ge=this.productions_[Xt[1]][1],Ze.$=Ct[Ct.length-ge],Ze._$={first_line:lt[lt.length-(ge||1)].first_line,last_line:lt[lt.length-1].last_line,first_column:lt[lt.length-(ge||1)].first_column,last_column:lt[lt.length-1].last_column},Xe&&(Ze._$.range=[lt[lt.length-(ge||1)].range[0],lt[lt.length-1].range[1]]),(pe=this.performAction.apply(Ze,[Y,nt,Ot,qt.yy,Xt[1],Ct,lt].concat(Ut)))!==void 0)return pe;ge&&(gt=gt.slice(0,-1*ge*2),Ct=Ct.slice(0,-1*ge),lt=lt.slice(0,-1*ge)),gt.push(this.productions_[Xt[1]][0]),Ct.push(Ze.$),lt.push(Ze._$),pr=ot[gt[gt.length-2]][gt[gt.length-1]],gt.push(pr);break;case 3:return!0}}return!0},"parse")},Dt=function(){return{EOF:1,parseError:w(function(mt,It){if(!this.yy.parser)throw new Error(mt);this.yy.parser.parseError(mt,It)},"parseError"),setInput:w(function(mt,It){return this.yy=It||this.yy||{},this._input=mt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var mt=this._input[0];return this.yytext+=mt,this.yyleng++,this.offset++,this.match+=mt,this.matched+=mt,mt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),mt},"input"),unput:w(function(mt){var It=mt.length,gt=mt.split(/(?:\r\n?|\n)/g);this._input=mt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-It),this.offset-=It;var xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),gt.length-1&&(this.yylineno-=gt.length-1);var Ct=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:gt?(gt.length===xt.length?this.yylloc.first_column:0)+xt[xt.length-gt.length].length-gt[0].length:this.yylloc.first_column-It},this.options.ranges&&(this.yylloc.range=[Ct[0],Ct[0]+this.yyleng-It]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(mt){this.unput(this.match.slice(mt))},"less"),pastInput:w(function(){var mt=this.matched.substr(0,this.matched.length-this.match.length);return(mt.length>20?"...":"")+mt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var mt=this.match;return mt.length<20&&(mt+=this._input.substr(0,20-mt.length)),(mt.substr(0,20)+(mt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var mt=this.pastInput(),It=new Array(mt.length+1).join("-");return mt+this.upcomingInput()+`
`+It+"^"},"showPosition"),test_match:w(function(mt,It){var gt,xt,Ct;if(this.options.backtrack_lexer&&(Ct={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ct.yylloc.range=this.yylloc.range.slice(0))),(xt=mt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xt?xt[xt.length-1].length-xt[xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+mt[0].length},this.yytext+=mt[0],this.match+=mt[0],this.matches=mt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(mt[0].length),this.matched+=mt[0],gt=this.performAction.call(this,this.yy,this,It,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),gt)return gt;if(this._backtrack){for(var lt in Ct)this[lt]=Ct[lt];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var mt,It,gt,xt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Ct=this._currentRules(),lt=0;lt<Ct.length;lt++)if((gt=this._input.match(this.rules[Ct[lt]]))&&(!It||gt[0].length>It[0].length)){if(It=gt,xt=lt,this.options.backtrack_lexer){if((mt=this.test_match(gt,Ct[lt]))!==!1)return mt;if(this._backtrack){It=!1;continue}return!1}if(!this.options.flex)break}return It?(mt=this.test_match(It,Ct[xt]))!==!1&&mt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var mt=this.next();return mt||this.lex()},"lex"),begin:w(function(mt){this.conditionStack.push(mt)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(mt){return(mt=this.conditionStack.length-1-Math.abs(mt||0))>=0?this.conditionStack[mt]:"INITIAL"},"topState"),pushState:w(function(mt){this.begin(mt)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:w(function(mt,It,gt,xt){switch(gt){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 73:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 16:case 70:break;case 14:c;break;case 15:return 12;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:case 53:return this.begin("rel_u"),66;case 54:case 55:return this.begin("rel_d"),67;case 56:case 57:return this.begin("rel_l"),68;case 58:case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:case 79:this.popState(),this.popState();break;case 69:case 71:return 80;case 72:this.begin("string");break;case 74:case 80:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}}}();function $t(){this.yy={}}return ft.lexer=Dt,w($t,"Parser"),$t.prototype=ft,ft.Parser=$t,new $t}();jx.parser=jx;var get,j9t=jx,cl=[],Uu=[""],Xo="global",rl="",Gl=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Vm=[],K7="",Z7=!1,Hx=4,Ux=2,H9t=w(function(){return get},"getC4Type"),U9t=w(function(t){get=nn(t,Tt())},"setC4Type"),q9t=w(function(t,e,r,n,i,o,a,s,l){if(t==null||e==null||r==null||n==null)return;let u={};const h=Vm.find(d=>d.from===e&&d.to===r);if(h?u=h:Vm.push(u),u.type=t,u.from=e,u.to=r,u.label={text:n},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.techn={text:i};if(o==null)u.descr={text:""};else if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]={text:p}}else u.descr={text:o};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.wrap=vh()},"addRel"),G9t=w(function(t,e,r,n,i,o,a){if(e===null||r===null)return;let s={};const l=cl.find(u=>u.alias===e);if(l&&e===l.alias?s=l:(s.alias=e,cl.push(s)),s.label=r==null?{text:""}:{text:r},n==null)s.descr={text:""};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];s[u]={text:h}}else s.descr={text:n};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];s[u]=h}else s.sprite=i;if(typeof o=="object"){let[u,h]=Object.entries(o)[0];s[u]=h}else s.tags=o;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];s[u]=h}else s.link=a;s.typeC4Shape={text:t},s.parentBoundary=Xo,s.wrap=vh()},"addPersonOrSystem"),W9t=w(function(t,e,r,n,i,o,a,s){if(e===null||r===null)return;let l={};const u=cl.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,cl.push(l)),l.label=r==null?{text:""}:{text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.sprite=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.link=s;l.wrap=vh(),l.typeC4Shape={text:t},l.parentBoundary=Xo},"addContainer"),V9t=w(function(t,e,r,n,i,o,a,s){if(e===null||r===null)return;let l={};const u=cl.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,cl.push(l)),l.label=r==null?{text:""}:{text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.sprite=o;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.link=s;l.wrap=vh(),l.typeC4Shape={text:t},l.parentBoundary=Xo},"addComponent"),Y9t=w(function(t,e,r,n,i){if(t===null||e===null)return;let o={};const a=Gl.find(s=>s.alias===t);if(a&&t===a.alias?o=a:(o.alias=t,Gl.push(o)),o.label=e==null?{text:""}:{text:e},r==null)o.type={text:"system"};else if(typeof r=="object"){let[s,l]=Object.entries(r)[0];o[s]={text:l}}else o.type={text:r};if(typeof n=="object"){let[s,l]=Object.entries(n)[0];o[s]=l}else o.tags=n;if(typeof i=="object"){let[s,l]=Object.entries(i)[0];o[s]=l}else o.link=i;o.parentBoundary=Xo,o.wrap=vh(),rl=Xo,Xo=t,Uu.push(rl)},"addPersonOrSystemBoundary"),X9t=w(function(t,e,r,n,i){if(t===null||e===null)return;let o={};const a=Gl.find(s=>s.alias===t);if(a&&t===a.alias?o=a:(o.alias=t,Gl.push(o)),o.label=e==null?{text:""}:{text:e},r==null)o.type={text:"container"};else if(typeof r=="object"){let[s,l]=Object.entries(r)[0];o[s]={text:l}}else o.type={text:r};if(typeof n=="object"){let[s,l]=Object.entries(n)[0];o[s]=l}else o.tags=n;if(typeof i=="object"){let[s,l]=Object.entries(i)[0];o[s]=l}else o.link=i;o.parentBoundary=Xo,o.wrap=vh(),rl=Xo,Xo=t,Uu.push(rl)},"addContainerBoundary"),K9t=w(function(t,e,r,n,i,o,a,s){if(e===null||r===null)return;let l={};const u=Gl.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Gl.push(l)),l.label=r==null?{text:""}:{text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.link=s;l.nodeType=t,l.parentBoundary=Xo,l.wrap=vh(),rl=Xo,Xo=e,Uu.push(rl)},"addDeploymentNode"),Z9t=w(function(){Xo=rl,Uu.pop(),rl=Uu.pop(),Uu.push(rl)},"popBoundaryParseStack"),Q9t=w(function(t,e,r,n,i,o,a,s,l,u,h){let d=cl.find(p=>p.alias===e);if(d!==void 0||(d=Gl.find(p=>p.alias===e),d!==void 0)){if(r!=null)if(typeof r=="object"){let[p,f]=Object.entries(r)[0];d[p]=f}else d.bgColor=r;if(n!=null)if(typeof n=="object"){let[p,f]=Object.entries(n)[0];d[p]=f}else d.fontColor=n;if(i!=null)if(typeof i=="object"){let[p,f]=Object.entries(i)[0];d[p]=f}else d.borderColor=i;if(o!=null)if(typeof o=="object"){let[p,f]=Object.entries(o)[0];d[p]=f}else d.shadowing=o;if(a!=null)if(typeof a=="object"){let[p,f]=Object.entries(a)[0];d[p]=f}else d.shape=a;if(s!=null)if(typeof s=="object"){let[p,f]=Object.entries(s)[0];d[p]=f}else d.sprite=s;if(l!=null)if(typeof l=="object"){let[p,f]=Object.entries(l)[0];d[p]=f}else d.techn=l;if(u!=null)if(typeof u=="object"){let[p,f]=Object.entries(u)[0];d[p]=f}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[p,f]=Object.entries(h)[0];d[p]=f}else d.legendSprite=h}},"updateElStyle"),J9t=w(function(t,e,r,n,i,o,a){const s=Vm.find(l=>l.from===e&&l.to===r);if(s!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];s[l]=u}else s.textColor=n;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];s[l]=u}else s.lineColor=i;if(o!=null)if(typeof o=="object"){let[l,u]=Object.entries(o)[0];s[l]=parseInt(u)}else s.offsetX=parseInt(o);if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];s[l]=parseInt(u)}else s.offsetY=parseInt(a)}},"updateRelStyle"),tIt=w(function(t,e,r){let n=Hx,i=Ux;if(typeof e=="object"){const o=Object.values(e)[0];n=parseInt(o)}else n=parseInt(e);if(typeof r=="object"){const o=Object.values(r)[0];i=parseInt(o)}else i=parseInt(r);n>=1&&(Hx=n),i>=1&&(Ux=i)},"updateLayoutConfig"),eIt=w(function(){return Hx},"getC4ShapeInRow"),rIt=w(function(){return Ux},"getC4BoundaryInRow"),nIt=w(function(){return Xo},"getCurrentBoundaryParse"),iIt=w(function(){return rl},"getParentBoundaryParse"),met=w(function(t){return t==null?cl:cl.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),oIt=w(function(t){return cl.find(e=>e.alias===t)},"getC4Shape"),aIt=w(function(t){return Object.keys(met(t))},"getC4ShapeKeys"),yet=w(function(t){return t==null?Gl:Gl.filter(e=>e.parentBoundary===t)},"getBoundaries"),sIt=yet,lIt=w(function(){return Vm},"getRels"),cIt=w(function(){return K7},"getTitle"),uIt=w(function(t){Z7=t},"setWrap"),vh=w(function(){return Z7},"autoWrap"),hIt=w(function(){cl=[],Gl=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],rl="",Xo="global",Uu=[""],Vm=[],Uu=[""],K7="",Z7=!1,Hx=4,Ux=2},"clear"),dIt=w(function(t){K7=nn(t,Tt())},"setTitle"),S6={addPersonOrSystem:G9t,addPersonOrSystemBoundary:Y9t,addContainer:W9t,addContainerBoundary:X9t,addComponent:V9t,addDeploymentNode:K9t,popBoundaryParseStack:Z9t,addRel:q9t,updateElStyle:Q9t,updateRelStyle:J9t,updateLayoutConfig:tIt,autoWrap:vh,setWrap:uIt,getC4ShapeArray:met,getC4Shape:oIt,getC4ShapeKeys:aIt,getBoundaries:yet,getBoundarys:sIt,getCurrentBoundaryParse:nIt,getParentBoundaryParse:iIt,getRels:lIt,getTitle:cIt,getC4Type:H9t,getC4ShapeInRow:eIt,getC4BoundaryInRow:rIt,setAccTitle:Wi,getAccTitle:so,getAccDescription:co,setAccDescription:lo,getConfig:w(()=>Tt().c4,"getConfig"),clear:hIt,LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:dIt,setC4Type:U9t},Q7=w(function(t,e){return l3(t,e)},"drawRect"),vet=w(function(t,e,r,n,i,o){const a=t.append("image");a.attr("width",e),a.attr("height",r),a.attr("x",n),a.attr("y",i);let s=o.startsWith("data:image/png;base64")?o:fh(o);a.attr("xlink:href",s)},"drawImage"),pIt=w((t,e,r)=>{const n=t.append("g");let i=0;for(let o of e){let a=o.textColor?o.textColor:"#444444",s=o.lineColor?o.lineColor:"#444444",l=o.offsetX?parseInt(o.offsetX):0,u=o.offsetY?parseInt(o.offsetY):0,h="";if(i===0){let p=n.append("line");p.attr("x1",o.startPoint.x),p.attr("y1",o.startPoint.y),p.attr("x2",o.endPoint.x),p.attr("y2",o.endPoint.y),p.attr("stroke-width","1"),p.attr("stroke",s),p.style("fill","none"),o.type!=="rel_b"&&p.attr("marker-end","url("+h+"#arrowhead)"),o.type!=="birel"&&o.type!=="rel_b"||p.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let p=n.append("path");p.attr("fill","none").attr("stroke-width","1").attr("stroke",s).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",o.startPoint.x).replaceAll("starty",o.startPoint.y).replaceAll("controlx",o.startPoint.x+(o.endPoint.x-o.startPoint.x)/2-(o.endPoint.x-o.startPoint.x)/4).replaceAll("controly",o.startPoint.y+(o.endPoint.y-o.startPoint.y)/2).replaceAll("stopx",o.endPoint.x).replaceAll("stopy",o.endPoint.y)),o.type!=="rel_b"&&p.attr("marker-end","url("+h+"#arrowhead)"),o.type!=="birel"&&o.type!=="rel_b"||p.attr("marker-start","url("+h+"#arrowend)")}let d=r.messageFont();Tc(r)(o.label.text,n,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+l,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+u,o.label.width,o.label.height,{fill:a},d),o.techn&&o.techn.text!==""&&(d=r.messageFont(),Tc(r)("["+o.techn.text+"]",n,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+l,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+r.messageFontSize+5+u,Math.max(o.label.width,o.techn.width),o.techn.height,{fill:a,"font-style":"italic"},d))}},"drawRels"),fIt=w(function(t,e,r){const n=t.append("g");let i=e.bgColor?e.bgColor:"none",o=e.borderColor?e.borderColor:"#444444",a=e.fontColor?e.fontColor:"black",s={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(s={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:o,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:s};Q7(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=a,Tc(r)(e.label.text,n,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=r.boundaryFont(),u.fontColor=a,Tc(r)(e.type.text,n,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=a,Tc(r)(e.descr.text,n,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},"drawBoundary"),gIt=w(function(t,e,r){var d;let n=e.bgColor?e.bgColor:r[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:r[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const s=t.append("g");s.attr("class","person-man");const l=op();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=n,l.width=e.width,l.height=e.height,l.stroke=i,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},Q7(s,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":s.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":s.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2))}let u=EIt(r,e.typeC4Shape.text);switch(s.append("text").attr("fill",o).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":vet(s,48,48,e.x+e.width/2-24,e.y+e.image.Y,a)}let h=r[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=o,Tc(r)(e.label.text,s,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},h),h=r[e.typeC4Shape.text+"Font"](),h.fontColor=o,e.techn&&((d=e.techn)==null?void 0:d.text)!==""?Tc(r)(e.techn.text,s,e.x,e.y+e.techn.Y,e.width,e.height,{fill:o,"font-style":"italic"},h):e.type&&e.type.text!==""&&Tc(r)(e.type.text,s,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},h),e.descr&&e.descr.text!==""&&(h=r.personFont(),h.fontColor=o,Tc(r)(e.descr.text,s,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},h)),e.height},"drawC4Shape"),mIt=w(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),yIt=w(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),vIt=w(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),bIt=w(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),xIt=w(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),wIt=w(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),kIt=w(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),TIt=w(function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),EIt=w((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),Tc=function(){function t(i,o,a,s,l,u,h){n(o.append("text").attr("x",a+l/2).attr("y",s+u/2+5).style("text-anchor","middle").text(i),h)}function e(i,o,a,s,l,u,h,d){const{fontSize:p,fontFamily:f,fontWeight:g}=d,m=i.split(ne.lineBreakRegex);for(let y=0;y<m.length;y++){const v=y*p-p*(m.length-1)/2,x=o.append("text").attr("x",a+l/2).attr("y",s).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",p).style("font-weight",g).style("font-family",f);x.append("tspan").attr("dy",v).text(m[y]).attr("alignment-baseline","mathematical"),n(x,h)}}function r(i,o,a,s,l,u,h,d){const p=o.append("switch"),f=p.append("foreignObject").attr("x",a).attr("y",s).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,a,s,l,0,h,d),n(f,h)}function n(i,o){for(const a in o)o.hasOwnProperty(a)&&i.attr(a,o[a])}return w(t,"byText"),w(e,"byTspan"),w(r,"byFo"),w(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Tl={drawRect:Q7,drawBoundary:fIt,drawC4Shape:gIt,drawRels:pIt,drawImage:vet,insertArrowHead:bIt,insertArrowEnd:xIt,insertArrowFilledHead:wIt,insertDynamicNumber:kIt,insertArrowCrossHead:TIt,insertDatabaseIcon:mIt,insertComputerIcon:yIt,insertClockIcon:vIt},qx=0,Gx=0,bet=4,A6=2;jx.yy=S6;var Pe={},zf,xet=(zf=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,C6(e.db.getConfig())}setData(e,r,n,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(e,r,n,i){e[r]===void 0?e[r]=n:e[r]=i(n,e[r])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+2*e.margin,n=r+e.width,i=this.nextData.starty+2*e.margin,o=i+e.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>bet)&&(r=this.nextData.startx+e.margin+Pe.nextLinePaddingX,i=this.nextData.stopy+2*e.margin,this.nextData.stopx=n=r+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=i+e.height,this.nextData.cnt=1),e.x=r,e.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},C6(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},w(zf,"Bounds"),zf),C6=w(function(t){Ti(Pe,t),t.fontFamily&&(Pe.personFontFamily=Pe.systemFontFamily=Pe.messageFontFamily=t.fontFamily),t.fontSize&&(Pe.personFontSize=Pe.systemFontSize=Pe.messageFontSize=t.fontSize),t.fontWeight&&(Pe.personFontWeight=Pe.systemFontWeight=Pe.messageFontWeight=t.fontWeight)},"setConf"),o1=w((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),yb=w(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),_It=w(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");function bs(t,e,r,n,i){if(!e[t].width)if(r)e[t].text=RW(e[t].text,i,n),e[t].textLines=e[t].text.split(ne.lineBreakRegex).length,e[t].width=i,e[t].height=cx(e[t].text,n);else{let o=e[t].text.split(ne.lineBreakRegex);e[t].textLines=o.length;let a=0;e[t].height=0,e[t].width=0;for(const s of o)e[t].width=Math.max(xs(s,n),e[t].width),a=cx(s,n),e[t].height=e[t].height+a}}w(bs,"calcC4ShapeTextWH");var wet=w(function(t,e,r){e.x=r.data.startx,e.y=r.data.starty,e.width=r.data.stopx-r.data.startx,e.height=r.data.stopy-r.data.starty,e.label.y=Pe.c4ShapeMargin-35;let n=e.wrap&&Pe.wrap,i=yb(Pe);i.fontSize=i.fontSize+2,i.fontWeight="bold",bs("label",e,n,i,xs(e.label.text,i)),Tl.drawBoundary(t,e,Pe)},"drawBoundary"),ket=w(function(t,e,r,n){let i=0;for(const o of n){i=0;const a=r[o];let s=o1(Pe,a.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,a.typeC4Shape.width=xs("«"+a.typeC4Shape.text+"»",s),a.typeC4Shape.height=s.fontSize+2,a.typeC4Shape.Y=Pe.c4ShapePadding,i=a.typeC4Shape.Y+a.typeC4Shape.height-4,a.image={width:0,height:0,Y:0},a.typeC4Shape.text){case"person":case"external_person":a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height}a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);let l=a.wrap&&Pe.wrap,u=Pe.width-2*Pe.c4ShapePadding,h=o1(Pe,a.typeC4Shape.text);h.fontSize=h.fontSize+2,h.fontWeight="bold",bs("label",a,l,h,u),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&a.type.text!==""?(a.type.text="["+a.type.text+"]",bs("type",a,l,o1(Pe,a.typeC4Shape.text),u),a.type.Y=i+5,i=a.type.Y+a.type.height):a.techn&&a.techn.text!==""&&(a.techn.text="["+a.techn.text+"]",bs("techn",a,l,o1(Pe,a.techn.text),u),a.techn.Y=i+5,i=a.techn.Y+a.techn.height);let d=i,p=a.label.width;a.descr&&a.descr.text!==""&&(bs("descr",a,l,o1(Pe,a.typeC4Shape.text),u),a.descr.Y=i+20,i=a.descr.Y+a.descr.height,p=Math.max(a.label.width,a.descr.width),d=i-5*a.descr.textLines),p+=Pe.c4ShapePadding,a.width=Math.max(a.width||Pe.width,p,Pe.width),a.height=Math.max(a.height||Pe.height,d,Pe.height),a.margin=a.margin||Pe.c4ShapeMargin,t.insert(a),Tl.drawC4Shape(e,a,Pe)}t.bumpLastMargin(Pe.c4ShapeMargin)},"drawC4ShapeArray"),jf,rs=(jf=class{constructor(e,r){this.x=e,this.y=r}},w(jf,"Point"),jf),sM=w(function(t,e){let r=t.x,n=t.y,i=e.x,o=e.y,a=r+t.width/2,s=n+t.height/2,l=Math.abs(r-i),u=Math.abs(n-o),h=u/l,d=t.height/t.width,p=null;return n==o&&r<i?p=new rs(r+t.width,s):n==o&&r>i?p=new rs(r,s):r==i&&n<o?p=new rs(a,n+t.height):r==i&&n>o&&(p=new rs(a,n)),r>i&&n<o?p=d>=h?new rs(r,s+h*t.width/2):new rs(a-l/u*t.height/2,n+t.height):r<i&&n<o?p=d>=h?new rs(r+t.width,s+h*t.width/2):new rs(a+l/u*t.height/2,n+t.height):r<i&&n>o?p=d>=h?new rs(r+t.width,s-h*t.width/2):new rs(a+t.height/2*l/u,n):r>i&&n>o&&(p=d>=h?new rs(r,s-t.width/2*h):new rs(a-t.height/2*l/u,n)),p},"getIntersectPoint"),SIt=w(function(t,e){let r={x:0,y:0};r.x=e.x+e.width/2,r.y=e.y+e.height/2;let n=sM(t,r);return r.x=t.x+t.width/2,r.y=t.y+t.height/2,{startPoint:n,endPoint:sM(e,r)}},"getIntersectPoints"),AIt=w(function(t,e,r,n){let i=0;for(let o of e){i+=1;let a=o.wrap&&Pe.wrap,s=_It(Pe);n.db.getC4Type()==="C4Dynamic"&&(o.label.text=i+": "+o.label.text);let l=xs(o.label.text,s);bs("label",o,a,s,l),o.techn&&o.techn.text!==""&&(l=xs(o.techn.text,s),bs("techn",o,a,s,l)),o.descr&&o.descr.text!==""&&(l=xs(o.descr.text,s),bs("descr",o,a,s,l));let u=r(o.from),h=r(o.to),d=SIt(u,h);o.startPoint=d.startPoint,o.endPoint=d.endPoint}Tl.drawRels(t,e,Pe)},"drawRels");function J7(t,e,r,n,i){let o=new xet(i);o.data.widthLimit=r.data.widthLimit/Math.min(A6,n.length);for(let[a,s]of n.entries()){let l=0;s.image={width:0,height:0,Y:0},s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=l,l=s.image.Y+s.image.height);let u=s.wrap&&Pe.wrap,h=yb(Pe);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",bs("label",s,u,h,o.data.widthLimit),s.label.Y=l+8,l=s.label.Y+s.label.height,s.type&&s.type.text!==""&&(s.type.text="["+s.type.text+"]",bs("type",s,u,yb(Pe),o.data.widthLimit),s.type.Y=l+5,l=s.type.Y+s.type.height),s.descr&&s.descr.text!==""){let g=yb(Pe);g.fontSize=g.fontSize-2,bs("descr",s,u,g,o.data.widthLimit),s.descr.Y=l+20,l=s.descr.Y+s.descr.height}if(a==0||a%A6==0){let g=r.data.startx+Pe.diagramMarginX,m=r.data.stopy+Pe.diagramMarginY+l;o.setData(g,g,m,m)}else{let g=o.data.stopx!==o.data.startx?o.data.stopx+Pe.diagramMarginX:o.data.startx,m=o.data.starty;o.setData(g,g,m,m)}o.name=s.alias;let d=i.db.getC4ShapeArray(s.alias),p=i.db.getC4ShapeKeys(s.alias);p.length>0&&ket(o,t,d,p),e=s.alias;let f=i.db.getBoundarys(e);f.length>0&&J7(t,e,o,f,i),s.alias!=="global"&&wet(t,s,o),r.data.stopy=Math.max(o.data.stopy+Pe.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(o.data.stopx+Pe.c4ShapeMargin,r.data.stopx),qx=Math.max(qx,r.data.stopx),Gx=Math.max(Gx,r.data.stopy)}}w(J7,"drawInsideBoundary");var lM={drawPersonOrSystemArray:ket,drawBoundary:wet,setConf:C6,draw:w(function(t,e,r,n){Pe=Tt().c4;const i=Tt().securityLevel;let o;i==="sandbox"&&(o=he("#i"+e));const a=he(i==="sandbox"?o.nodes()[0].contentDocument.body:"body");let s=n.db;n.db.setWrap(Pe.wrap),bet=s.getC4ShapeInRow(),A6=s.getC4BoundaryInRow(),et.debug(`C:${JSON.stringify(Pe,null,2)}`);const l=i==="sandbox"?a.select(`[id="${e}"]`):he(`[id="${e}"]`);Tl.insertComputerIcon(l),Tl.insertDatabaseIcon(l),Tl.insertClockIcon(l);let u=new xet(n);u.setData(Pe.diagramMarginX,Pe.diagramMarginX,Pe.diagramMarginY,Pe.diagramMarginY),u.data.widthLimit=screen.availWidth,qx=Pe.diagramMarginX,Gx=Pe.diagramMarginY;const h=n.db.getTitle();J7(l,"",u,n.db.getBoundarys(""),n),Tl.insertArrowHead(l),Tl.insertArrowEnd(l),Tl.insertArrowCrossHead(l),Tl.insertArrowFilledHead(l),AIt(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=qx,u.data.stopy=Gx;const d=u.data;let p=d.stopy-d.starty+2*Pe.diagramMarginY;const f=d.stopx-d.startx+2*Pe.diagramMarginX;h&&l.append("text").text(h).attr("x",(d.stopx-d.startx)/2-4*Pe.diagramMarginX).attr("y",d.starty+Pe.diagramMarginY),Ro(l,p,f,Pe.useMaxWidth);const g=h?60:0;l.attr("viewBox",d.startx-Pe.diagramMarginX+" -"+(Pe.diagramMarginY+g)+" "+f+" "+(p+g)),et.debug("models:",d)},"draw")},CIt={parser:j9t,db:S6,renderer:lM,styles:w(t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,"getStyles"),init:w(({c4:t,wrap:e})=>{lM.setConf(t),S6.setWrap(e)},"init")};const $It=Object.freeze(Object.defineProperty({__proto__:null,diagram:CIt},Symbol.toStringTag,{value:"Module"}));var t8=w((t,e)=>{let r;return e==="sandbox"&&(r=he("#i"+t)),he(e==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`)},"getDiagramElement"),e8=w((t,e,r,n)=>{t.attr("class",r);const{width:i,height:o,x:a,y:s}=NIt(t,e);Ro(t,o,i,n);const l=IIt(a,s,i,o,e);t.attr("viewBox",l),et.debug(`viewBox configured: ${l} with padding: ${e}`)},"setupViewPortForSVG"),NIt=w((t,e)=>{var n;const r=((n=t.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+2*e,height:r.height+2*e,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),IIt=w((t,e,r,n,i)=>`${t-i} ${e-i} ${r} ${n}`,"createViewBox"),Tet=(t,e)=>lr.lang.round(sl.parse(t)[e]),Ds,c3,cM=0,U0=Tt(),ih=new Map,da=[],Ym=new Map,Hc=[],r8=new Map,n8=new Map,$6=0,N6=!0,u3=[],h3=w(t=>ne.sanitizeText(t,U0),"sanitizeText"),d3=w(function(t){for(const e of ih.values())if(e.id===t)return e.domId;return t},"lookUpDomId"),LIt=w(function(t,e,r,n,i,o,a={},s){var h,d;if(!t||t.trim().length===0)return;let l,u=ih.get(t);if(u===void 0&&(u={id:t,labelType:"text",domId:"flowchart-"+t+"-"+cM,styles:[],classes:[]},ih.set(t,u)),cM++,e!==void 0?(U0=Tt(),l=h3(e.text.trim()),u.labelType=e.type,l.startsWith('"')&&l.endsWith('"')&&(l=l.substring(1,l.length-1)),u.text=l):u.text===void 0&&(u.text=t),r!==void 0&&(u.type=r),n!=null&&n.forEach(function(p){u.styles.push(p)}),i!=null&&i.forEach(function(p){u.classes.push(p)}),o!==void 0&&(u.dir=o),u.props===void 0?u.props=a:a!==void 0&&Object.assign(u.props,a),s!==void 0){let p;p=s.includes(`
`)?s+`
`:`{
`+s+`
}`;const f=qA(p,{schema:UA});if(f.shape){if(f.shape!==f.shape.toLowerCase()||f.shape.includes("_"))throw new Error(`No such shape: ${f.shape}. Shape names should be lowercase.`);if(!kY(f.shape))throw new Error(`No such shape: ${f.shape}.`);u.type=f==null?void 0:f.shape}f!=null&&f.label&&(u.text=f==null?void 0:f.label),f!=null&&f.icon&&(u.icon=f==null?void 0:f.icon,(h=f.label)!=null&&h.trim()||u.text!==t||(u.text="")),f!=null&&f.form&&(u.form=f==null?void 0:f.form),f!=null&&f.pos&&(u.pos=f==null?void 0:f.pos),f!=null&&f.img&&(u.img=f==null?void 0:f.img,(d=f.label)!=null&&d.trim()||u.text!==t||(u.text="")),f!=null&&f.constraint&&(u.constraint=f.constraint),f.w&&(u.assetWidth=Number(f.w)),f.h&&(u.assetHeight=Number(f.h))}},"addVertex"),RIt=w(function(t,e,r){const n={start:t,end:e,type:void 0,text:"",labelType:"text"};et.info("abc78 Got edge...",n);const i=r.text;if(i!==void 0&&(n.text=h3(i.text.trim()),n.text.startsWith('"')&&n.text.endsWith('"')&&(n.text=n.text.substring(1,n.text.length-1)),n.labelType=i.type),r!==void 0&&(n.type=r.type,n.stroke=r.stroke,n.length=r.length>10?10:r.length),!(da.length<(U0.maxEdges??500)))throw new Error(`Edge limit exceeded. ${da.length} edges found, but the limit is ${U0.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`);et.info("Pushing edge..."),da.push(n)},"addSingleLink"),DIt=w(function(t,e,r){et.info("addLink",t,e,r);for(const n of t)for(const i of e)RIt(n,i,r)},"addLink"),OIt=w(function(t,e){t.forEach(function(r){r==="default"?da.defaultInterpolate=e:da[r].interpolate=e})},"updateLinkInterpolate"),MIt=w(function(t,e){t.forEach(function(r){var n,i,o,a,s,l;if(typeof r=="number"&&r>=da.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${da.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?da.defaultStyle=e:(da[r].style=e,(((i=(n=da[r])==null?void 0:n.style)==null?void 0:i.length)??0)>0&&!((a=(o=da[r])==null?void 0:o.style)!=null&&a.some(u=>u==null?void 0:u.startsWith("fill")))&&((l=(s=da[r])==null?void 0:s.style)==null||l.push("fill:none")))})},"updateLink"),BIt=w(function(t,e){t.split(",").forEach(function(r){let n=Ym.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},Ym.set(r,n)),e!=null&&e.forEach(function(i){if(/color/.exec(i)){const o=i.replace("fill","bgFill");n.textStyles.push(o)}n.styles.push(i)})})},"addClass"),PIt=w(function(t){/.*</.exec(Ds=t)&&(Ds="RL"),/.*\^/.exec(Ds)&&(Ds="BT"),/.*>/.exec(Ds)&&(Ds="LR"),/.*v/.exec(Ds)&&(Ds="TB"),Ds==="TD"&&(Ds="TB")},"setDirection"),i8=w(function(t,e){for(const r of t.split(",")){const n=ih.get(r);n&&n.classes.push(e);const i=r8.get(r);i&&i.classes.push(e)}},"setClass"),FIt=w(function(t,e){if(e!==void 0){e=h3(e);for(const r of t.split(","))n8.set(c3==="gen-1"?d3(r):r,e)}},"setTooltip"),zIt=w(function(t,e,r){const n=d3(t);if(Tt().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<i.length;a++){let s=i[a].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),i[a]=s}}i.length===0&&i.push(t);const o=ih.get(t);o&&(o.haveCallback=!0,u3.push(function(){const a=document.querySelector(`[id="${n}"]`);a!==null&&a.addEventListener("click",function(){dr.runFunc(e,...i)},!1)}))},"setClickFun"),jIt=w(function(t,e,r){t.split(",").forEach(function(n){const i=ih.get(n);i!==void 0&&(i.link=dr.formatUrl(e,U0),i.linkTarget=r)}),i8(t,"clickable")},"setLink"),Eet=w(function(t){return n8.get(t)},"getTooltip"),HIt=w(function(t,e,r){t.split(",").forEach(function(n){zIt(n,e,r)}),i8(t,"clickable")},"setClickEvent"),UIt=w(function(t){u3.forEach(function(e){e(t)})},"bindFunctions"),_et=w(function(){return Ds.trim()},"getDirection"),Aet=w(function(){return ih},"getVertices"),Cet=w(function(){return da},"getEdges"),qIt=w(function(){return Ym},"getClasses"),$et=w(function(t){let e=he(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=he("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),he(t).select("svg").selectAll("g.node").on("mouseover",function(){const r=he(this);if(r.attr("title")===null)return;const n=this==null?void 0:this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.bottom+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),he(this).classed("hover",!1)})},"setupToolTips");u3.push($et);var GIt=w(function(t="gen-1"){ih=new Map,Ym=new Map,da=[],u3=[$et],Hc=[],r8=new Map,$6=0,n8=new Map,N6=!0,c3=t,U0=Tt(),Gi()},"clear"),WIt=w(t=>{c3=t||"gen-2"},"setGen"),VIt=w(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),YIt=w(function(t,e,r){let n=t.text.trim(),i=r.text;function o(u){const h={boolean:{},number:{},string:{}},d=[];let p;return{nodeList:u.filter(function(f){const g=typeof f;return f.stmt&&f.stmt==="dir"?(p=f.value,!1):f.trim()!==""&&(g in h?!h[g].hasOwnProperty(f)&&(h[g][f]=!0):!d.includes(f)&&d.push(f))}),dir:p}}t===r&&/\s/.exec(r.text)&&(n=void 0),w(o,"uniq");const{nodeList:a,dir:s}=o(e.flat());if(c3==="gen-1")for(let u=0;u<a.length;u++)a[u]=d3(a[u]);n=n??"subGraph"+$6,i=i||"",i=h3(i),$6+=1;const l={id:n,nodes:a,title:i.trim(),classes:[],dir:s,labelType:r.type};return et.info("Adding",l.id,l.nodes,l.dir),l.nodes=Det(l,Hc).nodes,Hc.push(l),r8.set(n,l),n},"addSubGraph"),XIt=w(function(t){for(const[e,r]of Hc.entries())if(r.id===t)return e;return-1},"getPosForId"),I6=-1,Net=[],Iet=w(function(t,e){const r=Hc[e].nodes;if((I6+=1)>2e3)return{result:!1,count:0};if(Net[I6]=e,Hc[e].id===t)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){const o=XIt(r[n]);if(o>=0){const a=Iet(t,o);if(a.result)return{result:!0,count:i+a.count};i+=a.count}n+=1}return{result:!1,count:i}},"indexNodes2"),KIt=w(function(t){return Net[t]},"getDepthFirstPos"),ZIt=w(function(){I6=-1,Hc.length>0&&Iet("none",Hc.length-1)},"indexNodes"),Let=w(function(){return Hc},"getSubGraphs"),QIt=w(()=>!!N6&&(N6=!1,!0),"firstGraph"),JIt=w(t=>{let e=t.trim(),r="arrow_open";switch(e[0]){case"<":r="arrow_point",e=e.slice(1);break;case"x":r="arrow_cross",e=e.slice(1);break;case"o":r="arrow_circle",e=e.slice(1)}let n="normal";return e.includes("=")&&(n="thick"),e.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),tLt=w((t,e)=>{const r=e.length;let n=0;for(let i=0;i<r;++i)e[i]===t&&++n;return n},"countChar"),eLt=w(t=>{const e=t.trim();let r=e.slice(0,-1),n="arrow_open";switch(e.slice(-1)){case"x":n="arrow_cross",e.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",e.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",e.startsWith("o")&&(n="double_"+n,r=r.slice(1))}let i="normal",o=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");const a=tLt(".",r);return a&&(i="dotted",o=a),{type:n,stroke:i,length:o}},"destructEndLink"),rLt=w((t,e)=>{const r=eLt(t);let n;if(e){if(n=JIt(e),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),Ret=w((t,e)=>{for(const r of t)if(r.nodes.includes(e))return!0;return!1},"exists"),Det=w((t,e)=>{const r=[];return t.nodes.forEach((n,i)=>{Ret(e,n)||r.push(t.nodes[i])}),{nodes:r}},"makeUniq"),nLt={firstGraph:QIt},iLt=w(t=>{if(t.img)return"imageSquare";if(t.icon)return t.form==="circle"?"iconCircle":t.form==="square"?"iconSquare":t.form==="rounded"?"iconRounded":"icon";switch(t.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return t.type}},"getTypeFromVertex"),oLt=w((t,e)=>t.find(r=>r.id===e),"findNode"),aLt=w(t=>{let e="none",r="arrow_point";switch(t){case"arrow_point":case"arrow_circle":case"arrow_cross":r=t;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":e=t.replace("double_",""),r=e}return{arrowTypeStart:e,arrowTypeEnd:r}},"destructEdgeType"),sLt=w((t,e,r,n,i,o)=>{var u;const a=r.get(t.id),s=n.get(t.id)??!1,l=oLt(e,t.id);if(l)l.cssStyles=t.styles,l.cssCompiledStyles=Wx(t.classes),l.cssClasses=t.classes.join(" ");else{const h={id:t.id,label:t.text,labelStyle:"",parentId:a,padding:((u=i.flowchart)==null?void 0:u.padding)||8,cssStyles:t.styles,cssCompiledStyles:Wx(["default","node",...t.classes]),cssClasses:"default "+t.classes.join(" "),dir:t.dir,domId:t.domId,look:o,link:t.link,linkTarget:t.linkTarget,tooltip:Eet(t.id),icon:t.icon,pos:t.pos,img:t.img,assetWidth:t.assetWidth,assetHeight:t.assetHeight,constraint:t.constraint};s?e.push({...h,isGroup:!0,shape:"rect"}):e.push({...h,isGroup:!1,shape:iLt(t)})}},"addNodeFromVertex");function Wx(t){let e=[];for(const r of t){const n=Ym.get(r);n!=null&&n.styles&&(e=[...e,...n.styles??[]].map(i=>i.trim())),n!=null&&n.textStyles&&(e=[...e,...n.textStyles??[]].map(i=>i.trim()))}return e}w(Wx,"getCompiledStyles");var lLt=w(()=>{const t=Tt(),e=[],r=[],n=Let(),i=new Map,o=new Map;for(let s=n.length-1;s>=0;s--){const l=n[s];l.nodes.length>0&&o.set(l.id,!0);for(const u of l.nodes)i.set(u,l.id)}for(let s=n.length-1;s>=0;s--){const l=n[s];e.push({id:l.id,label:l.title,labelStyle:"",parentId:i.get(l.id),padding:8,cssCompiledStyles:Wx(l.classes),cssClasses:l.classes.join(" "),shape:"rect",dir:l.dir,isGroup:!0,look:t.look})}Aet().forEach(s=>{sLt(s,e,i,o,t,t.look||"classic")});const a=Cet();return a.forEach((s,l)=>{const{arrowTypeStart:u,arrowTypeEnd:h}=aLt(s.type),d=[...a.defaultStyle??[]];s.style&&d.push(...s.style);const p={id:DW(s.start,s.end,{counter:l,prefix:"L"}),start:s.start,end:s.end,type:s.type??"normal",label:s.text,labelpos:"c",thickness:s.stroke,minlen:s.length,classes:(s==null?void 0:s.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(s==null?void 0:s.stroke)==="invisible"?"none":u,arrowTypeEnd:(s==null?void 0:s.stroke)==="invisible"?"none":h,arrowheadStyle:"fill: #333",labelStyle:d,style:d,pattern:s.stroke,look:t.look};r.push(p)}),{nodes:e,edges:r,other:{},config:t}},"getData"),jk={defaultConfig:w(()=>XU.flowchart,"defaultConfig"),setAccTitle:Wi,getAccTitle:so,getAccDescription:co,getData:lLt,setAccDescription:lo,addVertex:LIt,lookUpDomId:d3,addLink:DIt,updateLinkInterpolate:OIt,updateLink:MIt,addClass:BIt,setDirection:PIt,setClass:i8,setTooltip:FIt,getTooltip:Eet,setClickEvent:HIt,setLink:jIt,bindFunctions:UIt,getDirection:_et,getVertices:Aet,getEdges:Cet,getClasses:qIt,clear:GIt,setGen:WIt,defaultStyle:VIt,addSubGraph:YIt,getDepthFirstPos:KIt,indexNodes:ZIt,getSubGraphs:Let,destructLink:rLt,lex:nLt,exists:Ret,makeUniq:Det,setDiagramTitle:ta,getDiagramTitle:uo},cLt={getClasses:w(function(t,e){return e.db.getClasses()},"getClasses"),draw:w(async function(t,e,r,n){var f;et.info("REF0:"),et.info("Drawing state diagram (v2)",e);const{securityLevel:i,flowchart:o,layout:a}=Tt();let s;i==="sandbox"&&(s=he("#i"+e));const l=i==="sandbox"?s.nodes()[0].contentDocument:document;et.debug("Before getData: ");const u=n.db.getData();et.debug("Data: ",u);const h=t8(e,i),d=_et();u.type=n.type,u.layoutAlgorithm=LY(a),u.layoutAlgorithm==="dagre"&&a==="elk"&&et.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=d,u.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,u.rankSpacing=(o==null?void 0:o.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=e,et.debug("REF1:",u),await TC(u,h);const p=((f=u.config.flowchart)==null?void 0:f.diagramPadding)??8;dr.insertTitle(h,"flowchartTitleText",(o==null?void 0:o.titleTopMargin)||0,n.db.getDiagramTitle()),e8(h,p,"flowchart",(o==null?void 0:o.useMaxWidth)||!1);for(const g of u.nodes){const m=he(`#${e} [id="${g.id}"]`);if(!m||!g.link)continue;const y=l.createElementNS("http://www.w3.org/2000/svg","a");y.setAttributeNS("http://www.w3.org/2000/svg","class",g.cssClasses),y.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?y.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):g.linkTarget&&y.setAttributeNS("http://www.w3.org/2000/svg","target",g.linkTarget);const v=m.insert(function(){return y},":first-child"),x=m.select(".label-container");x&&v.append(function(){return x.node()});const b=m.select(".label");b&&v.append(function(){return b.node()})}},"draw")},L6=function(){var t=w(function(Yt,Ie,qe,ie){for(qe=qe||{},ie=Yt.length;ie--;qe[Yt[ie]]=Ie);return qe},"o"),e=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],o=[2,2],a=[1,13],s=[1,14],l=[1,15],u=[1,16],h=[1,23],d=[1,25],p=[1,26],f=[1,27],g=[1,49],m=[1,48],y=[1,29],v=[1,30],x=[1,31],b=[1,32],k=[1,33],N=[1,44],_=[1,46],S=[1,42],T=[1,47],A=[1,43],C=[1,50],D=[1,45],E=[1,51],$=[1,52],I=[1,34],L=[1,35],O=[1,36],B=[1,37],R=[1,57],M=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],F=[1,61],P=[1,60],U=[1,62],W=[8,9,11,75,77],Q=[1,77],K=[1,90],G=[1,95],V=[1,94],rt=[1,91],tt=[1,87],at=[1,93],ut=[1,89],st=[1,96],_t=[1,92],X=[1,97],Et=[1,88],H=[8,9,10,11,40,75,77],ct=[8,9,10,11,40,46,75,77],dt=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],Nt=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],ft=[44,60,88,101,104,105,108,110,113,114,115],Dt=[1,123],$t=[1,122],mt=[1,130],It=[1,144],gt=[1,145],xt=[1,146],Ct=[1,147],lt=[1,132],ot=[1,134],Y=[1,138],Ot=[1,139],nt=[1,140],Ut=[1,141],Ft=[1,142],qt=[1,143],Wt=[1,148],Ht=[1,149],Xe=[1,128],Vt=[1,129],xe=[1,136],Kt=[1,131],Xt=[1,135],pe=[1,133],de=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],ge=[1,151],pr=[1,153],Ne=[8,9,11],Ze=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],ke=[1,173],Ce=[1,169],be=[1,170],Zt=[1,174],Le=[1,171],Re=[1,172],hn=[77,115,118],nr=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],dn=[10,105],Wn=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],zr=[1,242],ri=[1,240],Xi=[1,244],pi=[1,238],At=[1,239],Se=[1,241],fe=[1,243],ir=[1,245],br=[1,263],fr=[8,9,11,105],Dr=[8,9,10,11,60,83,104,105,108,109,110,111],ho={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:w(function(Yt,Ie,qe,ie,pn,yt,$g){var St=yt.length-1;switch(pn){case 2:case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 3:(!Array.isArray(yt[St])||yt[St].length>0)&&yt[St-1].push(yt[St]),this.$=yt[St-1];break;case 4:case 181:case 44:case 54:case 76:case 179:this.$=yt[St];break;case 11:ie.setDirection("TB"),this.$="TB";break;case 12:ie.setDirection(yt[St-1]),this.$=yt[St-1];break;case 27:this.$=yt[St-1].nodes;break;case 33:this.$=ie.addSubGraph(yt[St-6],yt[St-1],yt[St-4]);break;case 34:this.$=ie.addSubGraph(yt[St-3],yt[St-1],yt[St-3]);break;case 35:this.$=ie.addSubGraph(void 0,yt[St-1],void 0);break;case 37:this.$=yt[St].trim(),ie.setAccTitle(this.$);break;case 38:case 39:this.$=yt[St].trim(),ie.setAccDescription(this.$);break;case 43:case 131:this.$=yt[St-1]+yt[St];break;case 45:ie.addVertex(yt[St-1][0],void 0,void 0,void 0,void 0,void 0,void 0,yt[St]),ie.addLink(yt[St-3].stmt,yt[St-1],yt[St-2]),this.$={stmt:yt[St-1],nodes:yt[St-1].concat(yt[St-3].nodes)};break;case 46:ie.addLink(yt[St-2].stmt,yt[St],yt[St-1]),this.$={stmt:yt[St],nodes:yt[St].concat(yt[St-2].nodes)};break;case 47:ie.addLink(yt[St-3].stmt,yt[St-1],yt[St-2]),this.$={stmt:yt[St-1],nodes:yt[St-1].concat(yt[St-3].nodes)};break;case 48:this.$={stmt:yt[St-1],nodes:yt[St-1]};break;case 49:ie.addVertex(yt[St-1][0],void 0,void 0,void 0,void 0,void 0,void 0,yt[St]),this.$={stmt:yt[St-1],nodes:yt[St-1],shapeData:yt[St]};break;case 50:this.$={stmt:yt[St],nodes:yt[St]};break;case 51:case 126:case 128:this.$=[yt[St]];break;case 52:ie.addVertex(yt[St-5][0],void 0,void 0,void 0,void 0,void 0,void 0,yt[St-4]),this.$=yt[St-5].concat(yt[St]);break;case 53:this.$=yt[St-4].concat(yt[St]);break;case 55:this.$=yt[St-2],ie.setClass(yt[St-2],yt[St]);break;case 56:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"square");break;case 57:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"doublecircle");break;case 58:this.$=yt[St-5],ie.addVertex(yt[St-5],yt[St-2],"circle");break;case 59:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"ellipse");break;case 60:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"stadium");break;case 61:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"subroutine");break;case 62:this.$=yt[St-7],ie.addVertex(yt[St-7],yt[St-1],"rect",void 0,void 0,void 0,Object.fromEntries([[yt[St-5],yt[St-3]]]));break;case 63:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"cylinder");break;case 64:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"round");break;case 65:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"diamond");break;case 66:this.$=yt[St-5],ie.addVertex(yt[St-5],yt[St-2],"hexagon");break;case 67:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"odd");break;case 68:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"trapezoid");break;case 69:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"inv_trapezoid");break;case 70:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"lean_right");break;case 71:this.$=yt[St-3],ie.addVertex(yt[St-3],yt[St-1],"lean_left");break;case 72:this.$=yt[St],ie.addVertex(yt[St]);break;case 73:yt[St-1].text=yt[St],this.$=yt[St-1];break;case 74:case 75:yt[St-2].text=yt[St-1],this.$=yt[St-2];break;case 77:var Za=ie.destructLink(yt[St],yt[St-2]);this.$={type:Za.type,stroke:Za.stroke,length:Za.length,text:yt[St-1]};break;case 78:case 84:case 99:case 101:this.$={text:yt[St],type:"text"};break;case 79:case 85:case 100:this.$={text:yt[St-1].text+""+yt[St],type:yt[St-1].type};break;case 80:case 86:this.$={text:yt[St],type:"string"};break;case 81:case 87:case 102:this.$={text:yt[St],type:"markdown"};break;case 82:Za=ie.destructLink(yt[St]),this.$={type:Za.type,stroke:Za.stroke,length:Za.length};break;case 83:this.$=yt[St-1];break;case 103:this.$=yt[St-4],ie.addClass(yt[St-2],yt[St]);break;case 104:this.$=yt[St-4],ie.setClass(yt[St-2],yt[St]);break;case 105:case 113:this.$=yt[St-1],ie.setClickEvent(yt[St-1],yt[St]);break;case 106:case 114:this.$=yt[St-3],ie.setClickEvent(yt[St-3],yt[St-2]),ie.setTooltip(yt[St-3],yt[St]);break;case 107:this.$=yt[St-2],ie.setClickEvent(yt[St-2],yt[St-1],yt[St]);break;case 108:this.$=yt[St-4],ie.setClickEvent(yt[St-4],yt[St-3],yt[St-2]),ie.setTooltip(yt[St-4],yt[St]);break;case 109:this.$=yt[St-2],ie.setLink(yt[St-2],yt[St]);break;case 110:this.$=yt[St-4],ie.setLink(yt[St-4],yt[St-2]),ie.setTooltip(yt[St-4],yt[St]);break;case 111:this.$=yt[St-4],ie.setLink(yt[St-4],yt[St-2],yt[St]);break;case 112:this.$=yt[St-6],ie.setLink(yt[St-6],yt[St-4],yt[St]),ie.setTooltip(yt[St-6],yt[St-2]);break;case 115:this.$=yt[St-1],ie.setLink(yt[St-1],yt[St]);break;case 116:this.$=yt[St-3],ie.setLink(yt[St-3],yt[St-2]),ie.setTooltip(yt[St-3],yt[St]);break;case 117:this.$=yt[St-3],ie.setLink(yt[St-3],yt[St-2],yt[St]);break;case 118:this.$=yt[St-5],ie.setLink(yt[St-5],yt[St-4],yt[St]),ie.setTooltip(yt[St-5],yt[St-2]);break;case 119:this.$=yt[St-4],ie.addVertex(yt[St-2],void 0,void 0,yt[St]);break;case 120:this.$=yt[St-4],ie.updateLink([yt[St-2]],yt[St]);break;case 121:this.$=yt[St-4],ie.updateLink(yt[St-2],yt[St]);break;case 122:this.$=yt[St-8],ie.updateLinkInterpolate([yt[St-6]],yt[St-2]),ie.updateLink([yt[St-6]],yt[St]);break;case 123:this.$=yt[St-8],ie.updateLinkInterpolate(yt[St-6],yt[St-2]),ie.updateLink(yt[St-6],yt[St]);break;case 124:this.$=yt[St-6],ie.updateLinkInterpolate([yt[St-4]],yt[St]);break;case 125:this.$=yt[St-6],ie.updateLinkInterpolate(yt[St-4],yt[St]);break;case 127:case 129:yt[St-2].push(yt[St]),this.$=yt[St-2];break;case 180:case 182:this.$=yt[St-1]+""+yt[St];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"}}},"anonymous"),table:[{3:1,4:2,9:e,10:r,12:n},{1:[3]},t(i,o,{5:6}),{4:7,9:e,10:r,12:n},{4:8,9:e,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:a,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:b,87:k,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$,120:I,121:L,122:O,123:B},t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),{8:[1,54],9:[1,55],10:R,15:53,18:56},t(M,[2,3]),t(M,[2,4]),t(M,[2,5]),t(M,[2,6]),t(M,[2,7]),t(M,[2,8]),{8:F,9:P,11:U,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:F,9:P,11:U,21:66},{8:F,9:P,11:U,21:67},{8:F,9:P,11:U,21:68},{8:F,9:P,11:U,21:69},{8:F,9:P,11:U,21:70},{8:F,9:P,10:[1,71],11:U,21:72},t(M,[2,36]),{35:[1,73]},{37:[1,74]},t(M,[2,39]),t(W,[2,50],{18:75,39:76,10:R,40:Q}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:K,44:G,60:V,79:[1,85],88:rt,94:[1,82],96:[1,83],100:84,104:tt,105:at,108:ut,110:st,113:_t,114:X,115:Et,119:86},t(M,[2,183]),t(M,[2,184]),t(M,[2,185]),t(M,[2,186]),t(H,[2,51]),t(H,[2,54],{46:[1,98]}),t(ct,[2,72],{112:111,29:[1,99],44:g,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:m,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:N,101:_,104:S,105:T,108:A,110:C,113:D,114:E,115:$}),t(dt,[2,179]),t(dt,[2,140]),t(dt,[2,141]),t(dt,[2,142]),t(dt,[2,143]),t(dt,[2,144]),t(dt,[2,145]),t(dt,[2,146]),t(dt,[2,147]),t(dt,[2,148]),t(dt,[2,149]),t(dt,[2,150]),t(i,[2,12]),t(i,[2,18]),t(i,[2,19]),{9:[1,112]},t(Nt,[2,26],{18:113,10:R}),t(M,[2,27]),{42:114,43:38,44:g,45:39,47:40,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},t(M,[2,40]),t(M,[2,41]),t(M,[2,42]),t(ft,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:Dt,118:$t},t([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),t(M,[2,28]),t(M,[2,29]),t(M,[2,30]),t(M,[2,31]),t(M,[2,32]),{10:mt,12:It,14:gt,27:xt,28:124,32:Ct,44:lt,60:ot,75:Y,79:[1,126],80:[1,127],82:137,83:Ot,84:nt,85:Ut,86:Ft,87:qt,88:Wt,89:Ht,90:125,104:Xe,108:Vt,110:xe,113:Kt,114:Xt,115:pe},t(de,o,{5:150}),t(M,[2,37]),t(M,[2,38]),t(W,[2,48],{44:ge}),t(W,[2,49],{18:152,10:R,40:pr}),t(H,[2,44]),{44:g,47:154,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},{101:[1,155],102:156,104:[1,157]},{44:g,47:158,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},{44:g,47:159,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},t(Ne,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},t(Ne,[2,113],{119:164,10:[1,163],14:K,44:G,60:V,88:rt,104:tt,105:at,108:ut,110:st,113:_t,114:X,115:Et}),t(Ne,[2,115],{10:[1,165]}),t(Ze,[2,181]),t(Ze,[2,168]),t(Ze,[2,169]),t(Ze,[2,170]),t(Ze,[2,171]),t(Ze,[2,172]),t(Ze,[2,173]),t(Ze,[2,174]),t(Ze,[2,175]),t(Ze,[2,176]),t(Ze,[2,177]),t(Ze,[2,178]),{44:g,47:166,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},{30:167,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:175,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:177,50:[1,176],67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:178,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:179,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:180,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{108:[1,181]},{30:182,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:183,65:[1,184],67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:185,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:186,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{30:187,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},t(dt,[2,180]),t(i,[2,20]),t(Nt,[2,25]),t(W,[2,46],{39:188,18:189,10:R,40:Q}),t(ft,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{77:[1,193],78:194,115:Dt,118:$t},t(hn,[2,78]),t(hn,[2,80]),t(hn,[2,81]),t(hn,[2,166]),t(hn,[2,167]),{8:F,9:P,10:mt,11:U,12:It,14:gt,21:196,27:xt,29:[1,195],32:Ct,44:lt,60:ot,75:Y,82:137,83:Ot,84:nt,85:Ut,86:Ft,87:qt,88:Wt,89:Ht,90:197,104:Xe,108:Vt,110:xe,113:Kt,114:Xt,115:pe},t(nr,[2,99]),t(nr,[2,101]),t(nr,[2,102]),t(nr,[2,155]),t(nr,[2,156]),t(nr,[2,157]),t(nr,[2,158]),t(nr,[2,159]),t(nr,[2,160]),t(nr,[2,161]),t(nr,[2,162]),t(nr,[2,163]),t(nr,[2,164]),t(nr,[2,165]),t(nr,[2,88]),t(nr,[2,89]),t(nr,[2,90]),t(nr,[2,91]),t(nr,[2,92]),t(nr,[2,93]),t(nr,[2,94]),t(nr,[2,95]),t(nr,[2,96]),t(nr,[2,97]),t(nr,[2,98]),{6:11,7:12,8:a,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,198],33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:b,87:k,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$,120:I,121:L,122:O,123:B},{10:R,18:199},{44:[1,200]},t(H,[2,43]),{10:[1,201],44:g,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:111,113:D,114:E,115:$},{10:[1,202]},{10:[1,203],105:[1,204]},t(dn,[2,126]),{10:[1,205],44:g,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:111,113:D,114:E,115:$},{10:[1,206],44:g,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:111,113:D,114:E,115:$},{79:[1,207]},t(Ne,[2,107],{10:[1,208]}),t(Ne,[2,109],{10:[1,209]}),{79:[1,210]},t(Ze,[2,182]),{79:[1,211],97:[1,212]},t(H,[2,55],{112:111,44:g,60:m,88:N,101:_,104:S,105:T,108:A,110:C,113:D,114:E,115:$}),{31:[1,213],67:ke,81:214,115:Zt,116:Le,117:Re},t(Wn,[2,84]),t(Wn,[2,86]),t(Wn,[2,87]),t(Wn,[2,151]),t(Wn,[2,152]),t(Wn,[2,153]),t(Wn,[2,154]),{49:[1,215],67:ke,81:214,115:Zt,116:Le,117:Re},{30:216,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{51:[1,217],67:ke,81:214,115:Zt,116:Le,117:Re},{53:[1,218],67:ke,81:214,115:Zt,116:Le,117:Re},{55:[1,219],67:ke,81:214,115:Zt,116:Le,117:Re},{57:[1,220],67:ke,81:214,115:Zt,116:Le,117:Re},{60:[1,221]},{64:[1,222],67:ke,81:214,115:Zt,116:Le,117:Re},{66:[1,223],67:ke,81:214,115:Zt,116:Le,117:Re},{30:224,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},{31:[1,225],67:ke,81:214,115:Zt,116:Le,117:Re},{67:ke,69:[1,226],71:[1,227],81:214,115:Zt,116:Le,117:Re},{67:ke,69:[1,229],71:[1,228],81:214,115:Zt,116:Le,117:Re},t(W,[2,45],{18:152,10:R,40:pr}),t(W,[2,47],{44:ge}),t(ft,[2,75]),t(ft,[2,74]),{62:[1,230],67:ke,81:214,115:Zt,116:Le,117:Re},t(ft,[2,77]),t(hn,[2,79]),{30:231,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},t(de,o,{5:232}),t(nr,[2,100]),t(M,[2,35]),{43:233,44:g,45:39,47:40,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},{10:R,18:234},{10:zr,60:ri,83:Xi,91:235,104:pi,106:236,107:237,108:At,109:Se,110:fe,111:ir},{10:zr,60:ri,83:Xi,91:246,103:[1,247],104:pi,106:236,107:237,108:At,109:Se,110:fe,111:ir},{10:zr,60:ri,83:Xi,91:248,103:[1,249],104:pi,106:236,107:237,108:At,109:Se,110:fe,111:ir},{104:[1,250]},{10:zr,60:ri,83:Xi,91:251,104:pi,106:236,107:237,108:At,109:Se,110:fe,111:ir},{44:g,47:252,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},t(Ne,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},t(Ne,[2,114]),t(Ne,[2,116],{10:[1,256]}),t(Ne,[2,117]),t(ct,[2,56]),t(Wn,[2,85]),t(ct,[2,57]),{51:[1,257],67:ke,81:214,115:Zt,116:Le,117:Re},t(ct,[2,64]),t(ct,[2,59]),t(ct,[2,60]),t(ct,[2,61]),{108:[1,258]},t(ct,[2,63]),t(ct,[2,65]),{66:[1,259],67:ke,81:214,115:Zt,116:Le,117:Re},t(ct,[2,67]),t(ct,[2,68]),t(ct,[2,70]),t(ct,[2,69]),t(ct,[2,71]),t([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:ke,81:214,115:Zt,116:Le,117:Re},{6:11,7:12,8:a,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,261],33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:b,87:k,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$,120:I,121:L,122:O,123:B},t(H,[2,53]),{43:262,44:g,45:39,47:40,60:m,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$},t(Ne,[2,119],{105:br}),t(fr,[2,128],{107:264,10:zr,60:ri,83:Xi,104:pi,108:At,109:Se,110:fe,111:ir}),t(Dr,[2,130]),t(Dr,[2,132]),t(Dr,[2,133]),t(Dr,[2,134]),t(Dr,[2,135]),t(Dr,[2,136]),t(Dr,[2,137]),t(Dr,[2,138]),t(Dr,[2,139]),t(Ne,[2,120],{105:br}),{10:[1,265]},t(Ne,[2,121],{105:br}),{10:[1,266]},t(dn,[2,127]),t(Ne,[2,103],{105:br}),t(Ne,[2,104],{112:111,44:g,60:m,88:N,101:_,104:S,105:T,108:A,110:C,113:D,114:E,115:$}),t(Ne,[2,108]),t(Ne,[2,110],{10:[1,267]}),t(Ne,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:F,9:P,11:U,21:272},t(M,[2,34]),t(H,[2,52]),{10:zr,60:ri,83:Xi,104:pi,106:273,107:237,108:At,109:Se,110:fe,111:ir},t(Dr,[2,131]),{14:K,44:G,60:V,88:rt,100:274,104:tt,105:at,108:ut,110:st,113:_t,114:X,115:Et,119:86},{14:K,44:G,60:V,88:rt,100:275,104:tt,105:at,108:ut,110:st,113:_t,114:X,115:Et,119:86},{97:[1,276]},t(Ne,[2,118]),t(ct,[2,58]),{30:277,67:ke,79:Ce,80:be,81:168,115:Zt,116:Le,117:Re},t(ct,[2,66]),t(de,o,{5:278}),t(fr,[2,129],{107:264,10:zr,60:ri,83:Xi,104:pi,108:At,109:Se,110:fe,111:ir}),t(Ne,[2,124],{119:164,10:[1,279],14:K,44:G,60:V,88:rt,104:tt,105:at,108:ut,110:st,113:_t,114:X,115:Et}),t(Ne,[2,125],{119:164,10:[1,280],14:K,44:G,60:V,88:rt,104:tt,105:at,108:ut,110:st,113:_t,114:X,115:Et}),t(Ne,[2,112]),{31:[1,281],67:ke,81:214,115:Zt,116:Le,117:Re},{6:11,7:12,8:a,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,282],33:24,34:d,36:p,38:f,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:x,86:b,87:k,88:N,101:_,104:S,105:T,108:A,110:C,112:41,113:D,114:E,115:$,120:I,121:L,122:O,123:B},{10:zr,60:ri,83:Xi,91:283,104:pi,106:236,107:237,108:At,109:Se,110:fe,111:ir},{10:zr,60:ri,83:Xi,91:284,104:pi,106:236,107:237,108:At,109:Se,110:fe,111:ir},t(ct,[2,62]),t(M,[2,33]),t(Ne,[2,122],{105:br}),t(Ne,[2,123],{105:br})],defaultActions:{},parseError:w(function(Yt,Ie){if(!Ie.recoverable){var qe=new Error(Yt);throw qe.hash=Ie,qe}this.trace(Yt)},"parseError"),parse:w(function(Yt){var Ie=this,qe=[0],ie=[],pn=[null],yt=[],$g=this.table,St="",Za=0,K$=0,uct=yt.slice.call(arguments,1),Ri=Object.create(this.lexer),wh={yy:{}};for(var J3 in this.yy)Object.prototype.hasOwnProperty.call(this.yy,J3)&&(wh.yy[J3]=this.yy[J3]);Ri.setInput(Yt,wh.yy),wh.yy.lexer=Ri,wh.yy.parser=this,Ri.yylloc===void 0&&(Ri.yylloc={});var tw=Ri.yylloc;yt.push(tw);var hct=Ri.options&&Ri.options.ranges;function Z$(){var Ja;return typeof(Ja=ie.pop()||Ri.lex()||1)!="number"&&(Ja instanceof Array&&(Ja=(ie=Ja).pop()),Ja=Ie.symbols_[Ja]||Ja),Ja}typeof wh.yy.parseError=="function"?this.parseError=wh.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(Ja){qe.length=qe.length-2*Ja,pn.length=pn.length-Ja,yt.length=yt.length-Ja},"popStack"),w(Z$,"lex");for(var Na,kh,Qa,Q$,lv,tc,J$,cv,hp={};;){if(kh=qe[qe.length-1],this.defaultActions[kh]?Qa=this.defaultActions[kh]:(Na==null&&(Na=Z$()),Qa=$g[kh]&&$g[kh][Na]),Qa===void 0||!Qa.length||!Qa[0]){var tN="";for(lv in cv=[],$g[kh])this.terminals_[lv]&&lv>2&&cv.push("'"+this.terminals_[lv]+"'");tN=Ri.showPosition?"Parse error on line "+(Za+1)+`:
`+Ri.showPosition()+`
Expecting `+cv.join(", ")+", got '"+(this.terminals_[Na]||Na)+"'":"Parse error on line "+(Za+1)+": Unexpected "+(Na==1?"end of input":"'"+(this.terminals_[Na]||Na)+"'"),this.parseError(tN,{text:Ri.match,token:this.terminals_[Na]||Na,line:Ri.yylineno,loc:tw,expected:cv})}if(Qa[0]instanceof Array&&Qa.length>1)throw new Error("Parse Error: multiple actions possible at state: "+kh+", token: "+Na);switch(Qa[0]){case 1:qe.push(Na),pn.push(Ri.yytext),yt.push(Ri.yylloc),qe.push(Qa[1]),Na=null,K$=Ri.yyleng,St=Ri.yytext,Za=Ri.yylineno,tw=Ri.yylloc;break;case 2:if(tc=this.productions_[Qa[1]][1],hp.$=pn[pn.length-tc],hp._$={first_line:yt[yt.length-(tc||1)].first_line,last_line:yt[yt.length-1].last_line,first_column:yt[yt.length-(tc||1)].first_column,last_column:yt[yt.length-1].last_column},hct&&(hp._$.range=[yt[yt.length-(tc||1)].range[0],yt[yt.length-1].range[1]]),(Q$=this.performAction.apply(hp,[St,K$,Za,wh.yy,Qa[1],pn,yt].concat(uct)))!==void 0)return Q$;tc&&(qe=qe.slice(0,-1*tc*2),pn=pn.slice(0,-1*tc),yt=yt.slice(0,-1*tc)),qe.push(this.productions_[Qa[1]][0]),pn.push(hp.$),yt.push(hp._$),J$=$g[qe[qe.length-2]][qe[qe.length-1]],qe.push(J$);break;case 3:return!0}}return!0},"parse")},Do=function(){return{EOF:1,parseError:w(function(Yt,Ie){if(!this.yy.parser)throw new Error(Yt);this.yy.parser.parseError(Yt,Ie)},"parseError"),setInput:w(function(Yt,Ie){return this.yy=Ie||this.yy||{},this._input=Yt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var Yt=this._input[0];return this.yytext+=Yt,this.yyleng++,this.offset++,this.match+=Yt,this.matched+=Yt,Yt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Yt},"input"),unput:w(function(Yt){var Ie=Yt.length,qe=Yt.split(/(?:\r\n?|\n)/g);this._input=Yt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ie),this.offset-=Ie;var ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),qe.length-1&&(this.yylineno-=qe.length-1);var pn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:qe?(qe.length===ie.length?this.yylloc.first_column:0)+ie[ie.length-qe.length].length-qe[0].length:this.yylloc.first_column-Ie},this.options.ranges&&(this.yylloc.range=[pn[0],pn[0]+this.yyleng-Ie]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(Yt){this.unput(this.match.slice(Yt))},"less"),pastInput:w(function(){var Yt=this.matched.substr(0,this.matched.length-this.match.length);return(Yt.length>20?"...":"")+Yt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var Yt=this.match;return Yt.length<20&&(Yt+=this._input.substr(0,20-Yt.length)),(Yt.substr(0,20)+(Yt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var Yt=this.pastInput(),Ie=new Array(Yt.length+1).join("-");return Yt+this.upcomingInput()+`
`+Ie+"^"},"showPosition"),test_match:w(function(Yt,Ie){var qe,ie,pn;if(this.options.backtrack_lexer&&(pn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pn.yylloc.range=this.yylloc.range.slice(0))),(ie=Yt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ie?ie[ie.length-1].length-ie[ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Yt[0].length},this.yytext+=Yt[0],this.match+=Yt[0],this.matches=Yt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Yt[0].length),this.matched+=Yt[0],qe=this.performAction.call(this,this.yy,this,Ie,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),qe)return qe;if(this._backtrack){for(var yt in pn)this[yt]=pn[yt];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var Yt,Ie,qe,ie;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var pn=this._currentRules(),yt=0;yt<pn.length;yt++)if((qe=this._input.match(this.rules[pn[yt]]))&&(!Ie||qe[0].length>Ie[0].length)){if(Ie=qe,ie=yt,this.options.backtrack_lexer){if((Yt=this.test_match(qe,pn[yt]))!==!1)return Yt;if(this._backtrack){Ie=!1;continue}return!1}if(!this.options.flex)break}return Ie?(Yt=this.test_match(Ie,pn[ie]))!==!1&&Yt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var Yt=this.next();return Yt||this.lex()},"lex"),begin:w(function(Yt){this.conditionStack.push(Yt)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(Yt){return(Yt=this.conditionStack.length-1-Math.abs(Yt||0))>=0?this.conditionStack[Yt]:"INITIAL"},"topState"),pushState:w(function(Yt){this.begin(Yt)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:w(function(Yt,Ie,qe,ie){switch(qe){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:case 12:case 14:case 17:case 20:case 23:case 33:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),Ie.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const pn=/\n\s*/g;return Ie.yytext=Ie.yytext.replace(pn,"<br/>"),40;case 11:return 40;case 13:this.begin("callbackname");break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 18:return 95;case 19:return"MD_STR";case 21:this.begin("md_string");break;case 22:return"STR";case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 34:return 87;case 35:case 36:case 37:return Yt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:case 41:case 42:case 43:return 97;case 44:return this.popState(),13;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:case 101:return 110;case 61:return 46;case 62:return 60;case 63:case 102:return 44;case 64:return 8;case 65:return 105;case 66:case 100:return 114;case 67:case 70:case 73:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:case 72:case 75:return 118;case 71:return this.pushState("thickEdgeText"),75;case 74:return this.pushState("dottedEdgeText"),75;case 76:return 77;case 77:return this.popState(),53;case 78:case 114:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}}}();function _n(){this.yy={}}return ho.lexer=Do,w(_n,"Parser"),_n.prototype=ho,ho.Parser=_n,new _n}();L6.parser=L6;var uLt=L6,hLt=w((t,e)=>{const r=Tet,n=r(t,"r"),i=r(t,"g"),o=r(t,"b");return yd(n,i,o,e)},"fade"),dLt={parser:uLt,db:jk,renderer:cLt,styles:w(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t.lineColor} !important;
    stroke-width: 0;
    stroke: ${t.lineColor};
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${hLt(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),init:w(t=>{t.flowchart||(t.flowchart={}),t.layout&&EN({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,EN({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),jk.clear(),jk.setGen("gen-2")},"init")};const o8=Object.freeze(Object.defineProperty({__proto__:null,diagram:dLt},Symbol.toStringTag,{value:"Module"})),Qi=[];for(let t=0;t<256;++t)Qi.push((t+256).toString(16).slice(1));function pLt(t,e=0){return Qi[t[e+0]]+Qi[t[e+1]]+Qi[t[e+2]]+Qi[t[e+3]]+"-"+Qi[t[e+4]]+Qi[t[e+5]]+"-"+Qi[t[e+6]]+Qi[t[e+7]]+"-"+Qi[t[e+8]]+Qi[t[e+9]]+"-"+Qi[t[e+10]]+Qi[t[e+11]]+Qi[t[e+12]]+Qi[t[e+13]]+Qi[t[e+14]]+Qi[t[e+15]]}var fLt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function gLt(t){return typeof t=="string"&&fLt.test(t)}function mLt(t){if(!gLt(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r}const yLt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",vLt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function bLt(t,e,r){function n(i,o,a,s){var l;if(typeof i=="string"&&(i=function(h){h=unescape(encodeURIComponent(h));const d=[];for(let p=0;p<h.length;++p)d.push(h.charCodeAt(p));return d}(i)),typeof o=="string"&&(o=mLt(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=r(u),u[6]=15&u[6]|e,u[8]=63&u[8]|128,a){s=s||0;for(let h=0;h<16;++h)a[s+h]=u[h];return a}return pLt(u)}try{n.name=t}catch{}return n.DNS=yLt,n.URL=vLt,n}function xLt(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function Hk(t,e){return t<<e|t>>>32-e}function wLt(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const a=unescape(encodeURIComponent(t));t=[];for(let s=0;s<a.length;++s)t.push(a.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let a=0;a<i;++a){const s=new Uint32Array(16);for(let l=0;l<16;++l)s[l]=t[64*a+4*l]<<24|t[64*a+4*l+1]<<16|t[64*a+4*l+2]<<8|t[64*a+4*l+3];o[a]=s}o[i-1][14]=8*(t.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(t.length-1)&4294967295;for(let a=0;a<i;++a){const s=new Uint32Array(80);for(let f=0;f<16;++f)s[f]=o[a][f];for(let f=16;f<80;++f)s[f]=Hk(s[f-3]^s[f-8]^s[f-14]^s[f-16],1);let l=r[0],u=r[1],h=r[2],d=r[3],p=r[4];for(let f=0;f<80;++f){const g=Math.floor(f/20),m=Hk(l,5)+xLt(g,u,h,d)+p+e[g]+s[f]>>>0;p=d,d=h,h=Hk(u,30)>>>0,u=l,l=m}r[0]=r[0]+l>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+p>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var kLt=bLt("v5",80,wLt),R6=function(){var t=w(function(T,A,C,D){for(C=C||{},D=T.length;D--;C[T[D]]=A);return C},"o"),e=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],o=[1,13],a=[1,14],s=[1,15],l=[1,21],u=[1,22],h=[1,23],d=[1,24],p=[1,25],f=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],g=[1,34],m=[27,28,46,47],y=[41,42,43,44,45],v=[17,34],x=[1,54],b=[1,53],k=[17,34,36,38],N={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:w(function(T,A,C,D,E,$,I){var L=$.length-1;switch(E){case 1:break;case 2:case 6:case 7:this.$=[];break;case 3:$[L-1].push($[L]),this.$=$[L-1];break;case 4:case 5:case 19:case 43:case 27:case 28:case 31:this.$=$[L];break;case 8:D.addEntity($[L-4]),D.addEntity($[L-2]),D.addRelationship($[L-4],$[L],$[L-2],$[L-3]);break;case 9:D.addEntity($[L-3]),D.addAttributes($[L-3],$[L-1]);break;case 10:D.addEntity($[L-2]);break;case 11:D.addEntity($[L]);break;case 12:D.addEntity($[L-6],$[L-4]),D.addAttributes($[L-6],$[L-1]);break;case 13:D.addEntity($[L-5],$[L-3]);break;case 14:D.addEntity($[L-3],$[L-1]);break;case 15:case 16:this.$=$[L].trim(),D.setAccTitle(this.$);break;case 17:case 18:this.$=$[L].trim(),D.setAccDescription(this.$);break;case 20:case 41:case 42:case 32:this.$=$[L].replace(/"/g,"");break;case 21:case 29:this.$=[$[L]];break;case 22:$[L].push($[L-1]),this.$=$[L];break;case 23:this.$={attributeType:$[L-1],attributeName:$[L]};break;case 24:this.$={attributeType:$[L-2],attributeName:$[L-1],attributeKeyTypeList:$[L]};break;case 25:this.$={attributeType:$[L-2],attributeName:$[L-1],attributeComment:$[L]};break;case 26:this.$={attributeType:$[L-3],attributeName:$[L-2],attributeKeyTypeList:$[L-1],attributeComment:$[L]};break;case 30:$[L-2].push($[L]),this.$=$[L-2];break;case 33:this.$={cardA:$[L],relType:$[L-1],cardB:$[L-2]};break;case 34:this.$=D.Cardinality.ZERO_OR_ONE;break;case 35:this.$=D.Cardinality.ZERO_OR_MORE;break;case 36:this.$=D.Cardinality.ONE_OR_MORE;break;case 37:this.$=D.Cardinality.ONLY_ONE;break;case 38:this.$=D.Cardinality.MD_PARENT;break;case 39:this.$=D.Identification.NON_IDENTIFYING;break;case 40:this.$=D.Identification.IDENTIFYING}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:o,27:a,28:s},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:o,27:a,28:s},t(e,[2,5]),t(e,[2,6]),t(e,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:l,42:u,43:h,44:d,45:p}),{21:[1,26]},{23:[1,27]},{25:[1,28]},t(e,[2,18]),t(f,[2,19]),t(f,[2,20]),t(e,[2,4]),{11:29,27:a,28:s},{16:30,17:[1,31],29:32,30:33,34:g},{11:35,27:a,28:s},{40:36,46:[1,37],47:[1,38]},t(m,[2,34]),t(m,[2,35]),t(m,[2,36]),t(m,[2,37]),t(m,[2,38]),t(e,[2,15]),t(e,[2,16]),t(e,[2,17]),{13:[1,39]},{17:[1,40]},t(e,[2,10]),{16:41,17:[2,21],29:32,30:33,34:g},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:l,42:u,43:h,44:d,45:p},t(y,[2,39]),t(y,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},t(e,[2,9]),{17:[2,22]},t(v,[2,23],{32:50,33:51,35:52,37:x,38:b}),t([17,34,37,38],[2,28]),t(e,[2,14],{15:[1,55]}),t([27,28],[2,33]),t(e,[2,8]),t(e,[2,41]),t(e,[2,42]),t(e,[2,43]),t(v,[2,24],{33:56,36:[1,57],38:b}),t(v,[2,25]),t(k,[2,29]),t(v,[2,32]),t(k,[2,31]),{16:58,17:[1,59],29:32,30:33,34:g},t(v,[2,26]),{35:60,37:x},{17:[1,61]},t(e,[2,13]),t(k,[2,30]),t(e,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:w(function(T,A){if(!A.recoverable){var C=new Error(T);throw C.hash=A,C}this.trace(T)},"parseError"),parse:w(function(T){var A=this,C=[0],D=[],E=[null],$=[],I=this.table,L="",O=0,B=0,R=$.slice.call(arguments,1),M=Object.create(this.lexer),F={yy:{}};for(var P in this.yy)Object.prototype.hasOwnProperty.call(this.yy,P)&&(F.yy[P]=this.yy[P]);M.setInput(T,F.yy),F.yy.lexer=M,F.yy.parser=this,M.yylloc===void 0&&(M.yylloc={});var U=M.yylloc;$.push(U);var W=M.options&&M.options.ranges;function Q(){var Et;return typeof(Et=D.pop()||M.lex()||1)!="number"&&(Et instanceof Array&&(Et=(D=Et).pop()),Et=A.symbols_[Et]||Et),Et}typeof F.yy.parseError=="function"?this.parseError=F.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(Et){C.length=C.length-2*Et,E.length=E.length-Et,$.length=$.length-Et},"popStack"),w(Q,"lex");for(var K,G,V,rt,tt,at,ut,st,_t={};;){if(G=C[C.length-1],this.defaultActions[G]?V=this.defaultActions[G]:(K==null&&(K=Q()),V=I[G]&&I[G][K]),V===void 0||!V.length||!V[0]){var X="";for(tt in st=[],I[G])this.terminals_[tt]&&tt>2&&st.push("'"+this.terminals_[tt]+"'");X=M.showPosition?"Parse error on line "+(O+1)+`:
`+M.showPosition()+`
Expecting `+st.join(", ")+", got '"+(this.terminals_[K]||K)+"'":"Parse error on line "+(O+1)+": Unexpected "+(K==1?"end of input":"'"+(this.terminals_[K]||K)+"'"),this.parseError(X,{text:M.match,token:this.terminals_[K]||K,line:M.yylineno,loc:U,expected:st})}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+G+", token: "+K);switch(V[0]){case 1:C.push(K),E.push(M.yytext),$.push(M.yylloc),C.push(V[1]),K=null,B=M.yyleng,L=M.yytext,O=M.yylineno,U=M.yylloc;break;case 2:if(at=this.productions_[V[1]][1],_t.$=E[E.length-at],_t._$={first_line:$[$.length-(at||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(at||1)].first_column,last_column:$[$.length-1].last_column},W&&(_t._$.range=[$[$.length-(at||1)].range[0],$[$.length-1].range[1]]),(rt=this.performAction.apply(_t,[L,B,O,F.yy,V[1],E,$].concat(R)))!==void 0)return rt;at&&(C=C.slice(0,-1*at*2),E=E.slice(0,-1*at),$=$.slice(0,-1*at)),C.push(this.productions_[V[1]][0]),E.push(_t.$),$.push(_t._$),ut=I[C[C.length-2]][C[C.length-1]],C.push(ut);break;case 3:return!0}}return!0},"parse")},_=function(){return{EOF:1,parseError:w(function(T,A){if(!this.yy.parser)throw new Error(T);this.yy.parser.parseError(T,A)},"parseError"),setInput:w(function(T,A){return this.yy=A||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var T=this._input[0];return this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T,T.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:w(function(T){var A=T.length,C=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.offset-=A;var D=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===D.length?this.yylloc.first_column:0)+D[D.length-C.length].length-C[0].length:this.yylloc.first_column-A},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-A]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(T){this.unput(this.match.slice(T))},"less"),pastInput:w(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var T=this.pastInput(),A=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+A+"^"},"showPosition"),test_match:w(function(T,A){var C,D,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),(D=T[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=D.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:D?D[D.length-1].length-D[D.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],C=this.performAction.call(this,this.yy,this,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var $ in E)this[$]=E[$];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var T,A,C,D;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),$=0;$<E.length;$++)if((C=this._input.match(this.rules[E[$]]))&&(!A||C[0].length>A[0].length)){if(A=C,D=$,this.options.backtrack_lexer){if((T=this.test_match(C,E[$]))!==!1)return T;if(this._backtrack){A=!1;continue}return!1}if(!this.options.flex)break}return A?(T=this.test_match(A,E[D]))!==!1&&T:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var T=this.next();return T||this.lex()},"lex"),begin:w(function(T){this.conditionStack.push(T)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(T){return(T=this.conditionStack.length-1-Math.abs(T||0))>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:w(function(T){this.begin(T)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(T,A,C,D){switch(C){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:case 15:case 20:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 16:return 37;case 17:case 18:return 34;case 19:return 38;case 21:return this.popState(),17;case 22:case 54:return A.yytext[0];case 23:return 18;case 24:return 19;case 25:case 29:case 30:case 43:return 41;case 26:case 27:case 28:case 36:case 38:case 45:return 43;case 31:case 32:case 33:case 34:case 35:case 37:case 44:return 42;case 39:case 40:case 41:case 42:return 44;case 46:return 45;case 47:case 50:case 51:case 52:return 46;case 48:case 49:return 47;case 53:return 27;case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}}}();function S(){this.yy={}}return N.lexer=_,w(S,"Parser"),S.prototype=N,N.Parser=S,new S}();R6.parser=R6;var TLt=R6,ed=new Map,a8=[],Oet=w(function(t,e=void 0){return ed.has(t)?!ed.get(t).alias&&e&&(ed.get(t).alias=e,et.info(`Add alias '${e}' to entity '${t}'`)):(ed.set(t,{attributes:[],alias:e}),et.info("Added new entity :",t)),ed.get(t)},"addEntity"),ELt=w(()=>ed,"getEntities"),_Lt=w(function(t,e){let r,n=Oet(t);for(r=e.length-1;r>=0;r--)n.attributes.push(e[r]),et.debug("Added attribute ",e[r].attributeName)},"addAttributes"),SLt=w(function(t,e,r,n){let i={entityA:t,roleA:e,entityB:r,relSpec:n};a8.push(i),et.debug("Added new relationship :",i)},"addRelationship"),ALt=w(()=>a8,"getRelationships"),CLt=w(function(){ed=new Map,a8=[],Gi()},"clear"),$Lt={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},getConfig:w(()=>Tt().er,"getConfig"),addEntity:Oet,addAttributes:_Lt,getEntities:ELt,addRelationship:SLt,getRelationships:ALt,clear:CLt,setAccTitle:Wi,getAccTitle:so,setAccDescription:lo,getAccDescription:co,setDiagramTitle:ta,getDiagramTitle:uo},Is={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},Os={ERMarkers:Is,insertMarkers:w(function(t,e){let r;t.append("defs").append("marker").attr("id",Is.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",Is.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",Is.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",Is.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",Is.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",Is.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",Is.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",Is.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=t.append("defs").append("marker").attr("id",Is.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=t.append("defs").append("marker").attr("id",Is.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers")},NLt=/[^\dA-Za-z](\W)*/g,wi={},Xm=new Map,ILt=w(function(t){const e=Object.keys(t);for(const r of e)wi[r]=t[r]},"setConf"),LLt=w((t,e,r)=>{const n=wi.entityPadding/3,i=wi.entityPadding/3,o=.85*wi.fontSize,a=e.node().getBBox(),s=[];let l=!1,u=!1,h=0,d=0,p=0,f=0,g=a.height+2*n,m=1;r.forEach(b=>{b.attributeKeyTypeList!==void 0&&b.attributeKeyTypeList.length>0&&(l=!0),b.attributeComment!==void 0&&(u=!0)}),r.forEach(b=>{const k=`${e.node().id}-attr-${m}`;let N=0;const _=Mh(b.attributeType),S=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Tt().fontFamily).style("font-size",o+"px").text(_),T=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Tt().fontFamily).style("font-size",o+"px").text(b.attributeName),A={};A.tn=S,A.nn=T;const C=S.node().getBBox(),D=T.node().getBBox();if(h=Math.max(h,C.width),d=Math.max(d,D.width),N=Math.max(C.height,D.height),l){const E=b.attributeKeyTypeList!==void 0?b.attributeKeyTypeList.join(","):"",$=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Tt().fontFamily).style("font-size",o+"px").text(E);A.kn=$;const I=$.node().getBBox();p=Math.max(p,I.width),N=Math.max(N,I.height)}if(u){const E=t.append("text").classed("er entityLabel",!0).attr("id",`${k}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Tt().fontFamily).style("font-size",o+"px").text(b.attributeComment||"");A.cn=E;const $=E.node().getBBox();f=Math.max(f,$.width),N=Math.max(N,$.height)}A.height=N,s.push(A),g+=N+2*n,m+=1});let y=4;l&&(y+=2),u&&(y+=2);const v=h+d+p+f,x={width:Math.max(wi.minEntityWidth,Math.max(a.width+2*wi.entityPadding,v+i*y)),height:r.length>0?g:Math.max(wi.minEntityHeight,a.height+2*wi.entityPadding)};if(r.length>0){const b=Math.max(0,(x.width-v-i*y)/(y/2));e.attr("transform","translate("+x.width/2+","+(n+a.height/2)+")");let k=a.height+2*n,N="attributeBoxOdd";s.forEach(_=>{const S=k+n+_.height/2;_.tn.attr("transform","translate("+i+","+S+")");const T=t.insert("rect","#"+_.tn.node().id).classed(`er ${N}`,!0).attr("x",0).attr("y",k).attr("width",h+2*i+b).attr("height",_.height+2*n),A=parseFloat(T.attr("x"))+parseFloat(T.attr("width"));_.nn.attr("transform","translate("+(A+i)+","+S+")");const C=t.insert("rect","#"+_.nn.node().id).classed(`er ${N}`,!0).attr("x",A).attr("y",k).attr("width",d+2*i+b).attr("height",_.height+2*n);let D=parseFloat(C.attr("x"))+parseFloat(C.attr("width"));if(l){_.kn.attr("transform","translate("+(D+i)+","+S+")");const E=t.insert("rect","#"+_.kn.node().id).classed(`er ${N}`,!0).attr("x",D).attr("y",k).attr("width",p+2*i+b).attr("height",_.height+2*n);D=parseFloat(E.attr("x"))+parseFloat(E.attr("width"))}u&&(_.cn.attr("transform","translate("+(D+i)+","+S+")"),t.insert("rect","#"+_.cn.node().id).classed(`er ${N}`,"true").attr("x",D).attr("y",k).attr("width",f+2*i+b).attr("height",_.height+2*n)),k+=_.height+2*n,N=N==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else x.height=Math.max(wi.minEntityHeight,g),e.attr("transform","translate("+x.width/2+","+x.height/2+")");return x},"drawAttributes"),RLt=w(function(t,e,r){let n;return[...e.keys()].forEach(function(i){const o=Bet(i,"entity");Xm.set(i,o);const a=t.append("g").attr("id",o);n=n===void 0?o:n;const s="text-"+o,l=a.append("text").classed("er entityLabel",!0).attr("id",s).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Tt().fontFamily).style("font-size",wi.fontSize+"px").text(e.get(i).alias??i),{width:u,height:h}=LLt(a,l,e.get(i).attributes),d=a.insert("rect","#"+s).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",u).attr("height",h).node().getBBox();r.setNode(o,{width:d.width,height:d.height,shape:"rect",id:o})}),n},"drawEntities"),DLt=w(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )")})},"adjustEntities"),Met=w(function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},"getEdgeName"),OLt=w(function(t,e){return t.forEach(function(r){e.setEdge(Xm.get(r.entityA),Xm.get(r.entityB),{relationship:r},Met(r))}),t},"addRelationships"),uM=0,MLt=w(function(t,e,r,n,i){uM++;const o=r.edge(Xm.get(e.entityA),Xm.get(e.entityB),Met(e)),a=Nd().x(function(m){return m.x}).y(function(m){return m.y}).curve(Sy),s=t.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",a(o.points)).style("stroke",wi.stroke).style("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&s.attr("stroke-dasharray","8,8");let l="";switch(wi.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:s.attr("marker-end","url("+l+"#"+Os.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:s.attr("marker-end","url("+l+"#"+Os.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:s.attr("marker-end","url("+l+"#"+Os.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:s.attr("marker-end","url("+l+"#"+Os.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:s.attr("marker-end","url("+l+"#"+Os.ERMarkers.MD_PARENT_END+")")}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:s.attr("marker-start","url("+l+"#"+Os.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:s.attr("marker-start","url("+l+"#"+Os.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:s.attr("marker-start","url("+l+"#"+Os.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:s.attr("marker-start","url("+l+"#"+Os.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:s.attr("marker-start","url("+l+"#"+Os.ERMarkers.MD_PARENT_START+")")}const u=s.node().getTotalLength(),h=s.node().getPointAtLength(.5*u),d="rel"+uM,p=e.roleA.split(/<br ?\/>/g),f=t.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",h.x).attr("y",h.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Tt().fontFamily).style("font-size",wi.fontSize+"px");if(p.length==1)f.text(e.roleA);else{const m=.5*-(p.length-1);p.forEach((y,v)=>{f.append("tspan").attr("x",h.x).attr("dy",`${v===0?m:1}em`).text(y)})}const g=f.node().getBBox();t.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",h.x-g.width/2).attr("y",h.y-g.height/2).attr("width",g.width).attr("height",g.height)},"drawRelationshipFromLayout"),BLt=w(function(t,e,r,n){wi=Tt().er,et.info("Drawing ER diagram");const i=Tt().securityLevel;let o;i==="sandbox"&&(o=he("#i"+e));const a=he(i==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);let s;Os.insertMarkers(a,wi),s=new Lo({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:wi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const l=RLt(a,n.db.getEntities(),s),u=OLt(n.db.getRelationships(),s);s3(s),DLt(a,s),u.forEach(function(g){MLt(a,g,s,l,n)});const h=wi.diagramPadding;dr.insertTitle(a,"entityTitleText",wi.titleTopMargin,n.db.getDiagramTitle());const d=a.node().getBBox(),p=d.width+2*h,f=d.height+2*h;Ro(a,f,p,wi.useMaxWidth),a.attr("viewBox",`${d.x-h} ${d.y-h} ${p} ${f}`)},"draw"),PLt="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function Bet(t="",e=""){const r=t.replace(NLt,"");return`${D6(e)}${D6(r)}${kLt(t,PLt)}`}function D6(t=""){return t.length>0?`${t}-`:""}w(Bet,"generateId"),w(D6,"strWithHyphen");var FLt={parser:TLt,db:$Lt,renderer:{setConf:ILt,draw:BLt},styles:w(t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles")};const zLt=Object.freeze(Object.defineProperty({__proto__:null,diagram:FLt},Symbol.toStringTag,{value:"Module"}));function jy(t,e){var r,n,i;t.accDescr&&((r=e.setAccDescription)==null||r.call(e,t.accDescr)),t.accTitle&&((n=e.setAccTitle)==null||n.call(e,t.accTitle)),t.title&&((i=e.setDiagramTitle)==null||i.call(e,t.title))}w(jy,"populateCommonDb");var Hf,s8=(Hf=class{constructor(e){this.init=e,this.records=this.init()}reset(){this.records=this.init()}},w(Hf,"ImperativeState"),Hf);function $o(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function Ol(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function jLt(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function vb(t){return typeof t=="object"&&t!==null&&$o(t.container)&&Ol(t.reference)&&typeof t.message=="string"}let Pet=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return $o(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const i=n[r];if(i!==void 0)return i;{const o=this.computeIsSubtype(e,r);return n[r]=o,o}}getAllSubTypes(e){const r=this.allSubtypes[e];if(r)return r;{const n=this.getAllTypes(),i=[];for(const o of n)this.isSubtype(o,e)&&i.push(o);return this.allSubtypes[e]=i,i}}};function q0(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function Fet(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function zet(t){return q0(t)&&typeof t.fullText=="string"}let $u=class mu{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){const e=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){const n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){const r=e[Symbol.iterator]();return new mu(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return fs})}join(e=","){const r=this.iterator();let n,i="",o=!1;do n=r.next(),n.done||(o&&(i+=e),i+=HLt(n.value)),o=!0;while(!n.done);return i}indexOf(e,r=0){const n=this.iterator();let i=0,o=n.next();for(;!o.done;){if(i>=r&&o.value===e)return i;o=n.next(),i++}return-1}every(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new mu(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?fs:{done:!1,value:e(i)}})}filter(e){return new mu(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return fs})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){const n=this.iterator();let i=r,o=n.next();for(;!o.done;)i=i===void 0?o.value:e(i,o.value),o=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){const i=e.next();if(i.done)return n;const o=this.recursiveReduce(e,r,n);return o===void 0?i.value:r(o,i.value)}find(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new mu(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const o=r.iterator.next();if(!o.done)return o;r.iterator=void 0}const{done:n,value:i}=this.nextFn(r.this);if(!n){const o=e(i);if(!Vx(o))return{done:!1,value:o};r.iterator=o[Symbol.iterator]()}}while(r.iterator);return fs})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const r=e>1?this.flat(e-1):this;return new mu(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const a=n.iterator.next();if(!a.done)return a;n.iterator=void 0}const{done:i,value:o}=r.nextFn(n.this);if(!i){if(!Vx(o))return{done:!1,value:o};n.iterator=o[Symbol.iterator]()}}while(n.iterator);return fs})}head(){const e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new mu(()=>{const r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new mu(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?fs:this.nextFn(r.state)))}distinct(e){const r=new Set;return this.filter(n=>{const i=e?e(n):n;return!r.has(i)&&(r.add(i),!0)})}exclude(e,r){const n=new Set;for(const i of e){const o=r?r(i):i;n.add(o)}return this.filter(i=>{const o=r?r(i):i;return!n.has(o)})}};function HLt(t){return typeof t=="string"?t:t===void 0?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function Vx(t){return!!t&&typeof t[Symbol.iterator]=="function"}const ULt=new $u(()=>{},()=>fs),fs=Object.freeze({done:!0,value:void 0});function io(...t){if(t.length===1){const e=t[0];if(e instanceof $u)return e;if(Vx(e))return new $u(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new $u(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:fs)}return t.length>1?new $u(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const r=t[e.collIndex++];Vx(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return fs}):ULt}let Yx=class extends $u{constructor(e,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const o=i.iterators[i.iterators.length-1].next();if(!o.done)return i.iterators.push(r(o.value)[Symbol.iterator]()),o;i.iterators.pop()}return fs})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}};var O6;(function(t){t.sum=function(e){return e.reduce((r,n)=>r+n,0)},t.product=function(e){return e.reduce((r,n)=>r*n,0)},t.min=function(e){return e.reduce((r,n)=>Math.min(r,n))},t.max=function(e){return e.reduce((r,n)=>Math.max(r,n))}})(O6||(O6={}));function M6(t){return new Yx(t,e=>q0(e)?e.content:[],{includeRoot:!0})}function qLt(t,e){for(;t.container;)if((t=t.container)===e)return!0;return!1}function B6(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function Xx(t){if(!t)return;const{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}var Tu;function GLt(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<t.start.character)return Tu.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>e.end.character)return Tu.After;const r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?Tu.Inside:r?Tu.OverlapBack:Tu.OverlapFront}function WLt(t,e){return GLt(t,e)>Tu.After}(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside"})(Tu||(Tu={}));const VLt=/^[\w\p{L}]$/u;function YLt(t,e){if(t){const r=XLt(t,!0);if(r&&hM(r,e))return r;if(zet(t))for(let n=t.content.findIndex(i=>!i.hidden)-1;n>=0;n--){const i=t.content[n];if(hM(i,e))return i}}}function hM(t,e){return Fet(t)&&e.includes(t.tokenType.name)}function XLt(t,e=!0){for(;t.container;){const r=t.container;let n=r.content.indexOf(t);for(;n>0;){n--;const i=r.content[n];if(e||!i.hidden)return i}t=r}}function sr(t){return t.charCodeAt(0)}function Uk(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function a1(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Tp(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function KLt(){throw Error("Internal Error - Should never get here!")}function dM(t){return t.type==="Character"}const Kx=[];for(let t=sr("0");t<=sr("9");t++)Kx.push(t);const Zx=[sr("_")].concat(Kx);for(let t=sr("a");t<=sr("z");t++)Zx.push(t);for(let t=sr("A");t<=sr("Z");t++)Zx.push(t);const pM=[sr(" "),sr("\f"),sr(`
`),sr("\r"),sr("	"),sr("\v"),sr("	"),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr(" "),sr("\u2028"),sr("\u2029"),sr(" "),sr(" "),sr("　"),sr("\uFEFF")],ZLt=/[0-9a-fA-F]/,n2=/[0-9]/,QLt=/[1-9]/;let jet=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":a1(n,"global");break;case"i":a1(n,"ignoreCase");break;case"m":a1(n,"multiLine");break;case"u":a1(n,"unicode");break;case"y":a1(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){const e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let r;switch(this.consumeChar("?"),this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead"}Tp(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return KLt()}quantifier(e=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let o;this.isDigit()?(o=this.integerIncludingZero(),r={atLeast:i,atMost:o}):r={atLeast:i,atMost:1/0},this.consumeChar("}")}if(e===!0&&r===void 0)return;Tp(r)}if(e!==!0||r!==void 0)return Tp(r)?(this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r):void 0}atom(){let e;const r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Tp(e))return e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[sr(`
`),sr("\r"),sr("\u2028"),sr("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=Kx;break;case"D":e=Kx,r=!0;break;case"s":e=pM;break;case"S":e=pM,r=!0;break;case"w":e=Zx;break;case"W":e=Zx,r=!0}if(Tp(e))return{type:"Set",value:e,complement:r}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=sr("\f");break;case"n":e=sr(`
`);break;case"r":e=sr("\r");break;case"t":e=sr("	");break;case"v":e=sr("\v")}if(Tp(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:sr("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:sr(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:sr(e)}}}characterClass(){const e=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,dM(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,dM(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else Uk(n.value,e),e.push(sr("-")),Uk(i.value,e)}else Uk(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:sr("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;this.consumeChar("("),this.peekChar(0)==="?"?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(QLt.test(e)===!1)throw Error("Expecting a positive integer");for(;n2.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(n2.test(e)===!1)throw Error("Expecting an integer");for(;n2.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:sr(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return n2.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let n=0;n<e;n++){const i=this.popChar();if(ZLt.test(i)===!1)throw Error("Expecting a HexDecimal digits");r+=i}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}},p3=class{visitChildren(e){for(const r in e){const n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}};const JLt=/\r?\n/gm,tRt=new jet,qk=new class extends p3{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const e=String.fromCharCode(t.value);if(this.multiline||e!==`
`||(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=f3(e);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(t){if(!this.multiline){const e=this.regex.substring(t.loc.begin,t.loc.end),r=new RegExp(e);this.multiline=!!`
`.match(r)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const e=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}};function eRt(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),qk.reset(t),qk.visit(tRt.pattern(t)),qk.multiline}catch{return!1}}function fM(t){return(typeof t=="string"?new RegExp(t):t).test(" ")}function f3(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rRt(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:f3(e)).join("")}function nRt(t,e){const r=iRt(t),n=e.match(r);return!!n&&n[0].length>0}function iRt(t){typeof t=="string"&&(t=new RegExp(t));const e=t,r=t.source;let n=0;return new RegExp(function i(){let o,a="";function s(u){a+=r.substr(n,u),n+=u}function l(u){a+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2)}break;case"[":o=/\[(?:\\.|.)*?\]/g,o.lastIndex=n,o=o.exec(r)||[],l(o[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":s(1);break;case"{":o=/\{\d+,?\d*\}/g,o.lastIndex=n,o=o.exec(r),o?s(o[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":o=n,n+=3,i(),a+=r.substr(o,n-o);break;case"<":switch(r[n+3]){case"=":case"!":o=n,n+=4,i(),a+=r.substr(o,n-o);break;default:s(r.indexOf(">",n)-n+1),a+=i()+"|$)"}}else s(1),a+=i()+"|$)";break;case")":return++n,a;default:l(1)}return a}(),t.flags)}function Het(t){function e(){}e.prototype=t;const r=new e;function n(){return typeof r.bar}return n(),n(),t}var oRt=Object.prototype.hasOwnProperty,Va=hW(function(t,e){if(ky(e)||Xl(e))cg(e,ki(e),t);else for(var r in e)oRt.call(e,r)&&Ey(t,r,e[r])});function pl(t,e){if(t==null)return{};var r=Td(eet(t),function(n){return[n]});return e=Aa(e),Qtt(t,r,function(n,i){return e(n,i[0])})}function Ea(t){return typeof t=="string"||!Sr(t)&&Ss(t)&&Yc(t)=="[object String]"}function aRt(t){return Ss(t)&&Yc(t)=="[object RegExp]"}var gM=Yu&&Yu.isRegExp,Uc=gM?Ty(gM):aRt;function sRt(t){return Ea((e=t).LABEL)&&e.LABEL!==""?t.LABEL:t.name;var e}let Ql=class{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Mt(this.definition,r=>{r.accept(e)})}},Qo=class extends Ql{constructor(e){super([]),this.idx=1,Va(this,pl(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},bg=class extends Ql{constructor(e){super(e.definition),this.orgText="",Va(this,pl(e,r=>r!==void 0))}},_a=class extends Ql{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Va(this,pl(e,r=>r!==void 0))}},ao=class extends Ql{constructor(e){super(e.definition),this.idx=1,Va(this,pl(e,r=>r!==void 0))}},Ya=class extends Ql{constructor(e){super(e.definition),this.idx=1,Va(this,pl(e,r=>r!==void 0))}},Xa=class extends Ql{constructor(e){super(e.definition),this.idx=1,Va(this,pl(e,r=>r!==void 0))}},zn=class extends Ql{constructor(e){super(e.definition),this.idx=1,Va(this,pl(e,r=>r!==void 0))}},Ca=class extends Ql{constructor(e){super(e.definition),this.idx=1,Va(this,pl(e,r=>r!==void 0))}},$a=class extends Ql{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Va(this,pl(e,r=>r!==void 0))}},En=class{constructor(e){this.idx=1,Va(this,pl(e,r=>r!==void 0))}accept(e){e.visit(this)}};function lRt(t){return me(t,bb)}function bb(t){function e(r){return me(r,bb)}if(t instanceof Qo){const r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Ea(t.label)&&(r.label=t.label),r}if(t instanceof _a)return{type:"Alternative",definition:e(t.definition)};if(t instanceof ao)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Ya)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Xa)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:bb(new En({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ca)return{type:"RepetitionWithSeparator",idx:t.idx,separator:bb(new En({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof zn)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof $a)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof En){const r={type:"Terminal",name:t.terminalType.name,label:sRt(t.terminalType),idx:t.idx};Ea(t.label)&&(r.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=Uc(n)?n.source:n),r}if(t instanceof bg)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}function Uet(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function to(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:i3(e),Uet(t,e<0?0:e,n)):[]}let g3=class{walk(e,r=[]){Mt(e.definition,(n,i)=>{const o=to(e.definition,i+1);if(n instanceof Qo)this.walkProdRef(n,o,r);else if(n instanceof En)this.walkTerminal(n,o,r);else if(n instanceof _a)this.walkFlat(n,o,r);else if(n instanceof ao)this.walkOption(n,o,r);else if(n instanceof Ya)this.walkAtLeastOne(n,o,r);else if(n instanceof Xa)this.walkAtLeastOneSep(n,o,r);else if(n instanceof Ca)this.walkManySep(n,o,r);else if(n instanceof zn)this.walkMany(n,o,r);else{if(!(n instanceof $a))throw Error("non exhaustive match");this.walkOr(n,o,r)}})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){const i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){const i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){const i=[new ao({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){const i=mM(e,r,n);this.walk(e,i)}walkMany(e,r,n){const i=[new ao({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){const i=mM(e,r,n);this.walk(e,i)}walkOr(e,r,n){const i=r.concat(n);Mt(e.definition,o=>{const a=new _a({definition:[o]});this.walk(a,i)})}};function mM(t,e,r){return[new ao({definition:[new En({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function cRt(t,e){var r;return ip(t,function(n,i,o){return!(r=e(n,i,o))}),!!r}function qet(t,e,r){var n=Sr(t)?_tt:cRt;return n(t,Aa(e))}var uRt=Math.max;function ra(t,e,r,n){t=Xl(t)?t:rn(t),r=r&&!n?i3(r):0;var i=t.length;return r<0&&(r=uRt(i+r,0)),Ea(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&j7(t,e,r)>-1}function hRt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function dRt(t,e){var r=!0;return ip(t,function(n,i,o){return r=!!e(n,i,o)}),r}function nl(t,e,r){var n=Sr(t)?hRt:dRt;return n(t,Aa(e))}function pRt(t){return t instanceof _a||t instanceof ao||t instanceof zn||t instanceof Ya||t instanceof Xa||t instanceof Ca||t instanceof En||t instanceof bg}function Qx(t,e=[]){return t instanceof ao||t instanceof zn||t instanceof Ca||(t instanceof $a?qet(t.definition,r=>Qx(r,e)):!(t instanceof Qo&&ra(e,t))&&t instanceof Ql&&(t instanceof Qo&&e.push(t),nl(t.definition,r=>Qx(r,e))))}function fRt(t){return t instanceof $a}function Sl(t){if(t instanceof Qo)return"SUBRULE";if(t instanceof ao)return"OPTION";if(t instanceof $a)return"OR";if(t instanceof Ya)return"AT_LEAST_ONE";if(t instanceof Xa)return"AT_LEAST_ONE_SEP";if(t instanceof Ca)return"MANY_SEP";if(t instanceof zn)return"MANY";if(t instanceof En)return"CONSUME";throw Error("non exhaustive match")}function l8(t){return t&&t.length?H7(t):[]}function Hy(t){if(t instanceof Qo)return Hy(t.referencedRule);if(t instanceof En)return yRt(t);if(pRt(t))return gRt(t);if(fRt(t))return mRt(t);throw Error("non exhaustive match")}function gRt(t){let e=[];const r=t.definition;let n,i=0,o=r.length>i,a=!0;for(;o&&a;)n=r[i],a=Qx(n),e=e.concat(Hy(n)),i+=1,o=r.length>i;return l8(e)}function mRt(t){const e=me(t.definition,r=>Hy(r));return l8(Ui(e))}function yRt(t){return[t.terminalType]}const Get="_~IN~_";let vRt=class extends g3{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){const i=xRt(e.referencedRule,e.idx)+this.topProd.name,o=r.concat(n),a=new _a({definition:o}),s=Hy(a);this.follows[i]=s}};function bRt(t){const e={};return Mt(t,r=>{const n=new vRt(r).startWalking();Va(e,n)}),e}function xRt(t,e){return t.name+e+Get}function P6(t){console&&console.error&&console.error(`Error: ${t}`)}function Wet(t){console&&console.warn&&console.warn(`Warning: ${t}`)}let xb={};const wRt=new jet;function m3(t){const e=t.toString();if(xb.hasOwnProperty(e))return xb[e];{const r=wRt.pattern(e);return xb[e]=r,r}}function kRt(){xb={}}const Vet="Complement Sets are not supported for first char optimization",Jx=`Unable to use "first char" lexer optimizations:
`;function TRt(t,e=!1){try{const r=m3(t);return F6(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===Vet)e&&Wet(`${Jx}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),P6(`${Jx}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function F6(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)F6(t.value[i],e,r);break;case"Alternative":const n=t.value;for(let i=0;i<n.length;i++){const o=n[i];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=o;switch(a.type){case"Character":i2(a.value,e,r);break;case"Set":if(a.complement===!0)throw Error(Vet);Mt(a.value,l=>{if(typeof l=="number")i2(l,e,r);else{const u=l;if(r===!0)for(let h=u.from;h<=u.to;h++)i2(h,e,r);else{for(let h=u.from;h<=u.to&&h<O1;h++)i2(h,e,r);if(u.to>=O1){const h=u.from>=O1?u.from:O1,d=u.to,p=qu(h),f=qu(d);for(let g=p;g<=f;g++)e[g]=g}}}});break;case"Group":F6(a.value,e,r);break;default:throw Error("Non Exhaustive Match")}const s=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&z6(a)===!1||a.type!=="Group"&&s===!1)break}break;default:throw Error("non exhaustive match!")}return rn(e)}function i2(t,e,r){const n=qu(t);e[n]=n,r===!0&&function(i,o){const a=String.fromCharCode(i),s=a.toUpperCase();if(s!==a){const l=qu(s.charCodeAt(0));o[l]=l}else{const l=a.toLowerCase();if(l!==a){const u=qu(l.charCodeAt(0));o[u]=u}}}(t,e)}function yM(t,e){return jc(t.value,r=>{if(typeof r=="number")return ra(e,r);{const n=r;return jc(e,i=>n.from<=i&&i<=n.to)!==void 0}})}function z6(t){const e=t.quantifier;return!(!e||e.atLeast!==0)||!!t.value&&(Sr(t.value)?nl(t.value,z6):z6(t.value))}let ERt=class extends p3{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){ra(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?yM(e,this.targetCharCodes)===void 0&&(this.found=!0):yM(e,this.targetCharCodes)!==void 0&&(this.found=!0)}};function c8(t,e){if(e instanceof RegExp){const r=m3(e),n=new ERt(t);return n.visit(r),n.found}return jc(e,r=>ra(t,r.charCodeAt(0)))!==void 0}function _Rt(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function y3(t,e){return(Sr(t)?L7:Ett)(t,_Rt(Aa(e)))}function vM(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=0;return j7(t,e,i)}function SRt(t,e,r,n){var i=-1,o=Btt,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;e.length>=200&&(o=D7,a=!1,e=new kf(e));t:for(;++i<s;){var h=t[i],d=h;if(h=h!==0?h:0,a&&d==d){for(var p=u;p--;)if(e[p]===d)continue t;l.push(h)}else o(e,d,n)||l.push(h)}return l}var v3=_y(function(t,e){return ix(t)?SRt(t,Fy(e,1,ix,!0)):[]});function Uy(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}function ul(t){return t&&t.length?t[0]:void 0}const Pd="PATTERN",D1="defaultMode",Gk="modes";let Yet=typeof new RegExp("(?:)").sticky=="boolean";function ARt(t,e){const r=(e=a3(e,{useSticky:Yet,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(x,b)=>b()})).tracer;let n;r("initCharCodeToOptimizedIndexMap",()=>{(function(){if(Gr(wb)){wb=new Array(65536);for(let x=0;x<65536;x++)wb[x]=x>255?255+~~(x/255):x}})()}),r("Reject Lexer.NA",()=>{n=y3(t,x=>x[Pd]===wa.NA)});let i,o,a,s,l,u,h,d,p,f,g,m=!1;r("Transform Patterns",()=>{m=!1,i=me(n,x=>{const b=x[Pd];if(Uc(b)){const k=b.source;return k.length!==1||k==="^"||k==="$"||k==="."||b.ignoreCase?k.length!==2||k[0]!=="\\"||ra(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?e.useSticky?xM(b):bM(b):k[1]:k}if(_s(b))return m=!0,{exec:b};if(typeof b=="object")return m=!0,b;if(typeof b=="string"){if(b.length===1)return b;{const k=b.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),N=new RegExp(k);return e.useSticky?xM(N):bM(N)}}throw Error("non exhaustive match")})}),r("misc mapping",()=>{o=me(n,x=>x.tokenTypeIdx),a=me(n,x=>{const b=x.GROUP;if(b!==wa.SKIPPED){if(Ea(b))return b;if(Xr(b))return!1;throw Error("non exhaustive match")}}),s=me(n,x=>{const b=x.LONGER_ALT;if(b)return Sr(b)?me(b,k=>vM(n,k)):[vM(n,b)]}),l=me(n,x=>x.PUSH_MODE),u=me(n,x=>Qe(x,"POP_MODE"))}),r("Line Terminator Handling",()=>{const x=Zet(e.lineTerminatorCharacters);h=me(n,b=>!1),e.positionTracking!=="onlyOffset"&&(h=me(n,b=>Qe(b,"LINE_BREAKS")?!!b.LINE_BREAKS:Ket(b,x)===!1&&c8(x,b.PATTERN)))}),r("Misc Mapping #2",()=>{d=me(n,Xet),p=me(i,qRt),f=hi(n,(x,b)=>{const k=b.GROUP;return Ea(k)&&k!==wa.SKIPPED&&(x[k]=[]),x},{}),g=me(i,(x,b)=>({pattern:i[b],longerAlt:s[b],canLineTerminator:h[b],isCustom:d[b],short:p[b],group:a[b],push:l[b],pop:u[b],tokenTypeIdx:o[b],tokenType:n[b]}))});let y=!0,v=[];return e.safeMode||r("First Char Optimization",()=>{v=hi(n,(x,b,k)=>{if(typeof b.PATTERN=="string"){const N=qu(b.PATTERN.charCodeAt(0));Wk(x,N,g[k])}else if(Sr(b.START_CHARS_HINT)){let N;Mt(b.START_CHARS_HINT,_=>{const S=qu(typeof _=="string"?_.charCodeAt(0):_);N!==S&&(N=S,Wk(x,S,g[k]))})}else if(Uc(b.PATTERN))if(b.PATTERN.unicode)y=!1,e.ensureOptimizations&&P6(`${Jx}	Unable to analyze < ${b.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const N=TRt(b.PATTERN,e.ensureOptimizations);Gr(N)&&(y=!1),Mt(N,_=>{Wk(x,_,g[k])})}else e.ensureOptimizations&&P6(`${Jx}	TokenType: <${b.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return x},[])}),{emptyGroups:f,patternIdxToConfig:g,charCodeToPatternIdxToConfig:v,hasCustom:m,canBeOptimized:y}}function CRt(t,e){let r=[];const n=$Rt(t);r=r.concat(n.errors);const i=NRt(n.valid),o=i.valid;return r=r.concat(i.errors),r=r.concat(function(a){let s=[];const l=Hn(a,u=>Uc(u[Pd]));return s=s.concat(LRt(l)),s=s.concat(ORt(l)),s=s.concat(MRt(l)),s=s.concat(BRt(l)),s=s.concat(RRt(l)),s}(o)),r=r.concat(PRt(o)),r=r.concat(FRt(o,e)),r=r.concat(zRt(o)),r}function $Rt(t){const e=Hn(t,r=>!Qe(r,Pd));return{errors:me(e,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:jn.MISSING_PATTERN,tokenTypes:[r]})),valid:v3(t,e)}}function NRt(t){const e=Hn(t,r=>{const n=r[Pd];return!(Uc(n)||_s(n)||Qe(n,"exec")||Ea(n))});return{errors:me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:jn.INVALID_PATTERN,tokenTypes:[r]})),valid:v3(t,e)}}const IRt=/[^\\][$]/;function LRt(t){class e extends p3{constructor(){super(...arguments),this.found=!1}visitEndAnchor(i){this.found=!0}}const r=Hn(t,n=>{const i=n.PATTERN;try{const o=m3(i),a=new e;return a.visit(o),a.found}catch{return IRt.test(i.source)}});return me(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:jn.EOI_ANCHOR_FOUND,tokenTypes:[n]}))}function RRt(t){const e=Hn(t,r=>r.PATTERN.test(""));return me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:jn.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const DRt=/[^\\[][\^]|^\^/;function ORt(t){class e extends p3{constructor(){super(...arguments),this.found=!1}visitStartAnchor(i){this.found=!0}}const r=Hn(t,n=>{const i=n.PATTERN;try{const o=m3(i),a=new e;return a.visit(o),a.found}catch{return DRt.test(i.source)}});return me(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:jn.SOI_ANCHOR_FOUND,tokenTypes:[n]}))}function MRt(t){const e=Hn(t,r=>{const n=r[Pd];return n instanceof RegExp&&(n.multiline||n.global)});return me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:jn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function BRt(t){const e=[];let r=me(t,i=>hi(t,(o,a)=>(i.PATTERN.source!==a.PATTERN.source||ra(e,a)||a.PATTERN===wa.NA||(e.push(a),o.push(a)),o),[]));r=Uy(r);const n=Hn(r,i=>i.length>1);return me(n,i=>{const o=me(i,a=>a.name);return{message:`The same RegExp pattern ->${ul(i).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:jn.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function PRt(t){const e=Hn(t,r=>{if(!Qe(r,"GROUP"))return!1;const n=r.GROUP;return n!==wa.SKIPPED&&n!==wa.NA&&!Ea(n)});return me(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:jn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function FRt(t,e){const r=Hn(t,n=>n.PUSH_MODE!==void 0&&!ra(e,n.PUSH_MODE));return me(r,n=>({message:`Token Type: ->${n.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${n.PUSH_MODE}<-which does not exist`,type:jn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[n]}))}function zRt(t){const e=[],r=hi(t,(n,i,o)=>{const a=i.PATTERN;return a===wa.NA||(Ea(a)?n.push({str:a,idx:o,tokenType:i}):Uc(a)&&(s=a,jc([".","\\","[","]","|","^","$","(",")","?","*","+","{"],l=>s.source.indexOf(l)!==-1)===void 0)&&n.push({str:a.source,idx:o,tokenType:i})),n;var s},[]);return Mt(t,(n,i)=>{Mt(r,({str:o,idx:a,tokenType:s})=>{if(i<a&&function(l,u){if(Uc(u)){const h=u.exec(l);return h!==null&&h.index===0}if(_s(u))return u(l,0,[],{});if(Qe(u,"exec"))return u.exec(l,0,[],{});if(typeof u=="string")return u===l;throw Error("non exhaustive match")}(o,n.PATTERN)){const l=`Token: ->${s.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:jn.UNREACHABLE_PATTERN,tokenTypes:[n,s]})}})}),e}function bM(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function xM(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function jRt(t,e,r){const n=[];return Qe(t,D1)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+D1+`> property in its definition
`,type:jn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Qe(t,Gk)||n.push({message:`A MultiMode Lexer cannot be initialized without a <modes> property in its definition
`,type:jn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Qe(t,Gk)&&Qe(t,D1)&&!Qe(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${D1}: <${t.defaultMode}>which does not exist
`,type:jn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Qe(t,Gk)&&Mt(t.modes,(i,o)=>{Mt(i,(a,s)=>{if(Xr(a))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${o}> at index: <${s}>
`,type:jn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Qe(a,"LONGER_ALT")){const l=Sr(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];Mt(l,u=>{Xr(u)||ra(i,u)||n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${a.name}> outside of mode <${o}>
`,type:jn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function HRt(t,e,r){const n=[];let i=!1;const o=Uy(Ui(rn(t.modes))),a=y3(o,l=>l[Pd]===wa.NA),s=Zet(r);return e&&Mt(a,l=>{const u=Ket(l,s);if(u!==!1){const h={message:WRt(l,u),type:u.issue,tokenType:l};n.push(h)}else Qe(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):c8(s,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:jn.NO_LINE_BREAKS_FLAGS}),n}function URt(t){const e={},r=ki(t);return Mt(r,n=>{const i=t[n];if(!Sr(i))throw Error("non exhaustive match");e[n]=[]}),e}function Xet(t){const e=t.PATTERN;if(Uc(e))return!1;if(_s(e)||Qe(e,"exec"))return!0;if(Ea(e))return!1;throw Error("non exhaustive match")}function qRt(t){return!(!Ea(t)||t.length!==1)&&t.charCodeAt(0)}const GRt={test:function(t){const e=t.length;for(let r=this.lastIndex;r<e;r++){const n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function Ket(t,e){if(Qe(t,"LINE_BREAKS"))return!1;if(Uc(t.PATTERN)){try{c8(e,t.PATTERN)}catch(r){return{issue:jn.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}if(Ea(t.PATTERN))return!1;if(Xet(t))return{issue:jn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function WRt(t,e){if(e.issue===jn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===jn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Zet(t){return me(t,e=>Ea(e)?e.charCodeAt(0):e)}function Wk(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}const O1=256;let wb=[];function qu(t){return t<O1?t:wb[t]}function Qet(t){const e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function qy(t,e){const r=t.tokenTypeIdx;return r===e.tokenTypeIdx||e.isParent===!0&&e.categoryMatchesMap[r]===!0}function t5(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let wM=1;const Jet={};function Gy(t){const e=VRt(t);YRt(e),KRt(e),XRt(e),Mt(e,r=>{r.isParent=r.categoryMatches.length>0})}function VRt(t){let e=$i(t),r=t,n=!0;for(;n;){r=Uy(Ui(me(r,o=>o.CATEGORIES)));const i=v3(r,e);e=e.concat(i),Gr(i)?n=!1:r=i}return e}function YRt(t){Mt(t,e=>{ert(e)||(Jet[wM]=e,e.tokenTypeIdx=wM++),kM(e)&&!Sr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),kM(e)||(e.CATEGORIES=[]),ZRt(e)||(e.categoryMatches=[]),QRt(e)||(e.categoryMatchesMap={})})}function XRt(t){Mt(t,e=>{e.categoryMatches=[],Mt(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(Jet[n].tokenTypeIdx)})})}function KRt(t){Mt(t,e=>{trt([],e)})}function trt(t,e){Mt(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),Mt(e.CATEGORIES,r=>{const n=t.concat(e);ra(n,r)||trt(n,r)})}function ert(t){return Qe(t,"tokenTypeIdx")}function kM(t){return Qe(t,"CATEGORIES")}function ZRt(t){return Qe(t,"categoryMatches")}function QRt(t){return Qe(t,"categoryMatchesMap")}function JRt(t){return Qe(t,"tokenTypeIdx")}const tDt={buildUnableToPopLexerModeMessage:t=>`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(t,e,r,n,i)=>`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`};var jn;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(jn||(jn={}));const M1={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:tDt,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(M1);let wa=class{constructor(e,r=M1){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,o)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:s,value:l}=Qet(o),u=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${i}> time: ${s}ms`),this.traceInitIndent--,l}return o()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Va({},M1,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,o=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===M1.lineTerminatorsPattern)this.config.lineTerminatorsPattern=GRt;else if(this.config.lineTerminatorCharacters===M1.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Sr(e)?i={modes:{defaultMode:$i(e)},defaultMode:D1}:(o=!1,i=$i(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(jRt(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(HRt(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Mt(i.modes,(s,l)=>{i.modes[l]=y3(s,u=>Xr(u))});const a=ki(i.modes);if(Mt(i.modes,(s,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(CRt(s,a))}),Gr(this.lexerDefinitionErrors)){let u;Gy(s),this.TRACE_INIT("analyzeTokenTypes",()=>{u=ARt(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Va({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Gr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const s=me(this.lexerDefinitionErrors,l=>l.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+s)}Mt(this.lexerDefinitionWarning,s=>{Wet(s.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Yet?(this.chopInput=Rc,this.match=this.matchWithTest):(this.updateLastIndex=yi,this.match=this.matchWithExec),o&&(this.handleModes=yi),this.trackStartLines===!1&&(this.computeNewColumn=Rc),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=yi),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const s=hi(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(r.ensureOptimizations&&!Gr(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{kRt()}),this.TRACE_INIT("toFastProperties",()=>{Het(this)})})}tokenize(e,r=this.defaultMode){if(!Gr(this.lexerDefinitionErrors)){const n=me(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+n)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,o,a,s,l,u,h,d,p,f,g,m,y,v;const x=e,b=x.length;let k=0,N=0;const _=this.hasCustom?0:Math.floor(e.length/10),S=new Array(_),T=[];let A=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0;const D=URt(this.emptyGroups),E=this.trackStartLines,$=this.config.lineTerminatorsPattern;let I=0,L=[],O=[];const B=[],R=[];let M;function F(){return L}function P(G){const V=qu(G),rt=O[V];return rt===void 0?R:rt}Object.freeze(R);const U=G=>{if(B.length===1&&G.tokenType.PUSH_MODE===void 0){const V=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(G);T.push({offset:G.startOffset,line:G.startLine,column:G.startColumn,length:G.image.length,message:V})}else{B.pop();const V=ql(B);L=this.patternIdxToConfig[V],O=this.charCodeToPatternIdxToConfig[V],I=L.length;const rt=this.canModeBeOptimized[V]&&this.config.safeMode===!1;M=O&&rt?P:F}};function W(G){B.push(G),O=this.charCodeToPatternIdxToConfig[G],L=this.patternIdxToConfig[G],I=L.length,I=L.length;const V=this.canModeBeOptimized[G]&&this.config.safeMode===!1;M=O&&V?P:F}let Q;W.call(this,r);const K=this.config.recoveryEnabled;for(;k<b;){l=null;const G=x.charCodeAt(k),V=M(G),rt=V.length;for(n=0;n<rt;n++){Q=V[n];const tt=Q.pattern;u=null;const at=Q.short;if(at!==!1?G===at&&(l=tt):Q.isCustom===!0?(v=tt.exec(x,k,S,D),v!==null?(l=v[0],v.payload!==void 0&&(u=v.payload)):l=null):(this.updateLastIndex(tt,k),l=this.match(tt,e,k)),l!==null){if(s=Q.longerAlt,s!==void 0){const ut=s.length;for(o=0;o<ut;o++){const st=L[s[o]],_t=st.pattern;if(h=null,st.isCustom===!0?(v=_t.exec(x,k,S,D),v!==null?(a=v[0],v.payload!==void 0&&(h=v.payload)):a=null):(this.updateLastIndex(_t,k),a=this.match(_t,e,k)),a&&a.length>l.length){l=a,u=h,Q=st;break}}}break}}if(l!==null){if(d=l.length,p=Q.group,p!==void 0&&(f=Q.tokenTypeIdx,g=this.createTokenInstance(l,k,f,Q.tokenType,A,C,d),this.handlePayload(g,u),p===!1?N=this.addToken(S,N,g):D[p].push(g)),e=this.chopInput(e,d),k+=d,C=this.computeNewColumn(C,d),E===!0&&Q.canLineTerminator===!0){let tt,at,ut=0;$.lastIndex=0;do tt=$.test(l),tt===!0&&(at=$.lastIndex-1,ut++);while(tt===!0);ut!==0&&(A+=ut,C=d-at,this.updateTokenEndLineColumnLocation(g,p,at,ut,A,C,d))}this.handleModes(Q,U,W,g)}else{const tt=k,at=A,ut=C;let st=K===!1;for(;st===!1&&k<b;)for(e=this.chopInput(e,1),k++,i=0;i<I;i++){const _t=L[i],X=_t.pattern,Et=_t.short;if(Et!==!1?x.charCodeAt(k)===Et&&(st=!0):_t.isCustom===!0?st=X.exec(x,k,S,D)!==null:(this.updateLastIndex(X,k),st=X.exec(e)!==null),st===!0)break}if(m=k-tt,C=this.computeNewColumn(C,m),y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,tt,m,at,ut),T.push({offset:tt,line:at,column:ut,length:m,message:y}),K===!1)break}}return this.hasCustom||(S.length=N),{tokens:S,groups:D,errors:T}}handleModes(e,r,n,i){if(e.pop===!0){const o=e.push;r(i),o!==void 0&&n.call(this,o)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,o,a,s){let l,u;r!==void 0&&(l=n===s-1,u=l?-1:0,i===1&&l===!0||(e.endLine=o+u,e.endColumn=a-1-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,o,a){return{image:e,startOffset:r,startLine:o,startColumn:a,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,o,a,s){return{image:e,startOffset:r,endOffset:r+s-1,startLine:o,endLine:o,startColumn:a,endColumn:a+s-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,++r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){const n=e.exec(r);return n!==null?n[0]:null}};wa.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",wa.NA=/NOT_APPLICABLE/;function Tf(t){return rrt(t)?t.LABEL:t.name}function rrt(t){return Ea(t.LABEL)&&t.LABEL!==""}const eDt="parent",TM="categories",EM="label",_M="group",SM="push_mode",AM="pop_mode",CM="longer_alt",$M="line_breaks",NM="start_chars_hint";function nrt(t){return function(e){const r=e.pattern,n={};if(n.name=e.name,Xr(r)||(n.PATTERN=r),Qe(e,eDt))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Qe(e,TM)&&(n.CATEGORIES=e[TM]),Gy([n]),Qe(e,EM)&&(n.LABEL=e[EM]),Qe(e,_M)&&(n.GROUP=e[_M]),Qe(e,AM)&&(n.POP_MODE=e[AM]),Qe(e,SM)&&(n.PUSH_MODE=e[SM]),Qe(e,CM)&&(n.LONGER_ALT=e[CM]),Qe(e,$M)&&(n.LINE_BREAKS=e[$M]),Qe(e,NM)&&(n.START_CHARS_HINT=e[NM]),n}(t)}const oh=nrt({name:"EOF",pattern:wa.NA});function u8(t,e,r,n,i,o,a,s){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:o,startColumn:a,endColumn:s,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function irt(t,e){return qy(t,e)}Gy([oh]);const nf={buildMismatchTokenMessage:({expected:t,actual:e,previous:r,ruleName:n})=>`Expecting ${rrt(t)?`--> ${Tf(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:t,ruleName:e})=>"Redundant input, expecting EOF but found: "+t.image,buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){const o="Expecting: ",a=`
but found: '`+ul(e).image+"'";if(n)return o+n+a;{const s=hi(t,(u,h)=>u.concat(h),[]),l=me(s,u=>`[${me(u,h=>Tf(h)).join(", ")}]`);return o+`one of these possible Token sequences:
${me(l,(u,h)=>`  ${h+1}. ${u}`).join(`
`)}`+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){const i="Expecting: ",o=`
but found: '`+ul(e).image+"'";return r?i+r+o:i+`expecting at least one iteration which starts with one of these possible Token sequences::
  <${me(t,a=>`[${me(a,s=>Tf(s)).join(",")}]`).join(" ,")}>`+o}};Object.freeze(nf);const rDt={buildRuleNotFoundError:(t,e)=>"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"},md={buildDuplicateFoundError(t,e){const r=t.name,n=ul(e),i=n.idx,o=Sl(n),a=(s=n)instanceof En?s.terminalType.name:s instanceof Qo?s.nonTerminalName:"";var s;let l=`->${o}${i>0?i:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,`
`),l},buildNamespaceConflictError:t=>`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(t){const e=me(t.prefixPath,n=>Tf(n)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=me(t.prefixPath,i=>Tf(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n+=`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=Sl(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError:t=>"deprecated",buildEmptyAlternationError:t=>`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`,buildTooManyAlternativesError:t=>`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(t){const e=t.topLevelRule.name;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${`${e} --> ${me(t.leftRecursionPath,r=>r.name).concat([e]).join(" --> ")}`}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:t=>"deprecated",buildDuplicateRuleNameError(t){let e;return e=t.topLevelRule instanceof bg?t.topLevelRule.name:t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};let xg=class{visit(e){const r=e;switch(r.constructor){case Qo:return this.visitNonTerminal(r);case _a:return this.visitAlternative(r);case ao:return this.visitOption(r);case Ya:return this.visitRepetitionMandatory(r);case Xa:return this.visitRepetitionMandatoryWithSeparator(r);case Ca:return this.visitRepetitionWithSeparator(r);case zn:return this.visitRepetition(r);case $a:return this.visitAlternation(r);case En:return this.visitTerminal(r);case bg:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}};function nDt(t,e){const r=new iDt(t,e);return r.resolveRefs(),r.errors}let iDt=class extends xg{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Mt(rn(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Jo.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}};function Km(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:i3(e),Uet(t,0,(e=n-e)<0?0:e)):[]}let oDt=class extends g3{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=$i(this.path.ruleStack).reverse(),this.occurrenceStack=$i(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Gr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},aDt=class extends oDt{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),o=new _a({definition:i});this.possibleTokTypes=Hy(o),this.found=!0}}},b3=class extends g3{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},sDt=class extends b3{walkMany(e,r,n){if(e.idx===this.occurrence){const i=ul(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}},IM=class extends b3{walkManySep(e,r,n){if(e.idx===this.occurrence){const i=ul(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}},lDt=class extends b3{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){const i=ul(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}},LM=class extends b3{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){const i=ul(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof En&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}};function j6(t,e,r=[]){r=$i(r);let n=[],i=0;function o(a){const s=j6(a.concat(to(t,i+1)),e,r);return n.concat(s)}for(;r.length<e&&i<t.length;){const a=t[i];if(a instanceof _a||a instanceof Qo)return o(a.definition);if(a instanceof ao)n=o(a.definition);else{if(a instanceof Ya)return o(a.definition.concat([new zn({definition:a.definition})]));if(a instanceof Xa)return o([new _a({definition:a.definition}),new zn({definition:[new En({terminalType:a.separator})].concat(a.definition)})]);if(a instanceof Ca){const s=a.definition.concat([new zn({definition:[new En({terminalType:a.separator})].concat(a.definition)})]);n=o(s)}else if(a instanceof zn){const s=a.definition.concat([new zn({definition:a.definition})]);n=o(s)}else{if(a instanceof $a)return Mt(a.definition,s=>{Gr(s.definition)===!1&&(n=o(s.definition))}),n;if(!(a instanceof En))throw Error("non exhaustive match");r.push(a.terminalType)}}i++}return n.push({partialPath:r,suffixDef:to(t,i)}),n}function ort(t,e,r,n){const i="EXIT_NONE_TERMINAL",o=[i],a="EXIT_ALTERNATIVE";let s=!1;const l=e.length,u=l-n-1,h=[],d=[];for(d.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Gr(d);){const p=d.pop();if(p===a){s&&ql(d).idx<=u&&d.pop();continue}const f=p.def,g=p.idx,m=p.ruleStack,y=p.occurrenceStack;if(Gr(f))continue;const v=f[0];if(v===i){const x={idx:g,def:to(f),ruleStack:Km(m),occurrenceStack:Km(y)};d.push(x)}else if(v instanceof En)if(g<l-1){const x=g+1;if(r(e[x],v.terminalType)){const b={idx:x,def:to(f),ruleStack:m,occurrenceStack:y};d.push(b)}}else{if(g!==l-1)throw Error("non exhaustive match");h.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:m,occurrenceStack:y}),s=!0}else if(v instanceof Qo){const x=$i(m);x.push(v.nonTerminalName);const b=$i(y);b.push(v.idx);const k={idx:g,def:v.definition.concat(o,to(f)),ruleStack:x,occurrenceStack:b};d.push(k)}else if(v instanceof ao){const x={idx:g,def:to(f),ruleStack:m,occurrenceStack:y};d.push(x),d.push(a);const b={idx:g,def:v.definition.concat(to(f)),ruleStack:m,occurrenceStack:y};d.push(b)}else if(v instanceof Ya){const x=new zn({definition:v.definition,idx:v.idx}),b={idx:g,def:v.definition.concat([x],to(f)),ruleStack:m,occurrenceStack:y};d.push(b)}else if(v instanceof Xa){const x=new En({terminalType:v.separator}),b=new zn({definition:[x].concat(v.definition),idx:v.idx}),k={idx:g,def:v.definition.concat([b],to(f)),ruleStack:m,occurrenceStack:y};d.push(k)}else if(v instanceof Ca){const x={idx:g,def:to(f),ruleStack:m,occurrenceStack:y};d.push(x),d.push(a);const b=new En({terminalType:v.separator}),k=new zn({definition:[b].concat(v.definition),idx:v.idx}),N={idx:g,def:v.definition.concat([k],to(f)),ruleStack:m,occurrenceStack:y};d.push(N)}else if(v instanceof zn){const x={idx:g,def:to(f),ruleStack:m,occurrenceStack:y};d.push(x),d.push(a);const b=new zn({definition:v.definition,idx:v.idx}),k={idx:g,def:v.definition.concat([b],to(f)),ruleStack:m,occurrenceStack:y};d.push(k)}else if(v instanceof $a)for(let x=v.definition.length-1;x>=0;x--){const b={idx:g,def:v.definition[x].definition.concat(to(f)),ruleStack:m,occurrenceStack:y};d.push(b),d.push(a)}else if(v instanceof _a)d.push({idx:g,def:v.definition.concat(to(f)),ruleStack:m,occurrenceStack:y});else{if(!(v instanceof bg))throw Error("non exhaustive match");d.push(cDt(v,g,m,y))}}return h}function cDt(t,e,r,n){const i=$i(r);i.push(t.name);const o=$i(n);return o.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:o}}var On;function h8(t){if(t instanceof ao||t==="Option")return On.OPTION;if(t instanceof zn||t==="Repetition")return On.REPETITION;if(t instanceof Ya||t==="RepetitionMandatory")return On.REPETITION_MANDATORY;if(t instanceof Xa||t==="RepetitionMandatoryWithSeparator")return On.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ca||t==="RepetitionWithSeparator")return On.REPETITION_WITH_SEPARATOR;if(t instanceof $a||t==="Alternation")return On.ALTERNATION;throw Error("non exhaustive match")}function RM(t){const{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,o=h8(n);return o===On.ALTERNATION?x3(e,r,i):w3(e,r,o,i)}function uDt(t,e,r,n,i,o){const a=x3(t,e,r);return o(a,n,lrt(a)?t5:qy,i)}function hDt(t,e,r,n,i,o){const a=w3(t,e,i,r),s=lrt(a)?t5:qy;return o(a[0],s,n)}function dDt(t,e,r,n){const i=t.length,o=nl(t,a=>nl(a,s=>s.length===1));if(e)return function(a){const s=me(a,l=>l.GATE);for(let l=0;l<i;l++){const u=t[l],h=u.length,d=s[l];if(d===void 0||d.call(this)!==!1)t:for(let p=0;p<h;p++){const f=u[p],g=f.length;for(let m=0;m<g;m++){const y=this.LA(m+1);if(r(y,f[m])===!1)continue t}return l}}};if(o&&!n){const a=me(t,l=>Ui(l)),s=hi(a,(l,u,h)=>(Mt(u,d=>{Qe(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=h),Mt(d.categoryMatches,p=>{Qe(l,p)||(l[p]=h)})}),l),{});return function(){const l=this.LA(1);return s[l.tokenTypeIdx]}}return function(){for(let a=0;a<i;a++){const s=t[a],l=s.length;t:for(let u=0;u<l;u++){const h=s[u],d=h.length;for(let p=0;p<d;p++){const f=this.LA(p+1);if(r(f,h[p])===!1)continue t}return a}}}}function pDt(t,e,r){const n=nl(t,o=>o.length===1),i=t.length;if(n&&!r){const o=Ui(t);if(o.length===1&&Gr(o[0].categoryMatches)){const a=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}{const a=hi(o,(s,l,u)=>(s[l.tokenTypeIdx]=!0,Mt(l.categoryMatches,h=>{s[h]=!0}),s),[]);return function(){const s=this.LA(1);return a[s.tokenTypeIdx]===!0}}}return function(){t:for(let o=0;o<i;o++){const a=t[o],s=a.length;for(let l=0;l<s;l++){const u=this.LA(l+1);if(e(u,a[l])===!1)continue t}return!0}return!1}}(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(On||(On={}));let fDt=class extends g3{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.restDef=n.concat(i),!0)}walkOption(e,r,n){this.checkIsTarget(e,On.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,On.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,On.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,On.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,On.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}},art=class extends xg{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx!==this.targetOccurrence||this.targetProdType!==r||this.targetRef!==void 0&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,On.OPTION)}visitRepetition(e){this.checkIsTarget(e,On.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,On.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,On.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,On.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,On.ALTERNATION)}};function DM(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function Vk(t){let e=[""];for(let r=0;r<t.length;r++){const n=t[r],i=[];for(let o=0;o<e.length;o++){const a=e[o];i.push(a+"_"+n.tokenTypeIdx);for(let s=0;s<n.categoryMatches.length;s++){const l="_"+n.categoryMatches[s];i.push(a+l)}}e=i}return e}function gDt(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;const i=t[n];for(let o=0;o<e.length;o++)if(i[e[o]]===!0)return!1}return!0}function srt(t,e){const r=me(t,a=>j6([a],1)),n=DM(r.length),i=me(r,a=>{const s={};return Mt(a,l=>{const u=Vk(l.partialPath);Mt(u,h=>{s[h]=!0})}),s});let o=r;for(let a=1;a<=e;a++){const s=o;o=DM(s.length);for(let l=0;l<s.length;l++){const u=s[l];for(let h=0;h<u.length;h++){const d=u[h].partialPath,p=u[h].suffixDef,f=Vk(d);if(gDt(i,f,l)||Gr(p)||d.length===e){const g=n[l];if(H6(g,d)===!1){g.push(d);for(let m=0;m<f.length;m++){const y=f[m];i[l][y]=!0}}}else{const g=j6(p,a+1,d);o[l]=o[l].concat(g),Mt(g,m=>{const y=Vk(m.partialPath);Mt(y,v=>{i[l][v]=!0})})}}}}return n}function x3(t,e,r,n){const i=new art(t,On.ALTERNATION,n);return e.accept(i),srt(i.result,r)}function w3(t,e,r,n){const i=new art(t,r);e.accept(i);const o=i.result,a=new fDt(e,t,r).startWalking();return srt([new _a({definition:o}),new _a({definition:a})],n)}function H6(t,e){t:for(let r=0;r<t.length;r++){const n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){const o=e[i],a=n[i];if(!(o===a||a.categoryMatchesMap[o.tokenTypeIdx]!==void 0))continue t}return!0}}return!1}function mDt(t,e){return t.length<e.length&&nl(t,(r,n)=>{const i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function lrt(t){return nl(t,e=>nl(e,r=>nl(r,n=>Gr(n.categoryMatches))))}function Ua(t,e){return Fy(me(t,e))}function yDt(t,e,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}function vDt(t,e,r,n){return ip(t,function(i,o,a){e(n,i,r(i),a)}),n}function bDt(t,e){return function(r,n){var i=Sr(r)?yDt:vDt,o={};return i(r,t,Aa(n),o)}}var xDt=Object.prototype.hasOwnProperty,wDt=bDt(function(t,e,r){xDt.call(t,r)?t[r].push(e):wy(t,r,[e])});function kDt(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return me(e,r=>Object.assign({type:Jo.CUSTOM_LOOKAHEAD_VALIDATION},r))}function TDt(t,e,r,n){const i=Ua(t,l=>function(u,h){const d=new _Dt;u.accept(d);const p=d.allProductions,f=wDt(p,EDt),g=pl(f,y=>y.length>1);return me(rn(g),y=>{const v=ul(y),x=h.buildDuplicateFoundError(u,y),b=Sl(v),k={message:x,type:Jo.DUPLICATE_PRODUCTIONS,ruleName:u.name,dslName:b,occurrence:v.idx},N=crt(v);return N&&(k.parameter=N),k})}(l,r)),o=function(l,u,h){const d=[],p=me(u,f=>f.name);return Mt(l,f=>{const g=f.name;if(ra(p,g)){const m=h.buildNamespaceConflictError(f);d.push({message:m,type:Jo.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:g})}}),d}(t,e,r),a=Ua(t,l=>IDt(l,r)),s=Ua(t,l=>SDt(l,t,n,r));return i.concat(o,a,s)}function EDt(t){return`${Sl(t)}_#_${t.idx}_#_${crt(t)}`}function crt(t){return t instanceof En?t.terminalType.name:t instanceof Qo?t.nonTerminalName:""}let _Dt=class extends xg{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}};function SDt(t,e,r,n){const i=[];if(hi(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:o,type:Jo.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function ADt(t,e,r){const n=[];let i;return ra(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:Jo.INVALID_RULE_OVERRIDE,ruleName:t})),n}function urt(t,e,r,n=[]){const i=[],o=kb(e.definition);if(Gr(o))return[];{const a=t.name;ra(o,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:Jo.LEFT_RECURSION,ruleName:a});const s=v3(o,n.concat([t])),l=Ua(s,u=>{const h=$i(n);return h.push(u),urt(t,u,r,h)});return i.concat(l)}}function kb(t){let e=[];if(Gr(t))return e;const r=ul(t);if(r instanceof Qo)e.push(r.referencedRule);else if(r instanceof _a||r instanceof ao||r instanceof Ya||r instanceof Xa||r instanceof Ca||r instanceof zn)e=e.concat(kb(r.definition));else if(r instanceof $a)e=Ui(me(r.definition,o=>kb(o.definition)));else if(!(r instanceof En))throw Error("non exhaustive match");const n=Qx(r),i=t.length>1;if(n&&i){const o=to(t);return e.concat(kb(o))}return e}let d8=class extends xg{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}};function CDt(t,e){const r=new d8;t.accept(r);const n=r.alternations;return Ua(n,i=>{const o=Km(i.definition);return Ua(o,(a,s)=>{const l=ort([a],[],qy,1);return Gr(l)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:s}),type:Jo.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:s+1}]:[]})})}function $Dt(t,e,r){const n=new d8;t.accept(n);let i=n.alternations;return i=y3(i,a=>a.ignoreAmbiguities===!0),Ua(i,a=>{const s=a.idx,l=a.maxLookahead||e,u=x3(s,t,l,a),h=function(p,f,g,m){const y=[],v=hi(p,(b,k,N)=>(f.definition[N].ignoreAmbiguities===!0||Mt(k,_=>{const S=[N];Mt(p,(T,A)=>{N!==A&&H6(T,_)&&f.definition[A].ignoreAmbiguities!==!0&&S.push(A)}),S.length>1&&!H6(y,_)&&(y.push(_),b.push({alts:S,path:_}))}),b),[]);return me(v,b=>{const k=me(b.alts,N=>N+1);return{message:m.buildAlternationAmbiguityError({topLevelRule:g,alternation:f,ambiguityIndices:k,prefixPath:b.path}),type:Jo.AMBIGUOUS_ALTS,ruleName:g.name,occurrence:f.idx,alternatives:b.alts}})}(u,a,t,r),d=RDt(u,a,t,r);return h.concat(d)})}let NDt=class extends xg{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}};function IDt(t,e){const r=new d8;t.accept(r);const n=r.alternations;return Ua(n,i=>i.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:Jo.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}]:[])}function LDt(t,e,r){const n=[];return Mt(t,i=>{const o=new NDt;i.accept(o);const a=o.allProductions;Mt(a,s=>{const l=h8(s),u=s.maxLookahead||e,h=s.idx,d=w3(h,i,l,u)[0];if(Gr(Ui(d))){const p=r.buildEmptyRepetitionError({topLevelRule:i,repetition:s});n.push({message:p,type:Jo.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function RDt(t,e,r,n){const i=hi(t,(o,a,s)=>{const l=me(a,u=>({idx:s,path:u}));return o.concat(l)},[]);return Uy(Ua(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const a=o.idx,s=o.path,l=Hn(i,u=>e.definition[u.idx].ignoreAmbiguities!==!0&&u.idx<a&&mDt(u.path,s));return me(l,u=>{const h=[u.idx+1,a+1],d=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:h,prefixPath:u.path}),type:Jo.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:d,alternatives:h}})}))}function DDt(t){const e=a3(t,{errMsgProvider:rDt}),r={};return Mt(t.rules,n=>{r[n.name]=n}),nDt(r,e.errMsgProvider)}function ODt(t){return t=a3(t,{errMsgProvider:md}),TDt(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const hrt="MismatchedTokenException",drt="NoViableAltException",prt="EarlyExitException",frt="NotAllInputParsedException",grt=[hrt,drt,prt,frt];function e5(t){return ra(grt,t.name)}Object.freeze(grt);let k3=class extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},mrt=class extends k3{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=hrt}},MDt=class extends k3{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=drt}},BDt=class extends k3{constructor(e,r){super(e,r),this.name=frt}},PDt=class extends k3{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=prt}};const Yk={},yrt="InRuleRecoveryException";let FDt=class extends Error{constructor(e){super(e),this.name=yrt}},zDt=class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Qe(e,"recoveryEnabled")?e.recoveryEnabled:qc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=jDt)}getTokenToInsert(e){const r=u8(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){const o=this.findReSyncTokenType(),a=this.exportLexerState(),s=[];let l=!1;const u=this.LA(1);let h=this.LA(1);const d=()=>{const p=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:p,ruleName:this.getCurrRuleFullName()}),g=new mrt(f,u,this.LA(0));g.resyncedTokens=Km(s),this.SAVE_ERROR(g)};for(;!l;){if(this.tokenMatcher(h,i))return void d();if(n.call(this))return d(),void e.apply(this,r);this.tokenMatcher(h,o)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,s))}this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,r,n){return n!==!1&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r))}getFollowsForInRuleRecovery(e,r){const n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new FDt("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||Gr(r))return!1;const n=this.LA(1);return jc(r,i=>this.tokenMatcher(n,i))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return ra(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=jc(e,o=>irt(r,o));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Yk;const e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return me(e,(n,i)=>i===0?Yk:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=me(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Ui(e)}getFollowSetFromFollowKey(e){if(e===Yk)return[oh];const r=e.ruleName+e.idxInCallingRule+Get+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,oh)||r.push(e),r}reSyncTo(e){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Km(r)}attemptInRepetitionRecovery(e,r,n,i,o,a,s){}getCurrentGrammarPath(e,r){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:$i(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return me(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}};function jDt(t,e,r,n,i,o,a){const s=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[s];if(l===void 0){const p=this.getCurrRuleFullName();l=new o(this.getGAstProductions()[p],i).startWalking(),this.firstAfterRepMap[s]=l}let u=l.token,h=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&u===void 0&&(u=oh,h=1),u!==void 0&&h!==void 0&&this.shouldInRepetitionRecoveryBeTried(u,h,a)&&this.tryInRepetitionRecovery(t,e,r,u)}const HDt=4,vrt=8,brt=256,xrt=512,U6=768,q6=1024,G6=1280,Tb=1536;function Xk(t,e,r){return r|e|t}let p8=class{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:qc.maxLookahead}validate(e){const r=this.validateNoLeftRecursion(e.rules);if(Gr(r)){const n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...o]}return r}validateNoLeftRecursion(e){return Ua(e,r=>urt(r,r,md))}validateEmptyOrAlternatives(e){return Ua(e,r=>CDt(r,md))}validateAmbiguousAlternationAlternatives(e,r){return Ua(e,n=>$Dt(n,r,md))}validateSomeNonEmptyLookaheadPath(e,r){return LDt(e,r,md)}buildLookaheadForAlternation(e){return uDt(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,dDt)}buildLookaheadForOptional(e){return hDt(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,h8(e.prodType),pDt)}},UDt=class{initLooksAhead(e){this.dynamicTokensEnabled=Qe(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:qc.dynamicTokensEnabled,this.maxLookahead=Qe(e,"maxLookahead")?e.maxLookahead:qc.maxLookahead,this.lookaheadStrategy=Qe(e,"lookaheadStrategy")?e.lookaheadStrategy:new p8({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Mt(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:o,repetitionMandatory:a,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:l}=qDt(r);Mt(n,u=>{const h=u.idx===0?"":u.idx;this.TRACE_INIT(`${Sl(u)}${h}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=Xk(this.fullRuleNameToShort[r.name],brt,u.idx);this.setLaFuncCache(p,d)})}),Mt(i,u=>{this.computeLookaheadFunc(r,u.idx,U6,"Repetition",u.maxLookahead,Sl(u))}),Mt(o,u=>{this.computeLookaheadFunc(r,u.idx,xrt,"Option",u.maxLookahead,Sl(u))}),Mt(a,u=>{this.computeLookaheadFunc(r,u.idx,q6,"RepetitionMandatory",u.maxLookahead,Sl(u))}),Mt(s,u=>{this.computeLookaheadFunc(r,u.idx,Tb,"RepetitionMandatoryWithSeparator",u.maxLookahead,Sl(u))}),Mt(l,u=>{this.computeLookaheadFunc(r,u.idx,G6,"RepetitionWithSeparator",u.maxLookahead,Sl(u))})})})}computeLookaheadFunc(e,r,n,i,o,a){this.TRACE_INIT(`${a}${r===0?"":r}`,()=>{const s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=Xk(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,s)})}getKeyForAutomaticLookahead(e,r){const n=this.getLastExplicitRuleShortName();return Xk(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}};const o2=new class extends xg{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function qDt(t){o2.reset(),t.accept(o2);const e=o2.dslMethods;return o2.reset(),e}function OM(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function MM(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function GDt(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function WDt(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}function wrt(t,e){Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,writable:!1,value:e})}function VDt(t,e){const r=ki(t),n=r.length;for(let i=0;i<n;i++){const o=t[r[i]],a=o.length;for(let s=0;s<a;s++){const l=o[s];l.tokenTypeIdx===void 0&&this[l.name](l.children,e)}}}function YDt(t,e){const r=function(){};return wrt(r,t+"BaseSemantics"),(r.prototype={visit:function(n,i){if(Sr(n)&&(n=n[0]),!Xr(n))return this[n.name](n.children,i)},validateVisitor:function(){const n=KDt(this,e);if(!Gr(n)){const i=me(n,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${i.join(`

`).replace(/\n/g,`
	`)}`)}}}).constructor=r,r._RULE_NAMES=e,r}function XDt(t,e,r){const n=function(){};wrt(n,t+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return Mt(e,o=>{i[o]=VDt}),(n.prototype=i).constructor=n,n}var W6;function KDt(t,e){return ZDt(t,e)}function ZDt(t,e){const r=Hn(e,i=>_s(t[i])===!1),n=me(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:W6.MISSING_METHOD,methodName:i}));return Uy(n)}(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(W6||(W6={}));let QDt=class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Qe(e,"nodeLocationTracking")?e.nodeLocationTracking:qc.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=MM,this.setNodeLocationFromNode=MM,this.cstPostRule=yi,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=yi,this.setNodeLocationFromNode=yi,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=OM,this.setNodeLocationFromNode=OM,this.cstPostRule=yi,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=yi,this.setNodeLocationFromNode=yi,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=yi,this.setNodeLocationFromNode=yi,this.cstPostRule=yi,this.setInitialNodeLocation=yi}else this.cstInvocationStateUpdate=yi,this.cstFinallyStateUpdate=yi,this.cstPostTerminal=yi,this.cstPostNonTerminal=yi,this.cstPostRule=yi}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];GDt(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];WDt(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Xr(this.baseCstVisitorConstructor)){const e=YDt(this.className,ki(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Xr(this.baseCstVisitorWithDefaultsConstructor)){const e=XDt(this.className,ki(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},JDt=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):n5}LA(e){const r=this.currIdx+e;return r<0||this.tokVectorLength<=r?n5:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},tOt=class{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=i5){if(ra(this.definedRulesNames,e)){const o={message:md.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Jo.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=i5){const i=ADt(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const o=this.defineRule(e,r,n);return this[e]=o,o}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if(e5(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return lRt(rn(this.gastProductionsCache))}},eOt=class{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=t5,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Qe(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Sr(e)){if(Gr(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Sr(e))this.tokensMap=hi(e,(o,a)=>(o[a.name]=a,o),{});else if(Qe(e,"modes")&&nl(Ui(rn(e.modes)),JRt)){const o=Ui(rn(e.modes)),a=l8(o);this.tokensMap=hi(a,(s,l)=>(s[l.name]=l,s),{})}else{if(!Ta(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=$i(e)}this.tokensMap.EOF=oh;const n=Qe(e,"modes")?Ui(rn(e.modes)):rn(e),i=nl(n,o=>Gr(o.categoryMatches));this.tokenMatcher=i?t5:qy,Gy(rn(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Qe(n,"resyncEnabled")?n.resyncEnabled:i5.resyncEnabled,o=Qe(n,"recoveryValueFunc")?n.recoveryValueFunc:i5.recoveryValueFunc,a=this.ruleShortNameIdx<<HDt+vrt;let s;return this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a,s=this.outputCst===!0?function(...l){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),r.apply(this,l);const u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,i,o)}finally{this.ruleFinallyStateUpdate()}}:function(...l){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),r.apply(this,l)}catch(u){return this.invokeRuleCatch(u,i,o)}finally{this.ruleFinallyStateUpdate()}},Object.assign(s,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){const i=this.RULE_STACK.length===1,o=r&&!this.isBackTracking()&&this.recoveryEnabled;if(e5(e)){const a=e;if(o){const s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s)){if(a.resyncedTokens=this.reSyncTo(s),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}return n(e)}if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}if(i)return this.moveToTerminatedState(),n(e);throw a}throw e}optionInternal(e,r){const n=this.getKeyForAutomaticLookahead(xrt,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i,o=this.getLaFuncFromCache(n);if(typeof e!="function"){i=e.DEF;const a=e.GATE;if(a!==void 0){const s=o;o=()=>a.call(this)&&s.call(this)}}else i=e;if(o.call(this)===!0)return i.call(this)}atLeastOneInternal(e,r){const n=this.getKeyForAutomaticLookahead(q6,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i,o=this.getLaFuncFromCache(n);if(typeof r!="function"){i=r.DEF;const a=r.GATE;if(a!==void 0){const s=o;o=()=>a.call(this)&&s.call(this)}}else i=r;if(o.call(this)!==!0)throw this.raiseEarlyExitException(e,On.REPETITION_MANDATORY,r.ERR_MSG);{let a=this.doSingleRepetition(i);for(;o.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],o,q6,e,lDt)}atLeastOneSepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(Tb,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){const i=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)!==!0)throw this.raiseEarlyExitException(e,On.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG);{i.call(this);const a=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,LM],a,Tb,e,LM)}}manyInternal(e,r){const n=this.getKeyForAutomaticLookahead(U6,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i,o=this.getLaFuncFromCache(n);if(typeof r!="function"){i=r.DEF;const s=r.GATE;if(s!==void 0){const l=o;o=()=>s.call(this)&&l.call(this)}}else i=r;let a=!0;for(;o.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],o,U6,e,sDt,a)}manySepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(G6,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){const i=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,IM],a,G6,e,IM)}}repetitionSepSecondInternal(e,r,n,i,o){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,o],n,Tb,e,o)}doSingleRepetition(e){const r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){const n=this.getKeyForAutomaticLookahead(brt,r),i=Sr(e)?e:e.DEF,o=this.getLaFuncFromCache(n).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new BDt(r,e))}}subruleInternal(e,r,n){let i;try{const o=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,o),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(o){throw this.subruleInternalError(o,n,e.ruleName)}}subruleInternalError(e,r,n){throw e5(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{const o=this.LA(1);this.tokenMatcher(o,e)===!0?(this.consumeToken(),i=o):this.consumeInternalError(e,o,n)}catch(o){i=this.consumeInternalRecovery(e,r,o)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i;const o=this.LA(0);throw i=n!==void 0&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new mrt(i,r,o))}consumeInternalRecovery(e,r,n){if(!this.recoveryEnabled||n.name!=="MismatchedTokenException"||this.isBackTracking())throw n;{const i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(o){throw o.name===yrt?n:o}}}saveRecogState(){const e=this.errors,r=$i(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),oh)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},rOt=class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Qe(e,"errorMessageProvider")?e.errorMessageProvider:qc.errorMessageProvider}SAVE_ERROR(e){if(e5(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:$i(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return $i(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){const i=this.getCurrRuleFullName(),o=this.getGAstProductions()[i],a=w3(e,o,r,this.maxLookahead)[0],s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));const l=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:s,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new PDt(l,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],o=x3(e,i,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));const s=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:a,previous:s,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new MDt(l,this.LA(1),s))}},nOt=class{initContentAssist(){}computeContentAssist(e,r){const n=this.gastProductionsCache[e];if(Xr(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return ort([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const r=ul(e.ruleStack),n=this.getGAstProductions()[r];return new aDt(n,e).startWalking()}};const T3={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(T3);const BM=!0,PM=Math.pow(2,vrt)-1,krt=nrt({name:"RECORDING_PHASE_TOKEN",pattern:wa.NA});Gy([krt]);const Trt=u8(krt,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Trt);const iOt={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};let oOt=class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return n5}topLevelRuleRecord(e,r){try{const n=new bg({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return s1.call(this,ao,e,r)}atLeastOneInternalRecord(e,r){s1.call(this,Ya,r,e)}atLeastOneSepFirstInternalRecord(e,r){s1.call(this,Xa,r,e,BM)}manyInternalRecord(e,r){s1.call(this,zn,r,e)}manySepFirstInternalRecord(e,r){s1.call(this,Ca,r,e,BM)}orInternalRecord(e,r){return aOt.call(this,e,r)}subruleInternalRecord(e,r,n){if(r5(r),!e||Qe(e,"ruleName")===!1){const s=new Error(`<SUBRULE${FM(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const i=ql(this.recordingProdStack),o=e.ruleName,a=new Qo({idx:r,nonTerminalName:o,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?iOt:T3}consumeInternalRecord(e,r,n){if(r5(r),!ert(e)){const a=new Error(`<CONSUME${FM(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=ql(this.recordingProdStack),o=new En({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return i.definition.push(o),Trt}};function s1(t,e,r,n=!1){r5(r);const i=ql(this.recordingProdStack),o=_s(e)?e:e.DEF,a=new t({definition:[],idx:r});return n&&(a.separator=e.SEP),Qe(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),o.call(this),i.definition.push(a),this.recordingProdStack.pop(),T3}function aOt(t,e){r5(e);const r=ql(this.recordingProdStack),n=Sr(t)===!1,i=n===!1?t:t.DEF,o=new $a({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});Qe(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD);const a=qet(i,s=>_s(s.GATE));return o.hasPredicates=a,r.definition.push(o),Mt(i,s=>{const l=new _a({definition:[]});o.definition.push(l),Qe(s,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=s.IGNORE_AMBIGUITIES:Qe(s,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),s.ALT.call(this),this.recordingProdStack.pop()}),T3}function FM(t){return t===0?"":`${t}`}function r5(t){if(t<0||t>PM){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${PM+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}let sOt=class{initPerformanceTracer(e){if(Qe(e,"traceInitPerf")){const r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=qc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:i,value:o}=Qet(r),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,o}return r()}};function lOt(t,e){e.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const o=Object.getOwnPropertyDescriptor(n,i);o&&(o.get||o.set)?Object.defineProperty(t.prototype,i,o):t.prototype[i]=r.prototype[i]})})}const n5=u8(oh,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(n5);const qc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:nf,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),i5=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Jo;function zM(t=void 0){return function(){return t}}(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Jo||(Jo={}));let V6=class Ert{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{Het(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Mt(this.definedRulesNames,i=>{const o=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=DDt({rules:rn(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Gr(n)&&this.skipValidations===!1){const i=ODt({rules:rn(this.gastProductionsCache),tokenTypes:rn(this.tokensMap),errMsgProvider:md,grammarName:r}),o=kDt({lookaheadStrategy:this.lookaheadStrategy,rules:rn(this.gastProductionsCache),tokenTypes:rn(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,o)}}),Gr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=bRt(rn(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,o;(o=(i=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(i,{rules:rn(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(rn(this.gastProductionsCache))})),!Ert.DEFER_DEFINITION_ERRORS_HANDLING&&!Gr(this.definitionErrors))throw e=me(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Qe(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Qe(r,"skipValidations")?r.skipValidations:qc.skipValidations}};V6.DEFER_DEFINITION_ERRORS_HANDLING=!1,lOt(V6,[zDt,UDt,QDt,JDt,eOt,tOt,rOt,nOt,oOt,sOt]);let cOt=class extends V6{constructor(e,r=qc){const n=$i(r);n.outputCst=!1,super(e,n)}};var jM,Kk,HM,a2,Vr,Ir,s2,UM,Zk,qM,GM,WM,VM,Qk,YM,XM,KM,l2,Ep,_p,Jk,Sp,ZM,tT,eT,rT,nT,iT,QM,JM,oT,tB,aT,l1,eB,rB,nB,iB,oB,aB,sB,lB,c2,cB,uB,hB,dB,pB,fB,gB,mB,yB,vB,bB,u2,xB,wB,kB,TB,EB,_B,SB,AB,CB,$B,NB,IB,LB,sT,lT,RB,DB,OB,MB,BB,PB,FB,zB,jB,jt;(function(t){t.is=function(e){return typeof e=="string"}})(jM||(jM={})),function(t){t.is=function(e){return typeof e=="string"}}(Kk||(Kk={})),function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647,t.is=function(e){return typeof e=="number"&&t.MIN_VALUE<=e&&e<=t.MAX_VALUE}}(HM||(HM={})),function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647,t.is=function(e){return typeof e=="number"&&t.MIN_VALUE<=e&&e<=t.MAX_VALUE}}(a2||(a2={})),function(t){t.create=function(e,r){return e===Number.MAX_VALUE&&(e=a2.MAX_VALUE),r===Number.MAX_VALUE&&(r=a2.MAX_VALUE),{line:e,character:r}},t.is=function(e){let r=e;return jt.objectLiteral(r)&&jt.uinteger(r.line)&&jt.uinteger(r.character)}}(Vr||(Vr={})),function(t){t.create=function(e,r,n,i){if(jt.uinteger(e)&&jt.uinteger(r)&&jt.uinteger(n)&&jt.uinteger(i))return{start:Vr.create(e,r),end:Vr.create(n,i)};if(Vr.is(e)&&Vr.is(r))return{start:e,end:r};throw new Error(`Range#create called with invalid arguments[${e}, ${r}, ${n}, ${i}]`)},t.is=function(e){let r=e;return jt.objectLiteral(r)&&Vr.is(r.start)&&Vr.is(r.end)}}(Ir||(Ir={})),function(t){t.create=function(e,r){return{uri:e,range:r}},t.is=function(e){let r=e;return jt.objectLiteral(r)&&Ir.is(r.range)&&(jt.string(r.uri)||jt.undefined(r.uri))}}(s2||(s2={})),function(t){t.create=function(e,r,n,i){return{targetUri:e,targetRange:r,targetSelectionRange:n,originSelectionRange:i}},t.is=function(e){let r=e;return jt.objectLiteral(r)&&Ir.is(r.targetRange)&&jt.string(r.targetUri)&&Ir.is(r.targetSelectionRange)&&(Ir.is(r.originSelectionRange)||jt.undefined(r.originSelectionRange))}}(UM||(UM={})),function(t){t.create=function(e,r,n,i){return{red:e,green:r,blue:n,alpha:i}},t.is=function(e){const r=e;return jt.objectLiteral(r)&&jt.numberRange(r.red,0,1)&&jt.numberRange(r.green,0,1)&&jt.numberRange(r.blue,0,1)&&jt.numberRange(r.alpha,0,1)}}(Zk||(Zk={})),function(t){t.create=function(e,r){return{range:e,color:r}},t.is=function(e){const r=e;return jt.objectLiteral(r)&&Ir.is(r.range)&&Zk.is(r.color)}}(qM||(qM={})),function(t){t.create=function(e,r,n){return{label:e,textEdit:r,additionalTextEdits:n}},t.is=function(e){const r=e;return jt.objectLiteral(r)&&jt.string(r.label)&&(jt.undefined(r.textEdit)||_p.is(r))&&(jt.undefined(r.additionalTextEdits)||jt.typedArray(r.additionalTextEdits,_p.is))}}(GM||(GM={})),function(t){t.Comment="comment",t.Imports="imports",t.Region="region"}(WM||(WM={})),function(t){t.create=function(e,r,n,i,o,a){const s={startLine:e,endLine:r};return jt.defined(n)&&(s.startCharacter=n),jt.defined(i)&&(s.endCharacter=i),jt.defined(o)&&(s.kind=o),jt.defined(a)&&(s.collapsedText=a),s},t.is=function(e){const r=e;return jt.objectLiteral(r)&&jt.uinteger(r.startLine)&&jt.uinteger(r.startLine)&&(jt.undefined(r.startCharacter)||jt.uinteger(r.startCharacter))&&(jt.undefined(r.endCharacter)||jt.uinteger(r.endCharacter))&&(jt.undefined(r.kind)||jt.string(r.kind))}}(VM||(VM={})),function(t){t.create=function(e,r){return{location:e,message:r}},t.is=function(e){let r=e;return jt.defined(r)&&s2.is(r.location)&&jt.string(r.message)}}(Qk||(Qk={})),function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4}(YM||(YM={})),function(t){t.Unnecessary=1,t.Deprecated=2}(XM||(XM={})),function(t){t.is=function(e){const r=e;return jt.objectLiteral(r)&&jt.string(r.href)}}(KM||(KM={})),function(t){t.create=function(e,r,n,i,o,a){let s={range:e,message:r};return jt.defined(n)&&(s.severity=n),jt.defined(i)&&(s.code=i),jt.defined(o)&&(s.source=o),jt.defined(a)&&(s.relatedInformation=a),s},t.is=function(e){var r;let n=e;return jt.defined(n)&&Ir.is(n.range)&&jt.string(n.message)&&(jt.number(n.severity)||jt.undefined(n.severity))&&(jt.integer(n.code)||jt.string(n.code)||jt.undefined(n.code))&&(jt.undefined(n.codeDescription)||jt.string((r=n.codeDescription)===null||r===void 0?void 0:r.href))&&(jt.string(n.source)||jt.undefined(n.source))&&(jt.undefined(n.relatedInformation)||jt.typedArray(n.relatedInformation,Qk.is))}}(l2||(l2={})),function(t){t.create=function(e,r,...n){let i={title:e,command:r};return jt.defined(n)&&n.length>0&&(i.arguments=n),i},t.is=function(e){let r=e;return jt.defined(r)&&jt.string(r.title)&&jt.string(r.command)}}(Ep||(Ep={})),function(t){t.replace=function(e,r){return{range:e,newText:r}},t.insert=function(e,r){return{range:{start:e,end:e},newText:r}},t.del=function(e){return{range:e,newText:""}},t.is=function(e){const r=e;return jt.objectLiteral(r)&&jt.string(r.newText)&&Ir.is(r.range)}}(_p||(_p={})),function(t){t.create=function(e,r,n){const i={label:e};return r!==void 0&&(i.needsConfirmation=r),n!==void 0&&(i.description=n),i},t.is=function(e){const r=e;return jt.objectLiteral(r)&&jt.string(r.label)&&(jt.boolean(r.needsConfirmation)||r.needsConfirmation===void 0)&&(jt.string(r.description)||r.description===void 0)}}(Jk||(Jk={})),function(t){t.is=function(e){const r=e;return jt.string(r)}}(Sp||(Sp={})),function(t){t.replace=function(e,r,n){return{range:e,newText:r,annotationId:n}},t.insert=function(e,r,n){return{range:{start:e,end:e},newText:r,annotationId:n}},t.del=function(e,r){return{range:e,newText:"",annotationId:r}},t.is=function(e){const r=e;return _p.is(r)&&(Jk.is(r.annotationId)||Sp.is(r.annotationId))}}(ZM||(ZM={})),function(t){t.create=function(e,r){return{textDocument:e,edits:r}},t.is=function(e){let r=e;return jt.defined(r)&&oT.is(r.textDocument)&&Array.isArray(r.edits)}}(tT||(tT={})),function(t){t.create=function(e,r,n){let i={kind:"create",uri:e};return r===void 0||r.overwrite===void 0&&r.ignoreIfExists===void 0||(i.options=r),n!==void 0&&(i.annotationId=n),i},t.is=function(e){let r=e;return r&&r.kind==="create"&&jt.string(r.uri)&&(r.options===void 0||(r.options.overwrite===void 0||jt.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||jt.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||Sp.is(r.annotationId))}}(eT||(eT={})),function(t){t.create=function(e,r,n,i){let o={kind:"rename",oldUri:e,newUri:r};return n===void 0||n.overwrite===void 0&&n.ignoreIfExists===void 0||(o.options=n),i!==void 0&&(o.annotationId=i),o},t.is=function(e){let r=e;return r&&r.kind==="rename"&&jt.string(r.oldUri)&&jt.string(r.newUri)&&(r.options===void 0||(r.options.overwrite===void 0||jt.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||jt.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||Sp.is(r.annotationId))}}(rT||(rT={})),function(t){t.create=function(e,r,n){let i={kind:"delete",uri:e};return r===void 0||r.recursive===void 0&&r.ignoreIfNotExists===void 0||(i.options=r),n!==void 0&&(i.annotationId=n),i},t.is=function(e){let r=e;return r&&r.kind==="delete"&&jt.string(r.uri)&&(r.options===void 0||(r.options.recursive===void 0||jt.boolean(r.options.recursive))&&(r.options.ignoreIfNotExists===void 0||jt.boolean(r.options.ignoreIfNotExists)))&&(r.annotationId===void 0||Sp.is(r.annotationId))}}(nT||(nT={})),function(t){t.is=function(e){let r=e;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(n=>jt.string(n.kind)?eT.is(n)||rT.is(n)||nT.is(n):tT.is(n)))}}(iT||(iT={})),function(t){t.create=function(e){return{uri:e}},t.is=function(e){let r=e;return jt.defined(r)&&jt.string(r.uri)}}(QM||(QM={})),function(t){t.create=function(e,r){return{uri:e,version:r}},t.is=function(e){let r=e;return jt.defined(r)&&jt.string(r.uri)&&jt.integer(r.version)}}(JM||(JM={})),function(t){t.create=function(e,r){return{uri:e,version:r}},t.is=function(e){let r=e;return jt.defined(r)&&jt.string(r.uri)&&(r.version===null||jt.integer(r.version))}}(oT||(oT={})),function(t){t.create=function(e,r,n,i){return{uri:e,languageId:r,version:n,text:i}},t.is=function(e){let r=e;return jt.defined(r)&&jt.string(r.uri)&&jt.string(r.languageId)&&jt.integer(r.version)&&jt.string(r.text)}}(tB||(tB={})),function(t){t.PlainText="plaintext",t.Markdown="markdown",t.is=function(e){const r=e;return r===t.PlainText||r===t.Markdown}}(aT||(aT={})),function(t){t.is=function(e){const r=e;return jt.objectLiteral(e)&&aT.is(r.kind)&&jt.string(r.value)}}(l1||(l1={})),function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25}(eB||(eB={})),function(t){t.PlainText=1,t.Snippet=2}(rB||(rB={})),function(t){t.Deprecated=1}(nB||(nB={})),function(t){t.create=function(e,r,n){return{newText:e,insert:r,replace:n}},t.is=function(e){const r=e;return r&&jt.string(r.newText)&&Ir.is(r.insert)&&Ir.is(r.replace)}}(iB||(iB={})),function(t){t.asIs=1,t.adjustIndentation=2}(oB||(oB={})),function(t){t.is=function(e){const r=e;return r&&(jt.string(r.detail)||r.detail===void 0)&&(jt.string(r.description)||r.description===void 0)}}(aB||(aB={})),function(t){t.create=function(e){return{label:e}}}(sB||(sB={})),function(t){t.create=function(e,r){return{items:e||[],isIncomplete:!!r}}}(lB||(lB={})),function(t){t.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},t.is=function(e){const r=e;return jt.string(r)||jt.objectLiteral(r)&&jt.string(r.language)&&jt.string(r.value)}}(c2||(c2={})),function(t){t.is=function(e){let r=e;return!!r&&jt.objectLiteral(r)&&(l1.is(r.contents)||c2.is(r.contents)||jt.typedArray(r.contents,c2.is))&&(e.range===void 0||Ir.is(e.range))}}(cB||(cB={})),function(t){t.create=function(e,r){return r?{label:e,documentation:r}:{label:e}}}(uB||(uB={})),function(t){t.create=function(e,r,...n){let i={label:e};return jt.defined(r)&&(i.documentation=r),jt.defined(n)?i.parameters=n:i.parameters=[],i}}(hB||(hB={})),function(t){t.Text=1,t.Read=2,t.Write=3}(dB||(dB={})),function(t){t.create=function(e,r){let n={range:e};return jt.number(r)&&(n.kind=r),n}}(pB||(pB={})),function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26}(fB||(fB={})),function(t){t.Deprecated=1}(gB||(gB={})),function(t){t.create=function(e,r,n,i,o){let a={name:e,kind:r,location:{uri:i,range:n}};return o&&(a.containerName=o),a}}(mB||(mB={})),function(t){t.create=function(e,r,n,i){return i!==void 0?{name:e,kind:r,location:{uri:n,range:i}}:{name:e,kind:r,location:{uri:n}}}}(yB||(yB={})),function(t){t.create=function(e,r,n,i,o,a){let s={name:e,detail:r,kind:n,range:i,selectionRange:o};return a!==void 0&&(s.children=a),s},t.is=function(e){let r=e;return r&&jt.string(r.name)&&jt.number(r.kind)&&Ir.is(r.range)&&Ir.is(r.selectionRange)&&(r.detail===void 0||jt.string(r.detail))&&(r.deprecated===void 0||jt.boolean(r.deprecated))&&(r.children===void 0||Array.isArray(r.children))&&(r.tags===void 0||Array.isArray(r.tags))}}(vB||(vB={})),function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"}(bB||(bB={})),function(t){t.Invoked=1,t.Automatic=2}(u2||(u2={})),function(t){t.create=function(e,r,n){let i={diagnostics:e};return r!=null&&(i.only=r),n!=null&&(i.triggerKind=n),i},t.is=function(e){let r=e;return jt.defined(r)&&jt.typedArray(r.diagnostics,l2.is)&&(r.only===void 0||jt.typedArray(r.only,jt.string))&&(r.triggerKind===void 0||r.triggerKind===u2.Invoked||r.triggerKind===u2.Automatic)}}(xB||(xB={})),function(t){t.create=function(e,r,n){let i={title:e},o=!0;return typeof r=="string"?(o=!1,i.kind=r):Ep.is(r)?i.command=r:i.edit=r,o&&n!==void 0&&(i.kind=n),i},t.is=function(e){let r=e;return r&&jt.string(r.title)&&(r.diagnostics===void 0||jt.typedArray(r.diagnostics,l2.is))&&(r.kind===void 0||jt.string(r.kind))&&(r.edit!==void 0||r.command!==void 0)&&(r.command===void 0||Ep.is(r.command))&&(r.isPreferred===void 0||jt.boolean(r.isPreferred))&&(r.edit===void 0||iT.is(r.edit))}}(wB||(wB={})),function(t){t.create=function(e,r){let n={range:e};return jt.defined(r)&&(n.data=r),n},t.is=function(e){let r=e;return jt.defined(r)&&Ir.is(r.range)&&(jt.undefined(r.command)||Ep.is(r.command))}}(kB||(kB={})),function(t){t.create=function(e,r){return{tabSize:e,insertSpaces:r}},t.is=function(e){let r=e;return jt.defined(r)&&jt.uinteger(r.tabSize)&&jt.boolean(r.insertSpaces)}}(TB||(TB={})),function(t){t.create=function(e,r,n){return{range:e,target:r,data:n}},t.is=function(e){let r=e;return jt.defined(r)&&Ir.is(r.range)&&(jt.undefined(r.target)||jt.string(r.target))}}(EB||(EB={})),function(t){t.create=function(e,r){return{range:e,parent:r}},t.is=function(e){let r=e;return jt.objectLiteral(r)&&Ir.is(r.range)&&(r.parent===void 0||t.is(r.parent))}}(_B||(_B={})),function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"}(SB||(SB={})),function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"}(AB||(AB={})),function(t){t.is=function(e){const r=e;return jt.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}}(CB||(CB={})),function(t){t.create=function(e,r){return{range:e,text:r}},t.is=function(e){const r=e;return r!=null&&Ir.is(r.range)&&jt.string(r.text)}}($B||($B={})),function(t){t.create=function(e,r,n){return{range:e,variableName:r,caseSensitiveLookup:n}},t.is=function(e){const r=e;return r!=null&&Ir.is(r.range)&&jt.boolean(r.caseSensitiveLookup)&&(jt.string(r.variableName)||r.variableName===void 0)}}(NB||(NB={})),function(t){t.create=function(e,r){return{range:e,expression:r}},t.is=function(e){const r=e;return r!=null&&Ir.is(r.range)&&(jt.string(r.expression)||r.expression===void 0)}}(IB||(IB={})),function(t){t.create=function(e,r){return{frameId:e,stoppedLocation:r}},t.is=function(e){const r=e;return jt.defined(r)&&Ir.is(e.stoppedLocation)}}(LB||(LB={})),function(t){t.Type=1,t.Parameter=2,t.is=function(e){return e===1||e===2}}(sT||(sT={})),function(t){t.create=function(e){return{value:e}},t.is=function(e){const r=e;return jt.objectLiteral(r)&&(r.tooltip===void 0||jt.string(r.tooltip)||l1.is(r.tooltip))&&(r.location===void 0||s2.is(r.location))&&(r.command===void 0||Ep.is(r.command))}}(lT||(lT={})),function(t){t.create=function(e,r,n){const i={position:e,label:r};return n!==void 0&&(i.kind=n),i},t.is=function(e){const r=e;return jt.objectLiteral(r)&&Vr.is(r.position)&&(jt.string(r.label)||jt.typedArray(r.label,lT.is))&&(r.kind===void 0||sT.is(r.kind))&&r.textEdits===void 0||jt.typedArray(r.textEdits,_p.is)&&(r.tooltip===void 0||jt.string(r.tooltip)||l1.is(r.tooltip))&&(r.paddingLeft===void 0||jt.boolean(r.paddingLeft))&&(r.paddingRight===void 0||jt.boolean(r.paddingRight))}}(RB||(RB={})),function(t){t.createSnippet=function(e){return{kind:"snippet",value:e}}}(DB||(DB={})),function(t){t.create=function(e,r,n,i){return{insertText:e,filterText:r,range:n,command:i}}}(OB||(OB={})),function(t){t.create=function(e){return{items:e}}}(MB||(MB={})),function(t){t.Invoked=0,t.Automatic=1}(BB||(BB={})),function(t){t.create=function(e,r){return{range:e,text:r}}}(PB||(PB={})),function(t){t.create=function(e,r){return{triggerKind:e,selectedCompletionInfo:r}}}(FB||(FB={})),function(t){t.is=function(e){const r=e;return jt.objectLiteral(r)&&Kk.is(r.uri)&&jt.string(r.name)}}(zB||(zB={})),function(t){function e(r,n){if(r.length<=1)return r;const i=r.length/2|0,o=r.slice(0,i),a=r.slice(i);e(o,n),e(a,n);let s=0,l=0,u=0;for(;s<o.length&&l<a.length;){let h=n(o[s],a[l]);r[u++]=h<=0?o[s++]:a[l++]}for(;s<o.length;)r[u++]=o[s++];for(;l<a.length;)r[u++]=a[l++];return r}t.create=function(r,n,i,o){return new uOt(r,n,i,o)},t.is=function(r){let n=r;return!!(jt.defined(n)&&jt.string(n.uri)&&(jt.undefined(n.languageId)||jt.string(n.languageId))&&jt.uinteger(n.lineCount)&&jt.func(n.getText)&&jt.func(n.positionAt)&&jt.func(n.offsetAt))},t.applyEdits=function(r,n){let i=r.getText(),o=e(n,(s,l)=>{let u=s.range.start.line-l.range.start.line;return u===0?s.range.start.character-l.range.start.character:u}),a=i.length;for(let s=o.length-1;s>=0;s--){let l=o[s],u=r.offsetAt(l.range.start),h=r.offsetAt(l.range.end);if(!(h<=a))throw new Error("Overlapping edit");i=i.substring(0,u)+l.newText+i.substring(h,i.length),a=u}return i}}(jB||(jB={}));let uOt=class{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Vr.create(0,e);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}let o=n-1;return Vr.create(o,e-r[o])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(t){const e=Object.prototype.toString;t.defined=function(r){return r!==void 0},t.undefined=function(r){return r===void 0},t.boolean=function(r){return r===!0||r===!1},t.string=function(r){return e.call(r)==="[object String]"},t.number=function(r){return e.call(r)==="[object Number]"},t.numberRange=function(r,n,i){return e.call(r)==="[object Number]"&&n<=r&&r<=i},t.integer=function(r){return e.call(r)==="[object Number]"&&-2147483648<=r&&r<=2147483647},t.uinteger=function(r){return e.call(r)==="[object Number]"&&0<=r&&r<=2147483647},t.func=function(r){return e.call(r)==="[object Function]"},t.objectLiteral=function(r){return r!==null&&typeof r=="object"},t.typedArray=function(r,n){return Array.isArray(r)&&r.every(n)}})(jt||(jt={}));const cT="AbstractRule",uT="AbstractType",HB="Condition",hOt="TypeDefinition",UB="ValueLiteral",_rt="AbstractElement";function dOt(t){return Qr.isInstance(t,_rt)}const pOt="ArrayLiteral",fOt="ArrayType",Srt="BooleanLiteral";function gOt(t){return Qr.isInstance(t,Srt)}const Art="Conjunction";function mOt(t){return Qr.isInstance(t,Art)}const Crt="Disjunction";function yOt(t){return Qr.isInstance(t,Crt)}const vOt="Grammar",$rt="InferredType";function Nrt(t){return Qr.isInstance(t,$rt)}const Irt="Interface";function Lrt(t){return Qr.isInstance(t,Irt)}const Rrt="Negation";function bOt(t){return Qr.isInstance(t,Rrt)}const xOt="NumberLiteral",wOt="Parameter",Drt="ParameterReference";function kOt(t){return Qr.isInstance(t,Drt)}const Ort="ParserRule";function As(t){return Qr.isInstance(t,Ort)}const TOt="ReferenceType",EOt="ReturnType";function _Ot(t){return Qr.isInstance(t,EOt)}const Mrt="SimpleType";function SOt(t){return Qr.isInstance(t,Mrt)}const AOt="StringLiteral",Y6="TerminalRule";function ap(t){return Qr.isInstance(t,Y6)}const Brt="Type";function Prt(t){return Qr.isInstance(t,Brt)}const COt="UnionType",Frt="Action";function E3(t){return Qr.isInstance(t,Frt)}const zrt="Alternatives";function jrt(t){return Qr.isInstance(t,zrt)}const Hrt="Assignment";function Fd(t){return Qr.isInstance(t,Hrt)}const Urt="CharacterRange";function $Ot(t){return Qr.isInstance(t,Urt)}const qrt="CrossReference";function f8(t){return Qr.isInstance(t,qrt)}const Grt="EndOfFile";function NOt(t){return Qr.isInstance(t,Grt)}const Wrt="Group";function g8(t){return Qr.isInstance(t,Wrt)}const Vrt="Keyword";function zd(t){return Qr.isInstance(t,Vrt)}const Yrt="NegatedToken";function IOt(t){return Qr.isInstance(t,Yrt)}const Xrt="RegexToken";function LOt(t){return Qr.isInstance(t,Xrt)}const Krt="RuleCall";function jd(t){return Qr.isInstance(t,Krt)}const Zrt="TerminalAlternatives";function ROt(t){return Qr.isInstance(t,Zrt)}const Qrt="TerminalGroup";function DOt(t){return Qr.isInstance(t,Qrt)}const Jrt="TerminalRuleCall";function OOt(t){return Qr.isInstance(t,Jrt)}const tnt="UnorderedGroup";function ent(t){return Qr.isInstance(t,tnt)}const rnt="UntilToken";function MOt(t){return Qr.isInstance(t,rnt)}const nnt="Wildcard";function BOt(t){return Qr.isInstance(t,nnt)}let int=class extends Pet{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,r){switch(e){case Frt:case zrt:case Hrt:case Urt:case qrt:case Grt:case Wrt:case Vrt:case Yrt:case Xrt:case Krt:case Zrt:case Qrt:case Jrt:case tnt:case rnt:case nnt:return this.isSubtype(_rt,r);case pOt:case xOt:case AOt:return this.isSubtype(UB,r);case fOt:case TOt:case Mrt:case COt:return this.isSubtype(hOt,r);case Srt:return this.isSubtype(HB,r)||this.isSubtype(UB,r);case Art:case Crt:case Rrt:case Drt:return this.isSubtype(HB,r);case $rt:case Irt:case Brt:return this.isSubtype(uT,r);case Ort:return this.isSubtype(cT,r)||this.isSubtype(uT,r);case Y6:return this.isSubtype(cT,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return uT;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return cT;case"Grammar:usedGrammars":return vOt;case"NamedArgument:parameter":case"ParameterReference:parameter":return wOt;case"TerminalRuleCall:rule":return Y6;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}};const Qr=new int;function POt(t){for(const[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{$o(n)&&(n.$container=t,n.$containerProperty=e,n.$containerIndex=i)}):$o(r)&&(r.$container=t,r.$containerProperty=e))}function _3(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function Wl(t){const e=FOt(t).$document;if(!e)throw new Error("AST node has no document.");return e}function FOt(t){for(;t.$container;)t=t.$container;return t}function m8(t,e){if(!t)throw new Error("Node must be an AstNode.");const r=e==null?void 0:e.range;return new $u(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const o=t[i];if($o(o)){if(n.keyIndex++,X6(o,r))return{done:!1,value:o}}else if(Array.isArray(o)){for(;n.arrayIndex<o.length;){const a=o[n.arrayIndex++];if($o(a)&&X6(a,r))return{done:!1,value:a}}n.arrayIndex=0}}n.keyIndex++}return fs})}function Wy(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new Yx(t,r=>m8(r,e))}function Ef(t,e){if(!t)throw new Error("Root node must be an AstNode.");return e!=null&&e.range&&!X6(t,e.range)?new Yx(t,()=>[]):new Yx(t,r=>m8(r,e),{includeRoot:!0})}function X6(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return!!n&&WLt(n,e)}function ont(t){return new $u(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const r=e.keys[e.keyIndex];if(!r.startsWith("$")){const n=t[r];if(Ol(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){const i=e.arrayIndex++,o=n[i];if(Ol(o))return{done:!1,value:{reference:o,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return fs})}function zOt(t,e){const r=t.getTypeMetaData(e.$type),n=e;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=ant(i.defaultValue))}function ant(t){return Array.isArray(t)?[...t.map(ant)]:t}let qB=class extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}};function S3(t){throw new Error("Error! The input value was not handled.")}function jOt(t){return t.rules.find(e=>As(e)&&e.entry)}function HOt(t){return t.rules.filter(e=>ap(e)&&e.hidden)}function snt(t,e){const r=new Set,n=jOt(t);if(!n)return new Set(t.rules);const i=[n].concat(HOt(t));for(const a of i)lnt(a,r,e);const o=new Set;for(const a of t.rules)(r.has(a.name)||ap(a)&&a.hidden)&&o.add(a);return o}function lnt(t,e,r){e.add(t.name),Wy(t).forEach(n=>{if(jd(n)||r){const i=n.rule.ref;i&&!e.has(i.name)&&lnt(i,e,r)}})}function UOt(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=unt(t.type.ref);return e==null?void 0:e.terminal}}function qOt(t){return t.hidden&&!b8(t).test(" ")}function GOt(t,e){return t&&e?y8(t,e,t.astNode,!0):[]}function cnt(t,e,r){if(!t||!e)return;const n=y8(t,e,t.astNode,!0);return n.length!==0?n[r=r!==void 0?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function y8(t,e,r,n){if(!n){const i=_3(t.grammarSource,Fd);if(i&&i.feature===e)return[t]}return q0(t)&&t.astNode===r?t.content.flatMap(i=>y8(i,e,r,!1)):[]}function WOt(t,e,r){if(!t)return;const n=VOt(t,e,t==null?void 0:t.astNode);return n.length!==0?n[r=r!==void 0?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function VOt(t,e,r){if(t.astNode!==r)return[];if(zd(t.grammarSource)&&t.grammarSource.value===e)return[t];const n=M6(t).iterator();let i;const o=[];do if(i=n.next(),!i.done){const a=i.value;a.astNode===r?zd(a.grammarSource)&&a.grammarSource.value===e&&o.push(a):n.prune()}while(!i.done);return o}function YOt(t){var e;const r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){const n=_3(t.grammarSource,Fd);if(n)return n;t=t.container}}function unt(t){let e=t;return Nrt(e)&&(E3(e.$container)?e=e.$container.$container:As(e.$container)?e=e.$container:S3(e.$container)),hnt(t,e,new Map)}function hnt(t,e,r){var n;function i(o,a){let s;return _3(o,Fd)||(s=hnt(a,a,r)),r.set(t,s),s}if(r.has(t))return r.get(t);r.set(t,void 0);for(const o of Wy(e)){if(Fd(o)&&o.feature.toLowerCase()==="name")return r.set(t,o),o;if(jd(o)&&As(o.rule.ref))return i(o,o.rule.ref);if(SOt(o)&&(!((n=o.typeRef)===null||n===void 0)&&n.ref))return i(o,o.typeRef.ref)}}function v8(t){return dnt(t,new Set)}function dnt(t,e){if(e.has(t))return!0;e.add(t);for(const r of Wy(t))if(jd(r)){if(!r.rule.ref||As(r.rule.ref)&&!dnt(r.rule.ref,e))return!1}else if(Fd(r)||E3(r))return!1;return!!t.definition}function pnt(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e&&(As(e)||Lrt(e)||Prt(e)))return e.name}}function A3(t){var e;if(As(t))return v8(t)?t.name:(e=pnt(t))!==null&&e!==void 0?e:t.name;if(Lrt(t)||Prt(t)||_Ot(t))return t.name;if(E3(t)){const r=XOt(t);if(r)return r}else if(Nrt(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function XOt(t){var e;return t.inferredType?t.inferredType.name:!((e=t.type)===null||e===void 0)&&e.ref?A3(t.type.ref):void 0}function KOt(t){var e,r,n;return ap(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":v8(t)?t.name:(n=pnt(t))!==null&&n!==void 0?n:t.name}function b8(t){const e={s:!1,i:!1,u:!1},r=qp(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const hT=/[\s\S]/.source;function qp(t,e){if(ROt(t))return oc((o=t).elements.map(a=>qp(a)).join("|"),{cardinality:o.cardinality,lookahead:o.lookahead});if(DOt(t))return oc((i=t).elements.map(a=>qp(a)).join(""),{cardinality:i.cardinality,lookahead:i.lookahead});if($Ot(t))return function(a){return a.right?oc(`[${dT(a.left)}-${dT(a.right)}]`,{cardinality:a.cardinality,lookahead:a.lookahead,wrap:!1}):oc(dT(a.left),{cardinality:a.cardinality,lookahead:a.lookahead,wrap:!1})}(t);if(OOt(t)){const a=t.rule.ref;if(!a)throw new Error("Missing rule reference.");return oc(qp(a.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}if(IOt(t))return oc(`(?!${qp((n=t).terminal)})${hT}*?`,{cardinality:n.cardinality,lookahead:n.lookahead});if(MOt(t))return oc(`${hT}*?${qp((r=t).terminal)}`,{cardinality:r.cardinality,lookahead:r.lookahead});if(LOt(t)){const a=t.regex.lastIndexOf("/"),s=t.regex.substring(1,a),l=t.regex.substring(a+1);return e&&(e.i=l.includes("i"),e.s=l.includes("s"),e.u=l.includes("u")),oc(s,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}if(BOt(t))return oc(hT,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`);var r,n,i,o}function dT(t){return f3(t.value)}function oc(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}let fnt=class{buildTokens(e,r){const n=io(snt(e,!1)),i=this.buildTerminalTokens(n),o=this.buildKeywordTokens(n,i,r);return i.forEach(a=>{const s=a.PATTERN;typeof s=="object"&&s&&"test"in s&&fM(s)?o.unshift(a):o.push(a)}),o}buildTerminalTokens(e){return e.filter(ap).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){const r=b8(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n,LINE_BREAKS:!0};return e.hidden&&(i.GROUP=fM(r)?wa.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!!e.flags.includes("u")||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){const r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(As).flatMap(i=>Wy(i).filter(zd)).distinct(i=>i.value).toArray().sort((i,o)=>o.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(e,r,n){return{name:e.value,PATTERN:this.buildKeywordPattern(e,n),LONGER_ALT:this.findLongerAlt(e,r)}}buildKeywordPattern(e,r){return r?new RegExp(rRt(e.value)):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{const o=i==null?void 0:i.PATTERN;return o!=null&&o.source&&nRt("^"+o.source+"$",e.value)&&n.push(i),n},[])}},gnt=class{convert(e,r){let n=r.grammarSource;if(f8(n)&&(n=UOt(n)),jd(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){var i;switch(e.name.toUpperCase()){case"INT":return fc.convertInt(r);case"STRING":return fc.convertString(r);case"ID":return fc.convertID(r)}switch((i=KOt(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return fc.convertNumber(r);case"boolean":return fc.convertBoolean(r);case"bigint":return fc.convertBigint(r);case"date":return fc.convertDate(r);default:return r}}};var fc;(function(t){function e(r){switch(r){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return r}}t.convertString=function(r){let n="";for(let i=1;i<r.length-1;i++){const o=r.charAt(i);o==="\\"?n+=e(r.charAt(++i)):n+=o}return n},t.convertID=function(r){return r.charAt(0)==="^"?r.substring(1):r},t.convertInt=function(r){return parseInt(r)},t.convertBigint=function(r){return BigInt(r)},t.convertDate=function(r){return new Date(r)},t.convertNumber=function(r){return Number(r)},t.convertBoolean=function(r){return r.toLowerCase()==="true"}})(fc||(fc={}));var Zm={},o5={};let K6;function pT(){if(K6===void 0)throw new Error("No runtime abstraction layer installed");return K6}Object.defineProperty(o5,"__esModule",{value:!0}),function(t){t.install=function(e){if(e===void 0)throw new Error("No runtime abstraction layer provided");K6=e}}(pT||(pT={})),o5.default=pT;var yo={};function GB(t){return typeof t=="string"||t instanceof String}function WB(t){return Array.isArray(t)}Object.defineProperty(yo,"__esModule",{value:!0}),yo.stringArray=yo.array=yo.func=yo.error=yo.number=yo.string=yo.boolean=void 0,yo.boolean=function(t){return t===!0||t===!1},yo.string=GB,yo.number=function(t){return typeof t=="number"||t instanceof Number},yo.error=function(t){return t instanceof Error},yo.func=function(t){return typeof t=="function"},yo.array=WB,yo.stringArray=function(t){return WB(t)&&t.every(e=>GB(e))};var _f={};Object.defineProperty(_f,"__esModule",{value:!0}),_f.Emitter=_f.Event=void 0;const ZOt=o5;var VB;(function(t){const e={dispose(){}};t.None=function(){return e}})(VB||(_f.Event=VB={}));let QOt=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e){if(this._contexts[i]===r)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{r.push(n[o].apply(i[o],e))}catch(s){(0,ZOt.default)().console.error(s)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},YB=class mnt{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new QOt),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=mnt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};_f.Emitter=YB,YB._noop=function(){};var qi;Object.defineProperty(Zm,"__esModule",{value:!0});var Z6=Zm.CancellationTokenSource=qi=Zm.CancellationToken=void 0;const JOt=o5,tMt=yo,Q6=_f;var a5;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Q6.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Q6.Event.None}),t.is=function(e){const r=e;return r&&(r===t.None||r===t.Cancelled||tMt.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}})(a5||(qi=Zm.CancellationToken=a5={}));const eMt=Object.freeze(function(t,e){const r=(0,JOt.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}});let XB=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?eMt:(this._emitter||(this._emitter=new Q6.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};Z6=Zm.CancellationTokenSource=class{get token(){return this._token||(this._token=new XB),this._token}cancel(){this._token?this._token.cancel():this._token=a5.Cancelled}dispose(){this._token?this._token instanceof XB&&this._token.dispose():this._token=a5.None}};let KB=class J6{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(const n of e)if(J6.isIncremental(n)){const i=vnt(n.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(a,this._content.length);const s=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let u=this._lineOffsets;const h=ZB(n.text,!1,o);if(l-s===h.length)for(let p=0,f=h.length;p<f;p++)u[p+s+1]=h[p];else h.length<1e4?u.splice(s+1,l-s,...h):this._lineOffsets=u=u.slice(0,s+1).concat(h,u.slice(l+1));const d=n.text.length-(a-o);if(d!==0)for(let p=s+1+h.length,f=u.length;p<f;p++)u[p]=u[p]+d}else{if(!J6.isFull(n))throw new Error("Unknown change event received");this._content=n.text,this._lineOffsets=void 0}this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ZB(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){const a=Math.floor((n+i)/2);r[a]>e?i=a:n=a+1}const o=n-1;return{line:o,character:(e=this.ensureBeforeEOL(e,r[o]))-r[o]}}offsetAt(e){const r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;const n=r[e.line];if(e.character<=0)return n;const i=e.line+1<r.length?r[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,r){for(;e>r&&ynt(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};var tS;function eS(t,e){if(t.length<=1)return t;const r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);eS(n,e),eS(i,e);let o=0,a=0,s=0;for(;o<n.length&&a<i.length;){const l=e(n[o],i[a]);t[s++]=l<=0?n[o++]:i[a++]}for(;o<n.length;)t[s++]=n[o++];for(;a<i.length;)t[s++]=i[a++];return t}function ZB(t,e,r=0){const n=e?[r]:[];for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);ynt(o)&&(o===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function ynt(t){return t===13||t===10}function vnt(t){const e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function rMt(t){const e=vnt(t.range);return e!==t.range?{newText:t.newText,range:e}:t}(function(t){t.create=function(e,r,n,i){return new KB(e,r,n,i)},t.update=function(e,r,n){if(e instanceof KB)return e.update(r,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},t.applyEdits=function(e,r){const n=e.getText(),i=eS(r.map(rMt),(s,l)=>{const u=s.range.start.line-l.range.start.line;return u===0?s.range.start.character-l.range.start.character:u});let o=0;const a=[];for(const s of i){const l=e.offsetAt(s.range.start);if(l<o)throw new Error("Overlapping edit");l>o&&a.push(n.substring(o,l)),s.newText.length&&a.push(s.newText),o=e.offsetAt(s.range.end)}return a.push(n.substr(o)),a.join("")}})(tS||(tS={}));var bnt;(()=>{var t={470:i=>{function o(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function a(l,u){for(var h,d="",p=0,f=-1,g=0,m=0;m<=l.length;++m){if(m<l.length)h=l.charCodeAt(m);else{if(h===47)break;h=47}if(h===47){if(!(f===m-1||g===1))if(f!==m-1&&g===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var y=d.lastIndexOf("/");if(y!==d.length-1){y===-1?(d="",p=0):p=(d=d.slice(0,y)).length-1-d.lastIndexOf("/"),f=m,g=0;continue}}else if(d.length===2||d.length===1){d="",p=0,f=m,g=0;continue}}u&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+l.slice(f+1,m):d=l.slice(f+1,m),p=m-f-1;f=m,g=0}else h===46&&g!==-1?++g:g=-1}return d}var s={resolve:function(){for(var l,u="",h=!1,d=arguments.length-1;d>=-1&&!h;d--){var p;d>=0?p=arguments[d]:(l===void 0&&(l=process.cwd()),p=l),o(p),p.length!==0&&(u=p+"/"+u,h=p.charCodeAt(0)===47)}return u=a(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(o(l),l.length===0)return".";var u=l.charCodeAt(0)===47,h=l.charCodeAt(l.length-1)===47;return(l=a(l,!u)).length!==0||u||(l="."),l.length>0&&h&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return o(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var h=arguments[u];o(h),h.length>0&&(l===void 0?l=h:l+="/"+h)}return l===void 0?".":s.normalize(l)},relative:function(l,u){if(o(l),o(u),l===u||(l=s.resolve(l))===(u=s.resolve(u)))return"";for(var h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var d=l.length,p=d-h,f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var g=u.length-f,m=p<g?p:g,y=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(u.charCodeAt(f+v)===47)return u.slice(f+v+1);if(v===0)return u.slice(f+v)}else p>m&&(l.charCodeAt(h+v)===47?y=v:v===0&&(y=0));break}var x=l.charCodeAt(h+v);if(x!==u.charCodeAt(f+v))break;x===47&&(y=v)}var b="";for(v=h+y+1;v<=d;++v)v!==d&&l.charCodeAt(v)!==47||(b.length===0?b+="..":b+="/..");return b.length>0?b+u.slice(f+y):(f+=y,u.charCodeAt(f)===47&&++f,u.slice(f))},_makeLong:function(l){return l},dirname:function(l){if(o(l),l.length===0)return".";for(var u=l.charCodeAt(0),h=u===47,d=-1,p=!0,f=l.length-1;f>=1;--f)if((u=l.charCodeAt(f))===47){if(!p){d=f;break}}else p=!1;return d===-1?h?"/":".":h&&d===1?"//":l.slice(0,d)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');o(l);var h,d=0,p=-1,f=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var g=u.length-1,m=-1;for(h=l.length-1;h>=0;--h){var y=l.charCodeAt(h);if(y===47){if(!f){d=h+1;break}}else m===-1&&(f=!1,m=h+1),g>=0&&(y===u.charCodeAt(g)?--g==-1&&(p=h):(g=-1,p=m))}return d===p?p=m:p===-1&&(p=l.length),l.slice(d,p)}for(h=l.length-1;h>=0;--h)if(l.charCodeAt(h)===47){if(!f){d=h+1;break}}else p===-1&&(f=!1,p=h+1);return p===-1?"":l.slice(d,p)},extname:function(l){o(l);for(var u=-1,h=0,d=-1,p=!0,f=0,g=l.length-1;g>=0;--g){var m=l.charCodeAt(g);if(m!==47)d===-1&&(p=!1,d=g+1),m===46?u===-1?u=g:f!==1&&(f=1):u!==-1&&(f=-1);else if(!p){h=g+1;break}}return u===-1||d===-1||f===0||f===1&&u===d-1&&u===h+1?"":l.slice(u,d)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,h){var d=h.dir||h.root,p=h.base||(h.name||"")+(h.ext||"");return d?d===h.root?d+p:d+"/"+p:p}(0,l)},parse:function(l){o(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var h,d=l.charCodeAt(0),p=d===47;p?(u.root="/",h=1):h=0;for(var f=-1,g=0,m=-1,y=!0,v=l.length-1,x=0;v>=h;--v)if((d=l.charCodeAt(v))!==47)m===-1&&(y=!1,m=v+1),d===46?f===-1?f=v:x!==1&&(x=1):f!==-1&&(x=-1);else if(!y){g=v+1;break}return f===-1||m===-1||x===0||x===1&&f===m-1&&f===g+1?m!==-1&&(u.base=u.name=g===0&&p?l.slice(1,m):l.slice(g,m)):(g===0&&p?(u.name=l.slice(1,f),u.base=l.slice(1,m)):(u.name=l.slice(g,f),u.base=l.slice(g,m)),u.ext=l.slice(f,m)),g>0?u.dir=l.slice(0,g-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,i.exports=s}},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,r),a.exports}r.d=(i,o)=>{for(var a in o)r.o(o,a)&&!r.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:o[a]})},r.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>p,Utils:()=>C}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const o=/^\w[\w\d+.-]*$/,a=/^\//,s=/^\/\//;function l(D,E){if(!D.scheme&&E)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${D.authority}", path: "${D.path}", query: "${D.query}", fragment: "${D.fragment}"}`);if(D.scheme&&!o.test(D.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(D.path){if(D.authority){if(!a.test(D.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(s.test(D.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",h="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(E,$,I,L,O,B=!1){Ar(this,"scheme");Ar(this,"authority");Ar(this,"path");Ar(this,"query");Ar(this,"fragment");typeof E=="object"?(this.scheme=E.scheme||u,this.authority=E.authority||u,this.path=E.path||u,this.query=E.query||u,this.fragment=E.fragment||u):(this.scheme=function(R,M){return R||M?R:"file"}(E,B),this.authority=$||u,this.path=function(R,M){switch(R){case"https":case"http":case"file":M?M[0]!==h&&(M=h+M):M=h}return M}(this.scheme,I||u),this.query=L||u,this.fragment=O||u,l(this,B))}static isUri(E){return E instanceof p||!!E&&typeof E.authority=="string"&&typeof E.fragment=="string"&&typeof E.path=="string"&&typeof E.query=="string"&&typeof E.scheme=="string"&&typeof E.fsPath=="string"&&typeof E.with=="function"&&typeof E.toString=="function"}get fsPath(){return x(this)}with(E){if(!E)return this;let{scheme:$,authority:I,path:L,query:O,fragment:B}=E;return $===void 0?$=this.scheme:$===null&&($=u),I===void 0?I=this.authority:I===null&&(I=u),L===void 0?L=this.path:L===null&&(L=u),O===void 0?O=this.query:O===null&&(O=u),B===void 0?B=this.fragment:B===null&&(B=u),$===this.scheme&&I===this.authority&&L===this.path&&O===this.query&&B===this.fragment?this:new g($,I,L,O,B)}static parse(E,$=!1){const I=d.exec(E);return I?new g(I[2]||u,_(I[4]||u),_(I[5]||u),_(I[7]||u),_(I[9]||u),$):new g(u,u,u,u,u)}static file(E){let $=u;if(i&&(E=E.replace(/\\/g,h)),E[0]===h&&E[1]===h){const I=E.indexOf(h,2);I===-1?($=E.substring(2),E=h):($=E.substring(2,I),E=E.substring(I)||h)}return new g("file",$,E,u,u)}static from(E){const $=new g(E.scheme,E.authority,E.path,E.query,E.fragment);return l($,!0),$}toString(E=!1){return b(this,E)}toJSON(){return this}static revive(E){if(E){if(E instanceof p)return E;{const $=new g(E);return $._formatted=E.external,$._fsPath=E._sep===f?E.fsPath:null,$}}return E}}const f=i?1:void 0;class g extends p{constructor(){super(...arguments);Ar(this,"_formatted",null);Ar(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=x(this)),this._fsPath}toString($=!1){return $?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const $={$mid:1};return this._fsPath&&($.fsPath=this._fsPath,$._sep=f),this._formatted&&($.external=this._formatted),this.path&&($.path=this.path),this.scheme&&($.scheme=this.scheme),this.authority&&($.authority=this.authority),this.query&&($.query=this.query),this.fragment&&($.fragment=this.fragment),$}}const m={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(D,E,$){let I,L=-1;for(let O=0;O<D.length;O++){const B=D.charCodeAt(O);if(B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===45||B===46||B===95||B===126||E&&B===47||$&&B===91||$&&B===93||$&&B===58)L!==-1&&(I+=encodeURIComponent(D.substring(L,O)),L=-1),I!==void 0&&(I+=D.charAt(O));else{I===void 0&&(I=D.substr(0,O));const R=m[B];R!==void 0?(L!==-1&&(I+=encodeURIComponent(D.substring(L,O)),L=-1),I+=R):L===-1&&(L=O)}}return L!==-1&&(I+=encodeURIComponent(D.substring(L))),I!==void 0?I:D}function v(D){let E;for(let $=0;$<D.length;$++){const I=D.charCodeAt($);I===35||I===63?(E===void 0&&(E=D.substr(0,$)),E+=m[I]):E!==void 0&&(E+=D[$])}return E!==void 0?E:D}function x(D,E){let $;return $=D.authority&&D.path.length>1&&D.scheme==="file"?`//${D.authority}${D.path}`:D.path.charCodeAt(0)===47&&(D.path.charCodeAt(1)>=65&&D.path.charCodeAt(1)<=90||D.path.charCodeAt(1)>=97&&D.path.charCodeAt(1)<=122)&&D.path.charCodeAt(2)===58?D.path[1].toLowerCase()+D.path.substr(2):D.path,i&&($=$.replace(/\//g,"\\")),$}function b(D,E){const $=E?v:y;let I="",{scheme:L,authority:O,path:B,query:R,fragment:M}=D;if(L&&(I+=L,I+=":"),(O||L==="file")&&(I+=h,I+=h),O){let F=O.indexOf("@");if(F!==-1){const P=O.substr(0,F);O=O.substr(F+1),F=P.lastIndexOf(":"),F===-1?I+=$(P,!1,!1):(I+=$(P.substr(0,F),!1,!1),I+=":",I+=$(P.substr(F+1),!1,!0)),I+="@"}O=O.toLowerCase(),F=O.lastIndexOf(":"),F===-1?I+=$(O,!1,!0):(I+=$(O.substr(0,F),!1,!0),I+=O.substr(F))}if(B){if(B.length>=3&&B.charCodeAt(0)===47&&B.charCodeAt(2)===58){const F=B.charCodeAt(1);F>=65&&F<=90&&(B=`/${String.fromCharCode(F+32)}:${B.substr(3)}`)}else if(B.length>=2&&B.charCodeAt(1)===58){const F=B.charCodeAt(0);F>=65&&F<=90&&(B=`${String.fromCharCode(F+32)}:${B.substr(2)}`)}I+=$(B,!0,!1)}return R&&(I+="?",I+=$(R,!1,!1)),M&&(I+="#",I+=E?M:y(M,!1,!1)),I}function k(D){try{return decodeURIComponent(D)}catch{return D.length>3?D.substr(0,3)+k(D.substr(3)):D}}const N=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(D){return D.match(N)?D.replace(N,E=>k(E)):D}var S=r(470);const T=S.posix||S,A="/";var C;(function(D){D.joinPath=function(E,...$){return E.with({path:T.join(E.path,...$)})},D.resolvePath=function(E,...$){let I=E.path,L=!1;I[0]!==A&&(I=A+I,L=!0);let O=T.resolve(I,...$);return L&&O[0]===A&&!E.authority&&(O=O.substring(1)),E.with({path:O})},D.dirname=function(E){if(E.path.length===0||E.path===A)return E;let $=T.dirname(E.path);return $.length===1&&$.charCodeAt(0)===46&&($=""),E.with({path:$})},D.basename=function(E){return T.basename(E.path)},D.extname=function(E){return T.extname(E.path)}})(C||(C={}))})(),bnt=n})();const{URI:G0,Utils:c1}=bnt;var ah;(function(t){t.basename=c1.basename,t.dirname=c1.dirname,t.extname=c1.extname,t.joinPath=c1.joinPath,t.resolvePath=c1.resolvePath,t.equals=function(e,r){return(e==null?void 0:e.toString())===(r==null?void 0:r.toString())},t.relative=function(e,r){const n=typeof e=="string"?e:e.path,i=typeof r=="string"?r:r.path,o=n.split("/").filter(l=>l.length>0),a=i.split("/").filter(l=>l.length>0);let s=0;for(;s<o.length&&o[s]===a[s];s++);return"../".repeat(o.length-s)+a.slice(s).join("/")}})(ah||(ah={}));var $n;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})($n||($n={}));let nMt=class{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=qi.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??G0.parse(e.uri),n?this.createAsync(r,e,n):this.create(r,e)}fromString(e,r,n){return n?this.createAsync(r,e,n):this.create(r,e)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r){if(typeof r=="string"){const n=this.parse(e,r);return this.createLangiumDocument(n,e,void 0,r)}if("$model"in r){const n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}{const n=this.parse(e,r.getText());return this.createLangiumDocument(n,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){const i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}{const i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let o;if(n)o={parseResult:e,uri:r,state:$n.Parsed,references:[],textDocument:n};else{const a=this.createTextDocumentGetter(r,i);o={parseResult:e,uri:r,state:$n.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=o,o}async update(e,r){var n,i;const o=(n=e.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),s=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{const l=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:l})}return o!==s&&(e.parseResult=await this.parseAsync(e.uri,s,r),e.parseResult.value.$document=e),e.state=$n.Parsed,e}parse(e,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){const n=this.serviceRegistry;let i;return()=>i??(i=tS.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}},iMt=class{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return io(this.documentMap.values())}addDocument(e){const r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){const r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=$n.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=$n.Changed,this.documentMap.delete(r)),n}};function oMt(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let QB=0;const s5=Symbol("OperationCancelled");function x8(t){return t===s5}async function il(t){if(t===qi.None)return;const e=Date.now();if(e-QB>=10&&(QB=e,await oMt()),t.isCancellationRequested)throw s5}let w8=class{constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}},k8=class{constructor(e){if(this.map=new Map,e)for(const[r,n]of e)this.add(r,n)}get size(){return O6.sum(io(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{const n=this.map.get(e);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{const n=this.map.get(e);return!!n&&n.indexOf(r)>=0}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return io(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return io(this.map.keys())}values(){return io(this.map.values()).flat()}entriesGroupedByKey(){return io(this.map.entries())}},JB=class{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const r=this.map.get(e);return r!==void 0&&(this.map.delete(e),this.inverse.delete(r),!0)}};function tP(t){return{code:t}}var l5;(function(t){t.all=["fast","slow","built-in"]})(l5||(l5={}));let aMt=class{constructor(e){this.entries=new k8,this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,o]of Object.entries(e)){const a=o;if(Array.isArray(a))for(const s of a){const l={check:this.wrapValidationException(s,r),category:n};this.addEntry(i,l)}else if(typeof a=="function"){const s={check:this.wrapValidationException(a,r),category:n};this.addEntry(i,s)}}}wrapValidationException(e,r){return async(n,i,o)=>{try{await e.call(r,n,i,o)}catch(a){if(x8(a))throw a;console.error("An error occurred during validation:",a);const s=a instanceof Error?a.message:String(a);a instanceof Error&&a.stack&&console.error(a.stack),i("error","An error occurred during validation: "+s,{node:n})}}}addEntry(e,r){if(e!=="AstNode")for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,r);else this.entries.add("AstNode",r)}getChecks(e,r){let n=io(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}},sMt=class{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},n=qi.None){const i=e.parseResult,o=[];if(await il(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,o,r),r.stopAfterLexingErrors&&o.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===wu.LexingError})||(this.processParsingErrors(i,o,r),r.stopAfterParsingErrors&&o.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===wu.ParsingError}))||(this.processLinkingErrors(e,o,r),r.stopAfterLinkingErrors&&o.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===wu.LinkingError}))))return o;try{o.push(...await this.validateAst(i.value,r,n))}catch(a){if(x8(a))throw a;console.error("An error occurred during validation:",a)}return await il(n),o}processLexingErrors(e,r,n){for(const i of e.lexerErrors){const o={severity:fT("error"),range:{start:{line:i.line-1,character:i.column-1},end:{line:i.line-1,character:i.column+i.length-1}},message:i.message,data:tP(wu.LexingError),source:this.getSource()};r.push(o)}}processParsingErrors(e,r,n){for(const i of e.parserErrors){let o;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const s={line:0,character:0};o={start:s,end:s}}else{const s={line:a.endLine-1,character:a.endColumn};o={start:s,end:s}}}}else o=B6(i.token);if(o){const a={severity:fT("error"),range:o,message:i.message,data:tP(wu.ParsingError),source:this.getSource()};r.push(a)}}}processLinkingErrors(e,r,n){for(const i of e.references){const o=i.error;if(o){const a={node:o.container,property:o.property,index:o.index,data:{code:wu.LinkingError,containerType:o.container.$type,property:o.property,refText:o.reference.$refText}};r.push(this.toDiagnostic("error",o.message,a))}}}async validateAst(e,r,n=qi.None){const i=[],o=(a,s,l)=>{i.push(this.toDiagnostic(a,s,l))};return await Promise.all(Ef(e).map(async a=>{await il(n);const s=this.validationRegistry.getChecks(a.$type,r.categories);for(const l of s)await l(a,o,n)})),i}toDiagnostic(e,r,n){return{message:r,range:lMt(n),severity:fT(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};function lMt(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=cnt(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=WOt(t.node.$cstNode,t.keyword,t.index)),e!=null||(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function fT(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}var wu;(function(t){t.LexingError="lexing-error",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(wu||(wu={}));var c5;(function(t){t.create=function(e){return{dispose:async()=>await e()}}})(c5||(c5={}));var eP;function Cs(t,e,r,n,i,o,a,s,l){return xnt([t,e,r,n,i,o,a,s,l].reduce(u5,{}))}(function(t){t.merge=(e,r)=>u5(u5({},e),r)})(eP||(eP={}));const rP=Symbol("isProxy");function xnt(t,e){const r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>iP(n,i,t,e||r),getOwnPropertyDescriptor:(n,i)=>(iP(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in t,ownKeys:()=>[...Reflect.ownKeys(t),rP]});return r[rP]=!0,r}const nP=Symbol();function iP(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===nP)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return t[e]}if(e in r){const i=r[e];t[e]=nP;try{t[e]=typeof i=="function"?i(n):xnt(i,n)}catch(o){throw t[e]=o instanceof Error?o:void 0,o}return t[e]}}function u5(t,e){if(e){for(const[r,n]of Object.entries(e))if(n!==void 0){const i=t[r];t[r]=i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?u5(i,n):n}}return t}function cMt(t){const e=[],r=t.Grammar;for(const n of r.rules)ap(n)&&qOt(n)&&eRt(b8(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:VLt}}function W0(t,e,r){return`${t.name}_${e}_${r}`}const Eb=7;let T8=class{constructor(e){this.target=e}isEpsilon(){return!1}},E8=class extends T8{constructor(e,r){super(e),this.tokenType=r}},wnt=class extends T8{constructor(e){super(e)}isEpsilon(){return!0}},_8=class extends T8{constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}};function uMt(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};(function(n,i){const o=i.length;for(let a=0;a<o;a++){const s=i[a],l=zi(n,s,void 0,{type:2}),u=zi(n,s,void 0,{type:7});l.stop=u,n.ruleToStartState.set(s,l),n.ruleToStopState.set(s,u)}})(e,t);const r=t.length;for(let n=0;n<r;n++){const i=t[n],o=Gh(e,i,i);o!==void 0&&hMt(e,i,o)}return e}function knt(t,e,r){return r instanceof En?gT(t,e,r.terminalType,r):r instanceof Qo?function(n,i,o){const a=o.referencedRule,s=n.ruleToStartState.get(a),l=zi(n,i,o,{type:1}),u=zi(n,i,o,{type:1}),h=new _8(s,a,u);return S8(l,h),{left:l,right:u}}(t,e,r):r instanceof $a?function(n,i,o){const a=zi(n,i,o,{type:1});ku(n,a);const s=me(o.definition,u=>knt(n,i,u));return Ap(n,i,a,o,...s)}(t,e,r):r instanceof ao?function(n,i,o){const a=zi(n,i,o,{type:1});ku(n,a);const s=Ap(n,i,a,o,Gh(n,i,o));return function(l,u,h,d){const p=d.left,f=d.right;return si(p,f),l.decisionMap[W0(u,"Option",h.idx)]=p,d}(n,i,o,s)}(t,e,r):r instanceof zn?function(n,i,o){const a=zi(n,i,o,{type:5});ku(n,a);const s=Ap(n,i,a,o,Gh(n,i,o));return aP(n,i,o,s)}(t,e,r):r instanceof Ca?function(n,i,o){const a=zi(n,i,o,{type:5});ku(n,a);const s=Ap(n,i,a,o,Gh(n,i,o)),l=gT(n,i,o.separator,o);return aP(n,i,o,s,l)}(t,e,r):r instanceof Ya?function(n,i,o){const a=zi(n,i,o,{type:4});ku(n,a);const s=Ap(n,i,a,o,Gh(n,i,o));return oP(n,i,o,s)}(t,e,r):r instanceof Xa?function(n,i,o){const a=zi(n,i,o,{type:4});ku(n,a);const s=Ap(n,i,a,o,Gh(n,i,o)),l=gT(n,i,o.separator,o);return oP(n,i,o,s,l)}(t,e,r):Gh(t,e,r)}function Gh(t,e,r){const n=Hn(me(r.definition,i=>knt(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:function(i,o){const a=o.length;for(let u=0;u<a-1;u++){const h=o[u];let d;h.left.transitions.length===1&&(d=h.left.transitions[0]);const p=d instanceof _8,f=d,g=o[u+1].left;h.left.type===1&&h.right.type===1&&d!==void 0&&(p&&f.followState===h.right||d.target===h.right)?(p?f.followState=g:d.target=g,dMt(i,h.right)):si(h.right,g)}const s=o[0],l=o[a-1];return{left:s.left,right:l.right}}(t,n)}function oP(t,e,r,n,i){const o=n.left,a=n.right,s=zi(t,e,r,{type:11});ku(t,s);const l=zi(t,e,r,{type:12});return o.loopback=s,l.loopback=s,t.decisionMap[W0(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=s,si(a,s),i===void 0?(si(s,o),si(s,l)):(si(s,l),si(s,i.left),si(i.right,o)),{left:o,right:l}}function aP(t,e,r,n,i){const o=n.left,a=n.right,s=zi(t,e,r,{type:10});ku(t,s);const l=zi(t,e,r,{type:12}),u=zi(t,e,r,{type:9});return s.loopback=u,l.loopback=u,si(s,o),si(s,l),si(a,u),i!==void 0?(si(u,l),si(u,i.left),si(i.right,o)):si(u,s),t.decisionMap[W0(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=s,{left:s,right:l}}function ku(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function Ap(t,e,r,n,...i){const o=zi(t,e,n,{type:8,start:r});r.end=o;for(const s of i)s!==void 0?(si(r,s.left),si(s.right,o)):si(r,o);const a={left:r,right:o};return t.decisionMap[W0(e,function(s){if(s instanceof $a)return"Alternation";if(s instanceof ao)return"Option";if(s instanceof zn)return"Repetition";if(s instanceof Ca)return"RepetitionWithSeparator";if(s instanceof Ya)return"RepetitionMandatory";if(s instanceof Xa)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(n),n.idx)]=r,a}function gT(t,e,r,n){const i=zi(t,e,n,{type:1}),o=zi(t,e,n,{type:1});return S8(i,new E8(o,r)),{left:i,right:o}}function hMt(t,e,r){const n=t.ruleToStartState.get(e);si(n,r.left);const i=t.ruleToStopState.get(e);return si(r.right,i),{left:n,right:i}}function si(t,e){S8(t,new wnt(e))}function zi(t,e,r,n){const i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}function S8(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function dMt(t,e){t.states.splice(t.states.indexOf(e),1)}const h5={};let rS=class{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const r=Tnt(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return me(this.configs,e=>e.alt)}get key(){let e="";for(const r in this.map)e+=r+":";return e}};function Tnt(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function pMt(t,e){return t&&t.length?H7(t,Aa(e)):[]}function fMt(t,e){const r={};return n=>{const i=n.toString();let o=r[i];return o!==void 0||(o={atnStartState:t,decision:e,states:{}},r[i]=o),o}}let Ent=class{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="";const r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}};const sP=new Ent;let gMt=class extends p8{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(e){this.atn=uMt(e.rules),this.dfas=function(r){const n=r.decisionStates.length,i=Array(n);for(let o=0;o<n;o++)i[o]=fMt(r.decisionStates[o],o);return i}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:o}=e,a=this.dfas,s=this.logging,l=W0(n,"Alternation",r),u=this.atn.decisionMap[l].decision,h=me(RM({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),d=>me(d,p=>p[0]));if(lP(h,!1)&&!o){const d=hi(h,(p,f,g)=>(Mt(f,m=>{m&&(p[m.tokenTypeIdx]=g,Mt(m.categoryMatches,y=>{p[y]=g}))}),p),{});return i?function(p){var f;const g=this.LA(1),m=d[g.tokenTypeIdx];if(p!==void 0&&m!==void 0){const y=(f=p[m])===null||f===void 0?void 0:f.GATE;if(y!==void 0&&y.call(this)===!1)return}return m}:function(){const p=this.LA(1);return d[p.tokenTypeIdx]}}return i?function(d){const p=new Ent,f=d===void 0?0:d.length;for(let m=0;m<f;m++){const y=d==null?void 0:d[m].GATE;p.set(m,y===void 0||y.call(this))}const g=mT.call(this,a,u,p,s);return typeof g=="number"?g:void 0}:function(){const d=mT.call(this,a,u,sP,s);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:o}=e,a=this.dfas,s=this.logging,l=W0(n,i,r),u=this.atn.decisionMap[l].decision,h=me(RM({maxLookahead:1,occurrence:r,prodType:i,rule:n}),d=>me(d,p=>p[0]));if(lP(h)&&h[0][0]&&!o){const d=h[0],p=Ui(d);if(p.length===1&&Gr(p[0].categoryMatches)){const f=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===f}}{const f=hi(p,(g,m)=>(m!==void 0&&(g[m.tokenTypeIdx]=!0,Mt(m.categoryMatches,y=>{g[y]=!0})),g),{});return function(){const g=this.LA(1);return f[g.tokenTypeIdx]===!0}}}return function(){const d=mT.call(this,a,u,sP,s);return typeof d!="object"&&d===0}}};function lP(t,e=!0){const r=new Set;for(const n of t){const i=new Set;for(const o of n){if(o===void 0){if(e)break;return!1}const a=[o.tokenTypeIdx].concat(o.categoryMatches);for(const s of a)if(r.has(s)){if(!i.has(s))return!1}else r.add(s),i.add(s)}}return!0}function mT(t,e,r,n){const i=t[e](r);let o=i.start;return o===void 0&&(o=Snt(i,_nt(wMt(i.atnStartState))),i.start=o),mMt.apply(this,[i,o,r,n])}function mMt(t,e,r,n){let i=e,o=1;const a=[];let s=this.LA(o++);for(;;){let u=(l=s,i.edges[l.tokenTypeIdx]);if(u===void 0&&(u=yMt.apply(this,[t,i,s,o,r,n])),u===h5)return bMt(a,i,s);if(u.isAcceptState===!0)return u.prediction;i=u,a.push(s),s=this.LA(o++)}var l}function yMt(t,e,r,n,i,o){const a=function(u,h,d){const p=new rS,f=[];for(const m of u.elements){if(d.is(m.alt)===!1)continue;if(m.state.type===Eb){f.push(m);continue}const y=m.state.transitions.length;for(let v=0;v<y;v++){const x=xMt(m.state.transitions[v],h);x!==void 0&&p.add({state:x,alt:m.alt,stack:m.stack})}}let g;if(f.length===0&&p.size===1&&(g=p),g===void 0){g=new rS;for(const m of p.elements)d5(m,g)}if(f.length>0&&!function(m){for(const y of m.elements)if(y.state.type===Eb)return!0;return!1}(g))for(const m of f)g.add(m);return g}(e.configs,r,i);if(a.size===0)return cP(t,e,r,h5),h5;let s=_nt(a);const l=function(u,h){let d;for(const p of u.elements)if(h.is(p.alt)===!0){if(d===void 0)d=p.alt;else if(d!==p.alt)return}return d}(a,i);if(l!==void 0)s.isAcceptState=!0,s.prediction=l,s.configs.uniqueAlt=l;else if(function(u){if(function(d){for(const p of d.elements)if(p.state.type!==Eb)return!1;return!0}(u))return!0;const h=function(d){const p=new Map;for(const f of d){const g=Tnt(f,!1);let m=p.get(g);m===void 0&&(m={},p.set(g,m)),m[f.alt]=!0}return p}(u.elements);return function(d){for(const p of Array.from(d.values()))if(Object.keys(p).length>1)return!0;return!1}(h)&&!function(d){for(const p of Array.from(d.values()))if(Object.keys(p).length===1)return!0;return!1}(h)}(a)){const u=z0(a.alts);s.isAcceptState=!0,s.prediction=u,s.configs.uniqueAlt=u,vMt.apply(this,[t,n,a.alts,o])}return s=cP(t,e,r,s),s}function vMt(t,e,r,n){const i=[];for(let a=1;a<=e;a++)i.push(this.LA(a).tokenType);const o=t.atnStartState;n(function(a){const s=me(a.prefixPath,h=>Tf(h)).join(", "),l=a.production.idx===0?"":a.production.idx;let u=`Ambiguous Alternatives Detected: <${a.ambiguityIndices.join(", ")}> in <${function(h){if(h instanceof Qo)return"SUBRULE";if(h instanceof ao)return"OPTION";if(h instanceof $a)return"OR";if(h instanceof Ya)return"AT_LEAST_ONE";if(h instanceof Xa)return"AT_LEAST_ONE_SEP";if(h instanceof Ca)return"MANY_SEP";if(h instanceof zn)return"MANY";if(h instanceof En)return"CONSUME";throw Error("non exhaustive match")}(a.production)}${l}> inside <${a.topLevelRule.name}> Rule,
<${s}> may appears as a prefix path in all these alternatives.
`;return u+=`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,u}({topLevelRule:o.rule,ambiguityIndices:r,production:o.production,prefixPath:i}))}function bMt(t,e,r){const n=Ua(e.configs.elements,i=>i.state.transitions);return{actualToken:r,possibleTokenTypes:pMt(n.filter(i=>i instanceof E8).map(i=>i.tokenType),i=>i.tokenTypeIdx),tokenPath:t}}function xMt(t,e){if(t instanceof E8&&irt(e,t.tokenType))return t.target}function _nt(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function cP(t,e,r,n){return n=Snt(t,n),e.edges[r.tokenTypeIdx]=n,n}function Snt(t,e){if(e===h5)return e;const r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}function wMt(t){const e=new rS,r=t.transitions.length;for(let n=0;n<r;n++)d5({state:t.transitions[n].target,alt:n,stack:[]},e);return e}function d5(t,e){const r=t.state;if(r.type===Eb){if(t.stack.length>0){const i=[...t.stack];d5({state:i.pop(),alt:t.alt,stack:i},e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);const n=r.transitions.length;for(let i=0;i<n;i++){const o=kMt(t,r.transitions[i]);o!==void 0&&d5(o,e)}}function kMt(t,e){if(e instanceof wnt)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof _8){const r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}let TMt=class{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new $nt(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const r=new A8;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){const n=new nS(e.startOffset,e.image.length,B6(e),e.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const r=e.container;if(r){const n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}construct(e){const r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}addHiddenTokens(e){for(const r of e){const n=new nS(r.startOffset,r.image.length,B6(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(e,r){const{offset:n,end:i}=r;for(let o=0;o<e.content.length;o++){const a=e.content[o],{offset:s,end:l}=a;if(q0(a)&&n>s&&i<l)return void this.addHiddenToken(a,r);if(i<=s)return void e.content.splice(o,0,r)}e.content.push(r)}},Ant=class{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;const n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},nS=class extends Ant{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,o=!1){super(),this._hidden=o,this._offset=e,this._tokenType=i,this._length=r,this._range=n}},A8=class extends Ant{constructor(){super(...arguments),this.content=new EMt(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){const e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){const{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}return{start:Vr.create(0,0),end:Vr.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}},EMt=class Cnt extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Cnt.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(const r of e)r.container=this.parent}},$nt=class extends A8{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}};const iS=Symbol("Datatype");function yT(t){return t.$type===iS}const Nnt=t=>t.endsWith("​")?t:t+"​";let Int=class{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;const r=this.lexer.definition;this.wrapper=new $Mt(r,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},_Mt=class extends Int{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new TMt,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){const n=e.fragment?void 0:v8(e)?iS:A3(e),i=this.wrapper.DEFINE_RULE(Nnt(e.name),this.startImplementation(n,r).bind(this));return e.entry&&(this.mainRule=i),i}parse(e){this.nodeBuilder.buildRootNode(e);const r=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(e,r){return n=>{if(!this.isRecording()){const o={$type:e};this.stack.push(o),e===iS&&(o.value="")}let i;try{i=r(n)}catch{i=void 0}return this.isRecording()||i!==void 0||(i=this.construct()),i}}consume(e,r,n){const i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){const o=this.nodeBuilder.buildLeafNode(i,n),{assignment:a,isCrossRef:s}=this.getAssignment(n),l=this.current;if(a){const u=zd(n)?i.image:this.converter.convert(i.image,o);this.assign(a.operator,a.feature,u,o,s)}else if(yT(l)){let u=i.image;zd(n)||(u=this.converter.convert(u,o).toString()),l.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i){let o;this.isRecording()||(o=this.nodeBuilder.buildCompositeNode(n));const a=this.wrapper.wrapSubrule(e,r,i);!this.isRecording()&&o&&o.length>0&&this.performSubruleAssignment(a,n,o)}performSubruleAssignment(e,r,n){const{assignment:i,isCrossRef:o}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,o);else if(!i){const a=this.current;if(yT(a))a.value+=e.toString();else if(typeof e=="object"&&e){const s=e.$type,l=this.assignWithoutOverride(e,a);s&&(l.$type=s);const u=l;this.stack.pop(),this.stack.push(u)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);const o=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(o)}const i={$type:e};this.stack.pop(),this.stack.push(i),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;const r=this.current;return POt(r),this.nodeBuilder.construct(r),e&&this.stack.pop(),yT(r)?this.converter.convert(r.value,r.$cstNode):(zOt(this.astReflection,r),r)}getAssignment(e){if(!this.assignmentMap.has(e)){const r=_3(e,Fd);this.assignmentMap.set(e,{assignment:r,isCrossRef:!!r&&f8(r.terminal)})}return this.assignmentMap.get(e)}assign(e,r,n,i,o){const a=this.current;let s;switch(s=o&&typeof n=="string"?this.linker.buildReference(a,r,i,n):n,e){case"=":a[r]=s;break;case"?=":a[r]=!0;break;case"+=":Array.isArray(a[r])||(a[r]=[]),a[r].push(s)}}assignWithoutOverride(e,r){for(const[n,i]of Object.entries(r)){const o=e[n];o===void 0?e[n]=i:Array.isArray(o)&&Array.isArray(i)&&(i.push(...o),e[n]=i)}return e}get definitionErrors(){return this.wrapper.definitionErrors}},SMt=class{buildMismatchTokenMessage(e){return nf.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return nf.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return nf.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return nf.buildEarlyExitMessage(e)}},Lnt=class extends SMt{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},AMt=class extends Int{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const r=this.lexer.tokenize(e);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){const n=this.wrapper.DEFINE_RULE(Nnt(e.name),this.startImplementation(r).bind(this));return e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{const n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i){this.before(n),this.wrapper.wrapSubrule(e,r,i),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}};const CMt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Lnt};let $Mt=class extends cOt{constructor(e,r){const n=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},CMt),{lookaheadStrategy:n?new p8({maxLookahead:r.maxLookahead}):new gMt}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}};function Rnt(t,e,r){return function(n,i){const o=snt(i,!1),a=io(i.rules).filter(As).filter(s=>o.has(s));for(const s of a){const l=Object.assign(Object.assign({},n),{consume:1,optional:1,subrule:1,many:1,or:1});l.rules.set(s.name,n.parser.rule(s,Wh(l,s.definition)))}}({parser:e,tokens:r,rules:new Map,ruleNames:new Map},t),e}function Wh(t,e,r=!1){let n;if(zd(e))n=function(i,o){const a=i.consume++,s=i.tokens[o.value];if(!s)throw new Error("Could not find token for keyword: "+o.value);return()=>i.parser.consume(a,s,o)}(t,e);else if(E3(e))n=function(i,o){const a=A3(o);return()=>i.parser.action(a,o)}(t,e);else if(Fd(e))n=Wh(t,e.terminal);else if(f8(e))n=Dnt(t,e);else if(jd(e))n=function(i,o){const a=o.rule.ref;if(As(a)){const s=i.subrule++,l=o.arguments.length>0?function(u,h){const d=h.map(p=>bc(p.value));return p=>{const f={};for(let g=0;g<d.length;g++){const m=u.parameters[g],y=d[g];f[m.name]=y(p)}return f}}(a,o.arguments):()=>({});return u=>i.parser.subrule(s,Ont(i,a),o,l(u))}if(ap(a)){const s=i.consume++,l=oS(i,a.name);return()=>i.parser.consume(s,l,o)}if(!a)throw new qB(o.$cstNode,`Undefined rule type: ${o.$type}`);S3()}(t,e);else if(jrt(e))n=function(i,o){if(o.elements.length===1)return Wh(i,o.elements[0]);{const a=[];for(const l of o.elements){const u={ALT:Wh(i,l,!0)},h=h2(l);h&&(u.GATE=bc(h)),a.push(u)}const s=i.or++;return l=>i.parser.alternatives(s,a.map(u=>{const h={ALT:()=>u.ALT(l)},d=u.GATE;return d&&(h.GATE=()=>d(l)),h}))}}(t,e);else if(ent(e))n=function(i,o){if(o.elements.length===1)return Wh(i,o.elements[0]);const a=[];for(const d of o.elements){const p={ALT:Wh(i,d,!0)},f=h2(d);f&&(p.GATE=bc(f)),a.push(p)}const s=i.or++,l=(d,p)=>`uGroup_${d}_${p.getRuleStack().join("-")}`,u=d=>i.parser.alternatives(s,a.map((p,f)=>{const g={ALT:()=>!0},m=i.parser;g.ALT=()=>{if(p.ALT(d),!m.isRecording()){const v=l(s,m);m.unorderedGroups.get(v)||m.unorderedGroups.set(v,[]);const x=m.unorderedGroups.get(v);(x==null?void 0:x[f])===void 0&&(x[f]=!0)}};const y=p.GATE;return g.GATE=y?()=>y(d):()=>{const v=m.unorderedGroups.get(l(s,m));return!(v!=null&&v[f])},g})),h=uP(i,h2(o),u,"*");return d=>{h(d),i.parser.isRecording()||i.parser.unorderedGroups.delete(l(s,i.parser))}}(t,e);else if(g8(e))n=function(i,o){const a=o.elements.map(s=>Wh(i,s));return s=>a.forEach(l=>l(s))}(t,e);else{if(!NOt(e))throw new qB(e.$cstNode,`Unexpected element type: ${e.$type}`);{const i=t.consume++;n=()=>t.parser.consume(i,oh,e)}}return uP(t,r?void 0:h2(e),n,e.cardinality)}function bc(t){if(yOt(t)){const e=bc(t.left),r=bc(t.right);return n=>e(n)||r(n)}if(mOt(t)){const e=bc(t.left),r=bc(t.right);return n=>e(n)&&r(n)}if(bOt(t)){const e=bc(t.value);return r=>!e(r)}if(kOt(t)){const e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}if(gOt(t)){const e=!!t.true;return()=>e}S3()}function h2(t){if(g8(t))return t.guardCondition}function Dnt(t,e,r=e.terminal){if(r){if(jd(r)&&As(r.rule.ref)){const n=t.subrule++;return i=>t.parser.subrule(n,Ont(t,r.rule.ref),e,i)}if(jd(r)&&ap(r.rule.ref)){const n=t.consume++,i=oS(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}if(zd(r)){const n=t.consume++,i=oS(t,r.value);return()=>t.parser.consume(n,i,e)}throw new Error("Could not build cross reference parser")}{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const n=unt(e.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+A3(e.type.ref));return Dnt(t,e,i)}}function uP(t,e,r,n){const i=e&&bc(e);if(!n){if(i){const o=t.or++;return a=>t.parser.alternatives(o,[{ALT:()=>r(a),GATE:()=>i(a)},{ALT:zM(),GATE:()=>!i(a)}])}return r}if(n==="*"){const o=t.many++;return a=>t.parser.many(o,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}if(n==="+"){const o=t.many++;if(i){const a=t.or++;return s=>t.parser.alternatives(a,[{ALT:()=>t.parser.atLeastOne(o,{DEF:()=>r(s)}),GATE:()=>i(s)},{ALT:zM(),GATE:()=>!i(s)}])}return a=>t.parser.atLeastOne(o,{DEF:()=>r(a)})}if(n==="?"){const o=t.optional++;return a=>t.parser.optional(o,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}S3()}function Ont(t,e){const r=function(i,o){if(As(o))return o.name;if(i.ruleNames.has(o))return i.ruleNames.get(o);{let a=o,s=a.$container,l=o.$type;for(;!As(s);)(g8(s)||jrt(s)||ent(s))&&(l=s.elements.indexOf(a).toString()+":"+l),a=s,s=s.$container;return l=s.name+":"+l,i.ruleNames.set(o,l),l}}(t,e),n=t.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function oS(t,e){const r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function NMt(t){const e=t.Grammar,r=t.parser.Lexer,n=new AMt(t);return Rnt(e,n,r.definition),n.finalize(),n}function IMt(t){const e=LMt(t);return e.finalize(),e}function LMt(t){const e=t.Grammar,r=t.parser.Lexer,n=new _Mt(t);return Rnt(e,n,r.definition)}let RMt=class{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=qi.None){for(const n of Ef(e.parseResult.value))await il(r),ont(n).forEach(i=>this.doLink(i,e))}doLink(e,r){const n=e.reference;if(n._ref===void 0)try{const i=this.getCandidate(e);if(vb(i))n._ref=i;else if(n._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){const o=this.loadAstNode(i);n._ref=o??this.createLinkingError(e,i)}}catch(i){n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}r.references.push(n)}unlink(e){for(const r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){const r=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return r??this.createLinkingError(e)}buildReference(e,r,n,i){const o=this,a={$refNode:n,$refText:i,get ref(){var s;if($o(this._ref))return this._ref;if(jLt(this._nodeDescription)){const l=o.loadAstNode(this._nodeDescription);this._ref=l??o.createLinkingError({reference:a,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){const l=o.getLinkedNode({reference:a,container:e,property:r});if(l.error&&Wl(e).state<$n.ComputedScopes)return;this._ref=(s=l.node)!==null&&s!==void 0?s:l.error,this._nodeDescription=l.descr}return $o(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return vb(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){try{const r=this.getCandidate(e);if(vb(r))return{error:r};const n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`})}}}loadAstNode(e){if(e.node)return e.node;const r=this.langiumDocuments().getDocument(e.documentUri);return r?this.astNodeLocator.getAstNode(r.parseResult.value,e.path):void 0}createLinkingError(e,r){const n=Wl(e.container);n.state<$n.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r})}};function DMt(t){return typeof t.name=="string"}let OMt=class{getName(e){if(DMt(e))return e.name}getNameNode(e){return cnt(e.$cstNode,"name")}},MMt=class{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const r=YOt(e),n=e.astNode;if(r&&n){const i=n[r.feature];if(Ol(i))return i.ref;if(Array.isArray(i)){for(const o of i)if(Ol(o)&&o.$refNode&&o.$refNode.offset<=e.offset&&o.$refNode.end>=e.end)return o.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===e||qLt(e,i)))return n}}}findDeclarationNode(e){const r=this.findDeclaration(e);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(e,r){const n=[];if(r.includeDeclaration){const o=this.getReferenceToSelf(e);o&&n.push(o)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(o=>ah.equals(o.sourceUri,r.documentUri))),n.push(...i),io(n)}getReferenceToSelf(e){const r=this.nameProvider.getNameNode(e);if(r){const n=Wl(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:Xx(r),local:!0}}}},BMt=class{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=qi.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,n=m8,i=qi.None){const o=[];this.exportNode(e,o,r);for(const a of n(e))await il(i),this.exportNode(a,o,r);return o}exportNode(e,r,n){const i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async computeLocalScopes(e,r=qi.None){const n=e.parseResult.value,i=new k8;for(const o of Wy(n))await il(r),this.processNode(o,e,i);return i}processNode(e,r,n){const i=e.$container;if(i){const o=this.nameProvider.getName(e);o&&n.add(i,this.descriptions.createDescription(e,o,r))}}},hP=class{constructor(e,r,n){var i;this.elements=e,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0&&i}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){return(this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===e.toLowerCase()):this.elements.find(n=>n.name===e))||(this.outerScope?this.outerScope.getElement(e):void 0)}},PMt=class{constructor(e,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0&&i;for(const o of e){const a=this.caseInsensitive?o.name.toLowerCase():o.name;this.elements.set(a,o)}this.outerScope=r}getElement(e){const r=this.caseInsensitive?e.toLowerCase():e;return this.elements.get(r)||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=io(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},Mnt=class{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},FMt=class extends Mnt{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){const n=r();return this.cache.set(e,n),n}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},zMt=class extends Mnt{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){const o=n();return i.set(r,o),o}}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){const r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){const r=this.converter(e);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}},jMt=class extends FMt{constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}},HMt=class{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new jMt(e.shared)}getScope(e){const r=[],n=this.reflection.getReferenceType(e),i=Wl(e.container).precomputedScopes;if(i){let a=e.container;do{const s=i.get(a);s.length>0&&r.push(io(s).filter(l=>this.reflection.isSubtype(l.type,n))),a=a.$container}while(a)}let o=this.getGlobalScope(n,e);for(let a=r.length-1;a>=0;a--)o=this.createScope(r[a],o);return o}createScope(e,r,n){return new hP(io(e),r,n)}createScopeForNodes(e,r,n){const i=io(e).map(o=>{const a=this.nameProvider.getName(o);if(a)return this.descriptions.createDescription(o,a)}).nonNullable();return new hP(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new PMt(this.indexManager.allElements(e)))}};function UMt(t){return typeof t.$comment=="string"}function dP(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}let qMt=class{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r={}){const n=r==null?void 0:r.replacer,i=(a,s)=>this.replacer(a,s,r),o=n?(a,s)=>n(a,s,i):i;try{return this.currentDocument=Wl(e),JSON.stringify(e,o,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r={}){const n=JSON.parse(e);return this.linkNode(n,n,r),n}replacer(e,r,{refText:n,sourceText:i,textRegions:o,comments:a,uriConverter:s}){var l,u,h,d;if(!this.ignoreProperties.has(e)){if(Ol(r)){const p=r.ref,f=n?r.$refText:void 0;if(p){const g=Wl(p);let m="";return this.currentDocument&&this.currentDocument!==g&&(m=s?s(g.uri,r):g.uri.toString()),{$ref:`${m}#${this.astNodeLocator.getAstNodePath(p)}`,$refText:f}}return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:f}}if($o(r)){let p;if(o&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),e&&!r.$document||!(p!=null&&p.$textRegion)||(p.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!e&&(p!=null||(p=Object.assign({},r)),p.$sourceText=(d=r.$cstNode)===null||d===void 0?void 0:d.text),a){p!=null||(p=Object.assign({},r));const f=this.commentProvider.getComment(r);f&&(p.$comment=f.replace(/\r/g,""))}return p??r}return r}}addAstNodeRegionWithAssignmentsTo(e){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(e.$cstNode){const n=(e.$textRegion=r(e.$cstNode)).assignments={};return Object.keys(e).filter(i=>!i.startsWith("$")).forEach(i=>{const o=GOt(e.$cstNode,i).map(r);o.length!==0&&(n[i]=o)}),e}}linkNode(e,r,n,i,o,a){for(const[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){const d=u[h];dP(d)?u[h]=this.reviveReference(e,l,r,d,n):$o(d)&&this.linkNode(d,r,n,e,l,h)}else dP(u)?e[l]=this.reviveReference(e,l,r,u,n):$o(u)&&this.linkNode(u,r,n,e,l);const s=e;s.$container=i,s.$containerProperty=o,s.$containerIndex=a}reviveReference(e,r,n,i,o){let a=i.$refText,s=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,o.uriConverter);if($o(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};s=l}if(s){const l={$refText:a??""};return l.error={container:e,property:r,message:s,reference:l},l}}getRefNode(e,r,n){try{const i=r.indexOf("#");if(i===0)return this.astNodeLocator.getAstNode(e,r.substring(1))||"Could not resolve path: "+r;if(i<0){const l=n?n(r):G0.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}const o=n?n(r.substring(0,i)):G0.parse(r.substring(0,i)),a=this.langiumDocuments.getDocument(o);return a?i===r.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,r.substring(i+1))||"Could not resolve URI: "+r:"Could not find document for URI: "+r}catch(i){return String(i)}}},GMt=class{register(e){if(this.singleton||this.map){if(!this.map&&(this.map={},this.singleton)){for(const r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(const r of e.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==e&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[r]=e}else this.singleton=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=ah.extname(e),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}},WMt=class{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n=Wl(e)){r!=null||(r=this.nameProvider.getName(e));const i=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${i} has no name.`);let o;const a=()=>{var s;return o??(o=Xx((s=this.nameProvider.getNameNode(e))!==null&&s!==void 0?s:e.$cstNode))};return{node:e,name:r,get nameSegment(){return a()},selectionSegment:Xx(e.$cstNode),type:e.$type,documentUri:n.uri,path:i}}},VMt=class{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=qi.None){const n=[],i=e.parseResult.value;for(const o of Ef(i))await il(r),ont(o).filter(a=>!vb(a)).forEach(a=>{const s=this.createDescription(a);s&&n.push(s)});return n}createDescription(e){const r=e.reference.$nodeDescription,n=e.reference.$refNode;if(!r||!n)return;const i=Wl(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:Xx(n),local:ah.equals(r.documentUri,i)}}},YMt=class{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((n,i)=>{if(!n||i.length===0)return n;const o=i.indexOf(this.indexSeparator);if(o>0){const a=i.substring(0,o),s=parseInt(i.substring(o+1)),l=n[a];return l==null?void 0:l[s]}return n[i]},e)}},XMt=class{constructor(e){this._ready=new w8,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,n;this.workspaceConfig=(n=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0&&n}async initialized(e){if(this.workspaceConfig){if(e.register){const r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,o)=>{this.updateSectionConfiguration(i.section,n[o])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{this.updateSectionConfiguration(r,e.settings[r])})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}},KMt=class{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new k8,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=$n.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=qi.None){var i,o;for(const a of e){const s=a.uri.toString();if(a.state===$n.Validated){if(typeof r.validation=="boolean"&&r.validation)a.state=$n.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(s);else if(typeof r.validation=="object"){const l=this.buildState.get(s),u=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(u){const h=((o=r.validation.categories)!==null&&o!==void 0?o:l5.all).filter(d=>!u.includes(d));h.length>0&&(this.buildState.set(s,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:h})},result:l.result}),a.state=$n.IndexedReferences)}}}else this.buildState.delete(s)}this.currentState=$n.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=qi.None){this.currentState=$n.Changed;for(const a of r)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of e){if(!this.langiumDocuments.invalidateDocument(a)){const s=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);s.state=$n.Changed,this.langiumDocuments.addDocument(s)}this.buildState.delete(a.toString())}const i=io(e).concat(r).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,$n.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,r),await il(n);const o=this.langiumDocuments.all.filter(a=>{var s;return a.state<$n.Linked||!(!((s=this.buildState.get(a.uri.toString()))===null||s===void 0)&&s.completed)}).toArray();await this.buildDocuments(o,this.updateBuildOptions,n)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}shouldRelink(e,r){return!!e.references.some(n=>n.error!==void 0)||this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),c5.create(()=>{const r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,$n.Parsed,n,o=>this.langiumDocumentFactory.update(o,n)),await this.runCancelable(e,$n.IndexedContent,n,o=>this.indexManager.updateContent(o,n)),await this.runCancelable(e,$n.ComputedScopes,n,async o=>{const a=this.serviceRegistry.getServices(o.uri).references.ScopeComputation;o.precomputedScopes=await a.computeLocalScopes(o,n)}),await this.runCancelable(e,$n.Linked,n,o=>this.serviceRegistry.getServices(o.uri).references.Linker.link(o,n)),await this.runCancelable(e,$n.IndexedReferences,n,o=>this.indexManager.updateReferences(o,n));const i=e.filter(o=>this.shouldValidate(o));await this.runCancelable(i,$n.Validated,n,o=>this.validate(o,n));for(const o of e){const a=this.buildState.get(o.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,r){for(const n of e){const i=n.uri.toString(),o=this.buildState.get(i);o&&!o.completed||this.buildState.set(i,{completed:!1,options:r,result:o==null?void 0:o.result})}}async runCancelable(e,r,n,i){const o=e.filter(a=>a.state<r);for(const a of o)await il(n),await i(a),a.state=r;await this.notifyBuildPhase(o,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),c5.create(()=>{this.buildPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;if(r&&"path"in r?i=r:n=r,n!=null||(n=qi.None),i){const o=this.langiumDocuments.getDocument(i);if(o&&o.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(s5):new Promise((o,a)=>{const s=this.onBuildPhase(e,()=>{if(s.dispose(),l.dispose(),i){const u=this.langiumDocuments.getDocument(i);o(u==null?void 0:u.uri)}else o(void 0)}),l=n.onCancellationRequested(()=>{s.dispose(),l.dispose(),a(s5)})})}async notifyBuildPhase(e,r,n){if(e.length===0)return;const i=this.buildPhaseListeners.get(r);for(const o of i)await il(n),await o(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var n,i;const o=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,s=typeof a=="object"?a:void 0,l=await o.validateDocument(e,s,r);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const u=this.buildState.get(e.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});const h=(i=s==null?void 0:s.categories)!==null&&i!==void 0?i:l5.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var r,n;return(n=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}},ZMt=class{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new zMt,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){const n=Wl(e).uri,i=[];return this.referenceIndex.forEach(o=>{o.forEach(a=>{ah.equals(a.targetUri,n)&&a.targetPath===r&&i.push(a)})}),io(i)}allElements(e,r){let n=io(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){var n;return r?this.symbolByTypeIndex.get(e,r,()=>{var o;return((o=this.symbolIndex.get(e))!==null&&o!==void 0?o:[]).filter(a=>this.astReflection.isSubtype(a.type,r))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){const r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=qi.None){const n=this.serviceRegistry.getServices(e.uri),i=await n.references.ScopeComputation.computeExports(e,r),o=e.uri.toString();this.symbolIndex.set(o,i),this.symbolByTypeIndex.clear(o)}async updateReferences(e,r=qi.None){const n=this.serviceRegistry.getServices(e.uri),i=await n.workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){const n=this.referenceIndex.get(e.uri.toString());return!!n&&n.some(i=>!i.local&&r.has(i.targetUri.toString()))}},QMt=class{constructor(e){this.initialBuildOptions={},this._ready=new w8,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(e,r=qi.None){const n=await this.performStartup(e);await il(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){const r=this.serviceRegistry.all.flatMap(o=>o.LanguageMetaData.fileExtensions),n=[],i=o=>{n.push(o),this.langiumDocuments.hasDocument(o.uri)||this.langiumDocuments.addDocument(o)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(o=>[o,this.getRootFolder(o)]).map(async o=>this.traverseFolder(...o,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return G0.parse(e.uri)}async traverseFolder(e,r,n,i){const o=await this.fileSystemProvider.readDirectory(r);await Promise.all(o.map(async a=>{if(this.includeEntry(e,a,n)){if(a.isDirectory)await this.traverseFolder(e,a.uri,n,i);else if(a.isFile){const s=await this.langiumDocuments.getOrCreateDocument(a.uri);i(s)}}}))}includeEntry(e,r,n){const i=ah.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const o=ah.extname(r.uri);return n.includes(o)}return!1}},JMt=class{constructor(e){const r=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=pP(r)?Object.values(r):r;this.chevrotainLexer=new wa(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var r;const n=this.chevrotainLexer.tokenize(e);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(e){if(pP(e))return e;const r=Bnt(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}};function tBt(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function Bnt(t){return t&&"modes"in t&&"defaultMode"in t}function pP(t){return!tBt(t)&&!Bnt(t)}function eBt(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=Vr.create(0,0));const o=function(a){var s,l,u;const h=[];let d=a.position.line,p=a.position.character;for(let f=0;f<a.lines.length;f++){const g=f===0,m=f===a.lines.length-1;let y=a.lines[f],v=0;if(g&&a.options.start){const x=(s=a.options.start)===null||s===void 0?void 0:s.exec(y);x&&(v=x.index+x[0].length)}else{const x=(l=a.options.line)===null||l===void 0?void 0:l.exec(y);x&&(v=x.index+x[0].length)}if(m){const x=(u=a.options.end)===null||u===void 0?void 0:u.exec(y);x&&(y=y.substring(0,x.index))}if(y=y.substring(0,sBt(y)),aS(y,v)>=y.length){if(h.length>0){const x=Vr.create(d,p);h.push({type:"break",content:"",range:Ir.create(x,x)})}}else{fP.lastIndex=v;const x=fP.exec(y);if(x){const b=x[0],k=x[1],N=Vr.create(d,p+v),_=Vr.create(d,p+v+b.length);h.push({type:"tag",content:k,range:Ir.create(N,_)}),v+=b.length,v=aS(y,v)}if(v<y.length){const b=y.substring(v),k=Array.from(b.matchAll(nBt));h.push(...iBt(k,b,d,p+v))}}d++,p=0}return h.length>0&&h[h.length-1].type==="break"?h.slice(0,-1):h}({lines:Pnt(t),position:i,options:C8(n)});return function(a){var s,l,u,h;const d=Vr.create(a.position.line,a.position.character);if(a.tokens.length===0)return new gP([],Ir.create(d,d));const p=[];for(;a.index<a.tokens.length;){const m=lBt(a,p[p.length-1]);m&&p.push(m)}const f=(l=(s=p[0])===null||s===void 0?void 0:s.range.start)!==null&&l!==void 0?l:d,g=(h=(u=p[p.length-1])===null||u===void 0?void 0:u.range.end)!==null&&h!==void 0?h:d;return new gP(p,Ir.create(f,g))}({index:0,tokens:o,position:i})}function rBt(t,e){const r=C8(e),n=Pnt(t);if(n.length===0)return!1;const i=n[0],o=n[n.length-1],a=r.start,s=r.end;return!!(a!=null&&a.exec(i))&&!!(s!=null&&s.exec(o))}function Pnt(t){let e="";return e=typeof t=="string"?t:t.text,e.split(JLt)}const fP=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,nBt=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function iBt(t,e,r,n){const i=[];if(t.length===0){const o=Vr.create(r,n),a=Vr.create(r,n+e.length);i.push({type:"text",content:e,range:Ir.create(o,a)})}else{let o=0;for(const s of t){const l=s.index,u=e.substring(o,l);u.length>0&&i.push({type:"text",content:e.substring(o,l),range:Ir.create(Vr.create(r,o+n),Vr.create(r,l+n))});let h=u.length+1;const d=s[1];if(i.push({type:"inline-tag",content:d,range:Ir.create(Vr.create(r,o+h+n),Vr.create(r,o+h+d.length+n))}),h+=d.length,s.length===4){h+=s[2].length;const p=s[3];i.push({type:"text",content:p,range:Ir.create(Vr.create(r,o+h+n),Vr.create(r,o+h+p.length+n))})}else i.push({type:"text",content:"",range:Ir.create(Vr.create(r,o+h+n),Vr.create(r,o+h+n))});o=l+s[0].length}const a=e.substring(o);a.length>0&&i.push({type:"text",content:a,range:Ir.create(Vr.create(r,o+n),Vr.create(r,o+n+a.length))})}return i}const oBt=/\S/,aBt=/\s*$/;function aS(t,e){const r=t.substring(e).match(oBt);return r?e+r.index:t.length}function sBt(t){const e=t.match(aBt);if(e&&typeof e.index=="number")return e.index}function lBt(t,e){const r=t.tokens[t.index];return r.type==="tag"?znt(t,!1):r.type==="text"||r.type==="inline-tag"?Fnt(t):(function(n,i){if(i){const o=new Hnt("",n.range);"inlines"in i?i.inlines.push(o):i.content.inlines.push(o)}}(r,e),void t.index++)}function Fnt(t){let e=t.tokens[t.index];const r=e;let n=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(cBt(t)),n=e,e=t.tokens[t.index];return new sS(i,Ir.create(r.range.start,n.range.end))}function cBt(t){return t.tokens[t.index].type==="inline-tag"?znt(t,!0):jnt(t)}function znt(t,e){const r=t.tokens[t.index++],n=r.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text"){if(e){const o=jnt(t);return new bT(n,new sS([o],o.range),e,Ir.create(r.range.start,o.range.end))}{const o=Fnt(t);return new bT(n,o,e,Ir.create(r.range.start,o.range.end))}}{const o=r.range;return new bT(n,new sS([],o),e,o)}}function jnt(t){const e=t.tokens[t.index++];return new Hnt(e.content,e.range)}function C8(t){if(!t)return C8({start:"/**",end:"*/",line:"*"});const{start:e,end:r,line:n}=t;return{start:vT(e,!0),end:vT(r,!1),line:vT(n,!0)}}function vT(t,e){if(typeof t=="string"||typeof t=="object"){const r=typeof t=="string"?f3(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}return t}let gP=class{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const r of this.elements)if(e.length===0)e=r.toString();else{const n=r.toString();e+=mP(e)+n}return e.trim()}toMarkdown(e){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{const i=n.toMarkdown(e);r+=mP(r)+i}return r.trim()}},bT=class{constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,n;return(n=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const r=this.content.toMarkdown(e);if(this.inline){const o=function(a,s,l){var u,h;if(a==="linkplain"||a==="linkcode"||a==="link"){const d=s.indexOf(" ");let p=s;if(d>0){const g=aS(s,d);p=s.substring(g),s=s.substring(0,d)}return(a==="linkcode"||a==="link"&&l.link==="code")&&(p=`\`${p}\``),(h=(u=l.renderLink)===null||u===void 0?void 0:u.call(l,s,p))!==null&&h!==void 0?h:function(g,m){try{return G0.parse(g,!0),`[${m}](${g})`}catch{return g}}(s,p)}}(this.name,r,e??{});if(typeof o=="string")return o}let n="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?n="*":(e==null?void 0:e.tag)==="bold"?n="**":(e==null?void 0:e.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} — ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}},sS=class{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],o=this.inlines[n+1];r+=i.toMarkdown(e),o&&o.range.start.line>i.range.start.line&&(r+=`
`)}return r}},Hnt=class{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}};function mP(t){return t.endsWith(`
`)?`
`:`

`}let uBt=class{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const r=this.commentProvider.getComment(e);if(r&&rBt(r))return eBt(r).toMarkdown({renderLink:(n,i)=>this.documentationLinkRenderer(e,n,i),renderTag:n=>this.documentationTagRenderer(e,n)})}documentationLinkRenderer(e,r,n){var i;const o=(i=this.findNameInPrecomputedScopes(e,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,r);if(o&&o.nameSegment){const a=o.nameSegment.range.start.line+1,s=o.nameSegment.range.start.character+1;return`[${n}](${o.documentUri.with({fragment:`L${a},${s}`}).toString()})`}}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){const n=Wl(e).precomputedScopes;if(!n)return;let i=e;do{const o=n.get(i).find(a=>a.name===r);if(o)return o;i=i.$container}while(i)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(n=>n.name===r)}},hBt=class{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return UMt(e)?e.$comment:(r=YLt(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}},dBt=class{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}},pBt=class{constructor(){this.previousTokenSource=new Z6,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const r=new Z6;return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n){const i=new w8,o={action:r,deferred:i,cancellationToken:n??qi.None};return e.push(o),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const o=await Promise.resolve().then(()=>r(i));n.resolve(o)}catch(o){x8(o)?n.resolve(void 0):n.reject(o)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}},fBt=class{constructor(e){this.grammarElementIdMap=new JB,this.tokenTypeIdMap=new JB,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(r=>Object.assign({},r)),parserErrors:e.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){const r=new Map,n=new Map;for(const i of Ef(e))r.set(i,{});if(e.$cstNode)for(const i of M6(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(const[i,o]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(o)){const a=[];n[i]=a;for(const s of o)$o(s)?a.push(this.dehydrateAstNode(s,r)):Ol(s)?a.push(this.dehydrateReference(s,r)):a.push(s)}else $o(o)?n[i]=this.dehydrateAstNode(o,r):Ol(o)?n[i]=this.dehydrateReference(o,r):o!==void 0&&(n[i]=o);return n}dehydrateReference(e,r){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){const n=r.cstNodes.get(e);return zet(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),q0(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):Fet(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){const r=new Map,n=new Map;for(const o of Ef(e))r.set(o,{});let i;if(e.$cstNode)for(const o of M6(e.$cstNode)){let a;"fullText"in o?(a=new $nt(o.fullText),i=a):"content"in o?a=new A8:"tokenType"in o&&(a=this.hydrateCstLeafNode(o)),a&&(n.set(o,a),a.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(const[i,o]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(o)){const a=[];n[i]=a;for(const s of o)$o(s)?a.push(this.setParent(this.hydrateAstNode(s,r),n)):Ol(s)?a.push(this.hydrateReference(s,n,i,r)):a.push(s)}else $o(o)?n[i]=this.setParent(this.hydrateAstNode(o,r),n):Ol(o)?n[i]=this.hydrateReference(o,n,i,r):o!==void 0&&(n[i]=o);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){const i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),q0(i))for(const o of e.content){const a=this.hydrateCstNode(o,r,n++);i.content.push(a)}return i}hydrateCstLeafNode(e){const r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,o=e.startLine,a=e.startColumn,s=e.endLine,l=e.endColumn,u=e.hidden;return new nS(n,i,{start:{line:o,character:a},end:{line:s,character:l}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const r=this.grammarElementIdMap.getKey(e);if(r)return r;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(const r of Ef(this.grammar))dOt(r)&&this.grammarElementIdMap.set(r,e++)}};function wg(t){return{documentation:{CommentProvider:e=>new hBt(e),DocumentationProvider:e=>new uBt(e)},parser:{AsyncParser:e=>new dBt(e),GrammarConfig:e=>cMt(e),LangiumParser:e=>IMt(e),CompletionParser:e=>NMt(e),ValueConverter:()=>new gnt,TokenBuilder:()=>new fnt,Lexer:e=>new JMt(e),ParserErrorMessageProvider:()=>new Lnt},workspace:{AstNodeLocator:()=>new YMt,AstNodeDescriptionProvider:e=>new WMt(e),ReferenceDescriptionProvider:e=>new VMt(e)},references:{Linker:e=>new RMt(e),NameProvider:()=>new OMt,ScopeProvider:e=>new HMt(e),ScopeComputation:e=>new BMt(e),References:e=>new MMt(e)},serializer:{Hydrator:e=>new fBt(e),JsonSerializer:e=>new qMt(e)},validation:{DocumentValidator:e=>new sMt(e),ValidationRegistry:e=>new aMt(e)},shared:()=>t.shared}}function kg(t){return{ServiceRegistry:()=>new GMt,workspace:{LangiumDocuments:e=>new iMt(e),LangiumDocumentFactory:e=>new nMt(e),DocumentBuilder:e=>new KMt(e),IndexManager:e=>new ZMt(e),WorkspaceManager:e=>new QMt(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new pBt,ConfigurationProvider:e=>new XMt(e)}}}let gBt=class{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}};const Tg={fileSystemProvider:()=>new gBt},mBt={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},yBt={AstReflection:()=>new int};function Vy(t){var e;const r=function(){const i=Cs(kg(Tg),yBt),o=Cs(wg({shared:i}),mBt);return i.ServiceRegistry.register(o),o}(),n=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,G0.parse(`memory://${(e=n.name)!==null&&e!==void 0?e:"grammar"}.langium`)),n}var vBt=Object.defineProperty,Oe=(t,e)=>vBt(t,"name",{value:e,configurable:!0}),bBt="Statement",xBt="Architecture";function wBt(t){return fl.isInstance(t,xBt)}Oe(wBt,"isArchitecture");var Unt="Branch";function kBt(t){return fl.isInstance(t,Unt)}Oe(kBt,"isBranch");var qnt="Commit";function TBt(t){return fl.isInstance(t,qnt)}Oe(TBt,"isCommit");function EBt(t){return fl.isInstance(t,"Common")}Oe(EBt,"isCommon");var Gnt="GitGraph";function _Bt(t){return fl.isInstance(t,Gnt)}Oe(_Bt,"isGitGraph");var SBt="Info";function ABt(t){return fl.isInstance(t,SBt)}Oe(ABt,"isInfo");var Wnt="Merge";function CBt(t){return fl.isInstance(t,Wnt)}Oe(CBt,"isMerge");var $Bt="Packet";function NBt(t){return fl.isInstance(t,$Bt)}Oe(NBt,"isPacket");var IBt="PacketBlock";function LBt(t){return fl.isInstance(t,IBt)}Oe(LBt,"isPacketBlock");function RBt(t){return fl.isInstance(t,"Pie")}Oe(RBt,"isPie");var DBt="PieSection";function OBt(t){return fl.isInstance(t,DBt)}Oe(OBt,"isPieSection");var yP,vP,bP,xP,wP,Uf,Vnt=(Uf=class extends Pet{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,r){switch(e){case Unt:case"Checkout":case"CherryPicking":case qnt:case Wnt:return this.isSubtype(bBt,r);case"Direction":return this.isSubtype(Gnt,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;throw new Error(`${r} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},Oe(Uf,"MermaidAstReflection"),Uf),fl=new Vnt,MBt=Oe(()=>yP??(yP=Vy('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),BBt=Oe(()=>vP??(vP=Vy(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),PBt=Oe(()=>bP??(bP=Vy('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),FBt=Oe(()=>xP??(xP=Vy('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),zBt=Oe(()=>wP??(wP=Vy(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),jBt={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},HBt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},UBt={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},qBt={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},GBt={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Yy={AstReflection:Oe(()=>new Vnt,"AstReflection")},WBt={Grammar:Oe(()=>MBt(),"Grammar"),LanguageMetaData:Oe(()=>jBt,"LanguageMetaData"),parser:{}},VBt={Grammar:Oe(()=>BBt(),"Grammar"),LanguageMetaData:Oe(()=>HBt,"LanguageMetaData"),parser:{}},YBt={Grammar:Oe(()=>PBt(),"Grammar"),LanguageMetaData:Oe(()=>UBt,"LanguageMetaData"),parser:{}},XBt={Grammar:Oe(()=>FBt(),"Grammar"),LanguageMetaData:Oe(()=>qBt,"LanguageMetaData"),parser:{}},KBt={Grammar:Oe(()=>zBt(),"Grammar"),LanguageMetaData:Oe(()=>GBt,"LanguageMetaData"),parser:{}},ZBt={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},qf,$8=(qf=class extends gnt{runConverter(e,r,n){let i=this.runCommonConverter(e,r,n);return i===void 0&&(i=this.runCustomConverter(e,r,n)),i===void 0?super.runConverter(e,r,n):i}runCommonConverter(e,r,n){const i=ZBt[e.name];if(i===void 0)return;const o=i.exec(r);return o!==null?o[1]!==void 0?o[1].trim().replace(/[\t ]{2,}/gm," "):o[2]!==void 0?o[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`):void 0:void 0}},Oe(qf,"AbstractMermaidValueConverter"),qf),Gf,N8=(Gf=class extends $8{runCustomConverter(e,r,n){}},Oe(Gf,"CommonValueConverter"),Gf),Wf,Eg=(Wf=class extends fnt{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,r,n){const i=super.buildKeywordTokens(e,r,n);return i.forEach(o=>{this.keywords.has(o.name)&&o.PATTERN!==void 0&&(o.PATTERN=new RegExp(o.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},Oe(Wf,"AbstractMermaidTokenBuilder"),Wf),Vf;Vf=class extends Eg{},Oe(Vf,"CommonTokenBuilder");var Yf,QBt=(Yf=class extends Eg{constructor(){super(["gitGraph"])}},Oe(Yf,"GitGraphTokenBuilder"),Yf),Ynt={parser:{TokenBuilder:Oe(()=>new QBt,"TokenBuilder"),ValueConverter:Oe(()=>new N8,"ValueConverter")}};function Xnt(t=Tg){const e=Cs(kg(t),Yy),r=Cs(wg({shared:e}),KBt,Ynt);return e.ServiceRegistry.register(r),{shared:e,GitGraph:r}}Oe(Xnt,"createGitGraphServices");var Xf,JBt=(Xf=class extends Eg{constructor(){super(["info","showInfo"])}},Oe(Xf,"InfoTokenBuilder"),Xf),Knt={parser:{TokenBuilder:Oe(()=>new JBt,"TokenBuilder"),ValueConverter:Oe(()=>new N8,"ValueConverter")}};function Znt(t=Tg){const e=Cs(kg(t),Yy),r=Cs(wg({shared:e}),WBt,Knt);return e.ServiceRegistry.register(r),{shared:e,Info:r}}Oe(Znt,"createInfoServices");var Kf,tPt=(Kf=class extends Eg{constructor(){super(["packet-beta"])}},Oe(Kf,"PacketTokenBuilder"),Kf),Qnt={parser:{TokenBuilder:Oe(()=>new tPt,"TokenBuilder"),ValueConverter:Oe(()=>new N8,"ValueConverter")}};function Jnt(t=Tg){const e=Cs(kg(t),Yy),r=Cs(wg({shared:e}),VBt,Qnt);return e.ServiceRegistry.register(r),{shared:e,Packet:r}}Oe(Jnt,"createPacketServices");var Zf,ePt=(Zf=class extends Eg{constructor(){super(["pie","showData"])}},Oe(Zf,"PieTokenBuilder"),Zf),Qf,rPt=(Qf=class extends $8{runCustomConverter(e,r,n){if(e.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},Oe(Qf,"PieValueConverter"),Qf),tit={parser:{TokenBuilder:Oe(()=>new ePt,"TokenBuilder"),ValueConverter:Oe(()=>new rPt,"ValueConverter")}};function eit(t=Tg){const e=Cs(kg(t),Yy),r=Cs(wg({shared:e}),YBt,tit);return e.ServiceRegistry.register(r),{shared:e,Pie:r}}Oe(eit,"createPieServices");var Jf,nPt=(Jf=class extends Eg{constructor(){super(["architecture"])}},Oe(Jf,"ArchitectureTokenBuilder"),Jf),t0,iPt=(t0=class extends $8{runCustomConverter(e,r,n){return e.name==="ARCH_ICON"?r.replace(/[()]/g,"").trim():e.name==="ARCH_TEXT_ICON"?r.replace(/["()]/g,""):e.name==="ARCH_TITLE"?r.replace(/[[\]]/g,"").trim():void 0}},Oe(t0,"ArchitectureValueConverter"),t0),rit={parser:{TokenBuilder:Oe(()=>new nPt,"TokenBuilder"),ValueConverter:Oe(()=>new iPt,"ValueConverter")}};function nit(t=Tg){const e=Cs(kg(t),Yy),r=Cs(wg({shared:e}),XBt,rit);return e.ServiceRegistry.register(r),{shared:e,Architecture:r}}Oe(nit,"createArchitectureServices");var rd={},oPt={info:Oe(async()=>{const{createInfoServices:t}=await Ur(()=>Promise.resolve().then(()=>SQt),[]),e=t().Info.parser.LangiumParser;rd.info=e},"info"),packet:Oe(async()=>{const{createPacketServices:t}=await Ur(()=>Promise.resolve().then(()=>AQt),void 0),e=t().Packet.parser.LangiumParser;rd.packet=e},"packet"),pie:Oe(async()=>{const{createPieServices:t}=await Ur(()=>Promise.resolve().then(()=>CQt),void 0),e=t().Pie.parser.LangiumParser;rd.pie=e},"pie"),architecture:Oe(async()=>{const{createArchitectureServices:t}=await Ur(()=>Promise.resolve().then(()=>$Qt),void 0),e=t().Architecture.parser.LangiumParser;rd.architecture=e},"architecture"),gitGraph:Oe(async()=>{const{createGitGraphServices:t}=await Ur(()=>Promise.resolve().then(()=>NQt),void 0),e=t().GitGraph.parser.LangiumParser;rd.gitGraph=e},"gitGraph")};async function _g(t,e){const r=oPt[t];if(!r)throw new Error(`Unknown diagram type: ${t}`);rd[t]||await r();const n=rd[t].parse(e);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new aPt(n);return n.value}Oe(_g,"parse");var e0,aPt=(e0=class extends Error{constructor(e){super(`Parsing failed: ${e.lexerErrors.map(r=>r.message).join(`
`)} ${e.parserErrors.map(r=>r.message).join(`
`)}`),this.result=e}},Oe(e0,"MermaidParseError"),e0),tn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},sPt=Mr.gitGraph,sp=w(()=>Xc({...sPt,...Nn().gitGraph}),"getConfig"),_e=new s8(()=>{const t=sp(),e=t.mainBranchName,r=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:r}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}});function C3(){return LW({length:7})}function iit(t,e){const r=Object.create(null);return t.reduce((n,i)=>{const o=e(i);return r[o]||(r[o]=!0,n.push(i)),n},[])}w(C3,"getID"),w(iit,"uniqBy");var lPt=w(function(t){_e.records.direction=t},"setDirection"),cPt=w(function(t){et.debug("options str",t),t=t==null?void 0:t.trim(),t=t||"{}";try{_e.records.options=JSON.parse(t)}catch(e){et.error("error while parsing gitGraph options",e.message)}},"setOptions"),uPt=w(function(){return _e.records.options},"getOptions"),hPt=w(function(t){let e=t.msg,r=t.id;const n=t.type;let i=t.tags;et.info("commit",e,r,n,i),et.debug("Entering commit:",e,r,n,i);const o=sp();r=ne.sanitizeText(r,o),e=ne.sanitizeText(e,o),i=i==null?void 0:i.map(s=>ne.sanitizeText(s,o));const a={id:r||_e.records.seq+"-"+C3(),message:e,seq:_e.records.seq++,type:n??tn.NORMAL,tags:i??[],parents:_e.records.head==null?[]:[_e.records.head.id],branch:_e.records.currBranch};_e.records.head=a,et.info("main branch",o.mainBranchName),_e.records.commits.set(a.id,a),_e.records.branches.set(_e.records.currBranch,a.id),et.debug("in pushCommit "+a.id)},"commit"),dPt=w(function(t){let e=t.name;const r=t.order;if(e=ne.sanitizeText(e,sp()),_e.records.branches.has(e))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e}")`);_e.records.branches.set(e,_e.records.head!=null?_e.records.head.id:null),_e.records.branchConfig.set(e,{name:e,order:r}),oit(e),et.debug("in createBranch")},"branch"),pPt=w(t=>{let e=t.branch,r=t.id;const n=t.type,i=t.tags,o=sp();e=ne.sanitizeText(e,o),r&&(r=ne.sanitizeText(r,o));const a=_e.records.branches.get(_e.records.currBranch),s=_e.records.branches.get(e),l=a?_e.records.commits.get(a):void 0,u=s?_e.records.commits.get(s):void 0;if(l&&u&&l.branch===e)throw new Error(`Cannot merge branch '${e}' into itself.`);if(_e.records.currBranch===e){const p=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},p}if(l===void 0||!l){const p=new Error(`Incorrect usage of "merge". Current branch (${_e.records.currBranch})has no commits`);throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["commit"]},p}if(!_e.records.branches.has(e)){const p=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:[`branch ${e}`]},p}if(u===void 0||!u){const p=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:['"commit"']},p}if(l===u){const p=new Error('Incorrect usage of "merge". Both branches have same head');throw p.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},p}if(r&&_e.records.commits.has(r)){const p=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw p.hash={text:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${e} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},p}const h=s||"",d={id:r||`${_e.records.seq}-${C3()}`,message:`merged branch ${e} into ${_e.records.currBranch}`,seq:_e.records.seq++,parents:_e.records.head==null?[]:[_e.records.head.id,h],branch:_e.records.currBranch,type:tn.MERGE,customType:n,customId:!!r,tags:i??[]};_e.records.head=d,_e.records.commits.set(d.id,d),_e.records.branches.set(_e.records.currBranch,d.id),et.debug(_e.records.branches),et.debug("in mergeBranch")},"merge"),fPt=w(function(t){let e=t.id,r=t.targetId,n=t.tags,i=t.parent;et.debug("Entering cherryPick:",e,r,n);const o=sp();if(e=ne.sanitizeText(e,o),r=ne.sanitizeText(r,o),n=n==null?void 0:n.map(l=>ne.sanitizeText(l,o)),i=ne.sanitizeText(i,o),!e||!_e.records.commits.has(e)){const l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},l}const a=_e.records.commits.get(e);if(a===void 0||!a)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&(!Array.isArray(a.parents)||!a.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const s=a.branch;if(a.type===tn.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!_e.records.commits.has(r)){if(s===_e.records.currBranch){const d=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const l=_e.records.branches.get(_e.records.currBranch);if(l===void 0||!l){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${_e.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const u=_e.records.commits.get(l);if(u===void 0||!u){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${_e.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},d}const h={id:_e.records.seq+"-"+C3(),message:`cherry-picked ${a==null?void 0:a.message} into ${_e.records.currBranch}`,seq:_e.records.seq++,parents:_e.records.head==null?[]:[_e.records.head.id,a.id],branch:_e.records.currBranch,type:tn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${a.id}${a.type===tn.MERGE?`|parent:${i}`:""}`]};_e.records.head=h,_e.records.commits.set(h.id,h),_e.records.branches.set(_e.records.currBranch,h.id),et.debug(_e.records.branches),et.debug("in cherryPick")}},"cherryPick"),oit=w(function(t){if(t=ne.sanitizeText(t,sp()),!_e.records.branches.has(t)){const e=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw e.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},e}{_e.records.currBranch=t;const e=_e.records.branches.get(_e.records.currBranch);_e.records.head=e!==void 0&&e?_e.records.commits.get(e)??null:null}},"checkout");function lS(t,e,r){const n=t.indexOf(e);n===-1?t.push(r):t.splice(n,1,r)}function I8(t){const e=t.reduce((i,o)=>i.seq>o.seq?i:o,t[0]);let r="";t.forEach(function(i){r+=i===e?"	*":"	|"});const n=[r,e.id,e.seq];for(const i in _e.records.branches)_e.records.branches.get(i)===e.id&&n.push(i);if(et.debug(n.join(" ")),e.parents&&e.parents.length==2&&e.parents[0]&&e.parents[1]){const i=_e.records.commits.get(e.parents[0]);lS(t,e,i),e.parents[1]&&t.push(_e.records.commits.get(e.parents[1]))}else{if(e.parents.length==0)return;if(e.parents[0]){const i=_e.records.commits.get(e.parents[0]);lS(t,e,i)}}I8(t=iit(t,i=>i.id))}w(lS,"upsert"),w(I8,"prettyPrintCommitHistory");var gPt=w(function(){et.debug(_e.records.commits),I8([ait()[0]])},"prettyPrint"),mPt=w(function(){_e.reset(),Gi()},"clear"),yPt=w(function(){return[..._e.records.branchConfig.values()].map((t,e)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${e}`)}).sort((t,e)=>(t.order??0)-(e.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),vPt=w(function(){return _e.records.branches},"getBranches"),bPt=w(function(){return _e.records.commits},"getCommits"),ait=w(function(){const t=[..._e.records.commits.values()];return t.forEach(function(e){et.debug(e.id)}),t.sort((e,r)=>e.seq-r.seq),t},"getCommitsArray"),sit={commitType:tn,getConfig:sp,setDirection:lPt,setOptions:cPt,getOptions:uPt,commit:hPt,branch:dPt,merge:pPt,cherryPick:fPt,checkout:oit,prettyPrint:gPt,clear:mPt,getBranchesAsObjArray:yPt,getBranches:vPt,getCommits:bPt,getCommitsArray:ait,getCurrentBranch:w(function(){return _e.records.currBranch},"getCurrentBranch"),getDirection:w(function(){return _e.records.direction},"getDirection"),getHead:w(function(){return _e.records.head},"getHead"),setAccTitle:Wi,getAccTitle:so,getAccDescription:co,setAccDescription:lo,setDiagramTitle:ta,getDiagramTitle:uo},xPt=w((t,e)=>{jy(t,e),t.dir&&e.setDirection(t.dir);for(const r of t.statements)wPt(r,e)},"populate"),wPt=w((t,e)=>{const r={Commit:w(n=>e.commit(kPt(n)),"Commit"),Branch:w(n=>e.branch(TPt(n)),"Branch"),Merge:w(n=>e.merge(EPt(n)),"Merge"),Checkout:w(n=>e.checkout(_Pt(n)),"Checkout"),CherryPicking:w(n=>e.cherryPick(SPt(n)),"CherryPicking")}[t.$type];r?r(t):et.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),kPt=w(t=>({id:t.id,msg:t.message??"",type:t.type!==void 0?tn[t.type]:tn.NORMAL,tags:t.tags??void 0}),"parseCommit"),TPt=w(t=>({name:t.name,order:t.order??0}),"parseBranch"),EPt=w(t=>({branch:t.branch,id:t.id??"",type:t.type!==void 0?tn[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),_Pt=w(t=>t.branch,"parseCheckout"),SPt=w(t=>{var e;return{id:t.id,targetId:"",tags:((e=t.tags)==null?void 0:e.length)===0?void 0:t.tags,parent:t.parent}},"parseCherryPicking"),APt={parse:w(async t=>{const e=await _g("gitGraph",t);et.debug(e),xPt(e,sit)},"parse")},xT=Tt(),li=xT==null?void 0:xT.gitGraph,Nu=10,Iu=40,va=new Map,ka=new Map,B1=new Map,p5=[],Eu=0,Cr="LR",CPt=w(()=>{va.clear(),ka.clear(),B1.clear(),Eu=0,p5=[],Cr="LR"},"clear"),lit=w(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof t=="string"?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(r=>{const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),n.setAttribute("class","row"),n.textContent=r.trim(),e.appendChild(n)}),e},"drawText"),cit=w(t=>{let e,r,n;return Cr==="BT"?(r=w((i,o)=>i<=o,"comparisonFunc"),n=1/0):(r=w((i,o)=>i>=o,"comparisonFunc"),n=0),t.forEach(i=>{var a,s;const o=Cr==="TB"||Cr=="BT"?(a=ka.get(i))==null?void 0:a.y:(s=ka.get(i))==null?void 0:s.x;o!==void 0&&r(o,n)&&(e=i,n=o)}),e},"findClosestParent"),$Pt=w(t=>{let e="",r=1/0;return t.forEach(n=>{const i=ka.get(n).y;i<=r&&(e=n,r=i)}),e||void 0},"findClosestParentBT"),NPt=w((t,e,r)=>{let n=r,i=r;const o=[];t.forEach(a=>{const s=e.get(a);if(!s)throw new Error(`Commit not found for key ${a}`);s.parents.length?(n=LPt(s),i=Math.max(n,i)):o.push(s),RPt(s,n)}),n=i,o.forEach(a=>{DPt(a,n,r)}),t.forEach(a=>{const s=e.get(a);if(s!=null&&s.parents.length){const l=$Pt(s.parents);n=ka.get(l).y-Iu,n<=i&&(i=n);const u=va.get(s.branch).pos,h=n-Nu;ka.set(s.id,{x:u,y:h})}})},"setParallelBTPos"),IPt=w(t=>{var n;const e=cit(t.parents.filter(i=>i!==null));if(!e)throw new Error(`Closest parent not found for commit ${t.id}`);const r=(n=ka.get(e))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${t.id}`);return r},"findClosestParentPos"),LPt=w(t=>IPt(t)+Iu,"calculateCommitPosition"),RPt=w((t,e)=>{const r=va.get(t.branch);if(!r)throw new Error(`Branch not found for commit ${t.id}`);const n=r.pos,i=e+Nu;return ka.set(t.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),DPt=w((t,e,r)=>{const n=va.get(t.branch);if(!n)throw new Error(`Branch not found for commit ${t.id}`);const i=e+r,o=n.pos;ka.set(t.id,{x:o,y:i})},"setRootPosition"),OPt=w((t,e,r,n,i,o)=>{if(o===tn.HIGHLIGHT)t.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${e.id} commit-highlight${i%8} ${n}-outer`),t.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${e.id} commit${i%8} ${n}-inner`);else if(o===tn.CHERRY_PICK)t.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`);else{const a=t.append("circle");if(a.attr("cx",r.x),a.attr("cy",r.y),a.attr("r",e.type===tn.MERGE?9:10),a.attr("class",`commit ${e.id} commit${i%8}`),o===tn.MERGE){const s=t.append("circle");s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",6),s.attr("class",`commit ${n} ${e.id} commit${i%8}`)}o===tn.REVERSE&&t.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${e.id} commit${i%8}`)}},"drawCommitBullet"),MPt=w((t,e,r,n)=>{var i;if(e.type!==tn.CHERRY_PICK&&(e.customId&&e.type===tn.MERGE||e.type!==tn.MERGE)&&(li!=null&&li.showCommitLabel)){const o=t.append("g"),a=o.insert("rect").attr("class","commit-label-bkg"),s=o.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(e.id),l=(i=s.node())==null?void 0:i.getBBox();if(l&&(a.attr("x",r.posWithOffset-l.width/2-2).attr("y",r.y+13.5).attr("width",l.width+4).attr("height",l.height+4),Cr==="TB"||Cr==="BT"?(a.attr("x",r.x-(l.width+16+5)).attr("y",r.y-12),s.attr("x",r.x-(l.width+16)).attr("y",r.y+l.height-12)):s.attr("x",r.posWithOffset-l.width/2),li.rotateCommitLabel))if(Cr==="TB"||Cr==="BT")s.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;o.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),BPt=w((t,e,r,n)=>{var i;if(e.tags.length>0){let o=0,a=0,s=0;const l=[];for(const u of e.tags.reverse()){const h=t.insert("polygon"),d=t.append("circle"),p=t.append("text").attr("y",r.y-16-o).attr("class","tag-label").text(u),f=(i=p.node())==null?void 0:i.getBBox();if(!f)throw new Error("Tag bbox not found");a=Math.max(a,f.width),s=Math.max(s,f.height),p.attr("x",r.posWithOffset-f.width/2),l.push({tag:p,hole:d,rect:h,yOffset:o}),o+=20}for(const{tag:u,hole:h,rect:d,yOffset:p}of l){const f=s/2,g=r.y-19.2-p;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-a/2-2},${g+2}  
      ${n-a/2-2},${g-2}
      ${r.posWithOffset-a/2-4},${g-f-2}
      ${r.posWithOffset+a/2+4},${g-f-2}
      ${r.posWithOffset+a/2+4},${g+f+2}
      ${r.posWithOffset-a/2-4},${g+f+2}`),h.attr("cy",g).attr("cx",n-a/2+2).attr("r",1.5).attr("class","tag-hole"),Cr==="TB"||Cr==="BT"){const m=n+p;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+Nu},${m-f-2}
        ${r.x+Nu+a+4},${m-f-2}
        ${r.x+Nu+a+4},${m+f+2}
        ${r.x+Nu},${m+f+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),PPt=w(t=>{switch(t.customType??t.type){case tn.NORMAL:return"commit-normal";case tn.REVERSE:return"commit-reverse";case tn.HIGHLIGHT:return"commit-highlight";case tn.MERGE:return"commit-merge";case tn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),FPt=w((t,e,r,n)=>{const i={x:0,y:0};if(!(t.parents.length>0))return e==="TB"?30:e==="BT"?(n.get(t.id)??i).y-Iu:0;{const o=cit(t.parents);if(o){const a=n.get(o)??i;return e==="TB"?a.y+Iu:e==="BT"?(n.get(t.id)??i).y-Iu:a.x+Iu}}return 0},"calculatePosition"),zPt=w((t,e,r)=>{var a,s;const n=Cr==="BT"&&r?e:e+Nu,i=Cr==="TB"||Cr==="BT"?n:(a=va.get(t.branch))==null?void 0:a.pos,o=Cr==="TB"||Cr==="BT"?(s=va.get(t.branch))==null?void 0:s.pos:n;if(o===void 0||i===void 0)throw new Error(`Position were undefined for commit ${t.id}`);return{x:o,y:i,posWithOffset:n}},"getCommitPosition"),kP=w((t,e,r)=>{if(!li)throw new Error("GitGraph config not found");const n=t.append("g").attr("class","commit-bullets"),i=t.append("g").attr("class","commit-labels");let o=Cr==="TB"||Cr==="BT"?30:0;const a=[...e.keys()],s=(li==null?void 0:li.parallelCommits)??!1,l=w((h,d)=>{var g,m;const p=(g=e.get(h))==null?void 0:g.seq,f=(m=e.get(d))==null?void 0:m.seq;return p!==void 0&&f!==void 0?p-f:0},"sortKeys");let u=a.sort(l);Cr==="BT"&&(s&&NPt(u,e,o),u=u.reverse()),u.forEach(h=>{var f;const d=e.get(h);if(!d)throw new Error(`Commit not found for key ${h}`);s&&(o=FPt(d,Cr,o,ka));const p=zPt(d,o,s);if(r){const g=PPt(d),m=d.customType??d.type,y=((f=va.get(d.branch))==null?void 0:f.index)??0;OPt(n,d,p,g,y,m),MPt(i,d,p,o),BPt(i,d,p,o)}Cr==="TB"||Cr==="BT"?ka.set(d.id,{x:p.x,y:p.posWithOffset}):ka.set(d.id,{x:p.posWithOffset,y:p.y}),o=Cr==="BT"&&s?o+Iu:o+Iu+Nu,o>Eu&&(Eu=o)})},"drawCommits"),jPt=w((t,e,r,n,i)=>{const o=(Cr==="TB"||Cr==="BT"?r.x<n.x:r.y<n.y)?e.branch:t.branch,a=w(l=>l.branch===o,"isOnBranchToGetCurve"),s=w(l=>l.seq>t.seq&&l.seq<e.seq,"isBetweenCommits");return[...i.values()].some(l=>s(l)&&a(l))},"shouldRerouteArrow"),P1=w((t,e,r=0)=>{const n=t+Math.abs(t-e)/2;if(r>5)return n;if(p5.every(o=>Math.abs(o-n)>=10))return p5.push(n),n;const i=Math.abs(t-e);return P1(t,e-i/5,r+1)},"findLane"),HPt=w((t,e,r,n)=>{var f,g,m,y,v;const i=ka.get(e.id),o=ka.get(r.id);if(i===void 0||o===void 0)throw new Error(`Commit positions not found for commits ${e.id} and ${r.id}`);const a=jPt(e,r,i,o,n);let s,l="",u="",h=0,d=0,p=(f=va.get(r.branch))==null?void 0:f.index;if(r.type===tn.MERGE&&e.id!==r.parents[0]&&(p=(g=va.get(e.branch))==null?void 0:g.index),a){l="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10;const x=i.y<o.y?P1(i.y,o.y):P1(o.y,i.y),b=i.x<o.x?P1(i.x,o.x):P1(o.x,i.x);Cr==="TB"?i.x<o.x?s=`M ${i.x} ${i.y} L ${b-h} ${i.y} ${u} ${b} ${i.y+d} L ${b} ${o.y-h} ${l} ${b+d} ${o.y} L ${o.x} ${o.y}`:(p=(m=va.get(e.branch))==null?void 0:m.index,s=`M ${i.x} ${i.y} L ${b+h} ${i.y} ${l} ${b} ${i.y+d} L ${b} ${o.y-h} ${u} ${b-d} ${o.y} L ${o.x} ${o.y}`):Cr==="BT"?i.x<o.x?s=`M ${i.x} ${i.y} L ${b-h} ${i.y} ${l} ${b} ${i.y-d} L ${b} ${o.y+h} ${u} ${b+d} ${o.y} L ${o.x} ${o.y}`:(p=(y=va.get(e.branch))==null?void 0:y.index,s=`M ${i.x} ${i.y} L ${b+h} ${i.y} ${u} ${b} ${i.y-d} L ${b} ${o.y+h} ${l} ${b-d} ${o.y} L ${o.x} ${o.y}`):i.y<o.y?s=`M ${i.x} ${i.y} L ${i.x} ${x-h} ${l} ${i.x+d} ${x} L ${o.x-h} ${x} ${u} ${o.x} ${x+d} L ${o.x} ${o.y}`:(p=(v=va.get(e.branch))==null?void 0:v.index,s=`M ${i.x} ${i.y} L ${i.x} ${x+h} ${u} ${i.x+d} ${x} L ${o.x-h} ${x} ${l} ${o.x} ${x-d} L ${o.x} ${o.y}`)}else l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,Cr==="TB"?(i.x<o.x&&(s=r.type===tn.MERGE&&e.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${o.y-h} ${l} ${i.x+d} ${o.y} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${o.x-h} ${i.y} ${u} ${o.x} ${i.y+d} L ${o.x} ${o.y}`),i.x>o.x&&(l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,s=r.type===tn.MERGE&&e.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${o.y-h} ${u} ${i.x-d} ${o.y} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${o.x+h} ${i.y} ${l} ${o.x} ${i.y+d} L ${o.x} ${o.y}`),i.x===o.x&&(s=`M ${i.x} ${i.y} L ${o.x} ${o.y}`)):Cr==="BT"?(i.x<o.x&&(s=r.type===tn.MERGE&&e.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${o.y+h} ${u} ${i.x+d} ${o.y} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${o.x-h} ${i.y} ${l} ${o.x} ${i.y-d} L ${o.x} ${o.y}`),i.x>o.x&&(l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,s=r.type===tn.MERGE&&e.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${o.y+h} ${l} ${i.x-d} ${o.y} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${o.x-h} ${i.y} ${l} ${o.x} ${i.y-d} L ${o.x} ${o.y}`),i.x===o.x&&(s=`M ${i.x} ${i.y} L ${o.x} ${o.y}`)):(i.y<o.y&&(s=r.type===tn.MERGE&&e.id!==r.parents[0]?`M ${i.x} ${i.y} L ${o.x-h} ${i.y} ${u} ${o.x} ${i.y+d} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${i.x} ${o.y-h} ${l} ${i.x+d} ${o.y} L ${o.x} ${o.y}`),i.y>o.y&&(s=r.type===tn.MERGE&&e.id!==r.parents[0]?`M ${i.x} ${i.y} L ${o.x-h} ${i.y} ${l} ${o.x} ${i.y-d} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${i.x} ${o.y+h} ${u} ${i.x+d} ${o.y} L ${o.x} ${o.y}`),i.y===o.y&&(s=`M ${i.x} ${i.y} L ${o.x} ${o.y}`));if(s===void 0)throw new Error("Line definition not found");t.append("path").attr("d",s).attr("class","arrow arrow"+p%8)},"drawArrow"),UPt=w((t,e)=>{const r=t.append("g").attr("class","commit-arrows");[...e.keys()].forEach(n=>{const i=e.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(o=>{HPt(r,e.get(o),i,e)})})},"drawArrows"),qPt=w((t,e)=>{const r=t.append("g");e.forEach((n,i)=>{var f;const o=i%8,a=(f=va.get(n.name))==null?void 0:f.pos;if(a===void 0)throw new Error(`Position not found for branch ${n.name}`);const s=r.append("line");s.attr("x1",0),s.attr("y1",a),s.attr("x2",Eu),s.attr("y2",a),s.attr("class","branch branch"+o),Cr==="TB"?(s.attr("y1",30),s.attr("x1",a),s.attr("y2",Eu),s.attr("x2",a)):Cr==="BT"&&(s.attr("y1",Eu),s.attr("x1",a),s.attr("y2",30),s.attr("x2",a)),p5.push(a);const l=n.name,u=lit(l),h=r.insert("rect"),d=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);d.node().appendChild(u);const p=u.getBBox();h.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-p.width-4-((li==null?void 0:li.rotateCommitLabel)===!0?30:0)).attr("y",-p.height/2+8).attr("width",p.width+18).attr("height",p.height+4),d.attr("transform","translate("+(-p.width-14-((li==null?void 0:li.rotateCommitLabel)===!0?30:0))+", "+(a-p.height/2-1)+")"),Cr==="TB"?(h.attr("x",a-p.width/2-10).attr("y",0),d.attr("transform","translate("+(a-p.width/2-5)+", 0)")):Cr==="BT"?(h.attr("x",a-p.width/2-10).attr("y",Eu),d.attr("transform","translate("+(a-p.width/2-5)+", "+Eu+")")):h.attr("transform","translate(-19, "+(a-p.height/2)+")")})},"drawBranches"),GPt=w(function(t,e,r,n,i){return va.set(t,{pos:e,index:r}),e+=50+(i?40:0)+(Cr==="TB"||Cr==="BT"?n.width/2:0)},"setBranchPosition"),WPt={parser:APt,db:sit,renderer:{draw:w(function(t,e,r,n){if(CPt(),et.debug("in gitgraph renderer",t+`
`,"id:",e,r),!li)throw new Error("GitGraph config not found");const i=li.rotateCommitLabel??!1,o=n.db;B1=o.getCommits();const a=o.getBranchesAsObjArray();Cr=o.getDirection();const s=he(`[id="${e}"]`);let l=0;a.forEach((u,h)=>{var y;const d=lit(u.name),p=s.append("g"),f=p.insert("g").attr("class","branchLabel"),g=f.insert("g").attr("class","label branch-label");(y=g.node())==null||y.appendChild(d);const m=d.getBBox();l=GPt(u.name,l,h,m,i),g.remove(),f.remove(),p.remove()}),kP(s,B1,!1),li.showBranches&&qPt(s,a),UPt(s,B1),kP(s,B1,!0),dr.insertTitle(s,"gitTitleText",li.titleTopMargin??0,o.getDiagramTitle()),ZU(void 0,s,li.diagramPadding,li.useMaxWidth)},"draw")},styles:w(t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles")};const VPt=Object.freeze(Object.defineProperty({__proto__:null,diagram:WPt},Symbol.toStringTag,{value:"Module"}));var uit={exports:{}},d2;uit.exports=(d2="day",function(t,e,r){var n=function(a){return a.add(4-a.isoWeekday(),d2)},i=e.prototype;i.isoWeekYear=function(){return n(this).year()},i.isoWeek=function(a){if(!this.$utils().u(a))return this.add(7*(a-this.isoWeek()),d2);var s,l,u,h=n(this),d=(s=this.isoWeekYear(),u=4-(l=(this.$u?r.utc:r)().year(s).startOf("year")).isoWeekday(),l.isoWeekday()>4&&(u+=7),l.add(u,d2));return h.diff(d,"week")+1},i.isoWeekday=function(a){return this.$utils().u(a)?this.day()||7:this.day(this.day()%7?a:a-7)};var o=i.startOf;i.startOf=function(a,s){var l=this.$utils(),u=!!l.u(s)||s;return l.p(a)==="isoweek"?u?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(a,s)}});var YPt=dh(uit.exports),hit={exports:{}};hit.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,n=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},s=function(g){return(g=+g)+(g>68?1900:2e3)},l=function(g){return function(m){this[g]=+m}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var y=m.match(/([+-]|\d\d)/g),v=60*y[1]+(+y[2]||0);return v===0?0:y[0]==="+"?-v:v}(g)}],h=function(g){var m=a[g];return m&&(m.indexOf?m:m.s.concat(m.f))},d=function(g,m){var y,v=a.meridiem;if(v){for(var x=1;x<=24;x+=1)if(g.indexOf(v(x,0,m))>-1){y=x>12;break}}else y=g===(m?"pm":"PM");return y},p={A:[o,function(g){this.afternoon=d(g,!1)}],a:[o,function(g){this.afternoon=d(g,!0)}],Q:[r,function(g){this.month=3*(g-1)+1}],S:[r,function(g){this.milliseconds=100*+g}],SS:[n,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[i,l("seconds")],ss:[i,l("seconds")],m:[i,l("minutes")],mm:[i,l("minutes")],H:[i,l("hours")],h:[i,l("hours")],HH:[i,l("hours")],hh:[i,l("hours")],D:[i,l("day")],DD:[n,l("day")],Do:[o,function(g){var m=a.ordinal,y=g.match(/\d+/);if(this.day=y[0],m)for(var v=1;v<=31;v+=1)m(v).replace(/\[|\]/g,"")===g&&(this.day=v)}],w:[i,l("week")],ww:[n,l("week")],M:[i,l("month")],MM:[n,l("month")],MMM:[o,function(g){var m=h("months"),y=(h("monthsShort")||m.map(function(v){return v.slice(0,3)})).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[o,function(g){var m=h("months").indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(g){this.year=s(g)}],YYYY:[/\d{4}/,l("year")],Z:u,ZZ:u};function f(g){var m,y;m=g,y=a&&a.formats;for(var v=(g=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(T,A,C){var D=C&&C.toUpperCase();return A||y[C]||t[C]||y[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,$,I){return $||I.slice(1)})})).match(e),x=v.length,b=0;b<x;b+=1){var k=v[b],N=p[k],_=N&&N[0],S=N&&N[1];v[b]=S?{regex:_,parser:S}:k.replace(/^\[|\]$/g,"")}return function(T){for(var A={},C=0,D=0;C<x;C+=1){var E=v[C];if(typeof E=="string")D+=E.length;else{var $=E.regex,I=E.parser,L=T.slice(D),O=$.exec(L)[0];I.call(A,O),T=T.replace(O,"")}}return function(B){var R=B.afternoon;if(R!==void 0){var M=B.hours;R?M<12&&(B.hours+=12):M===12&&(B.hours=0),delete B.afternoon}}(A),A}}return function(g,m,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(s=g.parseTwoDigitYear);var v=m.prototype,x=v.parse;v.parse=function(b){var k=b.date,N=b.utc,_=b.args;this.$u=N;var S=_[1];if(typeof S=="string"){var T=_[2]===!0,A=_[3]===!0,C=T||A,D=_[2];A&&(D=_[2]),a=this.$locale(),!T&&D&&(a=y.Ls[D]),this.$d=function(L,O,B,R){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*L);var M=f(O)(L),F=M.year,P=M.month,U=M.day,W=M.hours,Q=M.minutes,K=M.seconds,G=M.milliseconds,V=M.zone,rt=M.week,tt=new Date,at=U||(F||P?1:tt.getDate()),ut=F||tt.getFullYear(),st=0;F&&!P||(st=P>0?P-1:tt.getMonth());var _t,X=W||0,Et=Q||0,H=K||0,ct=G||0;return V?new Date(Date.UTC(ut,st,at,X,Et,H,ct+60*V.offset*1e3)):B?new Date(Date.UTC(ut,st,at,X,Et,H,ct)):(_t=new Date(ut,st,at,X,Et,H,ct),rt&&(_t=R(_t).week(rt).toDate()),_t)}catch{return new Date("")}}(k,S,N,y),this.init(),D&&D!==!0&&(this.$L=this.locale(D).$L),C&&k!=this.format(S)&&(this.$d=new Date("")),a={}}else if(S instanceof Array)for(var E=S.length,$=1;$<=E;$+=1){_[1]=S[$-1];var I=y.apply(this,_);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}$===E&&(this.$d=new Date(""))}else x.call(this,b)}}}();var XPt=dh(hit.exports),dit={exports:{}};dit.exports=function(t,e){var r=e.prototype,n=r.format;r.format=function(i){var o=this,a=this.$locale();if(!this.isValid())return n.bind(this)(i);var s=this.$utils(),l=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return a.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return a.ordinal(o.week(),"W");case"w":case"ww":return s.s(o.week(),u==="w"?1:2,"0");case"W":case"WW":return s.s(o.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return s.s(String(o.$H===0?24:o.$H),u==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return u}});return n.bind(this)(l)}};var KPt=dh(dit.exports);function ZPt(t){return function(){return t}}function QPt(t){return+t}function JPt(t,e){var r,n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n);for(r=0;r<i;++r)o[r]=L8(t[r],e[r]);for(;r<n;++r)a[r]=e[r];return function(s){for(r=0;r<i;++r)a[r]=o[r](s);return a}}function tFt(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function eFt(t,e){var r,n={},i={};for(r in t!==null&&typeof t=="object"||(t={}),e!==null&&typeof e=="object"||(e={}),e)r in t?n[r]=L8(t[r],e[r]):i[r]=e[r];return function(o){for(r in n)i[r]=n[r](o);return i}}function rFt(t,e){e||(e=[]);var r,n=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(r=0;r<n;++r)i[r]=t[r]*(1-o)+e[r]*o;return i}}function nFt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function L8(t,e){var r,n=typeof e;return e==null||n==="boolean"?a4(e):(n==="number"?Us:n==="string"?(r=$d(e))?(e=r,tx):LG:e instanceof $d?tx:e instanceof Date?tFt:nFt(e)?rFt:Array.isArray(e)?JPt:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eFt:Us)(t,e)}function iFt(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _b(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oFt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R8(t){let e,r,n;function i(o,a,s=0,l=o.length){if(s<l){if(e(a,a)!==0)return l;do{const u=s+l>>>1;r(o[u],a)<0?s=u+1:l=u}while(s<l)}return s}return t.length!==2?(e=_b,r=(o,a)=>_b(t(o),a),n=(o,a)=>t(o)-a):(e=t===_b||t===oFt?t:aFt,r=t,n=t),{left:i,center:function(o,a,s=0,l=o.length){const u=i(o,a,s,l-1);return u>s&&n(o[u-1],a)>-n(o[u],a)?u-1:u},right:function(o,a,s=0,l=o.length){if(s<l){if(e(a,a)!==0)return l;do{const u=s+l>>>1;r(o[u],a)<=0?s=u+1:l=u}while(s<l)}return s}}}function aFt(){return 0}function sFt(t){return t===null?NaN:+t}const lFt=R8(_b).right;R8(sFt).center;var cFt=lFt,TP=[0,1];function of(t){return t}function cS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ZPt(isNaN(e)?NaN:.5)}function uFt(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=cS(i,n),o=r(a,o)):(n=cS(n,i),o=r(o,a)),function(s){return o(n(s))}}function hFt(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=cS(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=cFt(t,s,1,n)-1;return o[l](i[l](s))}}function pit(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dFt(){var t,e,r,n,i,o,a=TP,s=TP,l=L8,u=of;function h(){var p,f,g,m=Math.min(a.length,s.length);return u!==of&&(p=a[0],f=a[m-1],p>f&&(g=p,p=f,f=g),u=function(y){return Math.max(p,Math.min(f,y))}),n=m>2?hFt:uFt,i=o=null,d}function d(p){return p==null||isNaN(p=+p)?r:(i||(i=n(a.map(t),s,l)))(t(u(p)))}return d.invert=function(p){return u(e((o||(o=n(s,a.map(t),Us)))(p)))},d.domain=function(p){return arguments.length?(a=Array.from(p,QPt),h()):a.slice()},d.range=function(p){return arguments.length?(s=Array.from(p),h()):s.slice()},d.rangeRound=function(p){return s=Array.from(p),l=iFt,h()},d.clamp=function(p){return arguments.length?(u=!!p||of,h()):u!==of},d.interpolate=function(p){return arguments.length?(l=p,h()):l},d.unknown=function(p){return arguments.length?(r=p,d):r},function(p,f){return t=p,e=f,h()}}function fit(){return dFt()(of,of)}function $3(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function pFt(t,e){var r,n=0,i=(t=t.slice()).length-1,o=t[n],a=t[i];return a<o&&(r=n,n=i,i=r,r=o,o=a,a=r),t[n]=e.floor(o),t[i]=e.ceil(a),t}const wT=new Date,kT=new Date;function Ii(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a&&s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Ii(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(wT.setTime(+o),kT.setTime(+a),t(wT),t(kT),Math.floor(r(wT,kT))),i.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?i.filter(n?a=>n(a)%o==0:a=>i.count(0,a)%o==0):i:null)),i}const Lu=1e3,Ys=6e4,Ru=36e5,V0=864e5,D8=6048e5,EP=2592e6,TT=31536e6;function lp(t){return Ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+7*r)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ys)/D8)}const Xy=lp(0),Qm=lp(1),git=lp(2),mit=lp(3),Hd=lp(4),yit=lp(5),vit=lp(6);function cp(t){return Ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+7*r)},(e,r)=>(r-e)/D8)}Xy.range,Qm.range,git.range,mit.range,Hd.range,yit.range,vit.range;const bit=cp(0),f5=cp(1),fFt=cp(2),gFt=cp(3),Y0=cp(4),mFt=cp(5),yFt=cp(6);bit.range,f5.range,fFt.range,gFt.range,Y0.range,mFt.range,yFt.range;const Ud=Ii(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ys)/V0,t=>t.getDate()-1);Ud.range;const O8=Ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/V0,t=>t.getUTCDate()-1);O8.range;const vFt=Ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/V0,t=>Math.floor(t/V0));vFt.range;const Gc=Ii(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gc.every=t=>isFinite(t=Math.floor(t))&&t>0?Ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)}):null,Gc.range;const qd=Ii(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qd.every=t=>isFinite(t=Math.floor(t))&&t>0?Ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)}):null,qd.range;function ET(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _T(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function u1(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bFt(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=h1(i),h=d1(i),d=h1(o),p=d1(o),f=h1(a),g=d1(a),m=h1(s),y=d1(s),v=h1(l),x=d1(l),b={a:function(A){return a[A.getDay()]},A:function(A){return o[A.getDay()]},b:function(A){return l[A.getMonth()]},B:function(A){return s[A.getMonth()]},c:null,d:NP,e:NP,f:HFt,g:QFt,G:tzt,H:FFt,I:zFt,j:jFt,L:xit,m:UFt,M:qFt,p:function(A){return i[+(A.getHours()>=12)]},q:function(A){return 1+~~(A.getMonth()/3)},Q:RP,s:DP,S:GFt,u:WFt,U:VFt,V:YFt,w:XFt,W:KFt,x:null,X:null,y:ZFt,Y:JFt,Z:ezt,"%":LP},k={a:function(A){return a[A.getUTCDay()]},A:function(A){return o[A.getUTCDay()]},b:function(A){return l[A.getUTCMonth()]},B:function(A){return s[A.getUTCMonth()]},c:null,d:IP,e:IP,f:ozt,g:gzt,G:yzt,H:rzt,I:nzt,j:izt,L:kit,m:azt,M:szt,p:function(A){return i[+(A.getUTCHours()>=12)]},q:function(A){return 1+~~(A.getUTCMonth()/3)},Q:RP,s:DP,S:lzt,u:czt,U:uzt,V:hzt,w:dzt,W:pzt,x:null,X:null,y:fzt,Y:mzt,Z:vzt,"%":LP},N={a:function(A,C,D){var E=f.exec(C.slice(D));return E?(A.w=g.get(E[0].toLowerCase()),D+E[0].length):-1},A:function(A,C,D){var E=d.exec(C.slice(D));return E?(A.w=p.get(E[0].toLowerCase()),D+E[0].length):-1},b:function(A,C,D){var E=v.exec(C.slice(D));return E?(A.m=x.get(E[0].toLowerCase()),D+E[0].length):-1},B:function(A,C,D){var E=m.exec(C.slice(D));return E?(A.m=y.get(E[0].toLowerCase()),D+E[0].length):-1},c:function(A,C,D){return T(A,e,C,D)},d:CP,e:CP,f:OFt,g:AP,G:SP,H:$P,I:$P,j:IFt,L:DFt,m:NFt,M:LFt,p:function(A,C,D){var E=u.exec(C.slice(D));return E?(A.p=h.get(E[0].toLowerCase()),D+E[0].length):-1},q:$Ft,Q:BFt,s:PFt,S:RFt,u:EFt,U:_Ft,V:SFt,w:TFt,W:AFt,x:function(A,C,D){return T(A,r,C,D)},X:function(A,C,D){return T(A,n,C,D)},y:AP,Y:SP,Z:CFt,"%":MFt};function _(A,C){return function(D){var E,$,I,L=[],O=-1,B=0,R=A.length;for(D instanceof Date||(D=new Date(+D));++O<R;)A.charCodeAt(O)===37&&(L.push(A.slice(B,O)),($=_P[E=A.charAt(++O)])!=null?E=A.charAt(++O):$=E==="e"?" ":"0",(I=C[E])&&(E=I(D,$)),L.push(E),B=O+1);return L.push(A.slice(B,O)),L.join("")}}function S(A,C){return function(D){var E,$,I=u1(1900,void 0,1);if(T(I,A,D+="",0)!=D.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(1e3*I.s+("L"in I?I.L:0));if(C&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+12*I.p),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?($=(E=_T(u1(I.y,0,1))).getUTCDay(),E=$>4||$===0?f5.ceil(E):f5(E),E=O8.offset(E,7*(I.V-1)),I.y=E.getUTCFullYear(),I.m=E.getUTCMonth(),I.d=E.getUTCDate()+(I.w+6)%7):($=(E=ET(u1(I.y,0,1))).getDay(),E=$>4||$===0?Qm.ceil(E):Qm(E),E=Ud.offset(E,7*(I.V-1)),I.y=E.getFullYear(),I.m=E.getMonth(),I.d=E.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),$="Z"in I?_T(u1(I.y,0,1)).getUTCDay():ET(u1(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+7*I.W-($+5)%7:I.w+7*I.U-($+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,_T(I)):ET(I)}}function T(A,C,D,E){for(var $,I,L=0,O=C.length,B=D.length;L<O;){if(E>=B)return-1;if(($=C.charCodeAt(L++))===37){if($=C.charAt(L++),!(I=N[$ in _P?C.charAt(L++):$])||(E=I(A,D,E))<0)return-1}else if($!=D.charCodeAt(E++))return-1}return E}return b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),k.x=_(r,k),k.X=_(n,k),k.c=_(e,k),{format:function(A){var C=_(A+="",b);return C.toString=function(){return A},C},parse:function(A){var C=S(A+="",!1);return C.toString=function(){return A},C},utcFormat:function(A){var C=_(A+="",k);return C.toString=function(){return A},C},utcParse:function(A){var C=S(A+="",!0);return C.toString=function(){return A},C}}}var _P={"-":"",_:" ",0:"0"},Vi=/^\s*\d+/,xFt=/^%/,wFt=/[\\^$*+?|[\]().{}]/g;function qr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function kFt(t){return t.replace(wFt,"\\$&")}function h1(t){return new RegExp("^(?:"+t.map(kFt).join("|")+")","i")}function d1(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function TFt(t,e,r){var n=Vi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function EFt(t,e,r){var n=Vi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function _Ft(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function SFt(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function AFt(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function SP(t,e,r){var n=Vi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function AP(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function CFt(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $Ft(t,e,r){var n=Vi.exec(e.slice(r,r+1));return n?(t.q=3*n[0]-3,r+n[0].length):-1}function NFt(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function CP(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function IFt(t,e,r){var n=Vi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function $P(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function LFt(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function RFt(t,e,r){var n=Vi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function DFt(t,e,r){var n=Vi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function OFt(t,e,r){var n=Vi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function MFt(t,e,r){var n=xFt.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function BFt(t,e,r){var n=Vi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function PFt(t,e,r){var n=Vi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function NP(t,e){return qr(t.getDate(),e,2)}function FFt(t,e){return qr(t.getHours(),e,2)}function zFt(t,e){return qr(t.getHours()%12||12,e,2)}function jFt(t,e){return qr(1+Ud.count(Gc(t),t),e,3)}function xit(t,e){return qr(t.getMilliseconds(),e,3)}function HFt(t,e){return xit(t,e)+"000"}function UFt(t,e){return qr(t.getMonth()+1,e,2)}function qFt(t,e){return qr(t.getMinutes(),e,2)}function GFt(t,e){return qr(t.getSeconds(),e,2)}function WFt(t){var e=t.getDay();return e===0?7:e}function VFt(t,e){return qr(Xy.count(Gc(t)-1,t),e,2)}function wit(t){var e=t.getDay();return e>=4||e===0?Hd(t):Hd.ceil(t)}function YFt(t,e){return t=wit(t),qr(Hd.count(Gc(t),t)+(Gc(t).getDay()===4),e,2)}function XFt(t){return t.getDay()}function KFt(t,e){return qr(Qm.count(Gc(t)-1,t),e,2)}function ZFt(t,e){return qr(t.getFullYear()%100,e,2)}function QFt(t,e){return qr((t=wit(t)).getFullYear()%100,e,2)}function JFt(t,e){return qr(t.getFullYear()%1e4,e,4)}function tzt(t,e){var r=t.getDay();return qr((t=r>=4||r===0?Hd(t):Hd.ceil(t)).getFullYear()%1e4,e,4)}function ezt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qr(e/60|0,"0",2)+qr(e%60,"0",2)}function IP(t,e){return qr(t.getUTCDate(),e,2)}function rzt(t,e){return qr(t.getUTCHours(),e,2)}function nzt(t,e){return qr(t.getUTCHours()%12||12,e,2)}function izt(t,e){return qr(1+O8.count(qd(t),t),e,3)}function kit(t,e){return qr(t.getUTCMilliseconds(),e,3)}function ozt(t,e){return kit(t,e)+"000"}function azt(t,e){return qr(t.getUTCMonth()+1,e,2)}function szt(t,e){return qr(t.getUTCMinutes(),e,2)}function lzt(t,e){return qr(t.getUTCSeconds(),e,2)}function czt(t){var e=t.getUTCDay();return e===0?7:e}function uzt(t,e){return qr(bit.count(qd(t)-1,t),e,2)}function Tit(t){var e=t.getUTCDay();return e>=4||e===0?Y0(t):Y0.ceil(t)}function hzt(t,e){return t=Tit(t),qr(Y0.count(qd(t),t)+(qd(t).getUTCDay()===4),e,2)}function dzt(t){return t.getUTCDay()}function pzt(t,e){return qr(f5.count(qd(t)-1,t),e,2)}function fzt(t,e){return qr(t.getUTCFullYear()%100,e,2)}function gzt(t,e){return qr((t=Tit(t)).getUTCFullYear()%100,e,2)}function mzt(t,e){return qr(t.getUTCFullYear()%1e4,e,4)}function yzt(t,e){var r=t.getUTCDay();return qr((t=r>=4||r===0?Y0(t):Y0.ceil(t)).getUTCFullYear()%1e4,e,4)}function vzt(){return"+0000"}function LP(){return"%"}function RP(t){return+t}function DP(t){return Math.floor(+t/1e3)}var Cp,g5;function bzt(t){return Cp=bFt(t),g5=Cp.format,Cp.parse,Cp.utcFormat,Cp.utcParse,Cp}bzt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Du=Ii(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Lu)},(t,e)=>(e-t)/Lu,t=>t.getUTCSeconds());Du.range;const Jm=Ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lu)},(t,e)=>{t.setTime(+t+e*Ys)},(t,e)=>(e-t)/Ys,t=>t.getMinutes());Jm.range;const xzt=Ii(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ys)},(t,e)=>(e-t)/Ys,t=>t.getUTCMinutes());xzt.range;const ty=Ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lu-t.getMinutes()*Ys)},(t,e)=>{t.setTime(+t+e*Ru)},(t,e)=>(e-t)/Ru,t=>t.getHours());ty.range;const wzt=Ii(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ru)},(t,e)=>(e-t)/Ru,t=>t.getUTCHours());wzt.range;const ey=Ii(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth());ey.range;const kzt=Ii(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());kzt.range;const Sf=Ii(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sf.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Ii(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sf:null),Sf.range;const Tzt=Math.sqrt(50),Ezt=Math.sqrt(10),_zt=Math.sqrt(2);function m5(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Tzt?10:o>=Ezt?5:o>=_zt?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?m5(t,e,2*r):[s,l,u]}function Szt(t,e,r){if(!((r=+r)>0))return[];if((t=+t)==(e=+e))return[t];const n=e<t,[i,o,a]=n?m5(e,t,r):m5(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function uS(t,e,r){return m5(t=+t,e=+e,r=+r)[2]}function hS(t,e,r){r=+r;const n=(e=+e)<(t=+t),i=n?uS(e,t,r):uS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}const[Azt,Czt]=function(t,e,r,n,i,o){const a=[[Du,1,Lu],[Du,5,5*Lu],[Du,15,15*Lu],[Du,30,30*Lu],[o,1,Ys],[o,5,5*Ys],[o,15,15*Ys],[o,30,30*Ys],[i,1,Ru],[i,3,3*Ru],[i,6,6*Ru],[i,12,12*Ru],[n,1,V0],[n,2,2*V0],[r,1,D8],[e,1,EP],[e,3,3*EP],[t,1,TT]];function s(l,u,h){const d=Math.abs(u-l)/h,p=R8(([,,m])=>m).right(a,d);if(p===a.length)return t.every(hS(l/TT,u/TT,h));if(p===0)return Sf.every(Math.max(hS(l,u,h),1));const[f,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return f.every(g)}return[function(l,u,h){const d=u<l;d&&([l,u]=[u,l]);const p=h&&typeof h.range=="function"?h:s(l,u,h),f=p?p.range(l,+u+1):[];return d?f.reverse():f},s]}(Gc,ey,Xy,Ud,ty,Jm);function $zt(t){return new Date(t)}function Nzt(t){return t instanceof Date?+t:+new Date(+t)}function Eit(t,e,r,n,i,o,a,s,l,u){var h=fit(),d=h.invert,p=h.domain,f=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),k=u("%Y");function N(_){return(l(_)<_?f:s(_)<_?g:a(_)<_?m:o(_)<_?y:n(_)<_?i(_)<_?v:x:r(_)<_?b:k)(_)}return h.invert=function(_){return new Date(d(_))},h.domain=function(_){return arguments.length?p(Array.from(_,Nzt)):p().map($zt)},h.ticks=function(_){var S=p();return t(S[0],S[S.length-1],_??10)},h.tickFormat=function(_,S){return S==null?N:u(S)},h.nice=function(_){var S=p();return _&&typeof _.range=="function"||(_=e(S[0],S[S.length-1],_??10)),_?p(pFt(S,_)):h},h.copy=function(){return pit(h,Eit(t,e,r,n,i,o,a,s,l,u))},h}function Izt(){return $3.apply(Eit(Azt,Czt,Gc,ey,Xy,Ud,ty,Jm,Du,g5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lzt(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function Rzt(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var Dzt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y5(t){if(!(e=Dzt.exec(t)))throw new Error("invalid format: "+t);var e;return new dS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function dS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}y5.prototype=dS.prototype,dS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function Ozt(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function v5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function X0(t){return(t=v5(Math.abs(t)))?t[1]:NaN}function Mzt(t){return Math.max(0,-X0(Math.abs(t)))}function Bzt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,X0(e)-X0(t))+1}function Pzt(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(X0(e)/3)))-X0(Math.abs(t)))}function Fzt(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function zzt(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}function jzt(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":i===0&&(i=n),e=n;break;default:if(!+t[n])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}var _it;function Hzt(t,e){var r=v5(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(_it=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+v5(t,Math.max(0,e+o-1))[0]}function OP(t,e){var r=v5(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var MP={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ozt,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OP(100*t,e),r:OP,s:Hzt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BP(t){return t}var PP=Array.prototype.map,FP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uzt(t){var e=t.grouping===void 0||t.thousands===void 0?BP:Fzt(PP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?BP:zzt(PP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){var d=(h=y5(h)).fill,p=h.align,f=h.sign,g=h.symbol,m=h.zero,y=h.width,v=h.comma,x=h.precision,b=h.trim,k=h.type;k==="n"?(v=!0,k="g"):MP[k]||(x===void 0&&(x=12),b=!0,k="g"),(m||d==="0"&&p==="=")&&(m=!0,d="0",p="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=g==="$"?n:/[%p]/.test(k)?a:"",S=MP[k],T=/[defgprs%]/.test(k);function A(C){var D,E,$,I=N,L=_;if(k==="c")L=S(C)+L,C="";else{var O=(C=+C)<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),x),b&&(C=jzt(C)),O&&+C==0&&f!=="+"&&(O=!1),I=(O?f==="("?f:s:f==="-"||f==="("?"":f)+I,L=(k==="s"?FP[8+_it/3]:"")+L+(O&&f==="("?")":""),T){for(D=-1,E=C.length;++D<E;)if(48>($=C.charCodeAt(D))||$>57){L=($===46?i+C.slice(D+1):C.slice(D))+L,C=C.slice(0,D);break}}}v&&!m&&(C=e(C,1/0));var B=I.length+C.length+L.length,R=B<y?new Array(y-B+1).join(d):"";switch(v&&m&&(C=e(R+C,R.length?y-L.length:1/0),R=""),p){case"<":C=I+C+L+R;break;case"=":C=I+R+C+L;break;case"^":C=R.slice(0,B=R.length>>1)+I+C+L+R.slice(B);break;default:C=R+I+C+L}return o(C)}return x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),A.toString=function(){return h+""},A}return{format:u,formatPrefix:function(h,d){var p=u(((h=y5(h)).type="f",h)),f=3*Math.max(-8,Math.min(8,Math.floor(X0(d)/3))),g=Math.pow(10,-f),m=FP[8+f/3];return function(y){return p(g*y)+m}}}}var p2,Sit,Ait;function qzt(t){return p2=Uzt(t),Sit=p2.format,Ait=p2.formatPrefix,p2}qzt({thousands:",",grouping:[3],currency:["$",""]});function Gzt(t,e,r,n){var i,o=hS(t,e,r);switch((n=y5(n??",f")).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return n.precision!=null||isNaN(i=Pzt(o,a))||(n.precision=i),Ait(n,a);case"":case"e":case"g":case"p":case"r":n.precision!=null||isNaN(i=Bzt(o,Math.max(Math.abs(t),Math.abs(e))))||(n.precision=i-(n.type==="e"));break;case"f":case"%":n.precision!=null||isNaN(i=Mzt(o))||(n.precision=i-2*(n.type==="%"))}return Sit(n)}function Wzt(t){var e=t.domain;return t.ticks=function(r){var n=e();return Szt(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Gzt(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n,i,o=e(),a=0,s=o.length-1,l=o[a],u=o[s],h=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);h-- >0;){if((i=uS(l,u,r))===n)return o[a]=l,o[s]=u,e(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}n=i}return t},t}function K0(){var t=fit();return t.copy=function(){return pit(t,K0())},$3.apply(t,arguments),Wzt(t)}const Vzt=Math.PI/180,Yzt=180/Math.PI,Cit=.96422,$it=.82521,Nit=4/29,Af=6/29,Iit=3*Af*Af,Xzt=Af*Af*Af;function Lit(t){if(t instanceof jl)return new jl(t.l,t.a,t.b,t.opacity);if(t instanceof xc)return Rit(t);t instanceof _o||(t=$G(t));var e,r,n=$T(t.r),i=$T(t.g),o=$T(t.b),a=ST((.2225045*n+.7168786*i+.0606169*o)/1);return n===i&&i===o?e=r=a:(e=ST((.4360747*n+.3850649*i+.1430804*o)/Cit),r=ST((.0139322*n+.0971045*i+.7141733*o)/$it)),new jl(116*a-16,500*(e-a),200*(a-r),t.opacity)}function Kzt(t,e,r,n){return arguments.length===1?Lit(t):new jl(t,e,r,n??1)}function jl(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function ST(t){return t>Xzt?Math.pow(t,1/3):t/Iit+Nit}function AT(t){return t>Af?t*t*t:Iit*(t-Nit)}function CT(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function $T(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pS(t,e,r,n){return arguments.length===1?function(i){if(i instanceof xc)return new xc(i.h,i.c,i.l,i.opacity);if(i instanceof jl||(i=Lit(i)),i.a===0&&i.b===0)return new xc(NaN,0<i.l&&i.l<100?0:NaN,i.l,i.opacity);var o=Math.atan2(i.b,i.a)*Yzt;return new xc(o<0?o+360:o,Math.sqrt(i.a*i.a+i.b*i.b),i.l,i.opacity)}(t):new xc(t,e,r,n??1)}function xc(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function Rit(t){if(isNaN(t.h))return new jl(t.l,0,0,t.opacity);var e=t.h*Vzt;return new jl(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}J1(jl,Kzt,Jb(vd,{brighter(t){return new jl(this.l+18*(t??1),this.a,this.b,this.opacity)},darker(t){return new jl(this.l-18*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=Cit*AT(e),t=1*AT(t),r=$it*AT(r),new _o(CT(3.1338561*e-1.6168667*t-.4906146*r),CT(-.9787684*e+1.9161415*t+.033454*r),CT(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}})),J1(xc,pS,Jb(vd,{brighter(t){return new xc(this.h,this.c,this.l+18*(t??1),this.opacity)},darker(t){return new xc(this.h,this.c,this.l-18*(t??1),this.opacity)},rgb(){return Rit(this).rgb()}}));var Zzt=function(t){return function(e,r){var n=t((e=pS(e)).h,(r=pS(r)).h),i=tm(e.c,r.c),o=tm(e.l,r.l),a=tm(e.opacity,r.opacity);return function(s){return e.h=n(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}(idt);function Qzt(t){return t}var zP=1e-6;function Jzt(t){return"translate("+t+",0)"}function tjt(t){return"translate(0,"+t+")"}function ejt(t){return e=>+t(e)}function rjt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function njt(){return!this.__axis}function Dit(t,e){var r=[],n=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===1||t===4?-1:1,h=t===4||t===2?"x":"y",d=t===1||t===3?Jzt:tjt;function p(f){var g=n??(e.ticks?e.ticks.apply(e,r):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,r):Qzt),y=Math.max(o,0)+s,v=e.range(),x=+v[0]+l,b=+v[v.length-1]+l,k=(e.bandwidth?rjt:ejt)(e.copy(),l),N=f.selection?f.selection():f,_=N.selectAll(".domain").data([null]),S=N.selectAll(".tick").data(g,e).order(),T=S.exit(),A=S.enter().append("g").attr("class","tick"),C=S.select("line"),D=S.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(A),C=C.merge(A.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),D=D.merge(A.append("text").attr("fill","currentColor").attr(h,u*y).attr("dy",t===1?"0em":t===3?"0.71em":"0.32em")),f!==N&&(_=_.transition(f),S=S.transition(f),C=C.transition(f),D=D.transition(f),T=T.transition(f).attr("opacity",zP).attr("transform",function(E){return isFinite(E=k(E))?d(E+l):this.getAttribute("transform")}),A.attr("opacity",zP).attr("transform",function(E){var $=this.parentNode.__axis;return d(($&&isFinite($=$(E))?$:k(E))+l)})),T.remove(),_.attr("d",t===4||t===2?a?"M"+u*a+","+x+"H"+l+"V"+b+"H"+u*a:"M"+l+","+x+"V"+b:a?"M"+x+","+u*a+"V"+l+"H"+b+"V"+u*a:"M"+x+","+l+"H"+b),S.attr("opacity",1).attr("transform",function(E){return d(k(E)+l)}),C.attr(h+"2",u*o),D.attr(h,u*y).text(m),N.filter(njt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===2?"start":t===4?"end":"middle"),N.each(function(){this.__axis=k})}return p.scale=function(f){return arguments.length?(e=f,p):e},p.ticks=function(){return r=Array.from(arguments),p},p.tickArguments=function(f){return arguments.length?(r=f==null?[]:Array.from(f),p):r.slice()},p.tickValues=function(f){return arguments.length?(n=f==null?null:Array.from(f),p):n&&n.slice()},p.tickFormat=function(f){return arguments.length?(i=f,p):i},p.tickSize=function(f){return arguments.length?(o=a=+f,p):o},p.tickSizeInner=function(f){return arguments.length?(o=+f,p):o},p.tickSizeOuter=function(f){return arguments.length?(a=+f,p):a},p.tickPadding=function(f){return arguments.length?(s=+f,p):s},p.offset=function(f){return arguments.length?(l=+f,p):l},p}function ijt(t){return Dit(1,t)}function ojt(t){return Dit(3,t)}var fS=function(){var t=w(function($,I,L,O){for(L=L||{},O=$.length;O--;L[$[O]]=I);return L},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],o=[1,29],a=[1,30],s=[1,31],l=[1,32],u=[1,33],h=[1,34],d=[1,9],p=[1,10],f=[1,11],g=[1,12],m=[1,13],y=[1,14],v=[1,15],x=[1,16],b=[1,19],k=[1,20],N=[1,21],_=[1,22],S=[1,23],T=[1,25],A=[1,35],C={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:w(function($,I,L,O,B,R,M){var F=R.length-1;switch(B){case 1:return R[F-1];case 2:case 6:case 7:this.$=[];break;case 3:R[F-1].push(R[F]),this.$=R[F-1];break;case 4:case 5:this.$=R[F];break;case 8:O.setWeekday("monday");break;case 9:O.setWeekday("tuesday");break;case 10:O.setWeekday("wednesday");break;case 11:O.setWeekday("thursday");break;case 12:O.setWeekday("friday");break;case 13:O.setWeekday("saturday");break;case 14:O.setWeekday("sunday");break;case 15:O.setWeekend("friday");break;case 16:O.setWeekend("saturday");break;case 17:O.setDateFormat(R[F].substr(11)),this.$=R[F].substr(11);break;case 18:O.enableInclusiveEndDates(),this.$=R[F].substr(18);break;case 19:O.TopAxis(),this.$=R[F].substr(8);break;case 20:O.setAxisFormat(R[F].substr(11)),this.$=R[F].substr(11);break;case 21:O.setTickInterval(R[F].substr(13)),this.$=R[F].substr(13);break;case 22:O.setExcludes(R[F].substr(9)),this.$=R[F].substr(9);break;case 23:O.setIncludes(R[F].substr(9)),this.$=R[F].substr(9);break;case 24:O.setTodayMarker(R[F].substr(12)),this.$=R[F].substr(12);break;case 27:O.setDiagramTitle(R[F].substr(6)),this.$=R[F].substr(6);break;case 28:this.$=R[F].trim(),O.setAccTitle(this.$);break;case 29:case 30:this.$=R[F].trim(),O.setAccDescription(this.$);break;case 31:O.addSection(R[F].substr(8)),this.$=R[F].substr(8);break;case 33:O.addTask(R[F-1],R[F]),this.$="task";break;case 34:this.$=R[F-1],O.setClickEvent(R[F-1],R[F],null);break;case 35:this.$=R[F-2],O.setClickEvent(R[F-2],R[F-1],R[F]);break;case 36:this.$=R[F-2],O.setClickEvent(R[F-2],R[F-1],null),O.setLink(R[F-2],R[F]);break;case 37:this.$=R[F-3],O.setClickEvent(R[F-3],R[F-2],R[F-1]),O.setLink(R[F-3],R[F]);break;case 38:this.$=R[F-2],O.setClickEvent(R[F-2],R[F],null),O.setLink(R[F-2],R[F-1]);break;case 39:this.$=R[F-3],O.setClickEvent(R[F-3],R[F-1],R[F]),O.setLink(R[F-3],R[F-2]);break;case 40:this.$=R[F-1],O.setLink(R[F-1],R[F]);break;case 41:case 47:this.$=R[F-1]+" "+R[F];break;case 42:case 43:case 45:this.$=R[F-2]+" "+R[F-1]+" "+R[F];break;case 44:case 46:this.$=R[F-3]+" "+R[F-2]+" "+R[F-1]+" "+R[F]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:o,16:a,17:s,18:l,19:18,20:u,21:h,22:d,23:p,24:f,25:g,26:m,27:y,28:v,29:x,30:b,31:k,33:N,35:_,36:S,37:24,38:T,40:A},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:o,16:a,17:s,18:l,19:18,20:u,21:h,22:d,23:p,24:f,25:g,26:m,27:y,28:v,29:x,30:b,31:k,33:N,35:_,36:S,37:24,38:T,40:A},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:w(function($,I){if(!I.recoverable){var L=new Error($);throw L.hash=I,L}this.trace($)},"parseError"),parse:w(function($){var I=this,L=[0],O=[],B=[null],R=[],M=this.table,F="",P=0,U=0,W=R.slice.call(arguments,1),Q=Object.create(this.lexer),K={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(K.yy[G]=this.yy[G]);Q.setInput($,K.yy),K.yy.lexer=Q,K.yy.parser=this,Q.yylloc===void 0&&(Q.yylloc={});var V=Q.yylloc;R.push(V);var rt=Q.options&&Q.options.ranges;function tt(){var ft;return typeof(ft=O.pop()||Q.lex()||1)!="number"&&(ft instanceof Array&&(ft=(O=ft).pop()),ft=I.symbols_[ft]||ft),ft}typeof K.yy.parseError=="function"?this.parseError=K.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(ft){L.length=L.length-2*ft,B.length=B.length-ft,R.length=R.length-ft},"popStack"),w(tt,"lex");for(var at,ut,st,_t,X,Et,H,ct,dt={};;){if(ut=L[L.length-1],this.defaultActions[ut]?st=this.defaultActions[ut]:(at==null&&(at=tt()),st=M[ut]&&M[ut][at]),st===void 0||!st.length||!st[0]){var Nt="";for(X in ct=[],M[ut])this.terminals_[X]&&X>2&&ct.push("'"+this.terminals_[X]+"'");Nt=Q.showPosition?"Parse error on line "+(P+1)+`:
`+Q.showPosition()+`
Expecting `+ct.join(", ")+", got '"+(this.terminals_[at]||at)+"'":"Parse error on line "+(P+1)+": Unexpected "+(at==1?"end of input":"'"+(this.terminals_[at]||at)+"'"),this.parseError(Nt,{text:Q.match,token:this.terminals_[at]||at,line:Q.yylineno,loc:V,expected:ct})}if(st[0]instanceof Array&&st.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+at);switch(st[0]){case 1:L.push(at),B.push(Q.yytext),R.push(Q.yylloc),L.push(st[1]),at=null,U=Q.yyleng,F=Q.yytext,P=Q.yylineno,V=Q.yylloc;break;case 2:if(Et=this.productions_[st[1]][1],dt.$=B[B.length-Et],dt._$={first_line:R[R.length-(Et||1)].first_line,last_line:R[R.length-1].last_line,first_column:R[R.length-(Et||1)].first_column,last_column:R[R.length-1].last_column},rt&&(dt._$.range=[R[R.length-(Et||1)].range[0],R[R.length-1].range[1]]),(_t=this.performAction.apply(dt,[F,U,P,K.yy,st[1],B,R].concat(W)))!==void 0)return _t;Et&&(L=L.slice(0,-1*Et*2),B=B.slice(0,-1*Et),R=R.slice(0,-1*Et)),L.push(this.productions_[st[1]][0]),B.push(dt.$),R.push(dt._$),H=M[L[L.length-2]][L[L.length-1]],L.push(H);break;case 3:return!0}}return!0},"parse")},D=function(){return{EOF:1,parseError:w(function($,I){if(!this.yy.parser)throw new Error($);this.yy.parser.parseError($,I)},"parseError"),setInput:w(function($,I){return this.yy=I||this.yy||{},this._input=$,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var $=this._input[0];return this.yytext+=$,this.yyleng++,this.offset++,this.match+=$,this.matched+=$,$.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$},"input"),unput:w(function($){var I=$.length,L=$.split(/(?:\r\n?|\n)/g);this._input=$+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===O.length?this.yylloc.first_column:0)+O[O.length-L.length].length-L[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function($){this.unput(this.match.slice($))},"less"),pastInput:w(function(){var $=this.matched.substr(0,this.matched.length-this.match.length);return($.length>20?"...":"")+$.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var $=this.match;return $.length<20&&($+=this._input.substr(0,20-$.length)),($.substr(0,20)+($.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var $=this.pastInput(),I=new Array($.length+1).join("-");return $+this.upcomingInput()+`
`+I+"^"},"showPosition"),test_match:w(function($,I){var L,O,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),(O=$[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$[0].length},this.yytext+=$[0],this.match+=$[0],this.matches=$,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($[0].length),this.matched+=$[0],L=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var R in B)this[R]=B[R];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var $,I,L,O;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),R=0;R<B.length;R++)if((L=this._input.match(this.rules[B[R]]))&&(!I||L[0].length>I[0].length)){if(I=L,O=R,this.options.backtrack_lexer){if(($=this.test_match(L,B[R]))!==!1)return $;if(this._backtrack){I=!1;continue}return!1}if(!this.options.flex)break}return I?($=this.test_match(I,B[O]))!==!1&&$:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var $=this.next();return $||this.lex()},"lex"),begin:w(function($){this.conditionStack.push($)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function($){return($=this.conditionStack.length-1-Math.abs($||0))>=0?this.conditionStack[$]:"INITIAL"},"topState"),pushState:w(function($){this.begin($)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function($,I,L,O){switch(L){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 15:case 18:case 21:case 24:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:case 9:case 10:case 12:case 13:break;case 11:return 10;case 14:this.begin("href");break;case 16:return 43;case 17:this.begin("callbackname");break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 22:return 42;case 23:this.begin("click");break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}}}();function E(){this.yy={}}return C.lexer=D,w(E,"Parser"),E.prototype=C,C.Parser=E,new E}();fS.parser=fS;var ajt=fS;Ao.extend(YPt),Ao.extend(XPt),Ao.extend(KPt);var gS,Sb,jP={friday:5,saturday:6},Ml="",M8="",B8=void 0,P8="",Ky=[],Zy=[],F8=new Map,z8=[],j8=[],Z0="",H8="",Oit=["active","done","crit","milestone"],U8=[],Qy=!1,q8=!1,G8="sunday",b5="saturday",mS=0,sjt=w(function(){z8=[],j8=[],Z0="",U8=[],zit=0,gS=void 0,Sb=void 0,vi=[],Ml="",M8="",H8="",B8=void 0,P8="",Ky=[],Zy=[],Qy=!1,q8=!1,mS=0,F8=new Map,Gi(),G8="sunday",b5="saturday"},"clear"),ljt=w(function(t){M8=t},"setAxisFormat"),cjt=w(function(){return M8},"getAxisFormat"),ujt=w(function(t){B8=t},"setTickInterval"),hjt=w(function(){return B8},"getTickInterval"),djt=w(function(t){P8=t},"setTodayMarker"),pjt=w(function(){return P8},"getTodayMarker"),fjt=w(function(t){Ml=t},"setDateFormat"),gjt=w(function(){Qy=!0},"enableInclusiveEndDates"),mjt=w(function(){return Qy},"endDatesAreInclusive"),yjt=w(function(){q8=!0},"enableTopAxis"),vjt=w(function(){return q8},"topAxisEnabled"),bjt=w(function(t){H8=t},"setDisplayMode"),xjt=w(function(){return H8},"getDisplayMode"),wjt=w(function(){return Ml},"getDateFormat"),kjt=w(function(t){Ky=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),Tjt=w(function(){return Ky},"getIncludes"),Ejt=w(function(t){Zy=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),_jt=w(function(){return Zy},"getExcludes"),Sjt=w(function(){return F8},"getLinks"),Ajt=w(function(t){Z0=t,z8.push(t)},"addSection"),Cjt=w(function(){return z8},"getSections"),$jt=w(function(){let t=HP(),e=0;for(;!t&&e<10;)t=HP(),e++;return j8=vi},"getTasks"),Mit=w(function(t,e,r,n){return!n.includes(t.format(e.trim()))&&(!(!r.includes("weekends")||t.isoWeekday()!==jP[b5]&&t.isoWeekday()!==jP[b5]+1)||!!r.includes(t.format("dddd").toLowerCase())||r.includes(t.format(e.trim())))},"isInvalidDate"),Njt=w(function(t){G8=t},"setWeekday"),Ijt=w(function(){return G8},"getWeekday"),Ljt=w(function(t){b5=t},"setWeekend"),Bit=w(function(t,e,r,n){if(!r.length||t.manualEndTime)return;let i,o;i=t.startTime instanceof Date?Ao(t.startTime):Ao(t.startTime,e,!0),i=i.add(1,"d"),o=t.endTime instanceof Date?Ao(t.endTime):Ao(t.endTime,e,!0);const[a,s]=Rjt(i,o,e,r,n);t.endTime=a.toDate(),t.renderEndTime=s},"checkTaskDates"),Rjt=w(function(t,e,r,n,i){let o=!1,a=null;for(;t<=e;)o||(a=e.toDate()),o=Mit(t,r,n,i),o&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,a]},"fixTaskDates"),yS=w(function(t,e,r){r=r.trim();const n=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(n!==null){let o=null;for(const s of n.groups.ids.split(" ")){let l=up(s);l!==void 0&&(!o||l.endTime>o.endTime)&&(o=l)}if(o)return o.endTime;const a=new Date;return a.setHours(0,0,0,0),a}let i=Ao(r,e.trim(),!0);if(i.isValid())return i.toDate();{et.debug("Invalid date:"+r),et.debug("With date format:"+e.trim());const o=new Date(r);if(o===void 0||isNaN(o.getTime())||o.getFullYear()<-1e4||o.getFullYear()>1e4)throw new Error("Invalid date:"+r);return o}},"getStartDate"),Pit=w(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),Fit=w(function(t,e,r,n=!1){r=r.trim();const i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let u=null;for(const d of i.groups.ids.split(" ")){let p=up(d);p!==void 0&&(!u||p.startTime<u.startTime)&&(u=p)}if(u)return u.startTime;const h=new Date;return h.setHours(0,0,0,0),h}let o=Ao(r,e.trim(),!0);if(o.isValid())return n&&(o=o.add(1,"d")),o.toDate();let a=Ao(t);const[s,l]=Pit(r);if(!Number.isNaN(s)){const u=a.add(s,l);u.isValid()&&(a=u)}return a.toDate()},"getEndDate"),zit=0,Cf=w(function(t){return t===void 0?"task"+(zit+=1):t},"parseId"),Djt=w(function(t,e){let r;r=e.substr(0,1)===":"?e.substr(1,e.length):e;const n=r.split(","),i={};W8(n,i,Oit);for(let a=0;a<n.length;a++)n[a]=n[a].trim();let o="";switch(n.length){case 1:i.id=Cf(),i.startTime=t.endTime,o=n[0];break;case 2:i.id=Cf(),i.startTime=yS(void 0,Ml,n[0]),o=n[1];break;case 3:i.id=Cf(n[0]),i.startTime=yS(void 0,Ml,n[1]),o=n[2]}return o&&(i.endTime=Fit(i.startTime,Ml,o,Qy),i.manualEndTime=Ao(o,"YYYY-MM-DD",!0).isValid(),Bit(i,Ml,Zy,Ky)),i},"compileData"),Ojt=w(function(t,e){let r;r=e.substr(0,1)===":"?e.substr(1,e.length):e;const n=r.split(","),i={};W8(n,i,Oit);for(let o=0;o<n.length;o++)n[o]=n[o].trim();switch(n.length){case 1:i.id=Cf(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:n[0]};break;case 2:i.id=Cf(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=Cf(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]}}return i},"parseData"),vi=[],jit={},Mjt=w(function(t,e){const r={section:Z0,type:Z0,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},n=Ojt(Sb,e);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=Sb,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=mS,mS++;const i=vi.push(r);Sb=r.id,jit[r.id]=i-1},"addTask"),up=w(function(t){const e=jit[t];return vi[e]},"findTaskById"),Bjt=w(function(t,e){const r={section:Z0,type:Z0,description:t,task:t,classes:[]},n=Djt(gS,e);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,gS=r,j8.push(r)},"addTaskOrg"),HP=w(function(){const t=w(function(r){const n=vi[r];let i="";switch(vi[r].raw.startTime.type){case"prevTaskEnd":{const o=up(n.prevTaskId);n.startTime=o.endTime;break}case"getStartDate":i=yS(void 0,Ml,vi[r].raw.startTime.startData),i&&(vi[r].startTime=i)}return vi[r].startTime&&(vi[r].endTime=Fit(vi[r].startTime,Ml,vi[r].raw.endTime.data,Qy),vi[r].endTime&&(vi[r].processed=!0,vi[r].manualEndTime=Ao(vi[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Bit(vi[r],Ml,Zy,Ky))),vi[r].processed},"compileTask");let e=!0;for(const[r,n]of vi.entries())t(r),e=e&&n.processed;return e},"compileTasks"),Pjt=w(function(t,e){let r=e;Tt().securityLevel!=="loose"&&(r=fh(e)),t.split(",").forEach(function(n){up(n)!==void 0&&(Uit(n,()=>{window.open(r,"_self")}),F8.set(n,r))}),Hit(t,"clickable")},"setLink"),Hit=w(function(t,e){t.split(",").forEach(function(r){let n=up(r);n!==void 0&&n.classes.push(e)})},"setClass"),Fjt=w(function(t,e,r){if(Tt().securityLevel!=="loose"||e===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<n.length;i++){let o=n[i].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),n[i]=o}}n.length===0&&n.push(t),up(t)!==void 0&&Uit(t,()=>{dr.runFunc(e,...n)})},"setClickFun"),Uit=w(function(t,e){U8.push(function(){const r=document.querySelector(`[id="${t}"]`);r!==null&&r.addEventListener("click",function(){e()})},function(){const r=document.querySelector(`[id="${t}-text"]`);r!==null&&r.addEventListener("click",function(){e()})})},"pushFun"),zjt=w(function(t,e,r){t.split(",").forEach(function(n){Fjt(n,e,r)}),Hit(t,"clickable")},"setClickEvent"),jjt=w(function(t){U8.forEach(function(e){e(t)})},"bindFunctions"),Hjt={getConfig:w(()=>Tt().gantt,"getConfig"),clear:sjt,setDateFormat:fjt,getDateFormat:wjt,enableInclusiveEndDates:gjt,endDatesAreInclusive:mjt,enableTopAxis:yjt,topAxisEnabled:vjt,setAxisFormat:ljt,getAxisFormat:cjt,setTickInterval:ujt,getTickInterval:hjt,setTodayMarker:djt,getTodayMarker:pjt,setAccTitle:Wi,getAccTitle:so,setDiagramTitle:ta,getDiagramTitle:uo,setDisplayMode:bjt,getDisplayMode:xjt,setAccDescription:lo,getAccDescription:co,addSection:Ajt,getSections:Cjt,getTasks:$jt,addTask:Mjt,findTaskById:up,addTaskOrg:Bjt,setIncludes:kjt,getIncludes:Tjt,setExcludes:Ejt,getExcludes:_jt,setClickEvent:zjt,setLink:Pjt,getLinks:Sjt,bindFunctions:jjt,parseDuration:Pit,isInvalidDate:Mit,setWeekday:Njt,getWeekday:Ijt,setWeekend:Ljt};function W8(t,e,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const o=new RegExp("^\\s*"+i+"\\s*$");t[0].match(o)&&(e[i]=!0,t.shift(1),n=!0)})}w(W8,"getTaskTags");var nu,Ujt=w(function(){et.debug("Something is calling, setConf, remove the call")},"setConf"),UP={monday:Qm,tuesday:git,wednesday:mit,thursday:Hd,friday:yit,saturday:vit,sunday:Xy},qjt=w((t,e)=>{let r=[...t].map(()=>-1/0),n=[...t].sort((o,a)=>o.startTime-a.startTime||o.order-a.order),i=0;for(const o of n)for(let a=0;a<r.length;a++)if(o.startTime>=r[a]){r[a]=o.endTime,o.order=a+e,a>i&&(i=a);break}return i},"getMaxIntersections"),Gjt={parser:ajt,db:Hjt,renderer:{setConf:Ujt,draw:w(function(t,e,r,n){const i=Tt().gantt,o=Tt().securityLevel;let a;o==="sandbox"&&(a=he("#i"+e));const s=he(o==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=o==="sandbox"?a.nodes()[0].contentDocument:document,u=l.getElementById(e);(nu=u.parentElement.offsetWidth)===void 0&&(nu=1200),i.useWidth!==void 0&&(nu=i.useWidth);const h=n.db.getTasks();let d=[];for(const T of h)d.push(T.type);d=S(d);const p={};let f=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const T={};for(const C of h)T[C.section]===void 0?T[C.section]=[C]:T[C.section].push(C);let A=0;for(const C of Object.keys(T)){const D=qjt(T[C],A)+1;A+=D,f+=D*(i.barHeight+i.barGap),p[C]=D}}else{f+=h.length*(i.barHeight+i.barGap);for(const T of d)p[T]=h.filter(A=>A.type===T).length}u.setAttribute("viewBox","0 0 "+nu+" "+f);const g=s.select(`[id="${e}"]`),m=Izt().domain([Lzt(h,function(T){return T.startTime}),Rzt(h,function(T){return T.endTime})]).rangeRound([0,nu-i.leftPadding-i.rightPadding]);function y(T,A){const C=T.startTime,D=A.startTime;let E=0;return C>D?E=1:C<D&&(E=-1),E}function v(T,A,C){const D=i.barHeight,E=D+i.barGap,$=i.topPadding,I=i.leftPadding,L=K0().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(Zzt);b(E,$,I,A,C,T,n.db.getExcludes(),n.db.getIncludes()),k(I,$,A,C),x(T,E,$,I,D,L,A),N(E,$),_(I,$,A,C)}function x(T,A,C,D,E,$,I){const L=[...new Set(T.map(R=>R.order))].map(R=>T.find(M=>M.order===R));g.append("g").selectAll("rect").data(L).enter().append("rect").attr("x",0).attr("y",function(R,M){return R.order*A+C-2}).attr("width",function(){return I-i.rightPadding/2}).attr("height",A).attr("class",function(R){for(const[M,F]of d.entries())if(R.type===F)return"section section"+M%i.numberSectionStyles;return"section section0"});const O=g.append("g").selectAll("rect").data(T).enter(),B=n.db.getLinks();if(O.append("rect").attr("id",function(R){return R.id}).attr("rx",3).attr("ry",3).attr("x",function(R){return R.milestone?m(R.startTime)+D+.5*(m(R.endTime)-m(R.startTime))-.5*E:m(R.startTime)+D}).attr("y",function(R,M){return R.order*A+C}).attr("width",function(R){return R.milestone?E:m(R.renderEndTime||R.endTime)-m(R.startTime)}).attr("height",E).attr("transform-origin",function(R,M){return M=R.order,(m(R.startTime)+D+.5*(m(R.endTime)-m(R.startTime))).toString()+"px "+(M*A+C+.5*E).toString()+"px"}).attr("class",function(R){let M="";R.classes.length>0&&(M=R.classes.join(" "));let F=0;for(const[U,W]of d.entries())R.type===W&&(F=U%i.numberSectionStyles);let P="";return R.active?R.crit?P+=" activeCrit":P=" active":R.done?P=R.crit?" doneCrit":" done":R.crit&&(P+=" crit"),P.length===0&&(P=" task"),R.milestone&&(P=" milestone "+P),P+=F,P+=" "+M,"task"+P}),O.append("text").attr("id",function(R){return R.id+"-text"}).text(function(R){return R.task}).attr("font-size",i.fontSize).attr("x",function(R){let M=m(R.startTime),F=m(R.renderEndTime||R.endTime);R.milestone&&(M+=.5*(m(R.endTime)-m(R.startTime))-.5*E),R.milestone&&(F=M+E);const P=this.getBBox().width;return P>F-M?F+P+1.5*i.leftPadding>I?M+D-5:F+D+5:(F-M)/2+M+D}).attr("y",function(R,M){return R.order*A+i.barHeight/2+(i.fontSize/2-2)+C}).attr("text-height",E).attr("class",function(R){const M=m(R.startTime);let F=m(R.endTime);R.milestone&&(F=M+E);const P=this.getBBox().width;let U="";R.classes.length>0&&(U=R.classes.join(" "));let W=0;for(const[K,G]of d.entries())R.type===G&&(W=K%i.numberSectionStyles);let Q="";return R.active&&(Q=R.crit?"activeCritText"+W:"activeText"+W),R.done?Q=R.crit?Q+" doneCritText"+W:Q+" doneText"+W:R.crit&&(Q=Q+" critText"+W),R.milestone&&(Q+=" milestoneText"),P>F-M?F+P+1.5*i.leftPadding>I?U+" taskTextOutsideLeft taskTextOutside"+W+" "+Q:U+" taskTextOutsideRight taskTextOutside"+W+" "+Q+" width-"+P:U+" taskText taskText"+W+" "+Q+" width-"+P}),Tt().securityLevel==="sandbox"){let R;R=he("#i"+e);const M=R.nodes()[0].contentDocument;O.filter(function(F){return B.has(F.id)}).each(function(F){var P=M.querySelector("#"+F.id),U=M.querySelector("#"+F.id+"-text");const W=P.parentNode;var Q=M.createElement("a");Q.setAttribute("xlink:href",B.get(F.id)),Q.setAttribute("target","_top"),W.appendChild(Q),Q.appendChild(P),Q.appendChild(U)})}}function b(T,A,C,D,E,$,I,L){if(I.length===0&&L.length===0)return;let O,B;for(const{startTime:U,endTime:W}of $)(O===void 0||U<O)&&(O=U),(B===void 0||W>B)&&(B=W);if(!O||!B)return;if(Ao(B).diff(Ao(O),"year")>5)return void et.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");const R=n.db.getDateFormat(),M=[];let F=null,P=Ao(O);for(;P.valueOf()<=B;)n.db.isInvalidDate(P,R,I,L)?F?F.end=P:F={start:P,end:P}:F&&(M.push(F),F=null),P=P.add(1,"d");g.append("g").selectAll("rect").data(M).enter().append("rect").attr("id",function(U){return"exclude-"+U.start.format("YYYY-MM-DD")}).attr("x",function(U){return m(U.start)+C}).attr("y",i.gridLineStartPadding).attr("width",function(U){const W=U.end.add(1,"day");return m(W)-m(U.start)}).attr("height",E-A-i.gridLineStartPadding).attr("transform-origin",function(U,W){return(m(U.start)+C+.5*(m(U.end)-m(U.start))).toString()+"px "+(W*T+.5*E).toString()+"px"}).attr("class","exclude-range")}function k(T,A,C,D){let E=ojt(m).tickSize(-D+A+i.gridLineStartPadding).tickFormat(g5(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const $=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if($!==null){const I=$[1],L=$[2],O=n.db.getWeekday()||i.weekday;switch(L){case"millisecond":E.ticks(Sf.every(I));break;case"second":E.ticks(Du.every(I));break;case"minute":E.ticks(Jm.every(I));break;case"hour":E.ticks(ty.every(I));break;case"day":E.ticks(Ud.every(I));break;case"week":E.ticks(UP[O].every(I));break;case"month":E.ticks(ey.every(I))}}if(g.append("g").attr("class","grid").attr("transform","translate("+T+", "+(D-50)+")").call(E).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let I=ijt(m).tickSize(-D+A+i.gridLineStartPadding).tickFormat(g5(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if($!==null){const L=$[1],O=$[2],B=n.db.getWeekday()||i.weekday;switch(O){case"millisecond":I.ticks(Sf.every(L));break;case"second":I.ticks(Du.every(L));break;case"minute":I.ticks(Jm.every(L));break;case"hour":I.ticks(ty.every(L));break;case"day":I.ticks(Ud.every(L));break;case"week":I.ticks(UP[B].every(L));break;case"month":I.ticks(ey.every(L))}}g.append("g").attr("class","grid").attr("transform","translate("+T+", "+A+")").call(I).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function N(T,A){let C=0;const D=Object.keys(p).map(E=>[E,p[E]]);g.append("g").selectAll("text").data(D).enter().append(function(E){const $=E[0].split(ne.lineBreakRegex),I=-($.length-1)/2,L=l.createElementNS("http://www.w3.org/2000/svg","text");L.setAttribute("dy",I+"em");for(const[O,B]of $.entries()){const R=l.createElementNS("http://www.w3.org/2000/svg","tspan");R.setAttribute("alignment-baseline","central"),R.setAttribute("x","10"),O>0&&R.setAttribute("dy","1em"),R.textContent=B,L.appendChild(R)}return L}).attr("x",10).attr("y",function(E,$){if(!($>0))return E[1]*T/2+A;for(let I=0;I<$;I++)return C+=D[$-1][1],E[1]*T/2+C*T+A}).attr("font-size",i.sectionFontSize).attr("class",function(E){for(const[$,I]of d.entries())if(E[0]===I)return"sectionTitle sectionTitle"+$%i.numberSectionStyles;return"sectionTitle"})}function _(T,A,C,D){const E=n.db.getTodayMarker();if(E==="off")return;const $=g.append("g").attr("class","today"),I=new Date,L=$.append("line");L.attr("x1",m(I)+T).attr("x2",m(I)+T).attr("y1",i.titleTopMargin).attr("y2",D-i.titleTopMargin).attr("class","today"),E!==""&&L.attr("style",E.replace(/,/g,";"))}function S(T){const A={},C=[];for(let D=0,E=T.length;D<E;++D)Object.prototype.hasOwnProperty.call(A,T[D])||(A[T[D]]=!0,C.push(T[D]));return C}w(y,"taskCompare"),h.sort(y),v(h,nu,f),Ro(g,f,nu,i.useMaxWidth),g.append("text").text(n.db.getDiagramTitle()).attr("x",nu/2).attr("y",i.titleTopMargin).attr("class","titleText"),w(v,"makeGantt"),w(x,"drawRects"),w(b,"drawExcludeDays"),w(k,"makeGrid"),w(N,"vertLabels"),w(_,"drawToday"),w(S,"checkUnique")},"draw")},styles:w(t=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles")};const Wjt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Gjt},Symbol.toStringTag,{value:"Module"}));var Vjt={version:c_},Yjt={parser:{parse:w(async t=>{const e=await _g("info",t);et.debug(e)},"parse")},db:{getVersion:w(()=>Vjt.version,"getVersion")},renderer:{draw:w((t,e,r)=>{et.debug(`rendering info diagram
`+t);const n=mh(e);Ro(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw")}};const Xjt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Yjt},Symbol.toStringTag,{value:"Module"}));function Kjt(t){return t.innerRadius}function Zjt(t){return t.outerRadius}function Qjt(t){return t.startAngle}function Jjt(t){return t.endAngle}function tHt(t){return t&&t.padAngle}function f2(t,e,r,n,i,o,a){var s=t-r,l=e-n,u=(a?o:-o)/tf(s*s+l*l),h=u*l,d=-u*s,p=t+h,f=e+d,g=r+h,m=n+d,y=(p+g)/2,v=(f+m)/2,x=g-p,b=m-f,k=x*x+b*b,N=i-o,_=p*m-g*f,S=(b<0?-1:1)*tf(P0t(0,N*N*k-_*_)),T=(_*b-x*S)/k,A=(-_*x-b*S)/k,C=(_*b+x*S)/k,D=(-_*x+b*S)/k,E=T-y,$=A-v,I=C-y,L=D-v;return E*E+$*$>I*I+L*L&&(T=C,A=D),{cx:T,cy:A,x01:-h,y01:-d,x11:T*(i/N-1),y11:A*(i/N-1)}}function Q0(){var t=Kjt,e=Zjt,r=Kn(0),n=null,i=Qjt,o=Jjt,a=tHt,s=null,l=_Y(u);function u(){var h,d,p=+t.apply(this,arguments),f=+e.apply(this,arguments),g=i.apply(this,arguments)-lx,m=o.apply(this,arguments)-lx,y=i9(m-g),v=m>g;if(s||(s=h=l()),f<p&&(d=f,f=p,p=d),f>xo)if(y>Y2-xo)s.moveTo(f*Eh(g),f*ml(g)),s.arc(0,0,f,g,m,!v),p>xo&&(s.moveTo(p*Eh(m),p*ml(m)),s.arc(0,0,p,m,g,v));else{var x,b,k=g,N=m,_=g,S=m,T=y,A=y,C=a.apply(this,arguments)/2,D=C>xo&&(n?+n.apply(this,arguments):tf(p*p+f*f)),E=pw(i9(f-p)/2,+r.apply(this,arguments)),$=E,I=E;if(D>xo){var L=o9(D/p*ml(C)),O=o9(D/f*ml(C));(T-=2*L)>xo?(_+=L*=v?1:-1,S-=L):(T=0,_=S=(g+m)/2),(A-=2*O)>xo?(k+=O*=v?1:-1,N-=O):(A=0,k=N=(g+m)/2)}var B=f*Eh(k),R=f*ml(k),M=p*Eh(S),F=p*ml(S);if(E>xo){var P,U=f*Eh(N),W=f*ml(N),Q=p*Eh(_),K=p*ml(_);if(y<Cm)if(P=function(st,_t,X,Et,H,ct,dt,Nt){var ft=X-st,Dt=Et-_t,$t=dt-H,mt=Nt-ct,It=mt*ft-$t*Dt;if(!(It*It<xo))return[st+(It=($t*(_t-ct)-mt*(st-H))/It)*ft,_t+It*Dt]}(B,R,Q,K,U,W,M,F)){var G=B-P[0],V=R-P[1],rt=U-P[0],tt=W-P[1],at=1/ml(F0t((G*rt+V*tt)/(tf(G*G+V*V)*tf(rt*rt+tt*tt)))/2),ut=tf(P[0]*P[0]+P[1]*P[1]);$=pw(E,(p-ut)/(at-1)),I=pw(E,(f-ut)/(at+1))}else $=I=0}A>xo?I>xo?(x=f2(Q,K,B,R,f,I,v),b=f2(U,W,M,F,f,I,v),s.moveTo(x.cx+x.x01,x.cy+x.y01),I<E?s.arc(x.cx,x.cy,I,fo(x.y01,x.x01),fo(b.y01,b.x01),!v):(s.arc(x.cx,x.cy,I,fo(x.y01,x.x01),fo(x.y11,x.x11),!v),s.arc(0,0,f,fo(x.cy+x.y11,x.cx+x.x11),fo(b.cy+b.y11,b.cx+b.x11),!v),s.arc(b.cx,b.cy,I,fo(b.y11,b.x11),fo(b.y01,b.x01),!v))):(s.moveTo(B,R),s.arc(0,0,f,k,N,!v)):s.moveTo(B,R),p>xo&&T>xo?$>xo?(x=f2(M,F,U,W,p,-$,v),b=f2(B,R,Q,K,p,-$,v),s.lineTo(x.cx+x.x01,x.cy+x.y01),$<E?s.arc(x.cx,x.cy,$,fo(x.y01,x.x01),fo(b.y01,b.x01),!v):(s.arc(x.cx,x.cy,$,fo(x.y01,x.x01),fo(x.y11,x.x11),!v),s.arc(0,0,p,fo(x.cy+x.y11,x.cx+x.x11),fo(b.cy+b.y11,b.cx+b.x11),v),s.arc(b.cx,b.cy,$,fo(b.y11,b.x11),fo(b.y01,b.x01),!v))):s.arc(0,0,p,S,_,v):s.lineTo(M,F)}else s.moveTo(0,0);if(s.closePath(),h)return s=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Cm/2;return[Eh(d)*h,ml(d)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Kn(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Kn(+h),u):e},u.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:Kn(+h),u):r},u.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Kn(+h),u):n},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Kn(+h),u):i},u.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:Kn(+h),u):o},u.padAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Kn(+h),u):a},u.context=function(h){return arguments.length?(s=h??null,u):s},u}let qP=class extends Map{constructor(e,r=eHt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(GP(this,e))}has(e){return super.has(GP(this,e))}set(e,r){return super.set(function({_intern:n,_key:i},o){const a=i(o);return n.has(a)?n.get(a):(n.set(a,o),o)}(this,e),r)}delete(e){return super.delete(function({_intern:r,_key:n},i){const o=n(i);return r.has(o)&&(i=r.get(o),r.delete(o)),i}(this,e))}};function GP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function eHt(t){return t!==null&&typeof t=="object"?t.valueOf():t}const WP=Symbol("implicit");function N3(){var t=new qP,e=[],r=[],n=WP;function i(o){let a=t.get(o);if(a===void 0){if(n!==WP)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new qP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return N3(e,r).unknown(n)},$3.apply(i,arguments),i}function rHt(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function nHt(t){return t}function iHt(){var t=nHt,e=rHt,r=null,n=Kn(0),i=Kn(Y2),o=Kn(0);function a(s){var l,u,h,d,p,f=(s=EY(s)).length,g=0,m=new Array(f),y=new Array(f),v=+n.apply(this,arguments),x=Math.min(Y2,Math.max(-Y2,i.apply(this,arguments)-v)),b=Math.min(Math.abs(x)/f,o.apply(this,arguments)),k=b*(x<0?-1:1);for(l=0;l<f;++l)(p=y[m[l]=l]=+t(s[l],l,s))>0&&(g+=p);for(e!=null?m.sort(function(N,_){return e(y[N],y[_])}):r!=null&&m.sort(function(N,_){return r(s[N],s[_])}),l=0,h=g?(x-f*k)/g:0;l<f;++l,v=d)u=m[l],d=v+((p=y[u])>0?p*h:0)+k,y[u]={data:s[u],index:l,value:p,startAngle:v,endAngle:d,padAngle:b};return y}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,r=null,a):e},a.sort=function(s){return arguments.length?(r=s,e=null,a):r},a.startAngle=function(s){return arguments.length?(n=typeof s=="function"?s:Kn(+s),a):n},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Kn(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:Kn(+s),a):o},a}var qit=Mr.pie,V8={sections:new Map,showData:!1,config:qit},g2=V8.sections,NT=V8.showData,oHt=structuredClone(qit),Git={getConfig:w(()=>structuredClone(oHt),"getConfig"),clear:w(()=>{g2=new Map,NT=V8.showData,Gi()},"clear"),setDiagramTitle:ta,getDiagramTitle:uo,setAccTitle:Wi,getAccTitle:so,setAccDescription:lo,getAccDescription:co,addSection:w(({label:t,value:e})=>{g2.has(t)||(g2.set(t,e),et.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),getSections:w(()=>g2,"getSections"),setShowData:w(t=>{NT=t},"setShowData"),getShowData:w(()=>NT,"getShowData")},aHt=w((t,e)=>{jy(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),sHt={parse:w(async t=>{const e=await _g("pie",t);et.debug(e),aHt(e,Git)},"parse")},lHt=w(t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t.pieOuterStrokeColor};
    stroke-width: ${t.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,"getStyles"),cHt=w(t=>{const e=[...t.entries()].map(r=>({label:r[0],value:r[1]})).sort((r,n)=>n.value-r.value);return iHt().value(r=>r.value)(e)},"createPieArcs"),uHt={parser:sHt,db:Git,renderer:{draw:w((t,e,r,n)=>{et.debug(`rendering pie chart
`+t);const i=n.db,o=Tt(),a=Xc(i.getConfig(),o.pie),s=18,l=450,u=l,h=mh(e),d=h.append("g");d.attr("transform","translate(225,225)");const{themeVariables:p}=o;let[f]=gh(p.pieOuterStrokeWidth);f??(f=2);const g=a.textPosition,m=Math.min(u,l)/2-40,y=Q0().innerRadius(0).outerRadius(m),v=Q0().innerRadius(m*g).outerRadius(m*g);d.append("circle").attr("cx",0).attr("cy",0).attr("r",m+f/2).attr("class","pieOuterCircle");const x=i.getSections(),b=cHt(x),k=[p.pie1,p.pie2,p.pie3,p.pie4,p.pie5,p.pie6,p.pie7,p.pie8,p.pie9,p.pie10,p.pie11,p.pie12],N=N3(k);d.selectAll("mySlices").data(b).enter().append("path").attr("d",y).attr("fill",A=>N(A.data.label)).attr("class","pieCircle");let _=0;x.forEach(A=>{_+=A}),d.selectAll("mySlices").data(b).enter().append("text").text(A=>(A.data.value/_*100).toFixed(0)+"%").attr("transform",A=>"translate("+v.centroid(A)+")").style("text-anchor","middle").attr("class","slice"),d.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");const S=d.selectAll(".legend").data(N.domain()).enter().append("g").attr("class","legend").attr("transform",(A,C)=>"translate(216,"+(22*C-22*N.domain().length/2)+")");S.append("rect").attr("width",s).attr("height",s).style("fill",N).style("stroke",N),S.data(b).append("text").attr("x",22).attr("y",14).text(A=>{const{label:C,value:D}=A.data;return i.getShowData()?`${C} [${D}]`:C});const T=512+Math.max(...S.selectAll("text").nodes().map(A=>(A==null?void 0:A.getBoundingClientRect().width)??0));h.attr("viewBox",`0 0 ${T} 450`),Ro(h,l,T,a.useMaxWidth)},"draw")},styles:lHt};const hHt=Object.freeze(Object.defineProperty({__proto__:null,diagram:uHt},Symbol.toStringTag,{value:"Module"}));var vS=function(){var t=w(function(nt,Ut,Ft,qt){for(Ft=Ft||{},qt=nt.length;qt--;Ft[nt[qt]]=Ut);return Ft},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],o=[1,7],a=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],s=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],h=[1,37],d=[1,36],p=[1,38],f=[1,35],g=[1,43],m=[1,41],y=[1,14],v=[1,23],x=[1,18],b=[1,19],k=[1,20],N=[1,21],_=[1,22],S=[1,24],T=[1,25],A=[1,26],C=[1,27],D=[1,28],E=[1,29],$=[1,32],I=[1,33],L=[1,34],O=[1,39],B=[1,40],R=[1,42],M=[1,44],F=[1,62],P=[1,61],U=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],W=[1,65],Q=[1,66],K=[1,67],G=[1,68],V=[1,69],rt=[1,70],tt=[1,71],at=[1,72],ut=[1,73],st=[1,74],_t=[1,75],X=[1,76],Et=[4,5,6,7,8,9,10,11,12,13,14,15,18],H=[1,90],ct=[1,91],dt=[1,92],Nt=[1,99],ft=[1,93],Dt=[1,96],$t=[1,94],mt=[1,95],It=[1,97],gt=[1,98],xt=[1,102],Ct=[10,55,56,57],lt=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ot={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:w(function(nt,Ut,Ft,qt,Wt,Ht,Xe){var Vt=Ht.length-1;switch(Wt){case 23:case 68:this.$=Ht[Vt];break;case 24:case 69:this.$=Ht[Vt-1]+""+Ht[Vt];break;case 26:this.$=Ht[Vt-1]+Ht[Vt];break;case 27:this.$=[Ht[Vt].trim()];break;case 28:Ht[Vt-2].push(Ht[Vt].trim()),this.$=Ht[Vt-2];break;case 29:this.$=Ht[Vt-4],qt.addClass(Ht[Vt-2],Ht[Vt]);break;case 37:this.$=[];break;case 42:this.$=Ht[Vt].trim(),qt.setDiagramTitle(this.$);break;case 43:this.$=Ht[Vt].trim(),qt.setAccTitle(this.$);break;case 44:case 45:this.$=Ht[Vt].trim(),qt.setAccDescription(this.$);break;case 46:qt.addSection(Ht[Vt].substr(8)),this.$=Ht[Vt].substr(8);break;case 47:qt.addPoint(Ht[Vt-3],"",Ht[Vt-1],Ht[Vt],[]);break;case 48:qt.addPoint(Ht[Vt-4],Ht[Vt-3],Ht[Vt-1],Ht[Vt],[]);break;case 49:qt.addPoint(Ht[Vt-4],"",Ht[Vt-2],Ht[Vt-1],Ht[Vt]);break;case 50:qt.addPoint(Ht[Vt-5],Ht[Vt-4],Ht[Vt-2],Ht[Vt-1],Ht[Vt]);break;case 51:qt.setXAxisLeftText(Ht[Vt-2]),qt.setXAxisRightText(Ht[Vt]);break;case 52:Ht[Vt-1].text+=" ⟶ ",qt.setXAxisLeftText(Ht[Vt-1]);break;case 53:qt.setXAxisLeftText(Ht[Vt]);break;case 54:qt.setYAxisBottomText(Ht[Vt-2]),qt.setYAxisTopText(Ht[Vt]);break;case 55:Ht[Vt-1].text+=" ⟶ ",qt.setYAxisBottomText(Ht[Vt-1]);break;case 56:qt.setYAxisBottomText(Ht[Vt]);break;case 57:qt.setQuadrant1Text(Ht[Vt]);break;case 58:qt.setQuadrant2Text(Ht[Vt]);break;case 59:qt.setQuadrant3Text(Ht[Vt]);break;case 60:qt.setQuadrant4Text(Ht[Vt]);break;case 64:case 66:this.$={text:Ht[Vt],type:"text"};break;case 65:this.$={text:Ht[Vt-1].text+""+Ht[Vt],type:Ht[Vt-1].type};break;case 67:this.$={text:Ht[Vt],type:"markdown"}}},"anonymous"),table:[{18:e,26:1,27:2,28:r,55:n,56:i,57:o},{1:[3]},{18:e,26:8,27:2,28:r,55:n,56:i,57:o},{18:e,26:9,27:2,28:r,55:n,56:i,57:o},t(a,[2,33],{29:10}),t(s,[2,61]),t(s,[2,62]),t(s,[2,63]),{1:[2,30]},{1:[2,31]},t(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:d,10:p,12:f,13:g,14:m,18:y,25:v,35:x,37:b,39:k,41:N,42:_,48:S,50:T,51:A,52:C,53:D,54:E,60:$,61:I,63:L,64:O,65:B,66:R,67:M}),t(a,[2,34]),{27:45,55:n,56:i,57:o},t(l,[2,37]),t(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:d,10:p,12:f,13:g,14:m,18:y,25:v,35:x,37:b,39:k,41:N,42:_,48:S,50:T,51:A,52:C,53:D,54:E,60:$,61:I,63:L,64:O,65:B,66:R,67:M}),t(l,[2,39]),t(l,[2,40]),t(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(l,[2,45]),t(l,[2,46]),{18:[1,50]},{4:h,5:d,10:p,12:f,13:g,14:m,43:51,58:31,60:$,61:I,63:L,64:O,65:B,66:R,67:M},{4:h,5:d,10:p,12:f,13:g,14:m,43:52,58:31,60:$,61:I,63:L,64:O,65:B,66:R,67:M},{4:h,5:d,10:p,12:f,13:g,14:m,43:53,58:31,60:$,61:I,63:L,64:O,65:B,66:R,67:M},{4:h,5:d,10:p,12:f,13:g,14:m,43:54,58:31,60:$,61:I,63:L,64:O,65:B,66:R,67:M},{4:h,5:d,10:p,12:f,13:g,14:m,43:55,58:31,60:$,61:I,63:L,64:O,65:B,66:R,67:M},{4:h,5:d,10:p,12:f,13:g,14:m,43:56,58:31,60:$,61:I,63:L,64:O,65:B,66:R,67:M},{4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,44:[1,57],47:[1,58],58:60,59:59,63:L,64:O,65:B,66:R,67:M},t(U,[2,64]),t(U,[2,66]),t(U,[2,67]),t(U,[2,70]),t(U,[2,71]),t(U,[2,72]),t(U,[2,73]),t(U,[2,74]),t(U,[2,75]),t(U,[2,76]),t(U,[2,77]),t(U,[2,78]),t(U,[2,79]),t(U,[2,80]),t(a,[2,35]),t(l,[2,38]),t(l,[2,42]),t(l,[2,43]),t(l,[2,44]),{3:64,4:W,5:Q,6:K,7:G,8:V,9:rt,10:tt,11:at,12:ut,13:st,14:_t,15:X,21:63},t(l,[2,53],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,49:[1,77],63:L,64:O,65:B,66:R,67:M}),t(l,[2,56],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,49:[1,78],63:L,64:O,65:B,66:R,67:M}),t(l,[2,57],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,63:L,64:O,65:B,66:R,67:M}),t(l,[2,58],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,63:L,64:O,65:B,66:R,67:M}),t(l,[2,59],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,63:L,64:O,65:B,66:R,67:M}),t(l,[2,60],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,63:L,64:O,65:B,66:R,67:M}),{45:[1,79]},{44:[1,80]},t(U,[2,65]),t(U,[2,81]),t(U,[2,82]),t(U,[2,83]),{3:82,4:W,5:Q,6:K,7:G,8:V,9:rt,10:tt,11:at,12:ut,13:st,14:_t,15:X,18:[1,81]},t(Et,[2,23]),t(Et,[2,1]),t(Et,[2,2]),t(Et,[2,3]),t(Et,[2,4]),t(Et,[2,5]),t(Et,[2,6]),t(Et,[2,7]),t(Et,[2,8]),t(Et,[2,9]),t(Et,[2,10]),t(Et,[2,11]),t(Et,[2,12]),t(l,[2,52],{58:31,43:83,4:h,5:d,10:p,12:f,13:g,14:m,60:$,61:I,63:L,64:O,65:B,66:R,67:M}),t(l,[2,55],{58:31,43:84,4:h,5:d,10:p,12:f,13:g,14:m,60:$,61:I,63:L,64:O,65:B,66:R,67:M}),{46:[1,85]},{45:[1,86]},{4:H,5:ct,6:dt,8:Nt,11:ft,13:Dt,16:89,17:$t,18:mt,19:It,20:gt,22:88,23:87},t(Et,[2,24]),t(l,[2,51],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,63:L,64:O,65:B,66:R,67:M}),t(l,[2,54],{59:59,58:60,4:h,5:d,8:F,10:p,12:f,13:g,14:m,18:P,63:L,64:O,65:B,66:R,67:M}),t(l,[2,47],{22:88,16:89,23:100,4:H,5:ct,6:dt,8:Nt,11:ft,13:Dt,17:$t,18:mt,19:It,20:gt}),{46:[1,101]},t(l,[2,29],{10:xt}),t(Ct,[2,27],{16:103,4:H,5:ct,6:dt,8:Nt,11:ft,13:Dt,17:$t,18:mt,19:It,20:gt}),t(lt,[2,25]),t(lt,[2,13]),t(lt,[2,14]),t(lt,[2,15]),t(lt,[2,16]),t(lt,[2,17]),t(lt,[2,18]),t(lt,[2,19]),t(lt,[2,20]),t(lt,[2,21]),t(lt,[2,22]),t(l,[2,49],{10:xt}),t(l,[2,48],{22:88,16:89,23:104,4:H,5:ct,6:dt,8:Nt,11:ft,13:Dt,17:$t,18:mt,19:It,20:gt}),{4:H,5:ct,6:dt,8:Nt,11:ft,13:Dt,16:89,17:$t,18:mt,19:It,20:gt,22:105},t(lt,[2,26]),t(l,[2,50],{10:xt}),t(Ct,[2,28],{16:103,4:H,5:ct,6:dt,8:Nt,11:ft,13:Dt,17:$t,18:mt,19:It,20:gt})],defaultActions:{8:[2,30],9:[2,31]},parseError:w(function(nt,Ut){if(!Ut.recoverable){var Ft=new Error(nt);throw Ft.hash=Ut,Ft}this.trace(nt)},"parseError"),parse:w(function(nt){var Ut=this,Ft=[0],qt=[],Wt=[null],Ht=[],Xe=this.table,Vt="",xe=0,Kt=0,Xt=Ht.slice.call(arguments,1),pe=Object.create(this.lexer),de={yy:{}};for(var ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ge)&&(de.yy[ge]=this.yy[ge]);pe.setInput(nt,de.yy),de.yy.lexer=pe,de.yy.parser=this,pe.yylloc===void 0&&(pe.yylloc={});var pr=pe.yylloc;Ht.push(pr);var Ne=pe.options&&pe.options.ranges;function Ze(){var zr;return typeof(zr=qt.pop()||pe.lex()||1)!="number"&&(zr instanceof Array&&(zr=(qt=zr).pop()),zr=Ut.symbols_[zr]||zr),zr}typeof de.yy.parseError=="function"?this.parseError=de.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(zr){Ft.length=Ft.length-2*zr,Wt.length=Wt.length-zr,Ht.length=Ht.length-zr},"popStack"),w(Ze,"lex");for(var ke,Ce,be,Zt,Le,Re,hn,nr,dn={};;){if(Ce=Ft[Ft.length-1],this.defaultActions[Ce]?be=this.defaultActions[Ce]:(ke==null&&(ke=Ze()),be=Xe[Ce]&&Xe[Ce][ke]),be===void 0||!be.length||!be[0]){var Wn="";for(Le in nr=[],Xe[Ce])this.terminals_[Le]&&Le>2&&nr.push("'"+this.terminals_[Le]+"'");Wn=pe.showPosition?"Parse error on line "+(xe+1)+`:
`+pe.showPosition()+`
Expecting `+nr.join(", ")+", got '"+(this.terminals_[ke]||ke)+"'":"Parse error on line "+(xe+1)+": Unexpected "+(ke==1?"end of input":"'"+(this.terminals_[ke]||ke)+"'"),this.parseError(Wn,{text:pe.match,token:this.terminals_[ke]||ke,line:pe.yylineno,loc:pr,expected:nr})}if(be[0]instanceof Array&&be.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ce+", token: "+ke);switch(be[0]){case 1:Ft.push(ke),Wt.push(pe.yytext),Ht.push(pe.yylloc),Ft.push(be[1]),ke=null,Kt=pe.yyleng,Vt=pe.yytext,xe=pe.yylineno,pr=pe.yylloc;break;case 2:if(Re=this.productions_[be[1]][1],dn.$=Wt[Wt.length-Re],dn._$={first_line:Ht[Ht.length-(Re||1)].first_line,last_line:Ht[Ht.length-1].last_line,first_column:Ht[Ht.length-(Re||1)].first_column,last_column:Ht[Ht.length-1].last_column},Ne&&(dn._$.range=[Ht[Ht.length-(Re||1)].range[0],Ht[Ht.length-1].range[1]]),(Zt=this.performAction.apply(dn,[Vt,Kt,xe,de.yy,be[1],Wt,Ht].concat(Xt)))!==void 0)return Zt;Re&&(Ft=Ft.slice(0,-1*Re*2),Wt=Wt.slice(0,-1*Re),Ht=Ht.slice(0,-1*Re)),Ft.push(this.productions_[be[1]][0]),Wt.push(dn.$),Ht.push(dn._$),hn=Xe[Ft[Ft.length-2]][Ft[Ft.length-1]],Ft.push(hn);break;case 3:return!0}}return!0},"parse")},Y=function(){return{EOF:1,parseError:w(function(nt,Ut){if(!this.yy.parser)throw new Error(nt);this.yy.parser.parseError(nt,Ut)},"parseError"),setInput:w(function(nt,Ut){return this.yy=Ut||this.yy||{},this._input=nt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var nt=this._input[0];return this.yytext+=nt,this.yyleng++,this.offset++,this.match+=nt,this.matched+=nt,nt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),nt},"input"),unput:w(function(nt){var Ut=nt.length,Ft=nt.split(/(?:\r\n?|\n)/g);this._input=nt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ut),this.offset-=Ut;var qt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ft.length-1&&(this.yylineno-=Ft.length-1);var Wt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ft?(Ft.length===qt.length?this.yylloc.first_column:0)+qt[qt.length-Ft.length].length-Ft[0].length:this.yylloc.first_column-Ut},this.options.ranges&&(this.yylloc.range=[Wt[0],Wt[0]+this.yyleng-Ut]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(nt){this.unput(this.match.slice(nt))},"less"),pastInput:w(function(){var nt=this.matched.substr(0,this.matched.length-this.match.length);return(nt.length>20?"...":"")+nt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var nt=this.match;return nt.length<20&&(nt+=this._input.substr(0,20-nt.length)),(nt.substr(0,20)+(nt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var nt=this.pastInput(),Ut=new Array(nt.length+1).join("-");return nt+this.upcomingInput()+`
`+Ut+"^"},"showPosition"),test_match:w(function(nt,Ut){var Ft,qt,Wt;if(this.options.backtrack_lexer&&(Wt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Wt.yylloc.range=this.yylloc.range.slice(0))),(qt=nt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=qt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:qt?qt[qt.length-1].length-qt[qt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+nt[0].length},this.yytext+=nt[0],this.match+=nt[0],this.matches=nt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(nt[0].length),this.matched+=nt[0],Ft=this.performAction.call(this,this.yy,this,Ut,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ft)return Ft;if(this._backtrack){for(var Ht in Wt)this[Ht]=Wt[Ht];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var nt,Ut,Ft,qt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Wt=this._currentRules(),Ht=0;Ht<Wt.length;Ht++)if((Ft=this._input.match(this.rules[Wt[Ht]]))&&(!Ut||Ft[0].length>Ut[0].length)){if(Ut=Ft,qt=Ht,this.options.backtrack_lexer){if((nt=this.test_match(Ft,Wt[Ht]))!==!1)return nt;if(this._backtrack){Ut=!1;continue}return!1}if(!this.options.flex)break}return Ut?(nt=this.test_match(Ut,Wt[qt]))!==!1&&nt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var nt=this.next();return nt||this.lex()},"lex"),begin:w(function(nt){this.conditionStack.push(nt)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(nt){return(nt=this.conditionStack.length-1-Math.abs(nt||0))>=0?this.conditionStack[nt]:"INITIAL"},"topState"),pushState:w(function(nt){this.begin(nt)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(nt,Ut,Ft,qt){switch(Ft){case 0:case 1:case 3:break;case 2:return 55;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 23:case 25:case 31:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 24:this.begin("string");break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}}}();function Ot(){this.yy={}}return ot.lexer=Y,w(Ot,"Parser"),Ot.prototype=ot,ot.Parser=Ot,new Ot}();vS.parser=vS;var dHt=vS,Fo=IA(),r0,pHt=(r0=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var e,r,n,i,o,a,s,l,u,h,d,p,f,g,m,y,v,x;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((e=Mr.quadrantChart)==null?void 0:e.chartWidth)||500,chartWidth:((r=Mr.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=Mr.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=Mr.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((o=Mr.quadrantChart)==null?void 0:o.quadrantPadding)||5,xAxisLabelPadding:((a=Mr.quadrantChart)==null?void 0:a.xAxisLabelPadding)||5,yAxisLabelPadding:((s=Mr.quadrantChart)==null?void 0:s.yAxisLabelPadding)||5,xAxisLabelFontSize:((l=Mr.quadrantChart)==null?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=Mr.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((h=Mr.quadrantChart)==null?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:((d=Mr.quadrantChart)==null?void 0:d.quadrantTextTopPadding)||5,pointTextPadding:((p=Mr.quadrantChart)==null?void 0:p.pointTextPadding)||5,pointLabelFontSize:((f=Mr.quadrantChart)==null?void 0:f.pointLabelFontSize)||12,pointRadius:((g=Mr.quadrantChart)==null?void 0:g.pointRadius)||5,xAxisPosition:((m=Mr.quadrantChart)==null?void 0:m.xAxisPosition)||"top",yAxisPosition:((y=Mr.quadrantChart)==null?void 0:y.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((v=Mr.quadrantChart)==null?void 0:v.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((x=Mr.quadrantChart)==null?void 0:x.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Fo.quadrant1Fill,quadrant2Fill:Fo.quadrant2Fill,quadrant3Fill:Fo.quadrant3Fill,quadrant4Fill:Fo.quadrant4Fill,quadrant1TextFill:Fo.quadrant1TextFill,quadrant2TextFill:Fo.quadrant2TextFill,quadrant3TextFill:Fo.quadrant3TextFill,quadrant4TextFill:Fo.quadrant4TextFill,quadrantPointFill:Fo.quadrantPointFill,quadrantPointTextFill:Fo.quadrantPointTextFill,quadrantXAxisTextFill:Fo.quadrantXAxisTextFill,quadrantYAxisTextFill:Fo.quadrantYAxisTextFill,quadrantTitleFill:Fo.quadrantTitleFill,quadrantInternalBorderStrokeFill:Fo.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Fo.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,et.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,r){this.classes.set(e,r)}setConfig(e){et.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){et.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,r,n,i){const o=2*this.config.xAxisLabelPadding+this.config.xAxisLabelFontSize,a={top:e==="top"&&r?o:0,bottom:e==="bottom"&&r?o:0},s=2*this.config.yAxisLabelPadding+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&n?s:0,right:this.config.yAxisPosition==="right"&&n?s:0},u=this.config.titleFontSize+2*this.config.titlePadding,h={top:i?u:0},d=this.config.quadrantPadding+l.left,p=this.config.quadrantPadding+a.top+h.top,f=this.config.chartWidth-2*this.config.quadrantPadding-l.left-l.right,g=this.config.chartHeight-2*this.config.quadrantPadding-a.top-a.bottom-h.top;return{xAxisSpace:a,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:p,quadrantWidth:f,quadrantHalfWidth:f/2,quadrantHeight:g,quadrantHalfHeight:g/2}}}getAxisLabels(e,r,n,i){const{quadrantSpace:o,titleSpace:a}=i,{quadrantHalfHeight:s,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:p}=o,f=!!this.data.xAxisRightText,g=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&r&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+l-(g?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+s-(g?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){const{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:o,quadrantTop:a}=r,s=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+o,y:a,width:o,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:a,width:o,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:a+n,width:o,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+o,y:a+n,width:o,height:n,fill:this.themeConfig.quadrant4Fill}];for(const l of s)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return s}getQuadrantPoints(e){const{quadrantSpace:r}=e,{quadrantHeight:n,quadrantLeft:i,quadrantTop:o,quadrantWidth:a}=r,s=K0().domain([0,1]).range([i,a+i]),l=K0().domain([0,1]).range([n+o,o]);return this.data.points.map(u=>{const h=this.classes.get(u.className);return h&&(u={...h,...u}),{x:s(u.x),y:l(u.y),fill:u.color??this.themeConfig.quadrantPointFill,radius:u.radius??this.config.pointRadius,text:{text:u.text,fill:this.themeConfig.quadrantPointTextFill,x:s(u.x),y:l(u.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:u.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:u.strokeWidth??"0px"}})}getBorders(e){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=e,{quadrantHalfHeight:i,quadrantHeight:o,quadrantLeft:a,quadrantHalfWidth:s,quadrantTop:l,quadrantWidth:u}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-r,y1:l,x2:a+u+r,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a+u,y1:l+r,x2:a+u,y2:l+o-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-r,y1:l+o,x2:a+u+r,y2:l+o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a,y1:l+r,x2:a,y2:l+o-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+s,y1:l+r,x2:a+s,y2:l+o-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+r,y1:l+i,x2:a+u-r,y2:l+i}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const e=this.config.showXAxis&&!(!this.data.xAxisLeftText&&!this.data.xAxisRightText),r=this.config.showYAxis&&!(!this.data.yAxisTopText&&!this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,o=this.calculateSpace(i,e,r,n);return{points:this.getQuadrantPoints(o),quadrants:this.getQuadrants(o),axisLabels:this.getAxisLabels(i,e,r,o),borderLines:this.getBorders(o),title:this.getTitle(n)}}},w(r0,"QuadrantBuilder"),r0),n0,m2=(n0=class extends Error{constructor(e,r,n){super(`value for ${e} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},w(n0,"InvalidStyleError"),n0);function bS(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}function Wit(t){return!/^\d+$/.test(t)}function Vit(t){return!/^\d+px$/.test(t)}w(bS,"validateHexCode"),w(Wit,"validateNumber"),w(Vit,"validateSizeInPixels");var fHt=Tt();function Jl(t){return nn(t.trim(),fHt)}w(Jl,"textSanitizer");var oo=new pHt;function Yit(t){oo.setData({quadrant1Text:Jl(t.text)})}function Xit(t){oo.setData({quadrant2Text:Jl(t.text)})}function Kit(t){oo.setData({quadrant3Text:Jl(t.text)})}function Zit(t){oo.setData({quadrant4Text:Jl(t.text)})}function Qit(t){oo.setData({xAxisLeftText:Jl(t.text)})}function Jit(t){oo.setData({xAxisRightText:Jl(t.text)})}function tot(t){oo.setData({yAxisTopText:Jl(t.text)})}function eot(t){oo.setData({yAxisBottomText:Jl(t.text)})}function I3(t){const e={};for(const r of t){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(Wit(i))throw new m2(n,i,"number");e.radius=parseInt(i)}else if(n==="color"){if(bS(i))throw new m2(n,i,"hex code");e.color=i}else if(n==="stroke-color"){if(bS(i))throw new m2(n,i,"hex code");e.strokeColor=i}else{if(n!=="stroke-width")throw new Error(`style named ${n} is not supported.`);if(Vit(i))throw new m2(n,i,"number of pixels (eg. 10px)");e.strokeWidth=i}}return e}function rot(t,e,r,n,i){const o=I3(i);oo.addPoints([{x:r,y:n,text:Jl(t.text),className:e,...o}])}function not(t,e){oo.addClass(t,I3(e))}function iot(t){oo.setConfig({chartWidth:t})}function oot(t){oo.setConfig({chartHeight:t})}function aot(){const t=Tt(),{themeVariables:e,quadrantChart:r}=t;return r&&oo.setConfig(r),oo.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),oo.setData({titleText:uo()}),oo.build()}w(Yit,"setQuadrant1Text"),w(Xit,"setQuadrant2Text"),w(Kit,"setQuadrant3Text"),w(Zit,"setQuadrant4Text"),w(Qit,"setXAxisLeftText"),w(Jit,"setXAxisRightText"),w(tot,"setYAxisTopText"),w(eot,"setYAxisBottomText"),w(I3,"parseStyles"),w(rot,"addPoint"),w(not,"addClass"),w(iot,"setWidth"),w(oot,"setHeight"),w(aot,"getQuadrantData");var gHt={parser:dHt,db:{setWidth:iot,setHeight:oot,setQuadrant1Text:Yit,setQuadrant2Text:Xit,setQuadrant3Text:Kit,setQuadrant4Text:Zit,setXAxisLeftText:Qit,setXAxisRightText:Jit,setYAxisTopText:tot,setYAxisBottomText:eot,parseStyles:I3,addPoint:rot,addClass:not,getQuadrantData:aot,clear:w(function(){oo.clear(),Gi()},"clear"),setAccTitle:Wi,getAccTitle:so,setDiagramTitle:ta,getDiagramTitle:uo,getAccDescription:co,setAccDescription:lo},renderer:{draw:w((t,e,r,n)=>{var _,S,T;function i(A){return A==="top"?"hanging":"middle"}function o(A){return A==="left"?"start":"middle"}function a(A){return`translate(${A.x}, ${A.y}) rotate(${A.rotation||0})`}w(i,"getDominantBaseLine"),w(o,"getTextAnchor"),w(a,"getTransformation");const s=Tt();et.debug(`Rendering quadrant chart
`+t);const l=s.securityLevel;let u;l==="sandbox"&&(u=he("#i"+e));const h=he(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`),d=h.append("g").attr("class","main"),p=((_=s.quadrantChart)==null?void 0:_.chartWidth)??500,f=((S=s.quadrantChart)==null?void 0:S.chartHeight)??500;Ro(h,f,p,((T=s.quadrantChart)==null?void 0:T.useMaxWidth)??!0),h.attr("viewBox","0 0 "+p+" "+f),n.db.setHeight(f),n.db.setWidth(p);const g=n.db.getQuadrantData(),m=d.append("g").attr("class","quadrants"),y=d.append("g").attr("class","border"),v=d.append("g").attr("class","data-points"),x=d.append("g").attr("class","labels"),b=d.append("g").attr("class","title");g.title&&b.append("text").attr("x",0).attr("y",0).attr("fill",g.title.fill).attr("font-size",g.title.fontSize).attr("dominant-baseline",i(g.title.horizontalPos)).attr("text-anchor",o(g.title.verticalPos)).attr("transform",a(g.title)).text(g.title.text),g.borderLines&&y.selectAll("line").data(g.borderLines).enter().append("line").attr("x1",A=>A.x1).attr("y1",A=>A.y1).attr("x2",A=>A.x2).attr("y2",A=>A.y2).style("stroke",A=>A.strokeFill).style("stroke-width",A=>A.strokeWidth);const k=m.selectAll("g.quadrant").data(g.quadrants).enter().append("g").attr("class","quadrant");k.append("rect").attr("x",A=>A.x).attr("y",A=>A.y).attr("width",A=>A.width).attr("height",A=>A.height).attr("fill",A=>A.fill),k.append("text").attr("x",0).attr("y",0).attr("fill",A=>A.text.fill).attr("font-size",A=>A.text.fontSize).attr("dominant-baseline",A=>i(A.text.horizontalPos)).attr("text-anchor",A=>o(A.text.verticalPos)).attr("transform",A=>a(A.text)).text(A=>A.text.text),x.selectAll("g.label").data(g.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(A=>A.text).attr("fill",A=>A.fill).attr("font-size",A=>A.fontSize).attr("dominant-baseline",A=>i(A.horizontalPos)).attr("text-anchor",A=>o(A.verticalPos)).attr("transform",A=>a(A));const N=v.selectAll("g.data-point").data(g.points).enter().append("g").attr("class","data-point");N.append("circle").attr("cx",A=>A.x).attr("cy",A=>A.y).attr("r",A=>A.radius).attr("fill",A=>A.fill).attr("stroke",A=>A.strokeColor).attr("stroke-width",A=>A.strokeWidth),N.append("text").attr("x",0).attr("y",0).text(A=>A.text.text).attr("fill",A=>A.text.fill).attr("font-size",A=>A.text.fontSize).attr("dominant-baseline",A=>i(A.text.horizontalPos)).attr("text-anchor",A=>o(A.text.verticalPos)).attr("transform",A=>a(A.text))},"draw")},styles:w(()=>"","styles")};const mHt=Object.freeze(Object.defineProperty({__proto__:null,diagram:gHt},Symbol.toStringTag,{value:"Module"}));function yHt(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((e-t)/r)),o=new Array(i);++n<i;)o[n]=t+n*r;return o}function xS(){var t,e,r=N3().unknown(void 0),n=r.domain,i=r.range,o=0,a=1,s=!1,l=0,u=0,h=.5;function d(){var p=n().length,f=a<o,g=f?a:o,m=f?o:a;t=(m-g)/Math.max(1,p-l+2*u),s&&(t=Math.floor(t)),g+=(m-g-t*(p-l))*h,e=t*(1-l),s&&(g=Math.round(g),e=Math.round(e));var y=yHt(p).map(function(v){return g+t*v});return i(f?y.reverse():y)}return delete r.unknown,r.domain=function(p){return arguments.length?(n(p),d()):n()},r.range=function(p){return arguments.length?([o,a]=p,o=+o,a=+a,d()):[o,a]},r.rangeRound=function(p){return[o,a]=p,o=+o,a=+a,s=!0,d()},r.bandwidth=function(){return e},r.step=function(){return t},r.round=function(p){return arguments.length?(s=!!p,d()):s},r.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},r.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},r.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},r.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),d()):h},r.copy=function(){return xS(n(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(h)},$3.apply(d(),arguments)}var wS=function(){var t=w(function(L,O,B,R){for(B=B||{},R=L.length;R--;B[L[R]]=O);return B},"o"),e=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],o=[1,6],a=[1,7],s=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],h=[1,28],d=[1,29],p=[1,30],f=[1,31],g=[1,32],m=[1,33],y=[1,34],v=[1,35],x=[1,36],b=[1,37],k=[1,43],N=[1,42],_=[1,47],S=[1,50],T=[1,10,12,14,16,18,19,21,23,34,35,36],A=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],D=[1,64],E={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:w(function(L,O,B,R,M,F,P){var U=F.length-1;switch(M){case 5:R.setOrientation(F[U]);break;case 9:R.setDiagramTitle(F[U].text.trim());break;case 12:R.setLineData({text:"",type:"text"},F[U]);break;case 13:R.setLineData(F[U-1],F[U]);break;case 14:R.setBarData({text:"",type:"text"},F[U]);break;case 15:R.setBarData(F[U-1],F[U]);break;case 16:this.$=F[U].trim(),R.setAccTitle(this.$);break;case 17:case 18:this.$=F[U].trim(),R.setAccDescription(this.$);break;case 19:case 27:this.$=F[U-1];break;case 20:this.$=[Number(F[U-2]),...F[U]];break;case 21:this.$=[Number(F[U])];break;case 22:R.setXAxisTitle(F[U]);break;case 23:R.setXAxisTitle(F[U-1]);break;case 24:R.setXAxisTitle({type:"text",text:""});break;case 25:R.setXAxisBand(F[U]);break;case 26:R.setXAxisRangeData(Number(F[U-2]),Number(F[U]));break;case 28:this.$=[F[U-2],...F[U]];break;case 29:this.$=[F[U]];break;case 30:R.setYAxisTitle(F[U]);break;case 31:R.setYAxisTitle(F[U-1]);break;case 32:R.setYAxisTitle({type:"text",text:""});break;case 33:R.setYAxisRangeData(Number(F[U-2]),Number(F[U]));break;case 37:case 38:this.$={text:F[U],type:"text"};break;case 39:this.$={text:F[U],type:"markdown"};break;case 40:this.$=F[U];break;case 41:this.$=F[U-1]+""+F[U]}},"anonymous"),table:[t(e,r,{3:1,4:2,7:4,5:n,34:i,35:o,36:a}),{1:[3]},t(e,r,{4:2,7:4,3:8,5:n,34:i,35:o,36:a}),t(e,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:o,36:a}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(s,[2,34]),t(s,[2,35]),t(s,[2,36]),{1:[2,1]},t(e,r,{4:2,7:4,3:21,5:n,34:i,35:o,36:a}),{1:[2,3]},t(s,[2,5]),t(e,[2,7],{4:22,34:i,35:o,36:a}),{11:23,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},{11:39,13:38,24:k,27:N,29:40,30:41,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},{11:45,15:44,27:_,33:46,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},{11:49,17:48,24:S,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},{11:52,17:51,24:S,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},{20:[1,53]},{22:[1,54]},t(T,[2,18]),{1:[2,2]},t(T,[2,8]),t(T,[2,9]),t(A,[2,37],{40:55,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b}),t(A,[2,38]),t(A,[2,39]),t(C,[2,40]),t(C,[2,42]),t(C,[2,43]),t(C,[2,44]),t(C,[2,45]),t(C,[2,46]),t(C,[2,47]),t(C,[2,48]),t(C,[2,49]),t(C,[2,50]),t(C,[2,51]),t(T,[2,10]),t(T,[2,22],{30:41,29:56,24:k,27:N}),t(T,[2,24]),t(T,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},t(T,[2,11]),t(T,[2,30],{33:60,27:_}),t(T,[2,32]),{31:[1,61]},t(T,[2,12]),{17:62,24:S},{25:63,27:D},t(T,[2,14]),{17:65,24:S},t(T,[2,16]),t(T,[2,17]),t(C,[2,41]),t(T,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(T,[2,31]),{27:[1,69]},t(T,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(T,[2,15]),t(T,[2,26]),t(T,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:h,42:d,43:p,44:f,45:g,46:m,47:y,48:v,49:x,50:b},t(T,[2,33]),t(T,[2,19]),{25:73,27:D},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:w(function(L,O){if(!O.recoverable){var B=new Error(L);throw B.hash=O,B}this.trace(L)},"parseError"),parse:w(function(L){var O=this,B=[0],R=[],M=[null],F=[],P=this.table,U="",W=0,Q=0,K=F.slice.call(arguments,1),G=Object.create(this.lexer),V={yy:{}};for(var rt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,rt)&&(V.yy[rt]=this.yy[rt]);G.setInput(L,V.yy),V.yy.lexer=G,V.yy.parser=this,G.yylloc===void 0&&(G.yylloc={});var tt=G.yylloc;F.push(tt);var at=G.options&&G.options.ranges;function ut(){var $t;return typeof($t=R.pop()||G.lex()||1)!="number"&&($t instanceof Array&&($t=(R=$t).pop()),$t=O.symbols_[$t]||$t),$t}typeof V.yy.parseError=="function"?this.parseError=V.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function($t){B.length=B.length-2*$t,M.length=M.length-$t,F.length=F.length-$t},"popStack"),w(ut,"lex");for(var st,_t,X,Et,H,ct,dt,Nt,ft={};;){if(_t=B[B.length-1],this.defaultActions[_t]?X=this.defaultActions[_t]:(st==null&&(st=ut()),X=P[_t]&&P[_t][st]),X===void 0||!X.length||!X[0]){var Dt="";for(H in Nt=[],P[_t])this.terminals_[H]&&H>2&&Nt.push("'"+this.terminals_[H]+"'");Dt=G.showPosition?"Parse error on line "+(W+1)+`:
`+G.showPosition()+`
Expecting `+Nt.join(", ")+", got '"+(this.terminals_[st]||st)+"'":"Parse error on line "+(W+1)+": Unexpected "+(st==1?"end of input":"'"+(this.terminals_[st]||st)+"'"),this.parseError(Dt,{text:G.match,token:this.terminals_[st]||st,line:G.yylineno,loc:tt,expected:Nt})}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_t+", token: "+st);switch(X[0]){case 1:B.push(st),M.push(G.yytext),F.push(G.yylloc),B.push(X[1]),st=null,Q=G.yyleng,U=G.yytext,W=G.yylineno,tt=G.yylloc;break;case 2:if(ct=this.productions_[X[1]][1],ft.$=M[M.length-ct],ft._$={first_line:F[F.length-(ct||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(ct||1)].first_column,last_column:F[F.length-1].last_column},at&&(ft._$.range=[F[F.length-(ct||1)].range[0],F[F.length-1].range[1]]),(Et=this.performAction.apply(ft,[U,Q,W,V.yy,X[1],M,F].concat(K)))!==void 0)return Et;ct&&(B=B.slice(0,-1*ct*2),M=M.slice(0,-1*ct),F=F.slice(0,-1*ct)),B.push(this.productions_[X[1]][0]),M.push(ft.$),F.push(ft._$),dt=P[B[B.length-2]][B[B.length-1]],B.push(dt);break;case 3:return!0}}return!0},"parse")},$=function(){return{EOF:1,parseError:w(function(L,O){if(!this.yy.parser)throw new Error(L);this.yy.parser.parseError(L,O)},"parseError"),setInput:w(function(L,O){return this.yy=O||this.yy||{},this._input=L,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var L=this._input[0];return this.yytext+=L,this.yyleng++,this.offset++,this.match+=L,this.matched+=L,L.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),L},"input"),unput:w(function(L){var O=L.length,B=L.split(/(?:\r\n?|\n)/g);this._input=L+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1&&(this.yylineno-=B.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===R.length?this.yylloc.first_column:0)+R[R.length-B.length].length-B[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(L){this.unput(this.match.slice(L))},"less"),pastInput:w(function(){var L=this.matched.substr(0,this.matched.length-this.match.length);return(L.length>20?"...":"")+L.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var L=this.match;return L.length<20&&(L+=this._input.substr(0,20-L.length)),(L.substr(0,20)+(L.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var L=this.pastInput(),O=new Array(L.length+1).join("-");return L+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:w(function(L,O){var B,R,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),(R=L[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+L[0].length},this.yytext+=L[0],this.match+=L[0],this.matches=L,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(L[0].length),this.matched+=L[0],B=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),B)return B;if(this._backtrack){for(var F in M)this[F]=M[F];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var L,O,B,R;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),F=0;F<M.length;F++)if((B=this._input.match(this.rules[M[F]]))&&(!O||B[0].length>O[0].length)){if(O=B,R=F,this.options.backtrack_lexer){if((L=this.test_match(B,M[F]))!==!1)return L;if(this._backtrack){O=!1;continue}return!1}if(!this.options.flex)break}return O?(L=this.test_match(O,M[R]))!==!1&&L:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var L=this.next();return L||this.lex()},"lex"),begin:w(function(L){this.conditionStack.push(L)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(L){return(L=this.conditionStack.length-1-Math.abs(L||0))>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:w(function(L){this.begin(L)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(L,O,B,R){switch(B){case 0:case 1:case 5:case 43:break;case 2:case 3:return this.popState(),34;case 4:return 34;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:case 25:case 27:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 26:this.pushState("string");break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}}}();function I(){this.yy={}}return E.lexer=$,w(I,"Parser"),I.prototype=E,E.Parser=I,new I}();wS.parser=wS;var vHt=wS;function kS(t){return t.type==="bar"}function Y8(t){return t.type==="band"}function $f(t){return t.type==="linear"}w(kS,"isBarPlot"),w(Y8,"isBandAxisData"),w($f,"isLinearAxisData");var i0,sot=(i0=class{constructor(e){this.parentGroup=e}getMaxDimension(e,r){if(!this.parentGroup)return{width:e.reduce((o,a)=>Math.max(a.length,o),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const o of e){const a=QW(i,1,o),s=a?a.width:o.length*r,l=a?a.height:r;n.width=Math.max(n.width,s),n.height=Math.max(n.height,l)}return i.remove(),n}},w(i0,"TextDimensionCalculatorWithFont"),i0),o0,lot=(o0=class{constructor(e,r,n,i){this.axisConfig=e,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){const e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>2*this.outerPadding&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let r=e.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=.2*e.width;this.outerPadding=Math.min(n.width/2,i);const o=n.height+2*this.axisConfig.labelPadding;this.labelTextHeight=n.height,o<=r&&(r-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+2*this.axisConfig.titlePadding;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-r}calculateSpaceIfDrawnVertical(e){let r=e.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=.2*e.height;this.outerPadding=Math.min(n.height/2,i);const o=n.width+2*this.axisConfig.labelPadding;o<=r&&(r-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+2*this.axisConfig.titlePadding;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width-r,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+2*this.axisConfig.titlePadding:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},w(o0,"BaseAxis"),o0),a0,bHt=(a0=class extends lot{constructor(e,r,n,i,o){super(e,i,o,r),this.categories=n,this.scale=xS().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=xS().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),et.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},w(a0,"BandAxis"),a0),s0,xHt=(s0=class extends lot{constructor(e,r,n,i,o){super(e,i,o,r),this.domain=n,this.scale=K0().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=K0().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}},w(s0,"LinearAxis"),s0);function TS(t,e,r,n){const i=new sot(n);return Y8(t)?new bHt(e,r,t.categories,t.title,i):new xHt(e,r,[t.min,t.max],t.title,i)}w(TS,"getAxis");var l0,wHt=(l0=class{constructor(e,r,n,i){this.textDimensionCalculator=e,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,e.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},w(l0,"ChartTitle"),l0);function cot(t,e,r,n){const i=new sot(n);return new wHt(i,t,e,r)}w(cot,"getChartTitleComponent");var c0,kHt=(c0=class{constructor(e,r,n,i,o){this.plotData=e,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=o}getDrawableElement(){const e=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return r=this.orientation==="horizontal"?Nd().y(n=>n[0]).x(n=>n[1])(e):Nd().x(n=>n[0]).y(n=>n[1])(e),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},w(c0,"LinePlot"),c0),u0,THt=(u0=class{constructor(e,r,n,i,o,a){this.barData=e,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=o,this.plotIndex=a}getDrawableElement(){const e=this.barData.data.map(i=>[this.xAxis.getScaleValue(i[0]),this.yAxis.getScaleValue(i[1])]),r=.95*Math.min(2*this.xAxis.getAxisOuterPadding(),this.xAxis.getTickDistance()),n=r/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(i=>({x:this.boundingRect.x,y:i[0]-n,height:r,width:i[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(i=>({x:i[0]-n,y:i[1],width:r,height:this.boundingRect.y+this.boundingRect.height-i[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},w(u0,"BarPlot"),u0),h0,EHt=(h0=class{constructor(e,r,n){this.chartConfig=e,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(e,r){this.xAxis=e,this.yAxis=r}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!this.xAxis||!this.yAxis)throw Error("Axes must be passed to render Plots");const e=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new kHt(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break;case"bar":{const i=new THt(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}}return e}},w(h0,"BasePlot"),h0);function uot(t,e,r){return new EHt(t,e,r)}w(uot,"getPlotComponent");var hot,d0,_Ht=(d0=class{constructor(e,r,n,i){this.chartConfig=e,this.chartData=r,this.componentStore={title:cot(e,r,n,i),plot:uot(e,r,n),xAxis:TS(r.xAxis,e.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:TS(r.yAxis,e.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,o=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),s=this.componentStore.plot.calculateSpace({width:o,height:a});e-=s.width,r-=s.height,s=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=s.height,r-=s.height,this.componentStore.xAxis.setAxisPosition("bottom"),s=this.componentStore.xAxis.calculateSpace({width:e,height:r}),r-=s.height,this.componentStore.yAxis.setAxisPosition("left"),s=this.componentStore.yAxis.calculateSpace({width:e,height:r}),n=s.width,e-=s.width,e>0&&(o+=e,e=0),r>0&&(a+=r,r=0),this.componentStore.plot.calculateSpace({width:o,height:a}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+o]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+a}),this.componentStore.yAxis.setRange([i,i+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(l=>kS(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,o=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:a,height:s});e-=l.width,r-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=l.height,r-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:r}),e-=l.width,i=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:r}),r-=l.height,o=n+l.height,e>0&&(a+=e,e=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:i,y:o}),this.componentStore.yAxis.setRange([i,i+a]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([o,o+s]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:o}),this.chartData.plots.some(u=>kS(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))e.push(...r.getDrawableElements());return e}},w(d0,"Orchestrator"),d0),p0,SHt=(p0=class{static build(e,r,n,i){return new _Ht(e,r,n,i).getDrawableElement()}},w(p0,"XYChartBuilder"),p0),ry=0,L3=Z8(),ny=K8(),Jr=dot(),ES=ny.plotColorPalette.split(",").map(t=>t.trim()),R3=!1,X8=!1;function K8(){const t=IA(),e=Nn();return Xc(t.xyChart,e.themeVariables.xyChart)}function Z8(){const t=Nn();return Xc(Mr.xyChart,t.xyChart)}function dot(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function D3(t){const e=Nn();return nn(t.trim(),e)}function pot(t){hot=t}function fot(t){L3.chartOrientation=t==="horizontal"?"horizontal":"vertical"}function got(t){Jr.xAxis.title=D3(t.text)}function Q8(t,e){Jr.xAxis={type:"linear",title:Jr.xAxis.title,min:t,max:e},R3=!0}function mot(t){Jr.xAxis={type:"band",title:Jr.xAxis.title,categories:t.map(e=>D3(e.text))},R3=!0}function yot(t){Jr.yAxis.title=D3(t.text)}function vot(t,e){Jr.yAxis={type:"linear",title:Jr.yAxis.title,min:t,max:e},X8=!0}function bot(t){const e=Math.min(...t),r=Math.max(...t),n=$f(Jr.yAxis)?Jr.yAxis.min:1/0,i=$f(Jr.yAxis)?Jr.yAxis.max:-1/0;Jr.yAxis={type:"linear",title:Jr.yAxis.title,min:Math.min(n,e),max:Math.max(i,r)}}function J8(t){let e=[];if(t.length===0)return e;if(!R3){const r=$f(Jr.xAxis)?Jr.xAxis.min:1/0,n=$f(Jr.xAxis)?Jr.xAxis.max:-1/0;Q8(Math.min(r,1),Math.max(n,t.length))}if(X8||bot(t),Y8(Jr.xAxis)&&(e=Jr.xAxis.categories.map((r,n)=>[r,t[n]])),$f(Jr.xAxis)){const r=Jr.xAxis.min,n=Jr.xAxis.max,i=(n-r)/(t.length-1),o=[];for(let a=r;a<=n;a+=i)o.push(`${a}`);e=o.map((a,s)=>[a,t[s]])}return e}function t$(t){return ES[t===0?0:t%ES.length]}function xot(t,e){const r=J8(e);Jr.plots.push({type:"line",strokeFill:t$(ry),strokeWidth:2,data:r}),ry++}function wot(t,e){const r=J8(e);Jr.plots.push({type:"bar",fill:t$(ry),data:r}),ry++}function kot(){if(Jr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Jr.title=uo(),SHt.build(L3,Jr,ny,hot)}function Tot(){return ny}function Eot(){return L3}w(K8,"getChartDefaultThemeConfig"),w(Z8,"getChartDefaultConfig"),w(dot,"getChartDefaultData"),w(D3,"textSanitizer"),w(pot,"setTmpSVGG"),w(fot,"setOrientation"),w(got,"setXAxisTitle"),w(Q8,"setXAxisRangeData"),w(mot,"setXAxisBand"),w(yot,"setYAxisTitle"),w(vot,"setYAxisRangeData"),w(bot,"setYAxisRangeFromPlotData"),w(J8,"transformDataWithoutCategory"),w(t$,"getPlotColorFromPalette"),w(xot,"setLineData"),w(wot,"setBarData"),w(kot,"getDrawableElem"),w(Tot,"getChartThemeConfig"),w(Eot,"getChartConfig");var AHt={parser:vHt,db:{getDrawableElem:kot,clear:w(function(){Gi(),ry=0,L3=Z8(),Jr={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},ny=K8(),ES=ny.plotColorPalette.split(",").map(t=>t.trim()),R3=!1,X8=!1},"clear"),setAccTitle:Wi,getAccTitle:so,setDiagramTitle:ta,getDiagramTitle:uo,getAccDescription:co,setAccDescription:lo,setOrientation:fot,setXAxisTitle:got,setXAxisRangeData:Q8,setXAxisBand:mot,setYAxisTitle:yot,setYAxisRangeData:vot,setLineData:xot,setBarData:wot,setTmpSVGG:pot,getChartThemeConfig:Tot,getChartConfig:Eot},renderer:{draw:w((t,e,r,n)=>{const i=n.db,o=i.getChartThemeConfig(),a=i.getChartConfig();function s(y){return y==="top"?"text-before-edge":"middle"}function l(y){return y==="left"?"start":y==="right"?"end":"middle"}function u(y){return`translate(${y.x}, ${y.y}) rotate(${y.rotation||0})`}w(s,"getDominantBaseLine"),w(l,"getTextAnchor"),w(u,"getTextTransformation"),et.debug(`Rendering xychart chart
`+t);const h=mh(e),d=h.append("g").attr("class","main"),p=d.append("rect").attr("width",a.width).attr("height",a.height).attr("class","background");Ro(h,a.height,a.width,!0),h.attr("viewBox",`0 0 ${a.width} ${a.height}`),p.attr("fill",o.backgroundColor),i.setTmpSVGG(h.append("g").attr("class","mermaid-tmp-group"));const f=i.getDrawableElem(),g={};function m(y){let v=d,x="";for(const[b]of y.entries()){let k=d;b>0&&g[x]&&(k=g[x]),x+=y[b],v=g[x],v||(v=g[x]=k.append("g").attr("class",y[b]))}return v}w(m,"getGroup");for(const y of f){if(y.data.length===0)continue;const v=m(y.groupTexts);switch(y.type){case"rect":v.selectAll("rect").data(y.data).enter().append("rect").attr("x",x=>x.x).attr("y",x=>x.y).attr("width",x=>x.width).attr("height",x=>x.height).attr("fill",x=>x.fill).attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break;case"text":v.selectAll("text").data(y.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",x=>x.fill).attr("font-size",x=>x.fontSize).attr("dominant-baseline",x=>s(x.verticalPos)).attr("text-anchor",x=>l(x.horizontalPos)).attr("transform",x=>u(x)).text(x=>x.text);break;case"path":v.selectAll("path").data(y.data).enter().append("path").attr("d",x=>x.path).attr("fill",x=>x.fill?x.fill:"none").attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth)}}},"draw")}};const CHt=Object.freeze(Object.defineProperty({__proto__:null,diagram:AHt},Symbol.toStringTag,{value:"Module"}));var _S=function(){var t=w(function(K,G,V,rt){for(V=V||{},rt=K.length;rt--;V[K[rt]]=G);return V},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],o=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],a=[1,18],s=[2,7],l=[1,22],u=[1,23],h=[1,24],d=[1,25],p=[1,26],f=[1,27],g=[1,20],m=[1,28],y=[1,29],v=[62,63],x=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],b=[1,47],k=[1,48],N=[1,49],_=[1,50],S=[1,51],T=[1,52],A=[1,53],C=[53,54],D=[1,64],E=[1,60],$=[1,61],I=[1,62],L=[1,63],O=[1,65],B=[1,69],R=[1,70],M=[1,67],F=[1,68],P=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],U={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:w(function(K,G,V,rt,tt,at,ut){var st=at.length-1;switch(tt){case 4:this.$=at[st].trim(),rt.setAccTitle(this.$);break;case 5:case 6:this.$=at[st].trim(),rt.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:rt.addRequirement(at[st-3],at[st-4]);break;case 14:rt.setNewReqId(at[st-2]);break;case 15:rt.setNewReqText(at[st-2]);break;case 16:rt.setNewReqRisk(at[st-2]);break;case 17:rt.setNewReqVerifyMethod(at[st-2]);break;case 20:this.$=rt.RequirementType.REQUIREMENT;break;case 21:this.$=rt.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=rt.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=rt.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=rt.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=rt.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=rt.RiskLevel.LOW_RISK;break;case 27:this.$=rt.RiskLevel.MED_RISK;break;case 28:this.$=rt.RiskLevel.HIGH_RISK;break;case 29:this.$=rt.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=rt.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=rt.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=rt.VerifyType.VERIFY_TEST;break;case 33:rt.addElement(at[st-3]);break;case 34:rt.setNewElementType(at[st-2]);break;case 35:rt.setNewElementDocRef(at[st-2]);break;case 38:rt.addRelationship(at[st-2],at[st],at[st-4]);break;case 39:rt.addRelationship(at[st-2],at[st-4],at[st]);break;case 40:this.$=rt.Relationships.CONTAINS;break;case 41:this.$=rt.Relationships.COPIES;break;case 42:this.$=rt.Relationships.DERIVES;break;case 43:this.$=rt.Relationships.SATISFIES;break;case 44:this.$=rt.Relationships.VERIFIES;break;case 45:this.$=rt.Relationships.REFINES;break;case 46:this.$=rt.Relationships.TRACES}},"anonymous"),table:[{3:1,4:2,6:e,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:e,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(o,[2,6]),{3:12,4:2,6:e,9:r,11:n,13:i},{1:[2,2]},{4:17,5:a,7:13,8:s,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},t(o,[2,4]),t(o,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:a,7:31,8:s,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:a,7:32,8:s,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:a,7:33,8:s,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:a,7:34,8:s,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{4:17,5:a,7:35,8:s,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:d,35:p,36:f,44:g,62:m,63:y},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},t(v,[2,20]),t(v,[2,21]),t(v,[2,22]),t(v,[2,23]),t(v,[2,24]),t(v,[2,25]),t(x,[2,49]),t(x,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:b,56:k,57:N,58:_,59:S,60:T,61:A},{52:54,55:b,56:k,57:N,58:_,59:S,60:T,61:A},{5:[1,55]},{5:[1,56]},{53:[1,57]},t(C,[2,40]),t(C,[2,41]),t(C,[2,42]),t(C,[2,43]),t(C,[2,44]),t(C,[2,45]),t(C,[2,46]),{54:[1,58]},{5:D,20:59,21:E,24:$,26:I,28:L,30:O},{5:B,30:R,46:66,47:M,49:F},{23:71,62:m,63:y},{23:72,62:m,63:y},t(P,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:D,20:77,21:E,24:$,26:I,28:L,30:O},t(P,[2,19]),t(P,[2,33]),{22:[1,78]},{22:[1,79]},{5:B,30:R,46:80,47:M,49:F},t(P,[2,37]),t(P,[2,38]),t(P,[2,39]),{23:81,62:m,63:y},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},t(P,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},t(P,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:D,20:106,21:E,24:$,26:I,28:L,30:O},{5:D,20:107,21:E,24:$,26:I,28:L,30:O},{5:D,20:108,21:E,24:$,26:I,28:L,30:O},{5:D,20:109,21:E,24:$,26:I,28:L,30:O},{5:B,30:R,46:110,47:M,49:F},{5:B,30:R,46:111,47:M,49:F},t(P,[2,14]),t(P,[2,15]),t(P,[2,16]),t(P,[2,17]),t(P,[2,34]),t(P,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:w(function(K,G){if(!G.recoverable){var V=new Error(K);throw V.hash=G,V}this.trace(K)},"parseError"),parse:w(function(K){var G=this,V=[0],rt=[],tt=[null],at=[],ut=this.table,st="",_t=0,X=0,Et=at.slice.call(arguments,1),H=Object.create(this.lexer),ct={yy:{}};for(var dt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,dt)&&(ct.yy[dt]=this.yy[dt]);H.setInput(K,ct.yy),ct.yy.lexer=H,ct.yy.parser=this,H.yylloc===void 0&&(H.yylloc={});var Nt=H.yylloc;at.push(Nt);var ft=H.options&&H.options.ranges;function Dt(){var nt;return typeof(nt=rt.pop()||H.lex()||1)!="number"&&(nt instanceof Array&&(nt=(rt=nt).pop()),nt=G.symbols_[nt]||nt),nt}typeof ct.yy.parseError=="function"?this.parseError=ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(nt){V.length=V.length-2*nt,tt.length=tt.length-nt,at.length=at.length-nt},"popStack"),w(Dt,"lex");for(var $t,mt,It,gt,xt,Ct,lt,ot,Y={};;){if(mt=V[V.length-1],this.defaultActions[mt]?It=this.defaultActions[mt]:($t==null&&($t=Dt()),It=ut[mt]&&ut[mt][$t]),It===void 0||!It.length||!It[0]){var Ot="";for(xt in ot=[],ut[mt])this.terminals_[xt]&&xt>2&&ot.push("'"+this.terminals_[xt]+"'");Ot=H.showPosition?"Parse error on line "+(_t+1)+`:
`+H.showPosition()+`
Expecting `+ot.join(", ")+", got '"+(this.terminals_[$t]||$t)+"'":"Parse error on line "+(_t+1)+": Unexpected "+($t==1?"end of input":"'"+(this.terminals_[$t]||$t)+"'"),this.parseError(Ot,{text:H.match,token:this.terminals_[$t]||$t,line:H.yylineno,loc:Nt,expected:ot})}if(It[0]instanceof Array&&It.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mt+", token: "+$t);switch(It[0]){case 1:V.push($t),tt.push(H.yytext),at.push(H.yylloc),V.push(It[1]),$t=null,X=H.yyleng,st=H.yytext,_t=H.yylineno,Nt=H.yylloc;break;case 2:if(Ct=this.productions_[It[1]][1],Y.$=tt[tt.length-Ct],Y._$={first_line:at[at.length-(Ct||1)].first_line,last_line:at[at.length-1].last_line,first_column:at[at.length-(Ct||1)].first_column,last_column:at[at.length-1].last_column},ft&&(Y._$.range=[at[at.length-(Ct||1)].range[0],at[at.length-1].range[1]]),(gt=this.performAction.apply(Y,[st,X,_t,ct.yy,It[1],tt,at].concat(Et)))!==void 0)return gt;Ct&&(V=V.slice(0,-1*Ct*2),tt=tt.slice(0,-1*Ct),at=at.slice(0,-1*Ct)),V.push(this.productions_[It[1]][0]),tt.push(Y.$),at.push(Y._$),lt=ut[V[V.length-2]][V[V.length-1]],V.push(lt);break;case 3:return!0}}return!0},"parse")},W=function(){return{EOF:1,parseError:w(function(K,G){if(!this.yy.parser)throw new Error(K);this.yy.parser.parseError(K,G)},"parseError"),setInput:w(function(K,G){return this.yy=G||this.yy||{},this._input=K,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var K=this._input[0];return this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K,K.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),K},"input"),unput:w(function(K){var G=K.length,V=K.split(/(?:\r\n?|\n)/g);this._input=K+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var rt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),V.length-1&&(this.yylineno-=V.length-1);var tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:V?(V.length===rt.length?this.yylloc.first_column:0)+rt[rt.length-V.length].length-V[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[tt[0],tt[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(K){this.unput(this.match.slice(K))},"less"),pastInput:w(function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var K=this.match;return K.length<20&&(K+=this._input.substr(0,20-K.length)),(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var K=this.pastInput(),G=new Array(K.length+1).join("-");return K+this.upcomingInput()+`
`+G+"^"},"showPosition"),test_match:w(function(K,G){var V,rt,tt;if(this.options.backtrack_lexer&&(tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(tt.yylloc.range=this.yylloc.range.slice(0))),(rt=K[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=rt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:rt?rt[rt.length-1].length-rt[rt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+K[0].length},this.yytext+=K[0],this.match+=K[0],this.matches=K,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(K[0].length),this.matched+=K[0],V=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),V)return V;if(this._backtrack){for(var at in tt)this[at]=tt[at];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var K,G,V,rt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var tt=this._currentRules(),at=0;at<tt.length;at++)if((V=this._input.match(this.rules[tt[at]]))&&(!G||V[0].length>G[0].length)){if(G=V,rt=at,this.options.backtrack_lexer){if((K=this.test_match(V,tt[at]))!==!1)return K;if(this._backtrack){G=!1;continue}return!1}if(!this.options.flex)break}return G?(K=this.test_match(G,tt[rt]))!==!1&&K:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var K=this.next();return K||this.lex()},"lex"),begin:w(function(K){this.conditionStack.push(K)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(K){return(K=this.conditionStack.length-1-Math.abs(K||0))>=0?this.conditionStack[K]:"INITIAL"},"topState"),pushState:w(function(K){this.begin(K)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(K,G,V,rt){switch(V){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 48:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:case 10:case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 49:return"qString";case 50:return G.yytext=G.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}}}();function Q(){this.yy={}}return U.lexer=W,w(Q,"Parser"),Q.prototype=U,U.Parser=Q,new Q}();_S.parser=_S;var $Ht=_S,e$=[],ba={},fm=new Map,Gu={},gm=new Map,NHt=w((t,e)=>(fm.has(t)||fm.set(t,{name:t,type:e,id:ba.id,text:ba.text,risk:ba.risk,verifyMethod:ba.verifyMethod}),ba={},fm.get(t)),"addRequirement"),IHt=w(()=>fm,"getRequirements"),LHt=w(t=>{ba!==void 0&&(ba.id=t)},"setNewReqId"),RHt=w(t=>{ba!==void 0&&(ba.text=t)},"setNewReqText"),DHt=w(t=>{ba!==void 0&&(ba.risk=t)},"setNewReqRisk"),OHt=w(t=>{ba!==void 0&&(ba.verifyMethod=t)},"setNewReqVerifyMethod"),MHt=w(t=>(gm.has(t)||(gm.set(t,{name:t,type:Gu.type,docRef:Gu.docRef}),et.info("Added new requirement: ",t)),Gu={},gm.get(t)),"addElement"),BHt=w(()=>gm,"getElements"),PHt=w(t=>{Gu!==void 0&&(Gu.type=t)},"setNewElementType"),FHt=w(t=>{Gu!==void 0&&(Gu.docRef=t)},"setNewElementDocRef"),zHt=w((t,e,r)=>{e$.push({type:t,src:e,dst:r})},"addRelationship"),jHt=w(()=>e$,"getRelationships"),HHt=w(()=>{e$=[],ba={},fm=new Map,Gu={},gm=new Map,Gi()},"clear"),UHt={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},getConfig:w(()=>Tt().req,"getConfig"),addRequirement:NHt,getRequirements:IHt,setNewReqId:LHt,setNewReqText:RHt,setNewReqRisk:DHt,setNewReqVerifyMethod:OHt,setAccTitle:Wi,getAccTitle:so,setAccDescription:lo,getAccDescription:co,addElement:MHt,getElements:BHt,setNewElementType:PHt,setNewElementDocRef:FHt,addRelationship:zHt,getRelationships:jHt,clear:HHt},qHt=w(t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,"getStyles"),IT={CONTAINS:"contains",ARROW:"arrow"},_ot={ReqMarkers:IT,insertLineEndings:w((t,e)=>{let r=t.append("defs").append("marker").attr("id",IT.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",IT.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},"insertLineEndings")},Zn={},VP=0,Sot=w((t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Zn.rect_min_width+"px").attr("height",Zn.rect_min_height+"px"),"newRectNode"),Aot=w((t,e,r)=>{let n=Zn.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",n).attr("y",Zn.rect_padding).attr("dominant-baseline","hanging"),o=0;r.forEach(s=>{o==0?i.append("tspan").attr("text-anchor","middle").attr("x",Zn.rect_min_width/2).attr("dy",0).text(s):i.append("tspan").attr("text-anchor","middle").attr("x",Zn.rect_min_width/2).attr("dy",.75*Zn.line_height).text(s),o++});let a=1.5*Zn.rect_padding+o*Zn.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Zn.rect_min_width).attr("y1",a).attr("y2",a),{titleNode:i,y:a}},"newTitleNode"),Cot=w((t,e,r,n)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Zn.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),o=0,a=[];return r.forEach(s=>{let l=s.length;for(;l>30&&o<3;){let u=s.substring(0,30);l=(s=s.substring(30,s.length)).length,a[a.length]=u,o++}if(o==3){let u=a[a.length-1];a[a.length-1]=u.substring(0,u.length-4)+"..."}else a[a.length]=s;o=0}),a.forEach(s=>{i.append("tspan").attr("x",Zn.rect_padding).attr("dy",Zn.line_height).text(s)}),i},"newBodyNode"),GHt=w((t,e,r,n)=>{const i=e.node().getTotalLength(),o=e.node().getPointAtLength(.5*i),a="rel"+VP;VP++;const s=t.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();t.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",o.x-s.width/2).attr("y",o.y-s.height/2).attr("width",s.width).attr("height",s.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),WHt=w(function(t,e,r,n,i){const o=r.edge(J0(e.src),J0(e.dst)),a=Nd().x(function(l){return l.x}).y(function(l){return l.y}),s=t.insert("path","#"+n).attr("class","er relationshipLine").attr("d",a(o.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?s.attr("marker-start","url("+ne.getUrl(Zn.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(s.attr("stroke-dasharray","10,7"),s.attr("marker-end","url("+ne.getUrl(Zn.arrowMarkerAbsolute)+"#"+_ot.ReqMarkers.ARROW+"_line_ending)")),GHt(t,s,Zn,`<<${e.type}>>`)},"drawRelationshipFromLayout"),VHt=w((t,e,r)=>{t.forEach((n,i)=>{i=J0(i),et.info("Added new requirement: ",i);const o=r.append("g").attr("id",i),a=Sot(o,"req-"+i);let s=[],l=Aot(o,i+"_title",[`<<${n.type}>>`,`${n.name}`]);s.push(l.titleNode);let u=Cot(o,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],l.y);s.push(u);const h=a.node().getBBox();e.setNode(i,{width:h.width,height:h.height,shape:"rect",id:i})})},"drawReqs"),YHt=w((t,e,r)=>{t.forEach((n,i)=>{const o=J0(i),a=r.append("g").attr("id",o),s="element-"+o,l=Sot(a,s);let u=[],h=Aot(a,s+"_title",["<<Element>>",`${i}`]);u.push(h.titleNode);let d=Cot(a,s+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],h.y);u.push(d);const p=l.node().getBBox();e.setNode(o,{width:p.width,height:p.height,shape:"rect",id:o})})},"drawElements"),XHt=w((t,e)=>(t.forEach(function(r){let n=J0(r.src),i=J0(r.dst);e.setEdge(n,i,{relationship:r})}),t),"addRelationships"),KHt=w(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&(t.select("#"+r),t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )"))})},"adjustEntities"),J0=w(t=>t.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),ZHt={parser:$Ht,db:UHt,renderer:{draw:w((t,e,r,n)=>{const i=(Zn=Tt().requirement).securityLevel;let o;i==="sandbox"&&(o=he("#i"+e));const a=he(i==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);_ot.insertLineEndings(a,Zn);const s=new Lo({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Zn.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let l=n.db.getRequirements(),u=n.db.getElements(),h=n.db.getRelationships();VHt(l,s,a),YHt(u,s,a),XHt(h,s),s3(s),KHt(a,s),h.forEach(function(m){WHt(a,m,s,e,n)});const d=Zn.rect_padding,p=a.node().getBBox(),f=p.width+2*d,g=p.height+2*d;Ro(a,g,f,Zn.useMaxWidth),a.attr("viewBox",`${p.x-d} ${p.y-d} ${f} ${g}`)},"draw")},styles:qHt};const QHt=Object.freeze(Object.defineProperty({__proto__:null,diagram:ZHt},Symbol.toStringTag,{value:"Module"}));var SS=function(){var t=w(function(tt,at,ut,st){for(ut=ut||{},st=tt.length;st--;ut[tt[st]]=at);return ut},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],o=[1,9],a=[1,11],s=[1,13],l=[1,14],u=[1,16],h=[1,17],d=[1,18],p=[1,24],f=[1,25],g=[1,26],m=[1,27],y=[1,28],v=[1,29],x=[1,30],b=[1,31],k=[1,32],N=[1,33],_=[1,34],S=[1,35],T=[1,36],A=[1,37],C=[1,38],D=[1,39],E=[1,41],$=[1,42],I=[1,43],L=[1,44],O=[1,45],B=[1,46],R=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],M=[4,5,16,50,52,53],F=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],P=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],U=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],Q=[68,69,70],K=[1,122],G={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:w(function(tt,at,ut,st,_t,X,Et){var H=X.length-1;switch(_t){case 3:return st.apply(X[H]),X[H];case 4:case 9:case 8:case 13:this.$=[];break;case 5:case 10:X[H-1].push(X[H]),this.$=X[H-1];break;case 6:case 7:case 11:case 12:case 62:this.$=X[H];break;case 15:X[H].type="createParticipant",this.$=X[H];break;case 16:X[H-1].unshift({type:"boxStart",boxData:st.parseBoxData(X[H-2])}),X[H-1].push({type:"boxEnd",boxText:X[H-2]}),this.$=X[H-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(X[H-2]),sequenceIndexStep:Number(X[H-1]),sequenceVisible:!0,signalType:st.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(X[H-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:st.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:st.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:st.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:st.LINETYPE.ACTIVE_START,actor:X[H-1].actor};break;case 23:this.$={type:"activeEnd",signalType:st.LINETYPE.ACTIVE_END,actor:X[H-1].actor};break;case 29:st.setDiagramTitle(X[H].substring(6)),this.$=X[H].substring(6);break;case 30:st.setDiagramTitle(X[H].substring(7)),this.$=X[H].substring(7);break;case 31:this.$=X[H].trim(),st.setAccTitle(this.$);break;case 32:case 33:this.$=X[H].trim(),st.setAccDescription(this.$);break;case 34:X[H-1].unshift({type:"loopStart",loopText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.LOOP_START}),X[H-1].push({type:"loopEnd",loopText:X[H-2],signalType:st.LINETYPE.LOOP_END}),this.$=X[H-1];break;case 35:X[H-1].unshift({type:"rectStart",color:st.parseMessage(X[H-2]),signalType:st.LINETYPE.RECT_START}),X[H-1].push({type:"rectEnd",color:st.parseMessage(X[H-2]),signalType:st.LINETYPE.RECT_END}),this.$=X[H-1];break;case 36:X[H-1].unshift({type:"optStart",optText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.OPT_START}),X[H-1].push({type:"optEnd",optText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.OPT_END}),this.$=X[H-1];break;case 37:X[H-1].unshift({type:"altStart",altText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.ALT_START}),X[H-1].push({type:"altEnd",signalType:st.LINETYPE.ALT_END}),this.$=X[H-1];break;case 38:X[H-1].unshift({type:"parStart",parText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.PAR_START}),X[H-1].push({type:"parEnd",signalType:st.LINETYPE.PAR_END}),this.$=X[H-1];break;case 39:X[H-1].unshift({type:"parStart",parText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.PAR_OVER_START}),X[H-1].push({type:"parEnd",signalType:st.LINETYPE.PAR_END}),this.$=X[H-1];break;case 40:X[H-1].unshift({type:"criticalStart",criticalText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.CRITICAL_START}),X[H-1].push({type:"criticalEnd",signalType:st.LINETYPE.CRITICAL_END}),this.$=X[H-1];break;case 41:X[H-1].unshift({type:"breakStart",breakText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.BREAK_START}),X[H-1].push({type:"breakEnd",optText:st.parseMessage(X[H-2]),signalType:st.LINETYPE.BREAK_END}),this.$=X[H-1];break;case 43:this.$=X[H-3].concat([{type:"option",optionText:st.parseMessage(X[H-1]),signalType:st.LINETYPE.CRITICAL_OPTION},X[H]]);break;case 45:this.$=X[H-3].concat([{type:"and",parText:st.parseMessage(X[H-1]),signalType:st.LINETYPE.PAR_AND},X[H]]);break;case 47:this.$=X[H-3].concat([{type:"else",altText:st.parseMessage(X[H-1]),signalType:st.LINETYPE.ALT_ELSE},X[H]]);break;case 48:X[H-3].draw="participant",X[H-3].type="addParticipant",X[H-3].description=st.parseMessage(X[H-1]),this.$=X[H-3];break;case 49:X[H-1].draw="participant",X[H-1].type="addParticipant",this.$=X[H-1];break;case 50:X[H-3].draw="actor",X[H-3].type="addParticipant",X[H-3].description=st.parseMessage(X[H-1]),this.$=X[H-3];break;case 51:X[H-1].draw="actor",X[H-1].type="addParticipant",this.$=X[H-1];break;case 52:X[H-1].type="destroyParticipant",this.$=X[H-1];break;case 53:this.$=[X[H-1],{type:"addNote",placement:X[H-2],actor:X[H-1].actor,text:X[H]}];break;case 54:X[H-2]=[].concat(X[H-1],X[H-1]).slice(0,2),X[H-2][0]=X[H-2][0].actor,X[H-2][1]=X[H-2][1].actor,this.$=[X[H-1],{type:"addNote",placement:st.PLACEMENT.OVER,actor:X[H-2].slice(0,2),text:X[H]}];break;case 55:this.$=[X[H-1],{type:"addLinks",actor:X[H-1].actor,text:X[H]}];break;case 56:this.$=[X[H-1],{type:"addALink",actor:X[H-1].actor,text:X[H]}];break;case 57:this.$=[X[H-1],{type:"addProperties",actor:X[H-1].actor,text:X[H]}];break;case 58:this.$=[X[H-1],{type:"addDetails",actor:X[H-1].actor,text:X[H]}];break;case 61:this.$=[X[H-2],X[H]];break;case 63:this.$=st.PLACEMENT.LEFTOF;break;case 64:this.$=st.PLACEMENT.RIGHTOF;break;case 65:this.$=[X[H-4],X[H-1],{type:"addMessage",from:X[H-4].actor,to:X[H-1].actor,signalType:X[H-3],msg:X[H],activate:!0},{type:"activeStart",signalType:st.LINETYPE.ACTIVE_START,actor:X[H-1].actor}];break;case 66:this.$=[X[H-4],X[H-1],{type:"addMessage",from:X[H-4].actor,to:X[H-1].actor,signalType:X[H-3],msg:X[H]},{type:"activeEnd",signalType:st.LINETYPE.ACTIVE_END,actor:X[H-4].actor}];break;case 67:this.$=[X[H-3],X[H-1],{type:"addMessage",from:X[H-3].actor,to:X[H-1].actor,signalType:X[H-2],msg:X[H]}];break;case 68:this.$={type:"addParticipant",actor:X[H]};break;case 69:this.$=st.LINETYPE.SOLID_OPEN;break;case 70:this.$=st.LINETYPE.DOTTED_OPEN;break;case 71:this.$=st.LINETYPE.SOLID;break;case 72:this.$=st.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=st.LINETYPE.DOTTED;break;case 74:this.$=st.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=st.LINETYPE.SOLID_CROSS;break;case 76:this.$=st.LINETYPE.DOTTED_CROSS;break;case 77:this.$=st.LINETYPE.SOLID_POINT;break;case 78:this.$=st.LINETYPE.DOTTED_POINT;break;case 79:this.$=st.parseMessage(X[H].trim().substring(1))}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:a,8:8,9:10,12:12,13:s,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},t(R,[2,5]),{9:47,12:12,13:s,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},t(R,[2,7]),t(R,[2,8]),t(R,[2,14]),{12:48,50:A,52:C,53:D},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:B},{22:55,70:B},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(R,[2,29]),t(R,[2,30]),{32:[1,61]},{34:[1,62]},t(R,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:B},{22:72,70:B},{22:73,70:B},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:B},{22:90,70:B},{22:91,70:B},{22:92,70:B},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t(R,[2,6]),t(R,[2,15]),t(M,[2,9],{10:93}),t(R,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t(R,[2,21]),{5:[1,97]},{5:[1,98]},t(R,[2,24]),t(R,[2,25]),t(R,[2,26]),t(R,[2,27]),t(R,[2,28]),t(R,[2,31]),t(R,[2,32]),t(F,i,{7:99}),t(F,i,{7:100}),t(F,i,{7:101}),t(P,i,{40:102,7:103}),t(U,i,{42:104,7:105}),t(U,i,{7:105,42:106}),t(W,i,{45:107,7:108}),t(F,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:B},t(Q,[2,69]),t(Q,[2,70]),t(Q,[2,71]),t(Q,[2,72]),t(Q,[2,73]),t(Q,[2,74]),t(Q,[2,75]),t(Q,[2,76]),t(Q,[2,77]),t(Q,[2,78]),{22:118,70:B},{22:120,58:119,70:B},{70:[2,63]},{70:[2,64]},{56:121,81:K},{56:123,81:K},{56:124,81:K},{56:125,81:K},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:A,52:C,53:D},{5:[1,131]},t(R,[2,19]),t(R,[2,20]),t(R,[2,22]),t(R,[2,23]),{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[1,132],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[1,133],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[1,134],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{16:[1,135]},{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[2,46],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,49:[1,136],50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{16:[1,137]},{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[2,44],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,48:[1,138],50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{16:[1,139]},{16:[1,140]},{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[2,42],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,47:[1,141],50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{4:o,5:a,8:8,9:10,12:12,13:s,14:l,16:[1,142],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:f,31:g,33:m,35:y,36:v,37:x,38:b,39:k,41:N,43:_,44:S,46:T,50:A,52:C,53:D,54:E,59:$,60:I,61:L,62:O,70:B},{15:[1,143]},t(R,[2,49]),{15:[1,144]},t(R,[2,51]),t(R,[2,52]),{22:145,70:B},{22:146,70:B},{56:147,81:K},{56:148,81:K},{56:149,81:K},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t(R,[2,16]),t(M,[2,10]),{12:151,50:A,52:C,53:D},t(M,[2,12]),t(M,[2,13]),t(R,[2,18]),t(R,[2,34]),t(R,[2,35]),t(R,[2,36]),t(R,[2,37]),{15:[1,152]},t(R,[2,38]),{15:[1,153]},t(R,[2,39]),t(R,[2,40]),{15:[1,154]},t(R,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:K},{56:158,81:K},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:B},t(M,[2,11]),t(P,i,{7:103,40:160}),t(U,i,{7:105,42:161}),t(W,i,{7:108,45:162}),t(R,[2,48]),t(R,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:w(function(tt,at){if(!at.recoverable){var ut=new Error(tt);throw ut.hash=at,ut}this.trace(tt)},"parseError"),parse:w(function(tt){var at=this,ut=[0],st=[],_t=[null],X=[],Et=this.table,H="",ct=0,dt=0,Nt=X.slice.call(arguments,1),ft=Object.create(this.lexer),Dt={yy:{}};for(var $t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$t)&&(Dt.yy[$t]=this.yy[$t]);ft.setInput(tt,Dt.yy),Dt.yy.lexer=ft,Dt.yy.parser=this,ft.yylloc===void 0&&(ft.yylloc={});var mt=ft.yylloc;X.push(mt);var It=ft.options&&ft.options.ranges;function gt(){var Wt;return typeof(Wt=st.pop()||ft.lex()||1)!="number"&&(Wt instanceof Array&&(Wt=(st=Wt).pop()),Wt=at.symbols_[Wt]||Wt),Wt}typeof Dt.yy.parseError=="function"?this.parseError=Dt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(Wt){ut.length=ut.length-2*Wt,_t.length=_t.length-Wt,X.length=X.length-Wt},"popStack"),w(gt,"lex");for(var xt,Ct,lt,ot,Y,Ot,nt,Ut,Ft={};;){if(Ct=ut[ut.length-1],this.defaultActions[Ct]?lt=this.defaultActions[Ct]:(xt==null&&(xt=gt()),lt=Et[Ct]&&Et[Ct][xt]),lt===void 0||!lt.length||!lt[0]){var qt="";for(Y in Ut=[],Et[Ct])this.terminals_[Y]&&Y>2&&Ut.push("'"+this.terminals_[Y]+"'");qt=ft.showPosition?"Parse error on line "+(ct+1)+`:
`+ft.showPosition()+`
Expecting `+Ut.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":"Parse error on line "+(ct+1)+": Unexpected "+(xt==1?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(qt,{text:ft.match,token:this.terminals_[xt]||xt,line:ft.yylineno,loc:mt,expected:Ut})}if(lt[0]instanceof Array&&lt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ct+", token: "+xt);switch(lt[0]){case 1:ut.push(xt),_t.push(ft.yytext),X.push(ft.yylloc),ut.push(lt[1]),xt=null,dt=ft.yyleng,H=ft.yytext,ct=ft.yylineno,mt=ft.yylloc;break;case 2:if(Ot=this.productions_[lt[1]][1],Ft.$=_t[_t.length-Ot],Ft._$={first_line:X[X.length-(Ot||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(Ot||1)].first_column,last_column:X[X.length-1].last_column},It&&(Ft._$.range=[X[X.length-(Ot||1)].range[0],X[X.length-1].range[1]]),(ot=this.performAction.apply(Ft,[H,dt,ct,Dt.yy,lt[1],_t,X].concat(Nt)))!==void 0)return ot;Ot&&(ut=ut.slice(0,-1*Ot*2),_t=_t.slice(0,-1*Ot),X=X.slice(0,-1*Ot)),ut.push(this.productions_[lt[1]][0]),_t.push(Ft.$),X.push(Ft._$),nt=Et[ut[ut.length-2]][ut[ut.length-1]],ut.push(nt);break;case 3:return!0}}return!0},"parse")},V=function(){return{EOF:1,parseError:w(function(tt,at){if(!this.yy.parser)throw new Error(tt);this.yy.parser.parseError(tt,at)},"parseError"),setInput:w(function(tt,at){return this.yy=at||this.yy||{},this._input=tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var tt=this._input[0];return this.yytext+=tt,this.yyleng++,this.offset++,this.match+=tt,this.matched+=tt,tt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),tt},"input"),unput:w(function(tt){var at=tt.length,ut=tt.split(/(?:\r\n?|\n)/g);this._input=tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-at),this.offset-=at;var st=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ut.length-1&&(this.yylineno-=ut.length-1);var _t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ut?(ut.length===st.length?this.yylloc.first_column:0)+st[st.length-ut.length].length-ut[0].length:this.yylloc.first_column-at},this.options.ranges&&(this.yylloc.range=[_t[0],_t[0]+this.yyleng-at]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(tt){this.unput(this.match.slice(tt))},"less"),pastInput:w(function(){var tt=this.matched.substr(0,this.matched.length-this.match.length);return(tt.length>20?"...":"")+tt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var tt=this.match;return tt.length<20&&(tt+=this._input.substr(0,20-tt.length)),(tt.substr(0,20)+(tt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var tt=this.pastInput(),at=new Array(tt.length+1).join("-");return tt+this.upcomingInput()+`
`+at+"^"},"showPosition"),test_match:w(function(tt,at){var ut,st,_t;if(this.options.backtrack_lexer&&(_t={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_t.yylloc.range=this.yylloc.range.slice(0))),(st=tt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=st.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:st?st[st.length-1].length-st[st.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+tt[0].length},this.yytext+=tt[0],this.match+=tt[0],this.matches=tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(tt[0].length),this.matched+=tt[0],ut=this.performAction.call(this,this.yy,this,at,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ut)return ut;if(this._backtrack){for(var X in _t)this[X]=_t[X];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var tt,at,ut,st;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var _t=this._currentRules(),X=0;X<_t.length;X++)if((ut=this._input.match(this.rules[_t[X]]))&&(!at||ut[0].length>at[0].length)){if(at=ut,st=X,this.options.backtrack_lexer){if((tt=this.test_match(ut,_t[X]))!==!1)return tt;if(this._backtrack){at=!1;continue}return!1}if(!this.options.flex)break}return at?(tt=this.test_match(at,_t[st]))!==!1&&tt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var tt=this.next();return tt||this.lex()},"lex"),begin:w(function(tt){this.conditionStack.push(tt)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(tt){return(tt=this.conditionStack.length-1-Math.abs(tt||0))>=0?this.conditionStack[tt]:"INITIAL"},"topState"),pushState:w(function(tt){this.begin(tt)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(tt,at,ut,st){switch(ut){case 0:case 51:case 66:return 5;case 1:case 2:case 3:case 4:case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return at.yytext=at.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 52:return at.yytext=at.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}}}();function rt(){this.yy={}}return G.lexer=V,w(rt,"Parser"),rt.prototype=G,G.Parser=rt,new rt}();SS.parser=SS;var JHt=SS,Fe=new s8(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),tUt=w(function(t){Fe.records.boxes.push({name:t.text,wrap:t.wrap??Gd(),fill:t.color,actorKeys:[]}),Fe.records.currentBox=Fe.records.boxes.slice(-1)[0]},"addBox"),AS=w(function(t,e,r,n){let i=Fe.records.currentBox;const o=Fe.records.actors.get(t);if(o){if(Fe.records.currentBox&&o.box&&Fe.records.currentBox!==o.box)throw new Error(`A same participant should only be defined in one Box: ${o.name} can't be in '${o.box.name}' and in '${Fe.records.currentBox.name}' at the same time.`);if(i=o.box?o.box:Fe.records.currentBox,o.box=i,o&&e===o.name&&r==null)return}if((r==null?void 0:r.text)==null&&(r={text:e,type:n}),n!=null&&r.text!=null||(r={text:e,type:n}),Fe.records.actors.set(t,{box:i,name:e,description:r.text,wrap:r.wrap??Gd(),prevActor:Fe.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),Fe.records.prevActor){const a=Fe.records.actors.get(Fe.records.prevActor);a&&(a.nextActor=t)}Fe.records.currentBox&&Fe.records.currentBox.actorKeys.push(t),Fe.records.prevActor=t},"addActor"),eUt=w(t=>{let e,r=0;if(!t)return 0;for(e=0;e<Fe.records.messages.length;e++)Fe.records.messages[e].type===iy.ACTIVE_START&&Fe.records.messages[e].from===t&&r++,Fe.records.messages[e].type===iy.ACTIVE_END&&Fe.records.messages[e].from===t&&r--;return r},"activationCount"),rUt=w(function(t,e,r,n){Fe.records.messages.push({from:t,to:e,message:r.text,wrap:r.wrap??Gd(),answer:n})},"addMessage"),ns=w(function(t,e,r,n,i=!1){if(n===iy.ACTIVE_END&&eUt(t??"")<1){const o=new Error("Trying to inactivate an inactive participant ("+t+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return Fe.records.messages.push({from:t,to:e,message:(r==null?void 0:r.text)??"",wrap:(r==null?void 0:r.wrap)??Gd(),type:n,activate:i}),!0},"addSignal"),nUt=w(function(){return Fe.records.boxes.length>0},"hasAtLeastOneBox"),iUt=w(function(){return Fe.records.boxes.some(t=>t.name)},"hasAtLeastOneBoxWithTitle"),oUt=w(function(){return Fe.records.messages},"getMessages"),aUt=w(function(){return Fe.records.boxes},"getBoxes"),sUt=w(function(){return Fe.records.actors},"getActors"),lUt=w(function(){return Fe.records.createdActors},"getCreatedActors"),cUt=w(function(){return Fe.records.destroyedActors},"getDestroyedActors"),Jy=w(function(t){return Fe.records.actors.get(t)},"getActor"),uUt=w(function(){return[...Fe.records.actors.keys()]},"getActorKeys"),hUt=w(function(){Fe.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),dUt=w(function(){Fe.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),pUt=w(()=>Fe.records.sequenceNumbersEnabled,"showSequenceNumbers"),fUt=w(function(t){Fe.records.wrapEnabled=t},"setWrap"),$ot=w(t=>{if(t===void 0)return{};t=t.trim();const e=/^:?wrap:/.exec(t)!==null||/^:?nowrap:/.exec(t)===null&&void 0;return{cleanedText:(e===void 0?t:t.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:e}},"extractWrap"),Gd=w(()=>{var t;return Fe.records.wrapEnabled!==void 0?Fe.records.wrapEnabled:((t=Tt().sequence)==null?void 0:t.wrap)??!1},"autoWrap"),gUt=w(function(){Fe.reset(),Gi()},"clear"),mUt=w(function(t){const e=t.trim(),{wrap:r,cleanedText:n}=$ot(e),i={text:n,wrap:r};return et.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),yUt=w(function(t){const e=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t);let r=e!=null&&e[1]?e[1].trim():"transparent",n=e!=null&&e[2]?e[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=t.trim());else{const a=new Option().style;a.color=r,a.color!==r&&(r="transparent",n=t.trim())}const{wrap:i,cleanedText:o}=$ot(n);return{text:o?nn(o,Tt()):void 0,color:r,wrap:i}},"parseBoxData"),iy={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},Not=w(function(t,e,r){const n={actor:t,placement:e,message:r.text,wrap:r.wrap??Gd()},i=[].concat(t,t);Fe.records.notes.push(n),Fe.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??Gd(),type:iy.NOTE,placement:e})},"addNote"),Iot=w(function(t,e){const r=Jy(t);try{let n=nn(e.text,Tt());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"="),O3(r,JSON.parse(n))}catch(n){et.error("error while parsing actor link text",n)}},"addLinks"),vUt=w(function(t,e){const r=Jy(t);try{const n={};let i=nn(e.text,Tt());const o=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const a=i.slice(0,o-1).trim(),s=i.slice(o+1).trim();n[a]=s,O3(r,n)}catch(n){et.error("error while parsing actor link text",n)}},"addALink");function O3(t,e){if(t.links==null)t.links=e;else for(const r in e)t.links[r]=e[r]}w(O3,"insertLinks");var Lot=w(function(t,e){const r=Jy(t);try{const n=nn(e.text,Tt());r$(r,JSON.parse(n))}catch(n){et.error("error while parsing actor properties text",n)}},"addProperties");function r$(t,e){if(t.properties==null)t.properties=e;else for(const r in e)t.properties[r]=e[r]}function Rot(){Fe.records.currentBox=void 0}w(r$,"insertProperties"),w(Rot,"boxEnd");var Dot=w(function(t,e){const r=Jy(t),n=document.getElementById(e.text);try{const i=n.innerHTML,o=JSON.parse(i);o.properties&&r$(r,o.properties),o.links&&O3(r,o.links)}catch(i){et.error("error while parsing actor details text",i)}},"addDetails"),bUt=w(function(t,e){if((t==null?void 0:t.properties)!==void 0)return t.properties[e]},"getActorProperty"),Oot=w(function(t){if(Array.isArray(t))t.forEach(function(e){Oot(e)});else switch(t.type){case"sequenceIndex":Fe.records.messages.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":AS(t.actor,t.actor,t.description,t.draw);break;case"createParticipant":if(Fe.records.actors.has(t.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Fe.records.lastCreated=t.actor,AS(t.actor,t.actor,t.description,t.draw),Fe.records.createdActors.set(t.actor,Fe.records.messages.length);break;case"destroyParticipant":Fe.records.lastDestroyed=t.actor,Fe.records.destroyedActors.set(t.actor,Fe.records.messages.length);break;case"activeStart":case"activeEnd":ns(t.actor,void 0,void 0,t.signalType);break;case"addNote":Not(t.actor,t.placement,t.text);break;case"addLinks":Iot(t.actor,t.text);break;case"addALink":vUt(t.actor,t.text);break;case"addProperties":Lot(t.actor,t.text);break;case"addDetails":Dot(t.actor,t.text);break;case"addMessage":if(Fe.records.lastCreated){if(t.to!==Fe.records.lastCreated)throw new Error("The created participant "+Fe.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Fe.records.lastCreated=void 0}else if(Fe.records.lastDestroyed){if(t.to!==Fe.records.lastDestroyed&&t.from!==Fe.records.lastDestroyed)throw new Error("The destroyed participant "+Fe.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Fe.records.lastDestroyed=void 0}ns(t.from,t.to,t.msg,t.signalType,t.activate);break;case"boxStart":tUt(t.boxData);break;case"boxEnd":Rot();break;case"loopStart":ns(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":ns(void 0,void 0,void 0,t.signalType);break;case"rectStart":ns(void 0,void 0,t.color,t.signalType);break;case"optStart":ns(void 0,void 0,t.optText,t.signalType);break;case"altStart":case"else":ns(void 0,void 0,t.altText,t.signalType);break;case"setAccTitle":Wi(t.text);break;case"parStart":case"and":ns(void 0,void 0,t.parText,t.signalType);break;case"criticalStart":ns(void 0,void 0,t.criticalText,t.signalType);break;case"option":ns(void 0,void 0,t.optionText,t.signalType);break;case"breakStart":ns(void 0,void 0,t.breakText,t.signalType)}},"apply"),YP={addActor:AS,addMessage:rUt,addSignal:ns,addLinks:Iot,addDetails:Dot,addProperties:Lot,autoWrap:Gd,setWrap:fUt,enableSequenceNumbers:hUt,disableSequenceNumbers:dUt,showSequenceNumbers:pUt,getMessages:oUt,getActors:sUt,getCreatedActors:lUt,getDestroyedActors:cUt,getActor:Jy,getActorKeys:uUt,getActorProperty:bUt,getAccTitle:so,getBoxes:aUt,getDiagramTitle:uo,setDiagramTitle:ta,getConfig:w(()=>Tt().sequence,"getConfig"),clear:gUt,parseMessage:mUt,parseBoxData:yUt,LINETYPE:iy,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:Not,setAccTitle:Wi,apply:Oot,setAccDescription:lo,getAccDescription:co,hasAtLeastOneBox:nUt,hasAtLeastOneBoxWithTitle:iUt},xUt=w(t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),Mot="actor-top",Bot="actor-bottom",XP="actor-man",n$=w(function(t,e){return l3(t,e)},"drawRect"),wUt=w(function(t,e,r,n,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const o=e.links,a=e.actorCnt,s=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+a+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var h="";s.class!==void 0&&(h=" "+s.class);let d=s.width>r?s.width:r;const p=u.append("rect");if(p.attr("class","actorPopupMenuPanel"+h),p.attr("x",s.x),p.attr("y",s.height),p.attr("fill",s.fill),p.attr("stroke",s.stroke),p.attr("width",d),p.attr("height",s.height),p.attr("rx",s.rx),p.attr("ry",s.ry),o!=null){var f=20;for(let y in o){var g=u.append("a"),m=fh(o[y]);g.attr("xlink:href",m),g.attr("target","_blank"),PUt(n)(y,g,s.x+10,s.height+f,d,20,{class:"actor"},n),f+=30}}return p.attr("height",f),{height:s.height+f,width:d}},"drawPopup"),kUt=w(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),x5=w(async function(t,e,r=null){let n=t.append("foreignObject");const i=await vy(e.text,Nn()),o=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(o.height)).attr("width",Math.round(o.width)),e.class==="noteText"){const a=t.node().firstChild;a.setAttribute("height",o.height+2*e.textMargin);const s=a.getBBox();n.attr("x",Math.round(s.x+s.width/2-o.width/2)).attr("y",Math.round(s.y+s.height/2-o.height/2))}else if(r){let{startx:a,stopx:s,starty:l}=r;if(a>s){const u=a;a=s,s=u}n.attr("x",Math.round(a+Math.abs(a-s)/2-o.width/2)),e.class==="loopText"?n.attr("y",Math.round(l)):n.attr("y",Math.round(l-o.height))}return[n]},"drawKatex"),tg=w(function(t,e){let r=0,n=0;const i=e.text.split(ne.lineBreakRegex),[o,a]=gh(e.fontSize);let s=[],l=0,u=w(()=>e.y,"yfunc");if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=w(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":u=w(()=>Math.round(e.y+(r+n+e.textMargin)/2),"yfunc");break;case"bottom":case"end":u=w(()=>Math.round(e.y+(r+n+2*e.textMargin)-e.textMargin),"yfunc")}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle"}for(let[h,d]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&o!==void 0&&(l=h*o);const p=t.append("text");p.attr("x",e.x),p.attr("y",u()),e.anchor!==void 0&&p.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&p.style("font-family",e.fontFamily),a!==void 0&&p.style("font-size",a),e.fontWeight!==void 0&&p.style("font-weight",e.fontWeight),e.fill!==void 0&&p.attr("fill",e.fill),e.class!==void 0&&p.attr("class",e.class),e.dy!==void 0?p.attr("dy",e.dy):l!==0&&p.attr("dy",l);const f=d||K0t;if(e.tspan){const g=p.append("tspan");g.attr("x",e.x),e.fill!==void 0&&g.attr("fill",e.fill),g.text(f)}else p.text(f);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(n+=(p._groups||p)[0][0].getBBox().height,r=n),s.push(p)}return s},"drawText"),Pot=w(function(t,e){function r(i,o,a,s,l){return i+","+o+" "+(i+a)+","+o+" "+(i+a)+","+(o+s-l)+" "+(i+a-1.2*l)+","+(o+s)+" "+i+","+(o+s)}w(r,"genPoints");const n=t.append("polygon");return n.attr("points",r(e.x,e.y,e.width,e.height,7)),n.attr("class","labelBox"),e.y=e.y+e.height/2,tg(t,e),n},"drawLabel"),$l=-1,Fot=w((t,e,r,n)=>{t.select&&r.forEach(i=>{const o=e.get(i),a=t.select("#actor"+o.actorCnt);!n.mirrorActors&&o.stopy?a.attr("y2",o.stopy+o.height/2):n.mirrorActors&&a.attr("y2",o.stopy)})},"fixLifeLineHeights"),TUt=w(function(t,e,r,n){var f,g;const i=n?e.stopy:e.starty,o=e.x+e.width/2,a=i+e.height,s=t.append("g").lower();var l=s;n||($l++,Object.keys(e.links||{}).length&&!r.forceMenus&&l.attr("onclick",kUt(`actor${$l}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+$l).attr("x1",o).attr("y1",a).attr("x2",o).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),l=s.append("g"),e.actorCnt=$l,e.links!=null&&l.attr("id","root-"+$l));const u=op();var h="actor";(f=e.properties)!=null&&f.class?h=e.properties.class:u.fill="#eaeaea",h+=n?` ${Bot}`:` ${Mot}`,u.x=e.x,u.y=i,u.width=e.width,u.height=e.height,u.class=h,u.rx=3,u.ry=3,u.name=e.name;const d=n$(l,u);if(e.rectData=u,(g=e.properties)==null?void 0:g.icon){const m=e.properties.icon.trim();m.charAt(0)==="@"?z9t(l,u.x+u.width-20,u.y+10,m.substr(1)):F9t(l,u.x+u.width-20,u.y+10,m)}i$(r,Io(e.description))(e.description,l,u.x,u.y,u.width,u.height,{class:"actor actor-box"},r);let p=e.height;if(d.node){const m=d.node().getBBox();e.height=m.height,p=m.height}return p},"drawActorTypeParticipant"),EUt=w(function(t,e,r,n){const i=n?e.stopy:e.starty,o=e.x+e.width/2,a=i+80,s=t.append("g").lower();n||($l++,s.append("line").attr("id","actor"+$l).attr("x1",o).attr("y1",a).attr("x2",o).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=$l);const l=t.append("g");let u=XP;u+=n?` ${Bot}`:` ${Mot}`,l.attr("class",u),l.attr("name",e.name);const h=op();h.x=e.x,h.y=i,h.fill="#eaeaea",h.width=e.width,h.height=e.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+$l).attr("x1",o).attr("y1",i+25).attr("x2",o).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+$l).attr("x1",o-18).attr("y1",i+33).attr("x2",o+18).attr("y2",i+33),l.append("line").attr("x1",o-18).attr("y1",i+60).attr("x2",o).attr("y2",i+45),l.append("line").attr("x1",o).attr("y1",i+45).attr("x2",o+18-2).attr("y2",i+60);const d=l.append("circle");d.attr("cx",e.x+e.width/2),d.attr("cy",i+10),d.attr("r",15),d.attr("width",e.width),d.attr("height",e.height);const p=l.node().getBBox();return e.height=p.height,i$(r,Io(e.description))(e.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${XP}`},r),e.height},"drawActorTypeActor"),_Ut=w(async function(t,e,r,n){switch(e.type){case"actor":return await EUt(t,e,r,n);case"participant":return await TUt(t,e,r,n)}},"drawActor"),SUt=w(function(t,e,r){const n=t.append("g");zot(n,e),e.name&&i$(r)(e.name,n,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},r),n.lower()},"drawBox"),AUt=w(function(t){return t.append("g")},"anchorElement"),CUt=w(function(t,e,r,n,i){const o=op(),a=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+i%3,o.width=e.stopx-e.startx,o.height=r-e.starty,n$(a,o)},"drawActivation"),$Ut=w(async function(t,e,r,n){const{boxMargin:i,boxTextMargin:o,labelBoxHeight:a,labelBoxWidth:s,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=n,d=t.append("g"),p=w(function(m,y,v,x){return d.append("line").attr("x1",m).attr("y1",y).attr("x2",v).attr("y2",x).attr("class","loopLine")},"drawLoopLine");p(e.startx,e.starty,e.stopx,e.starty),p(e.stopx,e.starty,e.stopx,e.stopy),p(e.startx,e.stopy,e.stopx,e.stopy),p(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(m){p(e.startx,m.y,e.stopx,m.y).style("stroke-dasharray","3, 3")});let f=X7();f.text=r,f.x=e.startx,f.y=e.starty,f.fontFamily=l,f.fontSize=u,f.fontWeight=h,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=s||50,f.height=a||20,f.textMargin=o,f.class="labelText",Pot(d,f),f=jot(),f.text=e.title,f.x=e.startx+s/2+(e.stopx-e.startx)/2,f.y=e.starty+i+o,f.anchor="middle",f.valign="middle",f.textMargin=o,f.class="loopText",f.fontFamily=l,f.fontSize=u,f.fontWeight=h,f.wrap=!0;let g=Io(f.text)?await x5(d,f,e):tg(d,f);if(e.sectionTitles!==void 0){for(const[m,y]of Object.entries(e.sectionTitles))if(y.message){f.text=y.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[m].y+i+o,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=l,f.fontSize=u,f.fontWeight=h,f.wrap=e.wrap,Io(f.text)?(e.starty=e.sections[m].y,await x5(d,f,e)):tg(d,f);let v=Math.round(g.map(x=>(x._groups||x)[0][0].getBBox().height).reduce((x,b)=>x+b));e.sections[m].height+=v-(i+o)}}return e.height=Math.round(e.stopy-e.starty),d},"drawLoop"),zot=w(function(t,e){fet(t,e)},"drawBackgroundRect"),NUt=w(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),IUt=w(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),LUt=w(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),RUt=w(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),DUt=w(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),OUt=w(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),MUt=w(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),jot=w(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),BUt=w(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),i$=function(){function t(o,a,s,l,u,h,d){i(a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(o),d)}function e(o,a,s,l,u,h,d,p){const{actorFontSize:f,actorFontFamily:g,actorFontWeight:m}=p,[y,v]=gh(f),x=o.split(ne.lineBreakRegex);for(let b=0;b<x.length;b++){const k=b*y-y*(x.length-1)/2,N=a.append("text").attr("x",s+u/2).attr("y",l).style("text-anchor","middle").style("font-size",v).style("font-weight",m).style("font-family",g);N.append("tspan").attr("x",s+u/2).attr("dy",k).text(x[b]),N.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(N,d)}}function r(o,a,s,l,u,h,d,p){const f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),e(o,f,s,l,u,h,d,p),i(g,d)}async function n(o,a,s,l,u,h,d,p){const f=await yy(o,Nn()),g=a.append("switch"),m=g.append("foreignObject").attr("x",s+u/2-f.width/2).attr("y",l+h/2-f.height/2).attr("width",f.width).attr("height",f.height).append("xhtml:div").style("height","100%").style("width","100%");m.append("div").style("text-align","center").style("vertical-align","middle").html(await vy(o,Nn())),e(o,g,s,l,u,h,d,p),i(m,d)}function i(o,a){for(const s in a)a.hasOwnProperty(s)&&o.attr(s,a[s])}return w(t,"byText"),w(e,"byTspan"),w(r,"byFo"),w(n,"byKatex"),w(i,"_setTextAttrs"),function(o,a=!1){return a?n:o.textPlacement==="fo"?r:o.textPlacement==="old"?t:e}}(),PUt=function(){function t(i,o,a,s,l,u,h){n(o.append("text").attr("x",a).attr("y",s).style("text-anchor","start").text(i),h)}function e(i,o,a,s,l,u,h,d){const{actorFontSize:p,actorFontFamily:f,actorFontWeight:g}=d,m=i.split(ne.lineBreakRegex);for(let y=0;y<m.length;y++){const v=y*p-p*(m.length-1)/2,x=o.append("text").attr("x",a).attr("y",s).style("text-anchor","start").style("font-size",p).style("font-weight",g).style("font-family",f);x.append("tspan").attr("x",a).attr("dy",v).text(m[y]),x.attr("y",s+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,h)}}function r(i,o,a,s,l,u,h,d){const p=o.append("switch"),f=p.append("foreignObject").attr("x",a).attr("y",s).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,a,s,0,u,h,d),n(f,h)}function n(i,o){for(const a in o)o.hasOwnProperty(a)&&i.attr(a,o[a])}return w(t,"byText"),w(e,"byTspan"),w(r,"byFo"),w(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Yn={drawRect:n$,drawText:tg,drawLabel:Pot,drawActor:_Ut,drawBox:SUt,drawPopup:wUt,anchorElement:AUt,drawActivation:CUt,drawLoop:$Ut,drawBackgroundRect:zot,insertArrowHead:RUt,insertArrowFilledHead:DUt,insertSequenceNumber:OUt,insertArrowCrossHead:MUt,insertDatabaseIcon:NUt,insertComputerIcon:IUt,insertClockIcon:LUt,getTextObj:jot,getNoteRect:BUt,fixLifeLineHeights:Fot,sanitizeUrl:fh},Rt={},Jt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:w(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:w(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:w(function(t){this.boxes.push(t)},"addBox"),addActor:w(function(t){this.actors.push(t)},"addActor"),addLoop:w(function(t){this.loops.push(t)},"addLoop"),addMessage:w(function(t){this.messages.push(t)},"addMessage"),addNote:w(function(t){this.notes.push(t)},"addNote"),lastActor:w(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:w(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:w(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:w(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:w(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,qot(Tt())},"init"),updateVal:w(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:w(function(t,e,r,n){const i=this;let o=0;function a(s){return w(function(l){o++;const u=i.sequenceItems.length-o+1;i.updateVal(l,"starty",e-u*Rt.boxMargin,Math.min),i.updateVal(l,"stopy",n+u*Rt.boxMargin,Math.max),i.updateVal(Jt.data,"startx",t-u*Rt.boxMargin,Math.min),i.updateVal(Jt.data,"stopx",r+u*Rt.boxMargin,Math.max),s!=="activation"&&(i.updateVal(l,"startx",t-u*Rt.boxMargin,Math.min),i.updateVal(l,"stopx",r+u*Rt.boxMargin,Math.max),i.updateVal(Jt.data,"starty",e-u*Rt.boxMargin,Math.min),i.updateVal(Jt.data,"stopy",n+u*Rt.boxMargin,Math.max))},"updateItemBounds")}w(a,"updateFn"),this.sequenceItems.forEach(a()),this.activations.forEach(a("activation"))},"updateBounds"),insert:w(function(t,e,r,n){const i=ne.getMin(t,r),o=ne.getMax(t,r),a=ne.getMin(e,n),s=ne.getMax(e,n);this.updateVal(Jt.data,"startx",i,Math.min),this.updateVal(Jt.data,"starty",a,Math.min),this.updateVal(Jt.data,"stopx",o,Math.max),this.updateVal(Jt.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},"insert"),newActivation:w(function(t,e,r){const n=r.get(t.from),i=M3(t.from).length||0,o=n.x+n.width/2+(i-1)*Rt.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+Rt.activationWidth,stopy:void 0,actor:t.from,anchored:Yn.anchorElement(e)})},"newActivation"),endActivation:w(function(t){const e=this.activations.map(function(r){return r.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:w(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:w(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:w(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:w(function(){return!!this.sequenceItems.length&&this.sequenceItems[this.sequenceItems.length-1].overlap},"isLoopOverlap"),addSectionToLoop:w(function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Jt.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:w(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:w(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:w(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=ne.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:w(function(){return this.verticalPos},"getVerticalPos"),getBounds:w(function(){return{bounds:this.data,models:this.models}},"getBounds")},FUt=w(async function(t,e){Jt.bumpVerticalPos(Rt.boxMargin),e.height=Rt.boxMargin,e.starty=Jt.getVerticalPos();const r=op();r.x=e.startx,r.y=e.starty,r.width=e.width||Rt.width,r.class="note";const n=t.append("g"),i=Yn.drawRect(n,r),o=X7();o.x=e.startx,o.y=e.starty,o.width=r.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=Rt.noteFontFamily,o.fontSize=Rt.noteFontSize,o.fontWeight=Rt.noteFontWeight,o.anchor=Rt.noteAlign,o.textMargin=Rt.noteMargin,o.valign="center";const a=Io(o.text)?await x5(n,o):tg(n,o),s=Math.round(a.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",s+2*Rt.noteMargin),e.height+=s+2*Rt.noteMargin,Jt.bumpVerticalPos(s+2*Rt.noteMargin),e.stopy=e.starty+s+2*Rt.noteMargin,e.stopx=e.startx+r.width,Jt.insert(e.startx,e.starty,e.stopx,e.stopy),Jt.models.addNote(e)},"drawNote"),Wd=w(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),Gp=w(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),CS=w(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");async function Hot(t,e){Jt.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=e,o=ne.splitBreaks(i).length,a=Io(i),s=a?await yy(i,Tt()):dr.calculateTextDimensions(i,Wd(Rt));if(!a){const d=s.height/o;e.height+=d,Jt.bumpVerticalPos(d)}let l,u=s.height-10;const h=s.width;if(r===n){l=Jt.getVerticalPos()+u,Rt.rightAngles||(u+=Rt.boxMargin,l=Jt.getVerticalPos()+u),u+=30;const d=ne.getMax(h/2,Rt.width/2);Jt.insert(r-d,Jt.getVerticalPos()-10+u,n+d,Jt.getVerticalPos()+30+u)}else u+=Rt.boxMargin,l=Jt.getVerticalPos()+u,Jt.insert(r,l-10,n,l);return Jt.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,Jt.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}w(Hot,"boundMessage");var zUt=w(async function(t,e,r,n){const{startx:i,stopx:o,starty:a,message:s,type:l,sequenceIndex:u,sequenceVisible:h}=e,d=dr.calculateTextDimensions(s,Wd(Rt)),p=X7();p.x=i,p.y=a+10,p.width=o-i,p.class="messageText",p.dy="1em",p.text=s,p.fontFamily=Rt.messageFontFamily,p.fontSize=Rt.messageFontSize,p.fontWeight=Rt.messageFontWeight,p.anchor=Rt.messageAlign,p.valign="center",p.textMargin=Rt.wrapPadding,p.tspan=!1,Io(p.text)?await x5(t,p,{startx:i,stopx:o,starty:r}):tg(t,p);const f=d.width;let g;i===o?g=Rt.rightAngles?t.append("path").attr("d",`M  ${i},${r} H ${i+ne.getMax(Rt.width/2,f/2)} V ${r+25} H ${i}`):t.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(g=t.append("line"),g.attr("x1",i),g.attr("y1",r),g.attr("x2",o),g.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(g.style("stroke-dasharray","3, 3"),g.attr("class","messageLine1")):g.attr("class","messageLine0");let m="";Rt.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),g.attr("stroke-width",2),g.attr("stroke","none"),g.style("fill","none"),l!==n.db.LINETYPE.SOLID&&l!==n.db.LINETYPE.DOTTED||g.attr("marker-end","url("+m+"#arrowhead)"),l!==n.db.LINETYPE.BIDIRECTIONAL_SOLID&&l!==n.db.LINETYPE.BIDIRECTIONAL_DOTTED||(g.attr("marker-start","url("+m+"#arrowhead)"),g.attr("marker-end","url("+m+"#arrowhead)")),l!==n.db.LINETYPE.SOLID_POINT&&l!==n.db.LINETYPE.DOTTED_POINT||g.attr("marker-end","url("+m+"#filled-head)"),l!==n.db.LINETYPE.SOLID_CROSS&&l!==n.db.LINETYPE.DOTTED_CROSS||g.attr("marker-end","url("+m+"#crosshead)"),(h||Rt.showSequenceNumbers)&&(g.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),jUt=w(function(t,e,r,n,i,o,a){let s,l=0,u=0,h=0;for(const d of n){const p=e.get(d),f=p.box;s&&s!=f&&(a||Jt.models.addBox(s),u+=Rt.boxMargin+s.margin),f&&f!=s&&(a||(f.x=l+u,f.y=i),u+=f.margin),p.width=p.width||Rt.width,p.height=ne.getMax(p.height||Rt.height,Rt.height),p.margin=p.margin||Rt.actorMargin,h=ne.getMax(h,p.height),r.get(p.name)&&(u+=p.width/2),p.x=l+u,p.starty=Jt.getVerticalPos(),Jt.insert(p.x,i,p.x+p.width,p.height),l+=p.width+u,p.box&&(p.box.width=l+f.margin-p.box.x),u=p.margin,s=p.box,Jt.models.addActor(p)}s&&!a&&Jt.models.addBox(s),Jt.bumpVerticalPos(h)},"addActorRenderingData"),$S=w(async function(t,e,r,n){if(n){let i=0;Jt.bumpVerticalPos(2*Rt.boxMargin);for(const o of r){const a=e.get(o);a.stopy||(a.stopy=Jt.getVerticalPos());const s=await Yn.drawActor(t,a,Rt,!0);i=ne.getMax(i,s)}Jt.bumpVerticalPos(i+Rt.boxMargin)}else for(const i of r){const o=e.get(i);await Yn.drawActor(t,o,Rt,!1)}},"drawActors"),Uot=w(function(t,e,r,n){let i=0,o=0;for(const a of r){const s=e.get(a),l=UUt(s),u=Yn.drawPopup(t,s,l,Rt,Rt.forceMenus,n);u.height>i&&(i=u.height),u.width+s.x>o&&(o=u.width+s.x)}return{maxHeight:i,maxWidth:o}},"drawActorsPopup"),qot=w(function(t){Ti(Rt,t),t.fontFamily&&(Rt.actorFontFamily=Rt.noteFontFamily=Rt.messageFontFamily=t.fontFamily),t.fontSize&&(Rt.actorFontSize=Rt.noteFontSize=Rt.messageFontSize=t.fontSize),t.fontWeight&&(Rt.actorFontWeight=Rt.noteFontWeight=Rt.messageFontWeight=t.fontWeight)},"setConf"),M3=w(function(t){return Jt.activations.filter(function(e){return e.actor===t})},"actorActivations"),KP=w(function(t,e){const r=e.get(t),n=M3(t);return[n.reduce(function(i,o){return ne.getMin(i,o.startx)},r.x+r.width/2-1),n.reduce(function(i,o){return ne.getMax(i,o.stopx)},r.x+r.width/2+1)]},"activationBounds");function Ms(t,e,r,n,i){Jt.bumpVerticalPos(r);let o=n;if(e.id&&e.message&&t[e.id]){const a=t[e.id].width,s=Wd(Rt);e.message=dr.wrapLabel(`[${e.message}]`,a-2*Rt.wrapPadding,s),e.width=a,e.wrap=!0;const l=dr.calculateTextDimensions(e.message,s),u=ne.getMax(l.height,Rt.labelBoxHeight);o=n+u,et.debug(`${u} - ${e.message}`)}i(e),Jt.bumpVerticalPos(o)}function Got(t,e,r,n,i,o,a){function s(u,h){u.x<i.get(t.from).x?(Jt.insert(e.stopx-h,e.starty,e.startx,e.stopy+u.height/2+Rt.noteMargin),e.stopx=e.stopx+h):(Jt.insert(e.startx,e.starty,e.stopx+h,e.stopy+u.height/2+Rt.noteMargin),e.stopx=e.stopx-h)}function l(u,h){u.x<i.get(t.to).x?(Jt.insert(e.startx-h,e.starty,e.stopx,e.stopy+u.height/2+Rt.noteMargin),e.startx=e.startx+h):(Jt.insert(e.stopx,e.starty,e.startx+h,e.stopy+u.height/2+Rt.noteMargin),e.startx=e.startx-h)}if(w(s,"receiverAdjustment"),w(l,"senderAdjustment"),o.get(t.to)==n){const u=i.get(t.to);s(u,u.type=="actor"?21:u.width/2+3),u.starty=r-u.height/2,Jt.bumpVerticalPos(u.height/2)}else if(a.get(t.from)==n){const u=i.get(t.from);Rt.mirrorActors&&l(u,u.type=="actor"?18:u.width/2),u.stopy=r-u.height/2,Jt.bumpVerticalPos(u.height/2)}else if(a.get(t.to)==n){const u=i.get(t.to);Rt.mirrorActors&&s(u,u.type=="actor"?21:u.width/2+3),u.stopy=r-u.height/2,Jt.bumpVerticalPos(u.height/2)}}w(Ms,"adjustLoopHeightForWrap"),w(Got,"adjustCreatedDestroyedData");var HUt=w(async function(t,e,r,n){const{securityLevel:i,sequence:o}=Tt();let a;Rt=o,i==="sandbox"&&(a=he("#i"+e));const s=he(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?a.nodes()[0].contentDocument:document;Jt.init(),et.debug(n.db);const u=i==="sandbox"?s.select(`[id="${e}"]`):he(`[id="${e}"]`),h=n.db.getActors(),d=n.db.getCreatedActors(),p=n.db.getDestroyedActors(),f=n.db.getBoxes();let g=n.db.getActorKeys();const m=n.db.getMessages(),y=n.db.getDiagramTitle(),v=n.db.hasAtLeastOneBox(),x=n.db.hasAtLeastOneBoxWithTitle(),b=await Wot(h,m,n);if(Rt.height=await Vot(h,b,f),Yn.insertComputerIcon(u),Yn.insertDatabaseIcon(u),Yn.insertClockIcon(u),v&&(Jt.bumpVerticalPos(Rt.boxMargin),x&&Jt.bumpVerticalPos(f[0].textMaxHeight)),Rt.hideUnusedParticipants===!0){const R=new Set;m.forEach(M=>{R.add(M.from),R.add(M.to)}),g=g.filter(M=>R.has(M))}jUt(u,h,d,g,0,m,!1);const k=await WUt(m,h,b,n);function N(R,M){const F=Jt.endActivation(R);F.starty+18>M&&(F.starty=M-6,M+=12),Yn.drawActivation(u,F,M,Rt,M3(R.from).length),Jt.insert(F.startx,M-10,F.stopx,M)}Yn.insertArrowHead(u),Yn.insertArrowCrossHead(u),Yn.insertArrowFilledHead(u),Yn.insertSequenceNumber(u),w(N,"activeEnd");let _=1,S=1;const T=[],A=[];let C=0;for(const R of m){let M,F,P;switch(R.type){case n.db.LINETYPE.NOTE:Jt.resetVerticalPos(),F=R.noteModel,await FUt(u,F);break;case n.db.LINETYPE.ACTIVE_START:Jt.newActivation(R,u,h);break;case n.db.LINETYPE.ACTIVE_END:N(R,Jt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,U=>Jt.newLoop(U));break;case n.db.LINETYPE.LOOP_END:M=Jt.endLoop(),await Yn.drawLoop(u,M,"loop",Rt),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos()),Jt.models.addLoop(M);break;case n.db.LINETYPE.RECT_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin,U=>Jt.newLoop(void 0,U.message));break;case n.db.LINETYPE.RECT_END:M=Jt.endLoop(),A.push(M),Jt.models.addLoop(M),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,U=>Jt.newLoop(U));break;case n.db.LINETYPE.OPT_END:M=Jt.endLoop(),await Yn.drawLoop(u,M,"opt",Rt),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos()),Jt.models.addLoop(M);break;case n.db.LINETYPE.ALT_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,U=>Jt.newLoop(U));break;case n.db.LINETYPE.ALT_ELSE:Ms(k,R,Rt.boxMargin+Rt.boxTextMargin,Rt.boxMargin,U=>Jt.addSectionToLoop(U));break;case n.db.LINETYPE.ALT_END:M=Jt.endLoop(),await Yn.drawLoop(u,M,"alt",Rt),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos()),Jt.models.addLoop(M);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,U=>Jt.newLoop(U)),Jt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Ms(k,R,Rt.boxMargin+Rt.boxTextMargin,Rt.boxMargin,U=>Jt.addSectionToLoop(U));break;case n.db.LINETYPE.PAR_END:M=Jt.endLoop(),await Yn.drawLoop(u,M,"par",Rt),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos()),Jt.models.addLoop(M);break;case n.db.LINETYPE.AUTONUMBER:_=R.message.start||_,S=R.message.step||S,R.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,U=>Jt.newLoop(U));break;case n.db.LINETYPE.CRITICAL_OPTION:Ms(k,R,Rt.boxMargin+Rt.boxTextMargin,Rt.boxMargin,U=>Jt.addSectionToLoop(U));break;case n.db.LINETYPE.CRITICAL_END:M=Jt.endLoop(),await Yn.drawLoop(u,M,"critical",Rt),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos()),Jt.models.addLoop(M);break;case n.db.LINETYPE.BREAK_START:Ms(k,R,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,U=>Jt.newLoop(U));break;case n.db.LINETYPE.BREAK_END:M=Jt.endLoop(),await Yn.drawLoop(u,M,"break",Rt),Jt.bumpVerticalPos(M.stopy-Jt.getVerticalPos()),Jt.models.addLoop(M);break;default:try{P=R.msgModel,P.starty=Jt.getVerticalPos(),P.sequenceIndex=_,P.sequenceVisible=n.db.showSequenceNumbers();const U=await Hot(0,P);Got(R,P,U,C,h,d,p),T.push({messageModel:P,lineStartY:U}),Jt.models.addMessage(P)}catch(U){et.error("error while drawing message",U)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(R.type)&&(_+=S),C++}et.debug("createdActors",d),et.debug("destroyedActors",p),await $S(u,h,g,!1);for(const R of T)await zUt(u,R.messageModel,R.lineStartY,n);Rt.mirrorActors&&await $S(u,h,g,!0),A.forEach(R=>Yn.drawBackgroundRect(u,R)),Fot(u,h,g,Rt);for(const R of Jt.models.boxes)R.height=Jt.getVerticalPos()-R.y,Jt.insert(R.x,R.y,R.x+R.width,R.height),R.startx=R.x,R.starty=R.y,R.stopx=R.startx+R.width,R.stopy=R.starty+R.height,R.stroke="rgb(0,0,0, 0.5)",Yn.drawBox(u,R,Rt);v&&Jt.bumpVerticalPos(Rt.boxMargin);const D=Uot(u,h,g,l),{bounds:E}=Jt.getBounds();E.startx===void 0&&(E.startx=0),E.starty===void 0&&(E.starty=0),E.stopx===void 0&&(E.stopx=0),E.stopy===void 0&&(E.stopy=0);let $=E.stopy-E.starty;$<D.maxHeight&&($=D.maxHeight);let I=$+2*Rt.diagramMarginY;Rt.mirrorActors&&(I=I-Rt.boxMargin+Rt.bottomMarginAdj);let L=E.stopx-E.startx;L<D.maxWidth&&(L=D.maxWidth);const O=L+2*Rt.diagramMarginX;y&&u.append("text").text(y).attr("x",(E.stopx-E.startx)/2-2*Rt.diagramMarginX).attr("y",-25),Ro(u,I,O,Rt.useMaxWidth);const B=y?40:0;u.attr("viewBox",E.startx-Rt.diagramMarginX+" -"+(Rt.diagramMarginY+B)+" "+O+" "+(I+B)),et.debug("models:",Jt.models)},"draw");async function Wot(t,e,r){const n={};for(const i of e)if(t.get(i.to)&&t.get(i.from)){const o=t.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!o.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!o.nextActor)continue;const a=i.placement!==void 0,s=!a,l=a?Gp(Rt):Wd(Rt),u=i.wrap?dr.wrapLabel(i.message,Rt.width-2*Rt.wrapPadding,l):i.message,h=(Io(u)?await yy(i.message,Tt()):dr.calculateTextDimensions(u,l)).width+2*Rt.wrapPadding;s&&i.from===o.nextActor?n[i.to]=ne.getMax(n[i.to]||0,h):s&&i.from===o.prevActor?n[i.from]=ne.getMax(n[i.from]||0,h):s&&i.from===i.to?(n[i.from]=ne.getMax(n[i.from]||0,h/2),n[i.to]=ne.getMax(n[i.to]||0,h/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=ne.getMax(n[i.from]||0,h):i.placement===r.db.PLACEMENT.LEFTOF?n[o.prevActor]=ne.getMax(n[o.prevActor]||0,h):i.placement===r.db.PLACEMENT.OVER&&(o.prevActor&&(n[o.prevActor]=ne.getMax(n[o.prevActor]||0,h/2)),o.nextActor&&(n[i.from]=ne.getMax(n[i.from]||0,h/2)))}return et.debug("maxMessageWidthPerActor:",n),n}w(Wot,"getMaxMessageWidthPerActor");var UUt=w(function(t){let e=0;const r=CS(Rt);for(const n in t.links){const i=dr.calculateTextDimensions(n,r).width+2*Rt.wrapPadding+2*Rt.boxMargin;e<i&&(e=i)}return e},"getRequiredPopupWidth");async function Vot(t,e,r){let n=0;for(const o of t.keys()){const a=t.get(o);a.wrap&&(a.description=dr.wrapLabel(a.description,Rt.width-2*Rt.wrapPadding,CS(Rt)));const s=Io(a.description)?await yy(a.description,Tt()):dr.calculateTextDimensions(a.description,CS(Rt));a.width=a.wrap?Rt.width:ne.getMax(Rt.width,s.width+2*Rt.wrapPadding),a.height=a.wrap?ne.getMax(s.height,Rt.height):Rt.height,n=ne.getMax(n,a.height)}for(const o in e){const a=t.get(o);if(!a)continue;const s=t.get(a.nextActor);if(!s){const u=e[o]+Rt.actorMargin-a.width/2;a.margin=ne.getMax(u,Rt.actorMargin);continue}const l=e[o]+Rt.actorMargin-a.width/2-s.width/2;a.margin=ne.getMax(l,Rt.actorMargin)}let i=0;return r.forEach(o=>{const a=Wd(Rt);let s=o.actorKeys.reduce((h,d)=>h+(t.get(d).width+(t.get(d).margin||0)),0);s-=2*Rt.boxTextMargin,o.wrap&&(o.name=dr.wrapLabel(o.name,s-2*Rt.wrapPadding,a));const l=dr.calculateTextDimensions(o.name,a);i=ne.getMax(l.height,i);const u=ne.getMax(s,l.width+2*Rt.wrapPadding);if(o.margin=Rt.boxTextMargin,s<u){const h=(u-s)/2;o.margin+=h}}),r.forEach(o=>o.textMaxHeight=i),ne.getMax(n,Rt.height)}w(Vot,"calculateActorMargins");var qUt=w(async function(t,e,r){const n=e.get(t.from),i=e.get(t.to),o=n.x,a=i.x,s=t.wrap&&t.message;let l=Io(t.message)?await yy(t.message,Tt()):dr.calculateTextDimensions(s?dr.wrapLabel(t.message,Rt.width,Gp(Rt)):t.message,Gp(Rt));const u={width:s?Rt.width:ne.getMax(Rt.width,l.width+2*Rt.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===r.db.PLACEMENT.RIGHTOF?(u.width=s?ne.getMax(Rt.width,l.width):ne.getMax(n.width/2+i.width/2,l.width+2*Rt.noteMargin),u.startx=o+(n.width+Rt.actorMargin)/2):t.placement===r.db.PLACEMENT.LEFTOF?(u.width=s?ne.getMax(Rt.width,l.width+2*Rt.noteMargin):ne.getMax(n.width/2+i.width/2,l.width+2*Rt.noteMargin),u.startx=o-u.width+(n.width-Rt.actorMargin)/2):t.to===t.from?(l=dr.calculateTextDimensions(s?dr.wrapLabel(t.message,ne.getMax(Rt.width,n.width),Gp(Rt)):t.message,Gp(Rt)),u.width=s?ne.getMax(Rt.width,n.width):ne.getMax(n.width,Rt.width,l.width+2*Rt.noteMargin),u.startx=o+(n.width-u.width)/2):(u.width=Math.abs(o+n.width/2-(a+i.width/2))+Rt.actorMargin,u.startx=o<a?o+n.width/2-Rt.actorMargin/2:a+i.width/2-Rt.actorMargin/2),s&&(u.message=dr.wrapLabel(t.message,u.width-2*Rt.wrapPadding,Gp(Rt))),et.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},"buildNoteModel"),GUt=w(function(t,e,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};const[n,i]=KP(t.from,e),[o,a]=KP(t.to,e),s=n<=o;let l=s?i:n,u=s?o:a;const h=Math.abs(o-a)>2,d=w(m=>s?-m:m,"adjustValue");t.from===t.to?u=l:(t.activate&&!h&&(u+=d(Rt.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(u+=d(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(l-=d(3)));const p=[n,i,o,a],f=Math.abs(l-u);t.wrap&&t.message&&(t.message=dr.wrapLabel(t.message,ne.getMax(f+2*Rt.wrapPadding,Rt.width),Wd(Rt)));const g=dr.calculateTextDimensions(t.message,Wd(Rt));return{width:ne.getMax(t.wrap?0:g.width+2*Rt.wrapPadding,f+2*Rt.wrapPadding,Rt.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,p),toBounds:Math.max.apply(null,p)}},"buildMessageModel"),WUt=w(async function(t,e,r,n){const i={},o=[];let a,s,l;for(const u of t){switch(u.id=dr.random({length:10}),u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:o.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(a=o.pop(),i[a.id]=a,i[u.id]=a,o.push(a));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:a=o.pop(),i[a.id]=a;break;case n.db.LINETYPE.ACTIVE_START:{const h=e.get(u.from?u.from:u.to.actor),d=M3(u.from?u.from:u.to.actor).length,p=h.x+h.width/2+(d-1)*Rt.activationWidth/2,f={startx:p,stopx:p+Rt.activationWidth,actor:u.from,enabled:!0};Jt.activations.push(f)}break;case n.db.LINETYPE.ACTIVE_END:{const h=Jt.activations.map(d=>d.actor).lastIndexOf(u.from);Jt.activations.splice(h,1).splice(0,1)}}u.placement!==void 0?(s=await qUt(u,e,n),u.noteModel=s,o.forEach(h=>{a=h,a.from=ne.getMin(a.from,s.startx),a.to=ne.getMax(a.to,s.startx+s.width),a.width=ne.getMax(a.width,Math.abs(a.from-a.to))-Rt.labelBoxWidth})):(l=GUt(u,e,n),u.msgModel=l,l.startx&&l.stopx&&o.length>0&&o.forEach(h=>{if(a=h,l.startx===l.stopx){const d=e.get(u.from),p=e.get(u.to);a.from=ne.getMin(d.x-l.width/2,d.x-d.width/2,a.from),a.to=ne.getMax(p.x+l.width/2,p.x+d.width/2,a.to),a.width=ne.getMax(a.width,Math.abs(a.to-a.from))-Rt.labelBoxWidth}else a.from=ne.getMin(l.startx,a.from),a.to=ne.getMax(l.stopx,a.to),a.width=ne.getMax(a.width,l.width)-Rt.labelBoxWidth}))}return Jt.activations=[],et.debug("Loop type widths:",i),i},"calculateLoopBounds"),VUt={parser:JHt,db:YP,renderer:{bounds:Jt,drawActors:$S,drawActorsPopup:Uot,setConf:qot,draw:HUt},styles:xUt,init:w(({wrap:t})=>{YP.setWrap(t)},"init")};const YUt=Object.freeze(Object.defineProperty({__proto__:null,diagram:VUt},Symbol.toStringTag,{value:"Module"}));var NS=function(){var t=w(function(gt,xt,Ct,lt){for(Ct=Ct||{},lt=gt.length;lt--;Ct[gt[lt]]=xt);return Ct},"o"),e=[1,18],r=[1,19],n=[1,20],i=[1,41],o=[1,42],a=[1,26],s=[1,24],l=[1,25],u=[1,32],h=[1,33],d=[1,34],p=[1,45],f=[1,35],g=[1,36],m=[1,37],y=[1,38],v=[1,27],x=[1,28],b=[1,29],k=[1,30],N=[1,31],_=[1,44],S=[1,46],T=[1,43],A=[1,47],C=[1,9],D=[1,8,9],E=[1,58],$=[1,59],I=[1,60],L=[1,61],O=[1,62],B=[1,63],R=[1,64],M=[1,8,9,41],F=[1,76],P=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],U=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],W=[13,58,84,99,101,102],Q=[13,58,71,72,84,99,101,102],K=[13,58,66,67,68,69,70,84,99,101,102],G=[1,98],V=[1,115],rt=[1,107],tt=[1,113],at=[1,108],ut=[1,109],st=[1,110],_t=[1,111],X=[1,112],Et=[1,114],H=[22,58,59,80,84,85,86,87,88,89],ct=[1,8,9,39,41,44],dt=[1,8,9,22],Nt=[1,143],ft=[1,8,9,59],Dt=[1,8,9,22,58,59,80,84,85,86,87,88,89],$t={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:w(function(gt,xt,Ct,lt,ot,Y,Ot){var nt=Y.length-1;switch(ot){case 8:this.$=Y[nt-1];break;case 9:case 12:case 14:this.$=Y[nt];break;case 10:case 13:this.$=Y[nt-2]+"."+Y[nt];break;case 11:case 15:case 95:this.$=Y[nt-1]+Y[nt];break;case 16:case 17:this.$=Y[nt-1]+"~"+Y[nt]+"~";break;case 18:lt.addRelation(Y[nt]);break;case 19:Y[nt-1].title=lt.cleanupLabel(Y[nt]),lt.addRelation(Y[nt-1]);break;case 30:this.$=Y[nt].trim(),lt.setAccTitle(this.$);break;case 31:case 32:this.$=Y[nt].trim(),lt.setAccDescription(this.$);break;case 33:lt.addClassesToNamespace(Y[nt-3],Y[nt-1]);break;case 34:lt.addClassesToNamespace(Y[nt-4],Y[nt-1]);break;case 35:this.$=Y[nt],lt.addNamespace(Y[nt]);break;case 36:case 46:case 59:case 92:this.$=[Y[nt]];break;case 37:this.$=[Y[nt-1]];break;case 38:Y[nt].unshift(Y[nt-2]),this.$=Y[nt];break;case 40:lt.setCssClass(Y[nt-2],Y[nt]);break;case 41:lt.addMembers(Y[nt-3],Y[nt-1]);break;case 42:lt.setCssClass(Y[nt-5],Y[nt-3]),lt.addMembers(Y[nt-5],Y[nt-1]);break;case 43:this.$=Y[nt],lt.addClass(Y[nt]);break;case 44:this.$=Y[nt-1],lt.addClass(Y[nt-1]),lt.setClassLabel(Y[nt-1],Y[nt]);break;case 45:lt.addAnnotation(Y[nt],Y[nt-2]);break;case 47:Y[nt].push(Y[nt-1]),this.$=Y[nt];break;case 48:case 50:case 51:break;case 49:lt.addMember(Y[nt-1],lt.cleanupLabel(Y[nt]));break;case 52:this.$={id1:Y[nt-2],id2:Y[nt],relation:Y[nt-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:Y[nt-3],id2:Y[nt],relation:Y[nt-1],relationTitle1:Y[nt-2],relationTitle2:"none"};break;case 54:this.$={id1:Y[nt-3],id2:Y[nt],relation:Y[nt-2],relationTitle1:"none",relationTitle2:Y[nt-1]};break;case 55:this.$={id1:Y[nt-4],id2:Y[nt],relation:Y[nt-2],relationTitle1:Y[nt-3],relationTitle2:Y[nt-1]};break;case 56:lt.addNote(Y[nt],Y[nt-1]);break;case 57:lt.addNote(Y[nt]);break;case 58:this.$=Y[nt-2],lt.defineClass(Y[nt-1],Y[nt]);break;case 60:this.$=Y[nt-2].concat([Y[nt]]);break;case 61:lt.setDirection("TB");break;case 62:lt.setDirection("BT");break;case 63:lt.setDirection("RL");break;case 64:lt.setDirection("LR");break;case 65:this.$={type1:Y[nt-2],type2:Y[nt],lineType:Y[nt-1]};break;case 66:this.$={type1:"none",type2:Y[nt],lineType:Y[nt-1]};break;case 67:this.$={type1:Y[nt-1],type2:"none",lineType:Y[nt]};break;case 68:this.$={type1:"none",type2:"none",lineType:Y[nt]};break;case 69:this.$=lt.relationType.AGGREGATION;break;case 70:this.$=lt.relationType.EXTENSION;break;case 71:this.$=lt.relationType.COMPOSITION;break;case 72:this.$=lt.relationType.DEPENDENCY;break;case 73:this.$=lt.relationType.LOLLIPOP;break;case 74:this.$=lt.lineType.LINE;break;case 75:this.$=lt.lineType.DOTTED_LINE;break;case 76:case 82:this.$=Y[nt-2],lt.setClickEvent(Y[nt-1],Y[nt]);break;case 77:case 83:this.$=Y[nt-3],lt.setClickEvent(Y[nt-2],Y[nt-1]),lt.setTooltip(Y[nt-2],Y[nt]);break;case 78:this.$=Y[nt-2],lt.setLink(Y[nt-1],Y[nt]);break;case 79:this.$=Y[nt-3],lt.setLink(Y[nt-2],Y[nt-1],Y[nt]);break;case 80:this.$=Y[nt-3],lt.setLink(Y[nt-2],Y[nt-1]),lt.setTooltip(Y[nt-2],Y[nt]);break;case 81:this.$=Y[nt-4],lt.setLink(Y[nt-3],Y[nt-2],Y[nt]),lt.setTooltip(Y[nt-3],Y[nt-1]);break;case 84:this.$=Y[nt-3],lt.setClickEvent(Y[nt-2],Y[nt-1],Y[nt]);break;case 85:this.$=Y[nt-4],lt.setClickEvent(Y[nt-3],Y[nt-2],Y[nt-1]),lt.setTooltip(Y[nt-3],Y[nt]);break;case 86:this.$=Y[nt-3],lt.setLink(Y[nt-2],Y[nt]);break;case 87:this.$=Y[nt-4],lt.setLink(Y[nt-3],Y[nt-1],Y[nt]);break;case 88:this.$=Y[nt-4],lt.setLink(Y[nt-3],Y[nt-1]),lt.setTooltip(Y[nt-3],Y[nt]);break;case 89:this.$=Y[nt-5],lt.setLink(Y[nt-4],Y[nt-2],Y[nt]),lt.setTooltip(Y[nt-4],Y[nt-1]);break;case 90:this.$=Y[nt-2],lt.setCssStyle(Y[nt-1],Y[nt]);break;case 91:lt.setCssClass(Y[nt-1],Y[nt]);break;case 93:Y[nt-2].push(Y[nt]),this.$=Y[nt-2]}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:n,38:22,42:i,43:23,46:o,47:a,49:s,50:l,52:u,54:h,55:d,58:p,60:f,61:g,62:m,63:y,73:v,74:x,76:b,80:k,81:N,84:_,99:S,101:T,102:A},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(C,[2,5],{8:[1,48]}),{8:[1,49]},t(D,[2,18],{22:[1,50]}),t(D,[2,20]),t(D,[2,21]),t(D,[2,22]),t(D,[2,23]),t(D,[2,24]),t(D,[2,25]),t(D,[2,26]),t(D,[2,27]),t(D,[2,28]),t(D,[2,29]),{34:[1,51]},{36:[1,52]},t(D,[2,32]),t(D,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:E,67:$,68:I,69:L,70:O,71:B,72:R}),{39:[1,65]},t(M,[2,39],{39:[1,67],44:[1,66]}),t(D,[2,50]),t(D,[2,51]),{16:68,58:p,84:_,99:S,101:T},{16:39,18:69,19:40,58:p,84:_,99:S,101:T,102:A},{16:39,18:70,19:40,58:p,84:_,99:S,101:T,102:A},{16:39,18:71,19:40,58:p,84:_,99:S,101:T,102:A},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:p,84:_,99:S,101:T,102:A},{13:F,53:75},{56:77,58:[1,78]},t(D,[2,61]),t(D,[2,62]),t(D,[2,63]),t(D,[2,64]),t(P,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:p,84:_,99:S,101:T,102:A}),t(P,[2,14],{20:[1,82]}),{15:83,16:84,58:p,84:_,99:S,101:T},{16:39,18:85,19:40,58:p,84:_,99:S,101:T,102:A},t(U,[2,118]),t(U,[2,119]),t(U,[2,120]),t(U,[2,121]),t([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),t(C,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:e,35:r,37:n,42:i,46:o,47:a,49:s,50:l,52:u,54:h,55:d,58:p,60:f,61:g,62:m,63:y,73:v,74:x,76:b,80:k,81:N,84:_,99:S,101:T,102:A}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:n,38:22,42:i,43:23,46:o,47:a,49:s,50:l,52:u,54:h,55:d,58:p,60:f,61:g,62:m,63:y,73:v,74:x,76:b,80:k,81:N,84:_,99:S,101:T,102:A},t(D,[2,19]),t(D,[2,30]),t(D,[2,31]),{13:[1,89],16:39,18:88,19:40,58:p,84:_,99:S,101:T,102:A},{51:90,64:56,65:57,66:E,67:$,68:I,69:L,70:O,71:B,72:R},t(D,[2,49]),{65:91,71:B,72:R},t(W,[2,68],{64:92,66:E,67:$,68:I,69:L,70:O}),t(Q,[2,69]),t(Q,[2,70]),t(Q,[2,71]),t(Q,[2,72]),t(Q,[2,73]),t(K,[2,74]),t(K,[2,75]),{8:[1,94],24:95,40:93,43:23,46:o},{16:96,58:p,84:_,99:S,101:T},{45:97,49:G},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:V,57:104,58:rt,80:tt,82:105,83:106,84:at,85:ut,86:st,87:_t,88:X,89:Et},{58:[1,116]},{13:F,53:117},t(D,[2,57]),t(D,[2,123]),{22:V,57:118,58:rt,59:[1,119],80:tt,82:105,83:106,84:at,85:ut,86:st,87:_t,88:X,89:Et},t(H,[2,59]),{16:39,18:120,19:40,58:p,84:_,99:S,101:T,102:A},t(P,[2,15]),t(P,[2,16]),t(P,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:p,84:_,99:S,101:T},t(ct,[2,43],{11:123,12:[1,124]}),t(C,[2,7]),{9:[1,125]},t(dt,[2,52]),{16:39,18:126,19:40,58:p,84:_,99:S,101:T,102:A},{13:[1,128],16:39,18:127,19:40,58:p,84:_,99:S,101:T,102:A},t(W,[2,67],{64:129,66:E,67:$,68:I,69:L,70:O}),t(W,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:o},{8:[1,132],41:[2,36]},t(M,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:G},{16:39,18:136,19:40,58:p,84:_,99:S,101:T,102:A},t(D,[2,76],{13:[1,137]}),t(D,[2,78],{13:[1,139],75:[1,138]}),t(D,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},t(D,[2,90],{59:Nt}),t(ft,[2,92],{83:144,22:V,58:rt,80:tt,84:at,85:ut,86:st,87:_t,88:X,89:Et}),t(Dt,[2,94]),t(Dt,[2,96]),t(Dt,[2,97]),t(Dt,[2,98]),t(Dt,[2,99]),t(Dt,[2,100]),t(Dt,[2,101]),t(Dt,[2,102]),t(Dt,[2,103]),t(Dt,[2,104]),t(D,[2,91]),t(D,[2,56]),t(D,[2,58],{59:Nt}),{58:[1,145]},t(P,[2,13]),{15:146,16:84,58:p,84:_,99:S,101:T},{39:[2,11]},t(ct,[2,44]),{13:[1,147]},{1:[2,4]},t(dt,[2,54]),t(dt,[2,53]),{16:39,18:148,19:40,58:p,84:_,99:S,101:T,102:A},t(W,[2,65]),t(D,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:o},{45:151,49:G},t(M,[2,41]),{41:[2,47]},t(D,[2,45]),t(D,[2,77]),t(D,[2,79]),t(D,[2,80],{75:[1,152]}),t(D,[2,83]),t(D,[2,84],{13:[1,153]}),t(D,[2,86],{13:[1,155],75:[1,154]}),{22:V,58:rt,80:tt,82:156,83:106,84:at,85:ut,86:st,87:_t,88:X,89:Et},t(Dt,[2,95]),t(H,[2,60]),{39:[2,10]},{14:[1,157]},t(dt,[2,55]),t(D,[2,34]),{41:[2,38]},{41:[1,158]},t(D,[2,81]),t(D,[2,85]),t(D,[2,87]),t(D,[2,88],{75:[1,159]}),t(ft,[2,93],{83:144,22:V,58:rt,80:tt,84:at,85:ut,86:st,87:_t,88:X,89:Et}),t(ct,[2,8]),t(M,[2,42]),t(D,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:w(function(gt,xt){if(!xt.recoverable){var Ct=new Error(gt);throw Ct.hash=xt,Ct}this.trace(gt)},"parseError"),parse:w(function(gt){var xt=this,Ct=[0],lt=[],ot=[null],Y=[],Ot=this.table,nt="",Ut=0,Ft=0,qt=Y.slice.call(arguments,1),Wt=Object.create(this.lexer),Ht={yy:{}};for(var Xe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Xe)&&(Ht.yy[Xe]=this.yy[Xe]);Wt.setInput(gt,Ht.yy),Ht.yy.lexer=Wt,Ht.yy.parser=this,Wt.yylloc===void 0&&(Wt.yylloc={});var Vt=Wt.yylloc;Y.push(Vt);var xe=Wt.options&&Wt.options.ranges;function Kt(){var Zt;return typeof(Zt=lt.pop()||Wt.lex()||1)!="number"&&(Zt instanceof Array&&(Zt=(lt=Zt).pop()),Zt=xt.symbols_[Zt]||Zt),Zt}typeof Ht.yy.parseError=="function"?this.parseError=Ht.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(Zt){Ct.length=Ct.length-2*Zt,ot.length=ot.length-Zt,Y.length=Y.length-Zt},"popStack"),w(Kt,"lex");for(var Xt,pe,de,ge,pr,Ne,Ze,ke,Ce={};;){if(pe=Ct[Ct.length-1],this.defaultActions[pe]?de=this.defaultActions[pe]:(Xt==null&&(Xt=Kt()),de=Ot[pe]&&Ot[pe][Xt]),de===void 0||!de.length||!de[0]){var be="";for(pr in ke=[],Ot[pe])this.terminals_[pr]&&pr>2&&ke.push("'"+this.terminals_[pr]+"'");be=Wt.showPosition?"Parse error on line "+(Ut+1)+`:
`+Wt.showPosition()+`
Expecting `+ke.join(", ")+", got '"+(this.terminals_[Xt]||Xt)+"'":"Parse error on line "+(Ut+1)+": Unexpected "+(Xt==1?"end of input":"'"+(this.terminals_[Xt]||Xt)+"'"),this.parseError(be,{text:Wt.match,token:this.terminals_[Xt]||Xt,line:Wt.yylineno,loc:Vt,expected:ke})}if(de[0]instanceof Array&&de.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+Xt);switch(de[0]){case 1:Ct.push(Xt),ot.push(Wt.yytext),Y.push(Wt.yylloc),Ct.push(de[1]),Xt=null,Ft=Wt.yyleng,nt=Wt.yytext,Ut=Wt.yylineno,Vt=Wt.yylloc;break;case 2:if(Ne=this.productions_[de[1]][1],Ce.$=ot[ot.length-Ne],Ce._$={first_line:Y[Y.length-(Ne||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(Ne||1)].first_column,last_column:Y[Y.length-1].last_column},xe&&(Ce._$.range=[Y[Y.length-(Ne||1)].range[0],Y[Y.length-1].range[1]]),(ge=this.performAction.apply(Ce,[nt,Ft,Ut,Ht.yy,de[1],ot,Y].concat(qt)))!==void 0)return ge;Ne&&(Ct=Ct.slice(0,-1*Ne*2),ot=ot.slice(0,-1*Ne),Y=Y.slice(0,-1*Ne)),Ct.push(this.productions_[de[1]][0]),ot.push(Ce.$),Y.push(Ce._$),Ze=Ot[Ct[Ct.length-2]][Ct[Ct.length-1]],Ct.push(Ze);break;case 3:return!0}}return!0},"parse")},mt=function(){return{EOF:1,parseError:w(function(gt,xt){if(!this.yy.parser)throw new Error(gt);this.yy.parser.parseError(gt,xt)},"parseError"),setInput:w(function(gt,xt){return this.yy=xt||this.yy||{},this._input=gt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var gt=this._input[0];return this.yytext+=gt,this.yyleng++,this.offset++,this.match+=gt,this.matched+=gt,gt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),gt},"input"),unput:w(function(gt){var xt=gt.length,Ct=gt.split(/(?:\r\n?|\n)/g);this._input=gt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-xt),this.offset-=xt;var lt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ct.length-1&&(this.yylineno-=Ct.length-1);var ot=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ct?(Ct.length===lt.length?this.yylloc.first_column:0)+lt[lt.length-Ct.length].length-Ct[0].length:this.yylloc.first_column-xt},this.options.ranges&&(this.yylloc.range=[ot[0],ot[0]+this.yyleng-xt]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(gt){this.unput(this.match.slice(gt))},"less"),pastInput:w(function(){var gt=this.matched.substr(0,this.matched.length-this.match.length);return(gt.length>20?"...":"")+gt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var gt=this.match;return gt.length<20&&(gt+=this._input.substr(0,20-gt.length)),(gt.substr(0,20)+(gt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var gt=this.pastInput(),xt=new Array(gt.length+1).join("-");return gt+this.upcomingInput()+`
`+xt+"^"},"showPosition"),test_match:w(function(gt,xt){var Ct,lt,ot;if(this.options.backtrack_lexer&&(ot={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ot.yylloc.range=this.yylloc.range.slice(0))),(lt=gt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lt?lt[lt.length-1].length-lt[lt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+gt[0].length},this.yytext+=gt[0],this.match+=gt[0],this.matches=gt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(gt[0].length),this.matched+=gt[0],Ct=this.performAction.call(this,this.yy,this,xt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ct)return Ct;if(this._backtrack){for(var Y in ot)this[Y]=ot[Y];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var gt,xt,Ct,lt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ot=this._currentRules(),Y=0;Y<ot.length;Y++)if((Ct=this._input.match(this.rules[ot[Y]]))&&(!xt||Ct[0].length>xt[0].length)){if(xt=Ct,lt=Y,this.options.backtrack_lexer){if((gt=this.test_match(Ct,ot[Y]))!==!1)return gt;if(this._backtrack){xt=!1;continue}return!1}if(!this.options.flex)break}return xt?(gt=this.test_match(xt,ot[lt]))!==!1&&gt:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var gt=this.next();return gt||this.lex()},"lex"),begin:w(function(gt){this.conditionStack.push(gt)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(gt){return(gt=this.conditionStack.length-1-Math.abs(gt||0))>=0?this.conditionStack[gt]:"INITIAL"},"topState"),pushState:w(function(gt){this.begin(gt)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:w(function(gt,xt,Ct,lt){switch(Ct){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:case 5:case 14:case 31:case 36:case 40:case 47:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 19:case 22:case 24:case 58:case 61:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 35:return 8;case 15:case 16:return 7;case 17:case 37:case 45:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 23:return 78;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:case 39:return this.popState(),8;case 32:return this.begin("namespace-body"),39;case 33:case 43:return this.popState(),41;case 34:case 44:return"EOF_IN_STRUCT";case 38:return this.begin("class"),46;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 46:return"OPEN_IN_STRUCT";case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:case 65:case 66:case 67:return 75;case 68:case 69:return 67;case 70:case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:case 85:return 88;case 86:return 89;case 87:case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}}}();function It(){this.yy={}}return $t.lexer=mt,w(It,"Parser"),It.prototype=$t,$t.Parser=It,new It}();NS.parser=NS;var Yot=NS,ZP=["#","+","~","-",""],f0,QP=(f0=class{constructor(e,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";const n=nn(e,Tt());this.parseMember(n)}getDisplayDetails(){let e=this.visibility+Mh(this.id);return this.memberType==="method"&&(e+=`(${Mh(this.parameters.trim())})`,this.returnType&&(e+=" : "+Mh(this.returnType))),e=e.trim(),{displayText:e,cssStyle:this.parseClassifier()}}parseMember(e){let r="";if(this.memberType==="method"){const i=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(i){const o=i[1]?i[1].trim():"";if(ZP.includes(o)&&(this.visibility=o),this.id=i[2],this.parameters=i[3]?i[3].trim():"",r=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",r===""){const a=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(a)&&(r=a,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const i=e.length,o=e.substring(0,1),a=e.substring(i-1);ZP.includes(o)&&(this.visibility=o),/[$*]/.exec(a)&&(r=a),this.id=e.substring(this.visibility===""?0:1,r===""?i:i-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const n=`${this.visibility?"\\"+this.visibility:""}${Mh(this.id)}${this.memberType==="method"?`(${Mh(this.parameters)})${this.returnType?" : "+Mh(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},w(f0,"ClassMember"),f0),B3="classId-",P3=[],bn=new Map,JP=new Map,oy=[],eg=[],tF=0,hl=new Map,IS=0,F3=[],Vd=w(t=>ne.sanitizeText(t,Tt()),"sanitizeText"),Yd=w(function(t){const e=ne.sanitizeText(t,Tt());let r="",n=e;if(e.indexOf("~")>0){const i=e.split("~");n=Vd(i[0]),r=Vd(i[1])}return{className:n,type:r}},"splitClassNameAndType"),XUt=w(function(t,e){const r=ne.sanitizeText(t,Tt());e&&(e=Vd(e));const{className:n}=Yd(r);bn.get(n).label=e,bn.get(n).text=`${e}${bn.get(n).type?`<${bn.get(n).type}>`:""}`},"setClassLabel"),af=w(function(t){const e=ne.sanitizeText(t,Tt()),{className:r,type:n}=Yd(e);if(bn.has(r))return;const i=ne.sanitizeText(r,Tt());bn.set(i,{id:i,type:n,label:i,text:`${i}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:B3+i+"-"+tF}),tF++},"addClass"),eF=w(function(t,e){const r={id:`interface${eg.length}`,label:t,classId:e};eg.push(r)},"addInterface"),Xot=w(function(t){const e=ne.sanitizeText(t,Tt());if(bn.has(e))return bn.get(e).domId;throw new Error("Class not found: "+e)},"lookUpDomId"),KUt=w(function(){P3=[],bn=new Map,oy=[],eg=[],(F3=[]).push(Zot),hl=new Map,IS=0,a$="TB",Gi()},"clear"),ZUt=w(function(t){return bn.get(t)},"getClass"),QUt=w(function(){return bn},"getClasses"),JUt=w(function(){return P3},"getRelations"),tqt=w(function(){return oy},"getNotes"),eqt=w(function(t){et.debug("Adding relation: "+JSON.stringify(t));const e=[yu.LOLLIPOP,yu.AGGREGATION,yu.COMPOSITION,yu.DEPENDENCY,yu.EXTENSION];t.relation.type1!==yu.LOLLIPOP||e.includes(t.relation.type2)?t.relation.type2!==yu.LOLLIPOP||e.includes(t.relation.type1)?(af(t.id1),af(t.id2)):(af(t.id1),eF(t.id2,t.id1),t.id2="interface"+(eg.length-1)):(af(t.id2),eF(t.id1,t.id2),t.id1="interface"+(eg.length-1)),t.id1=Yd(t.id1).className,t.id2=Yd(t.id2).className,t.relationTitle1=ne.sanitizeText(t.relationTitle1.trim(),Tt()),t.relationTitle2=ne.sanitizeText(t.relationTitle2.trim(),Tt()),P3.push(t)},"addRelation"),rqt=w(function(t,e){const r=Yd(t).className;bn.get(r).annotations.push(e)},"addAnnotation"),Kot=w(function(t,e){af(t);const r=Yd(t).className,n=bn.get(r);if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(Vd(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new QP(i,"method")):i&&n.members.push(new QP(i,"attribute"))}},"addMember"),nqt=w(function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(r=>Kot(t,r)))},"addMembers"),iqt=w(function(t,e){const r={id:`note${oy.length}`,class:e,text:t};oy.push(r)},"addNote"),oqt=w(function(t){return t.startsWith(":")&&(t=t.substring(1)),Vd(t.trim())},"cleanupLabel"),o$=w(function(t,e){t.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=B3+n);const i=bn.get(n);i&&(i.cssClasses+=" "+e)})},"setCssClass"),aqt=w(function(t,e){for(const r of t){let n=JP.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},JP.set(r,n)),e&&e.forEach(function(i){if(/color/.exec(i)){const o=i.replace("fill","bgFill");n.textStyles.push(o)}n.styles.push(i)}),bn.forEach(i=>{i.cssClasses.includes(r)&&i.styles.push(...e.flatMap(o=>o.split(",")))})}},"defineClass"),sqt=w(function(t,e){t.split(",").forEach(function(r){e!==void 0&&(bn.get(r).tooltip=Vd(e))})},"setTooltip"),lqt=w(function(t,e){return e&&hl.has(e)?hl.get(e).classes.get(t).tooltip:bn.get(t).tooltip},"getTooltip"),cqt=w(function(t,e,r){const n=Tt();t.split(",").forEach(function(i){let o=i;/\d/.exec(i[0])&&(o=B3+o);const a=bn.get(o);a&&(a.link=dr.formatUrl(e,n),n.securityLevel==="sandbox"?a.linkTarget="_top":a.linkTarget=typeof r=="string"?Vd(r):"_blank")}),o$(t,"clickable")},"setLink"),uqt=w(function(t,e,r){t.split(",").forEach(function(n){hqt(n,e,r),bn.get(n).haveCallback=!0}),o$(t,"clickable")},"setClickEvent"),hqt=w(function(t,e,r){const n=ne.sanitizeText(t,Tt());if(Tt().securityLevel!=="loose"||e===void 0)return;const i=n;if(bn.has(i)){const o=Xot(i);let a=[];if(typeof r=="string"){a=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<a.length;s++){let l=a[s].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),a[s]=l}}a.length===0&&a.push(o),F3.push(function(){const s=document.querySelector(`[id="${o}"]`);s!==null&&s.addEventListener("click",function(){dr.runFunc(e,...a)},!1)})}},"setClickFunc"),dqt=w(function(t){F3.forEach(function(e){e(t)})},"bindFunctions"),yu={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Zot=w(function(t){let e=he(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=he("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),he(t).select("svg").selectAll("g.node").on("mouseover",function(){const r=he(this);if(r.attr("title")===null)return;const n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),he(this).classed("hover",!1)})},"setupToolTips");F3.push(Zot);var a$="TB",Qot=w(()=>a$,"getDirection"),pqt=w(t=>{a$=t},"setDirection"),fqt=w(function(t){hl.has(t)||(hl.set(t,{id:t,classes:new Map,children:{},domId:B3+t+"-"+IS}),IS++)},"addNamespace"),gqt=w(function(t){return hl.get(t)},"getNamespace"),mqt=w(function(){return hl},"getNamespaces"),yqt=w(function(t,e){if(hl.has(t))for(const r of e){const{className:n}=Yd(r);bn.get(n).parent=t,hl.get(t).classes.set(n,bn.get(n))}},"addClassesToNamespace"),vqt=w(function(t,e){const r=bn.get(t);if(e&&r)for(const n of e)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle");function LS(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}w(LS,"getArrowMarker");var bqt=w(()=>{var i;const t=[],e=[],r=Tt();for(const o of hl.keys()){const a=hl.get(o);if(a){const s={id:a.id,label:a.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};t.push(s)}}for(const o of bn.keys()){const a=bn.get(o);if(a){const s=a;s.parentId=a.parent,s.look=r.look,t.push(s)}}let n=0;for(const o of oy){n++;const a={id:o.id,label:o.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};t.push(a);const s=((i=bn.get(o.class))==null?void 0:i.id)??"";if(s){const l={id:`edgeNote${n}`,start:o.id,end:s,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};e.push(l)}}for(const o of eg){const a={id:o.id,label:o.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};t.push(a)}n=0;for(const o of P3){n++;const a={id:DW(o.id1,o.id2,{prefix:"id",counter:n}),start:o.id1,end:o.id2,type:"normal",label:o.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:LS(o.relation.type1),arrowTypeEnd:LS(o.relation.type2),startLabelRight:o.relationTitle1==="none"?"":o.relationTitle1,endLabelLeft:o.relationTitle2==="none"?"":o.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:o.style||"",pattern:o.relation.lineType==1?"dashed":"solid",look:r.look};e.push(a)}return{nodes:t,edges:e,other:{},config:r,direction:Qot()}},"getData"),w5={setAccTitle:Wi,getAccTitle:so,getAccDescription:co,setAccDescription:lo,getConfig:w(()=>Tt().class,"getConfig"),addClass:af,bindFunctions:dqt,clear:KUt,getClass:ZUt,getClasses:QUt,getNotes:tqt,addAnnotation:rqt,addNote:iqt,getRelations:JUt,addRelation:eqt,getDirection:Qot,setDirection:pqt,addMember:Kot,addMembers:nqt,cleanupLabel:oqt,lineType:{LINE:0,DOTTED_LINE:1},relationType:yu,setClickEvent:uqt,setCssClass:o$,defineClass:aqt,setLink:cqt,getTooltip:lqt,setTooltip:sqt,lookUpDomId:Xot,setDiagramTitle:ta,getDiagramTitle:uo,setClassLabel:XUt,addNamespace:fqt,addClassesToNamespace:yqt,getNamespace:gqt,getNamespaces:mqt,setCssStyle:vqt,getData:bqt},Jot=w(t=>`g.classGroup text {
  fill: ${t.nodeBorder||t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}

.labelBkg {
  background: ${t.mainBkg};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),xqt=w((t,e="TB")=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),tat={getClasses:w(function(t,e){return e.db.getClasses()},"getClasses"),draw:w(async function(t,e,r,n){et.info("REF0:"),et.info("Drawing class diagram (v3)",e);const{securityLevel:i,state:o,layout:a}=Tt(),s=n.db.getData(),l=t8(e,i);s.type=n.type,s.layoutAlgorithm=LY(a),s.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,s.rankSpacing=(o==null?void 0:o.rankSpacing)||50,s.markers=["aggregation","extension","composition","dependency","lollipop"],s.diagramId=e,await TC(s,l),dr.insertTitle(l,"classDiagramTitleText",(o==null?void 0:o.titleTopMargin)??25,n.db.getDiagramTitle()),e8(l,8,"classDiagram",(o==null?void 0:o.useMaxWidth)??!0)},"draw"),getDir:xqt},wqt={parser:Yot,db:w5,renderer:tat,styles:Jot,init:w(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,w5.clear()},"init")};const kqt=Object.freeze(Object.defineProperty({__proto__:null,diagram:wqt},Symbol.toStringTag,{value:"Module"}));var Tqt={parser:Yot,db:w5,renderer:tat,styles:Jot,init:w(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,w5.clear()},"init")};const Eqt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Tqt},Symbol.toStringTag,{value:"Module"}));var RS=function(){var t=w(function(R,M,F,P){for(F=F||{},P=R.length;P--;F[R[P]]=M);return F},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],o=[1,9],a=[1,11],s=[1,16],l=[1,17],u=[1,18],h=[1,19],d=[1,32],p=[1,20],f=[1,21],g=[1,22],m=[1,23],y=[1,24],v=[1,26],x=[1,27],b=[1,28],k=[1,29],N=[1,30],_=[1,31],S=[1,34],T=[1,35],A=[1,36],C=[1,37],D=[1,33],E=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],$=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],I=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],L={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:w(function(R,M,F,P,U,W,Q){var K=W.length-1;switch(U){case 3:return P.setRootDoc(W[K]),W[K];case 4:this.$=[];break;case 5:W[K]!="nl"&&(W[K-1].push(W[K]),this.$=W[K-1]);break;case 6:case 7:case 12:this.$=W[K];break;case 8:this.$="nl";break;case 13:const tt=W[K-1];tt.description=P.trimColon(W[K]),this.$=tt;break;case 14:this.$={stmt:"relation",state1:W[K-2],state2:W[K]};break;case 15:const at=P.trimColon(W[K]);this.$={stmt:"relation",state1:W[K-3],state2:W[K-1],description:at};break;case 19:this.$={stmt:"state",id:W[K-3],type:"default",description:"",doc:W[K-1]};break;case 20:var G=W[K],V=W[K-2].trim();if(W[K].match(":")){var rt=W[K].split(":");G=rt[0],V=[V,rt[1]]}this.$={stmt:"state",id:G,type:"default",description:V};break;case 21:this.$={stmt:"state",id:W[K-3],type:"default",description:W[K-5],doc:W[K-1]};break;case 22:this.$={stmt:"state",id:W[K],type:"fork"};break;case 23:this.$={stmt:"state",id:W[K],type:"join"};break;case 24:this.$={stmt:"state",id:W[K],type:"choice"};break;case 25:this.$={stmt:"state",id:P.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:W[K-1].trim(),note:{position:W[K-2].trim(),text:W[K].trim()}};break;case 29:this.$=W[K].trim(),P.setAccTitle(this.$);break;case 30:case 31:this.$=W[K].trim(),P.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:W[K-1].trim(),classes:W[K].trim()};break;case 34:this.$={stmt:"style",id:W[K-1].trim(),styleClass:W[K].trim()};break;case 35:this.$={stmt:"applyClass",id:W[K-1].trim(),styleClass:W[K].trim()};break;case 36:P.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:P.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:P.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:P.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:W[K].trim(),type:"default",description:""};break;case 44:case 45:this.$={stmt:"state",id:W[K-2].trim(),classes:[W[K].trim()],type:"default",description:""}}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:a,8:8,9:10,10:12,11:13,12:14,13:15,16:s,17:l,19:u,22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:b,38:k,42:N,45:_,48:S,49:T,50:A,51:C,54:D},t(E,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:s,17:l,19:u,22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:b,38:k,42:N,45:_,48:S,49:T,50:A,51:C,54:D},t(E,[2,7]),t(E,[2,8]),t(E,[2,9]),t(E,[2,10]),t(E,[2,11]),t(E,[2,12],{14:[1,39],15:[1,40]}),t(E,[2,16]),{18:[1,41]},t(E,[2,18],{20:[1,42]}),{23:[1,43]},t(E,[2,22]),t(E,[2,23]),t(E,[2,24]),t(E,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},t(E,[2,28]),{34:[1,48]},{36:[1,49]},t(E,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},t($,[2,42],{55:[1,54]}),t($,[2,43],{55:[1,55]}),t(E,[2,36]),t(E,[2,37]),t(E,[2,38]),t(E,[2,39]),t(E,[2,6]),t(E,[2,13]),{13:56,24:d,54:D},t(E,[2,17]),t(I,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},t(E,[2,29]),t(E,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},t(E,[2,14],{14:[1,67]}),{4:o,5:a,8:8,9:10,10:12,11:13,12:14,13:15,16:s,17:l,19:u,21:[1,68],22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:b,38:k,42:N,45:_,48:S,49:T,50:A,51:C,54:D},t(E,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},t(E,[2,32]),t(E,[2,33]),t(E,[2,34]),t(E,[2,35]),t($,[2,44]),t($,[2,45]),t(E,[2,15]),t(E,[2,19]),t(I,i,{7:72}),t(E,[2,26]),t(E,[2,27]),{4:o,5:a,8:8,9:10,10:12,11:13,12:14,13:15,16:s,17:l,19:u,21:[1,73],22:h,24:d,25:p,26:f,27:g,28:m,29:y,32:25,33:v,35:x,37:b,38:k,42:N,45:_,48:S,49:T,50:A,51:C,54:D},t(E,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:w(function(R,M){if(!M.recoverable){var F=new Error(R);throw F.hash=M,F}this.trace(R)},"parseError"),parse:w(function(R){var M=this,F=[0],P=[],U=[null],W=[],Q=this.table,K="",G=0,V=0,rt=W.slice.call(arguments,1),tt=Object.create(this.lexer),at={yy:{}};for(var ut in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ut)&&(at.yy[ut]=this.yy[ut]);tt.setInput(R,at.yy),at.yy.lexer=tt,at.yy.parser=this,tt.yylloc===void 0&&(tt.yylloc={});var st=tt.yylloc;W.push(st);var _t=tt.options&&tt.options.ranges;function X(){var gt;return typeof(gt=P.pop()||tt.lex()||1)!="number"&&(gt instanceof Array&&(gt=(P=gt).pop()),gt=M.symbols_[gt]||gt),gt}typeof at.yy.parseError=="function"?this.parseError=at.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(gt){F.length=F.length-2*gt,U.length=U.length-gt,W.length=W.length-gt},"popStack"),w(X,"lex");for(var Et,H,ct,dt,Nt,ft,Dt,$t,mt={};;){if(H=F[F.length-1],this.defaultActions[H]?ct=this.defaultActions[H]:(Et==null&&(Et=X()),ct=Q[H]&&Q[H][Et]),ct===void 0||!ct.length||!ct[0]){var It="";for(Nt in $t=[],Q[H])this.terminals_[Nt]&&Nt>2&&$t.push("'"+this.terminals_[Nt]+"'");It=tt.showPosition?"Parse error on line "+(G+1)+`:
`+tt.showPosition()+`
Expecting `+$t.join(", ")+", got '"+(this.terminals_[Et]||Et)+"'":"Parse error on line "+(G+1)+": Unexpected "+(Et==1?"end of input":"'"+(this.terminals_[Et]||Et)+"'"),this.parseError(It,{text:tt.match,token:this.terminals_[Et]||Et,line:tt.yylineno,loc:st,expected:$t})}if(ct[0]instanceof Array&&ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+H+", token: "+Et);switch(ct[0]){case 1:F.push(Et),U.push(tt.yytext),W.push(tt.yylloc),F.push(ct[1]),Et=null,V=tt.yyleng,K=tt.yytext,G=tt.yylineno,st=tt.yylloc;break;case 2:if(ft=this.productions_[ct[1]][1],mt.$=U[U.length-ft],mt._$={first_line:W[W.length-(ft||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(ft||1)].first_column,last_column:W[W.length-1].last_column},_t&&(mt._$.range=[W[W.length-(ft||1)].range[0],W[W.length-1].range[1]]),(dt=this.performAction.apply(mt,[K,V,G,at.yy,ct[1],U,W].concat(rt)))!==void 0)return dt;ft&&(F=F.slice(0,-1*ft*2),U=U.slice(0,-1*ft),W=W.slice(0,-1*ft)),F.push(this.productions_[ct[1]][0]),U.push(mt.$),W.push(mt._$),Dt=Q[F[F.length-2]][F[F.length-1]],F.push(Dt);break;case 3:return!0}}return!0},"parse")},O=function(){return{EOF:1,parseError:w(function(R,M){if(!this.yy.parser)throw new Error(R);this.yy.parser.parseError(R,M)},"parseError"),setInput:w(function(R,M){return this.yy=M||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var R=this._input[0];return this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R,R.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},"input"),unput:w(function(R){var M=R.length,F=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===P.length?this.yylloc.first_column:0)+P[P.length-F.length].length-F[0].length:this.yylloc.first_column-M},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-M]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(R){this.unput(this.match.slice(R))},"less"),pastInput:w(function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var R=this.pastInput(),M=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+M+"^"},"showPosition"),test_match:w(function(R,M){var F,P,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),(P=R[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],F=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var W in U)this[W]=U[W];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var R,M,F,P;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),W=0;W<U.length;W++)if((F=this._input.match(this.rules[U[W]]))&&(!M||F[0].length>M[0].length)){if(M=F,P=W,this.options.backtrack_lexer){if((R=this.test_match(F,U[W]))!==!1)return R;if(this._backtrack){M=!1;continue}return!1}if(!this.options.flex)break}return M?(R=this.test_match(M,U[P]))!==!1&&R:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var R=this.next();return R||this.lex()},"lex"),begin:w(function(R){this.conditionStack.push(R)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(R){return(R=this.conditionStack.length-1-Math.abs(R||0))>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:w(function(R){this.begin(R)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(R,M,F,P){switch(F){case 0:return 41;case 1:case 42:return 48;case 2:case 43:return 49;case 3:case 44:return 50;case 4:case 45:return 51;case 5:case 6:case 8:case 9:case 10:case 11:case 54:case 56:case 62:break;case 7:case 77:return 5;case 12:case 32:return this.pushState("SCALE"),17;case 13:case 33:return 18;case 14:case 20:case 34:case 49:case 52:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 35:this.pushState("STATE");break;case 36:case 39:return this.popState(),M.yytext=M.yytext.slice(0,-8).trim(),25;case 37:case 40:return this.popState(),M.yytext=M.yytext.slice(0,-8).trim(),26;case 38:case 41:return this.popState(),M.yytext=M.yytext.slice(0,-10).trim(),27;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:case 64:return this.popState(),"ID";case 50:return"STATE_DESCR";case 51:return 19;case 53:return this.popState(),this.pushState("struct"),20;case 55:return this.popState(),21;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 63:return"NOTE_TEXT";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),M.yytext=M.yytext.substr(2).trim(),31;case 67:return this.popState(),M.yytext=M.yytext.slice(0,-8).trim(),31;case 68:case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return M.yytext=M.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}}}();function B(){this.yy={}}return L.lexer=O,w(B,"Parser"),B.prototype=L,L.Parser=B,new B}();RS.parser=RS;var eat=RS,k5="state",s$="relation",tv="default",rat="divider",nat="fill:none",iat="fill: #333",oat="text",aat="normal",LT="rect",RT="rectWithTitle",rF="divider",nF="roundedWithTitle",ev="statediagram",_qt=`${ev}-state`,sat="transition",Sqt=`${sat} note-edge`,Aqt=`${ev}-note`,Cqt=`${ev}-cluster`,$qt=`${ev}-cluster-alt`,lat="parent",cat="note",l$="----",Nqt=`${l$}${cat}`,iF=`${l$}${lat}`,uat=w((t,e="TB")=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),Iqt={getClasses:w(function(t,e){return e.db.extract(e.db.getRootDocV2()),e.db.getClasses()},"getClasses"),draw:w(async function(t,e,r,n){et.info("REF0:"),et.info("Drawing state diagram (v2)",e);const{securityLevel:i,state:o,layout:a}=Tt();n.db.extract(n.db.getRootDocV2());const s=n.db.getData(),l=t8(e,i);s.type=n.type,s.layoutAlgorithm=a,s.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,s.rankSpacing=(o==null?void 0:o.rankSpacing)||50,s.markers=["barb"],s.diagramId=e,await TC(s,l),dr.insertTitle(l,"statediagramTitleText",(o==null?void 0:o.titleTopMargin)??25,n.db.getDiagramTitle()),e8(l,8,ev,(o==null?void 0:o.useMaxWidth)??!0)},"draw"),getDir:uat},Ab=new Map,_u=0;function Cb(t="",e=0,r="",n=l$){return`state-${t}${r!==null&&r.length>0?`${n}${r}`:""}-${e}`}w(Cb,"stateDomId");var Lqt=w((t,e,r,n,i,o,a,s)=>{et.trace("items",e),e.forEach(l=>{switch(l.stmt){case k5:case tv:$b(t,l,r,n,i,o,a,s);break;case s$:{$b(t,l.state1,r,n,i,o,a,s),$b(t,l.state2,r,n,i,o,a,s);const u={id:"edge"+_u,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:nat,labelStyle:"",label:ne.sanitizeText(l.description,Tt()),arrowheadStyle:iat,labelpos:"c",labelType:oat,thickness:aat,classes:sat,look:a};i.push(u),_u++}}})},"setupDoc"),oF=w((t,e="TB")=>{let r=e;if(t.doc)for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function F1(t,e,r){if(!e.id||e.id==="</join></fork>"||e.id==="</choice>")return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(i=>{if(r.get(i)){const o=r.get(i);e.cssCompiledStyles=[...e.cssCompiledStyles,...o.styles]}}));const n=t.find(i=>i.id===e.id);n?Object.assign(n,e):t.push(e)}function hat(t){var e;return((e=t==null?void 0:t.classes)==null?void 0:e.join(" "))??""}function dat(t){return(t==null?void 0:t.styles)??[]}w(F1,"insertOrUpdateNode"),w(hat,"getClassesFromDbInfo"),w(dat,"getStylesFromDbInfo");var $b=w((t,e,r,n,i,o,a,s)=>{var p,f;const l=e.id,u=r.get(l),h=hat(u),d=dat(u);if(et.info("dataFetcher parsedItem",e,u,d),l!=="root"){let g=LT;e.start===!0?g="stateStart":e.start===!1&&(g="stateEnd"),e.type!==tv&&(g=e.type),Ab.get(l)||Ab.set(l,{id:l,shape:g,description:ne.sanitizeText(l,Tt()),cssClasses:`${h} ${_qt}`,cssStyles:d});const m=Ab.get(l);e.description&&(Array.isArray(m.description)?(m.shape=RT,m.description.push(e.description)):((p=m.description)==null?void 0:p.length)>0?(m.shape=RT,m.description===l?m.description=[e.description]:m.description=[m.description,e.description]):(m.shape=LT,m.description=e.description),m.description=ne.sanitizeTextOrArray(m.description,Tt())),((f=m.description)==null?void 0:f.length)===1&&m.shape===RT&&(m.type==="group"?m.shape=nF:m.shape=LT),!m.type&&e.doc&&(et.info("Setting cluster for XCX",l,oF(e)),m.type="group",m.isGroup=!0,m.dir=oF(e),m.shape=e.type===rat?rF:nF,m.cssClasses=`${m.cssClasses} ${Cqt} ${o?$qt:""}`);const y={labelStyle:"",shape:m.shape,label:m.description,cssClasses:m.cssClasses,cssCompiledStyles:[],cssStyles:m.cssStyles,id:l,dir:m.dir,domId:Cb(l,_u),type:m.type,isGroup:m.type==="group",padding:8,rx:10,ry:10,look:a};if(y.shape===rF&&(y.label=""),t&&t.id!=="root"&&(et.trace("Setting node ",l," to be child of its parent ",t.id),y.parentId=t.id),y.centerLabel=!0,e.note){const v={labelStyle:"",shape:"note",label:e.note.text,cssClasses:Aqt,cssStyles:[],cssCompilesStyles:[],id:l+Nqt+"-"+_u,domId:Cb(l,_u,cat),type:m.type,isGroup:m.type==="group",padding:Tt().flowchart.padding,look:a,position:e.note.position},x=l+iF,b={labelStyle:"",shape:"noteGroup",label:e.note.text,cssClasses:m.cssClasses,cssStyles:[],id:l+iF,domId:Cb(l,_u,lat),type:"group",isGroup:!0,padding:16,look:a,position:e.note.position};_u++,b.id=x,v.parentId=x,F1(n,b,s),F1(n,v,s),F1(n,y,s);let k=l,N=v.id;e.note.position==="left of"&&(k=v.id,N=l),i.push({id:k+"-"+N,start:k,end:N,arrowhead:"none",arrowTypeEnd:"",style:nat,labelStyle:"",classes:Sqt,arrowheadStyle:iat,labelpos:"c",labelType:oat,thickness:aat,look:a})}else F1(n,y,s)}e.doc&&(et.trace("Adding nodes children "),Lqt(e,e.doc,r,n,i,!o,a,s))},"dataFetcher"),Rqt=w(()=>{Ab.clear(),_u=0},"reset"),c$="[*]",pat="start",fat=c$,aF="color",sF="fill";function u$(){return new Map}w(u$,"newClassesList");var T5=[],h$=[],gat="LR",E5=[],Nf=u$(),mat=w(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),_5={root:mat()},pa=_5.root,S5=0,Dqt=0,y2=w(t=>JSON.parse(JSON.stringify(t)),"clone"),Oqt=w(t=>{et.info("Setting root doc",t),E5=t},"setRootDoc"),Mqt=w(()=>E5,"getRootDoc"),Nb=w((t,e,r)=>{if(e.stmt===s$)Nb(t,e.state1,!0),Nb(t,e.state2,!1);else if(e.stmt===k5&&(e.id==="[*]"?(e.id=r?t.id+"_start":t.id+"_end",e.start=r):e.id=e.id.trim()),e.doc){const n=[];let i,o=[];for(i=0;i<e.doc.length;i++)if(e.doc[i].type===rat){const a=y2(e.doc[i]);a.doc=y2(o),n.push(a),o=[]}else o.push(e.doc[i]);if(n.length>0&&o.length>0){const a={stmt:k5,id:NW(),type:"divider",doc:y2(o)};n.push(y2(a)),e.doc=n}e.doc.forEach(a=>Nb(e,a,!0))}},"docTranslator"),d$=w(()=>(Nb({id:"root"},{id:"root",doc:E5},!0),{id:"root",doc:E5}),"getRootDocV2"),Bqt=w(t=>{let e;e=t.doc?t.doc:t,et.info(e),yat(!0),et.info("Extract initial document:",e),e.forEach(i=>{switch(et.warn("Statement",i.stmt),i.stmt){case k5:sh(i.id.trim(),i.type,i.doc,i.description,i.note,i.classes,i.styles,i.textStyles);break;case s$:kat(i.state1,i.state2,i.description);break;case"classDef":Tat(i.id.trim(),i.classes);break;case"style":{const o=i.id.trim().split(","),a=i.styleClass.split(",");o.forEach(s=>{let l=Xd(s);if(l===void 0){const u=s.trim();sh(u),l=Xd(u)}l.styles=a.map(u=>{var h;return(h=u.replace(/;/g,""))==null?void 0:h.trim()})})}break;case"applyClass":p$(i.id.trim(),i.styleClass)}});const r=vat(),n=Tt().look;Rqt(),$b(void 0,d$(),r,T5,h$,!0,n,Nf),T5.forEach(i=>{if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+i.id+"]");i.label=i.label[0]}})},"extract"),sh=w(function(t,e=tv,r=null,n=null,i=null,o=null,a=null,s=null){const l=t==null?void 0:t.trim();if(pa.states.has(l)?(pa.states.get(l).doc||(pa.states.get(l).doc=r),pa.states.get(l).type||(pa.states.get(l).type=e)):(et.info("Adding state ",l,n),pa.states.set(l,{id:l,descriptions:[],type:e,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(et.info("Setting state description",l,n),typeof n=="string"&&DS(l,n.trim()),typeof n=="object"&&n.forEach(u=>DS(l,u.trim()))),i){const u=pa.states.get(l);u.note=i,u.note.text=ne.sanitizeText(u.note.text,Tt())}o&&(et.info("Setting state classes",l,o),(typeof o=="string"?[o]:o).forEach(u=>p$(l,u.trim()))),a&&(et.info("Setting state styles",l,a),(typeof a=="string"?[a]:a).forEach(u=>Uqt(l,u.trim()))),s&&(et.info("Setting state styles",l,a),(typeof s=="string"?[s]:s).forEach(u=>qqt(l,u.trim())))},"addState"),yat=w(function(t){T5=[],h$=[],_5={root:mat()},pa=_5.root,S5=0,Nf=u$(),t||Gi()},"clear"),Xd=w(function(t){return pa.states.get(t)},"getState"),vat=w(function(){return pa.states},"getStates"),Pqt=w(function(){et.info("Documents = ",_5)},"logDocuments"),Fqt=w(function(){return pa.relations},"getRelations");function A5(t=""){let e=t;return t===c$&&(S5++,e=`${pat}${S5}`),e}function C5(t="",e=tv){return t===c$?pat:e}function bat(t=""){let e=t;return t===fat&&(e=`end${++S5}`),e}function xat(t="",e=tv){return t===fat?"end":e}function wat(t,e,r){let n=A5(t.id.trim()),i=C5(t.id.trim(),t.type),o=A5(e.id.trim()),a=C5(e.id.trim(),e.type);sh(n,i,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),sh(o,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),pa.relations.push({id1:n,id2:o,relationTitle:ne.sanitizeText(r,Tt())})}w(A5,"startIdIfNeeded"),w(C5,"startTypeIfNeeded"),w(bat,"endIdIfNeeded"),w(xat,"endTypeIfNeeded"),w(wat,"addRelationObjs");var kat=w(function(t,e,r){if(typeof t=="object")wat(t,e,r);else{const n=A5(t.trim()),i=C5(t),o=bat(e.trim()),a=xat(e);sh(n,i),sh(o,a),pa.relations.push({id1:n,id2:o,title:ne.sanitizeText(r,Tt())})}},"addRelation"),DS=w(function(t,e){const r=pa.states.get(t),n=e.startsWith(":")?e.replace(":","").trim():e;r.descriptions.push(ne.sanitizeText(n,Tt()))},"addDescription"),zqt=w(function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},"cleanupLabel"),jqt=w(()=>"divider-id-"+ ++Dqt,"getDividerId"),Tat=w(function(t,e=""){Nf.has(t)||Nf.set(t,{id:t,styles:[],textStyles:[]});const r=Nf.get(t);e!=null&&e.split(",").forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(aF).exec(n)){const o=i.replace(sF,"bgFill").replace(aF,sF);r.textStyles.push(o)}r.styles.push(i)})},"addStyleClass"),Hqt=w(function(){return Nf},"getClasses"),p$=w(function(t,e){t.split(",").forEach(function(r){let n=Xd(r);if(n===void 0){const i=r.trim();sh(i),n=Xd(i)}n.classes.push(e)})},"setCssClass"),Uqt=w(function(t,e){const r=Xd(t);r!==void 0&&r.styles.push(e)},"setStyle"),qqt=w(function(t,e){const r=Xd(t);r!==void 0&&r.textStyles.push(e)},"setTextStyle"),Gqt=w(()=>gat,"getDirection"),Wqt=w(t=>{gat=t},"setDirection"),Vqt=w(t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),"trimColon"),Yqt=w(()=>{const t=Tt();return{nodes:T5,edges:h$,other:{},config:t,direction:uat(d$())}},"getData"),wc={getConfig:w(()=>Tt().state,"getConfig"),getData:Yqt,addState:sh,clear:yat,getState:Xd,getStates:vat,getRelations:Fqt,getClasses:Hqt,getDirection:Gqt,addRelation:kat,getDividerId:jqt,setDirection:Wqt,cleanupLabel:zqt,lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:Pqt,getRootDoc:Mqt,setRootDoc:Oqt,getRootDocV2:d$,extract:Bqt,trimColon:Vqt,getAccTitle:so,setAccTitle:Wi,getAccDescription:co,setAccDescription:lo,addStyleClass:Tat,setCssClass:p$,addDescription:DS,setDiagramTitle:ta,getDiagramTitle:uo},Eat=w(t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t.edgeLabelBackground};
  p {
    background-color: ${t.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t.edgeLabelBackground};
    fill: ${t.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),Ma,f$={},Xqt=w((t,e)=>{f$[t]=e},"set"),Kqt=w(t=>f$[t],"get"),_at=w(()=>Object.keys(f$),"keys"),Zqt=w(()=>_at().length,"size"),Qqt={get:Kqt,set:Xqt,keys:_at,size:Zqt},Jqt=w(t=>t.append("circle").attr("class","start-state").attr("r",Tt().state.sizeUnit).attr("cx",Tt().state.padding+Tt().state.sizeUnit).attr("cy",Tt().state.padding+Tt().state.sizeUnit),"drawStartState"),tGt=w(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Tt().state.textHeight).attr("class","divider").attr("x2",2*Tt().state.textHeight).attr("y1",0).attr("y2",0),"drawDivider"),eGt=w((t,e)=>{const r=t.append("text").attr("x",2*Tt().state.padding).attr("y",Tt().state.textHeight+2*Tt().state.padding).attr("font-size",Tt().state.fontSize).attr("class","state-title").text(e.id),n=r.node().getBBox();return t.insert("rect",":first-child").attr("x",Tt().state.padding).attr("y",Tt().state.padding).attr("width",n.width+2*Tt().state.padding).attr("height",n.height+2*Tt().state.padding).attr("rx",Tt().state.radius),r},"drawSimpleState"),rGt=w((t,e)=>{const r=w(function(d,p,f){const g=d.append("tspan").attr("x",2*Tt().state.padding).text(p);f||g.attr("dy",Tt().state.textHeight)},"addTspan"),n=t.append("text").attr("x",2*Tt().state.padding).attr("y",Tt().state.textHeight+1.3*Tt().state.padding).attr("font-size",Tt().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),i=n.height,o=t.append("text").attr("x",Tt().state.padding).attr("y",i+.4*Tt().state.padding+Tt().state.dividerMargin+Tt().state.textHeight).attr("class","state-description");let a=!0,s=!0;e.descriptions.forEach(function(d){a||(r(o,d,s),s=!1),a=!1});const l=t.append("line").attr("x1",Tt().state.padding).attr("y1",Tt().state.padding+i+Tt().state.dividerMargin/2).attr("y2",Tt().state.padding+i+Tt().state.dividerMargin/2).attr("class","descr-divider"),u=o.node().getBBox(),h=Math.max(u.width,n.width);return l.attr("x2",h+3*Tt().state.padding),t.insert("rect",":first-child").attr("x",Tt().state.padding).attr("y",Tt().state.padding).attr("width",h+2*Tt().state.padding).attr("height",u.height+i+2*Tt().state.padding).attr("rx",Tt().state.radius),t},"drawDescrState"),nGt=w((t,e,r)=>{const n=Tt().state.padding,i=2*Tt().state.padding,o=t.node().getBBox(),a=o.width,s=o.x,l=t.append("text").attr("x",0).attr("y",Tt().state.titleShift).attr("font-size",Tt().state.fontSize).attr("class","state-title").text(e.id),u=l.node().getBBox().width+i;let h,d=Math.max(u,a);d===a&&(d+=i);const p=t.node().getBBox();e.doc,h=s-n,u>a&&(h=(a-d)/2+n),Math.abs(s-p.x)<n&&u>a&&(h=s-(u-a)/2);const f=1-Tt().state.textHeight;return t.insert("rect",":first-child").attr("x",h).attr("y",f).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",p.height+Tt().state.textHeight+Tt().state.titleShift+1).attr("rx","0"),l.attr("x",h+n),u<=a&&l.attr("x",s+(d-i)/2-u/2+n),t.insert("rect",":first-child").attr("x",h).attr("y",Tt().state.titleShift-Tt().state.textHeight-Tt().state.padding).attr("width",d).attr("height",3*Tt().state.textHeight).attr("rx",Tt().state.radius),t.insert("rect",":first-child").attr("x",h).attr("y",Tt().state.titleShift-Tt().state.textHeight-Tt().state.padding).attr("width",d).attr("height",p.height+3+2*Tt().state.textHeight).attr("rx",Tt().state.radius),t},"addTitleAndBox"),iGt=w(t=>(t.append("circle").attr("class","end-state-outer").attr("r",Tt().state.sizeUnit+Tt().state.miniPadding).attr("cx",Tt().state.padding+Tt().state.sizeUnit+Tt().state.miniPadding).attr("cy",Tt().state.padding+Tt().state.sizeUnit+Tt().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",Tt().state.sizeUnit).attr("cx",Tt().state.padding+Tt().state.sizeUnit+2).attr("cy",Tt().state.padding+Tt().state.sizeUnit+2)),"drawEndState"),oGt=w((t,e)=>{let r=Tt().state.forkWidth,n=Tt().state.forkHeight;if(e.parentId){let i=r;r=n,n=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",Tt().state.padding).attr("y",Tt().state.padding)},"drawForkJoinState"),aGt=w((t,e,r,n)=>{let i=0;const o=n.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let a=t.replace(/\r\n/g,"<br/>");a=a.replace(/\n/g,"<br/>");const s=a.split(ne.lineBreakRegex);let l=1.25*Tt().state.noteMargin;for(const u of s){const h=u.trim();if(h.length>0){const d=o.append("tspan");d.text(h),l===0&&(l+=d.node().getBBox().height),i+=l,d.attr("x",e+Tt().state.noteMargin),d.attr("y",r+i+1.25*Tt().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:i}},"_drawLongText"),sGt=w((t,e)=>{e.attr("class","state-note");const r=e.append("rect").attr("x",0).attr("y",Tt().state.padding),n=e.append("g"),{textWidth:i,textHeight:o}=aGt(t,0,0,n);return r.attr("height",o+2*Tt().state.noteMargin),r.attr("width",i+2*Tt().state.noteMargin),r},"drawNote"),lF=w(function(t,e){const r=e.id,n={id:r,label:e.id,width:0,height:0},i=t.append("g").attr("id",r).attr("class","stateGroup");e.type==="start"&&Jqt(i),e.type==="end"&&iGt(i),e.type!=="fork"&&e.type!=="join"||oGt(i,e),e.type==="note"&&sGt(e.note.text,i),e.type==="divider"&&tGt(i),e.type==="default"&&e.descriptions.length===0&&eGt(i,e),e.type==="default"&&e.descriptions.length>0&&rGt(i,e);const o=i.node().getBBox();return n.width=o.width+2*Tt().state.padding,n.height=o.height+2*Tt().state.padding,Qqt.set(r,n),n},"drawState"),cF=0,lGt=w(function(t,e,r){const n=w(function(l){switch(l){case wc.relationType.AGGREGATION:return"aggregation";case wc.relationType.EXTENSION:return"extension";case wc.relationType.COMPOSITION:return"composition";case wc.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,o=Nd().x(function(l){return l.x}).y(function(l){return l.y}).curve(Sy),a=t.append("path").attr("d",o(i)).attr("id","edge"+cF).attr("class","transition");let s="";if(Tt().state.arrowMarkerAbsolute&&(s=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,s=s.replace(/\(/g,"\\("),s=s.replace(/\)/g,"\\)")),a.attr("marker-end","url("+s+"#"+n(wc.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=dr.calcLabelPosition(e.points),d=ne.getRows(r.title);let p=0;const f=[];let g=0,m=0;for(let x=0;x<=d.length;x++){const b=l.append("text").attr("text-anchor","middle").text(d[x]).attr("x",u).attr("y",h+p),k=b.node().getBBox();g=Math.max(g,k.width),m=Math.min(m,k.x),et.info(k.x,u,h+p),p===0&&(p=b.node().getBBox().height,et.info("Title height",p,h)),f.push(b)}let y=p*d.length;if(d.length>1){const x=(d.length-1)*p*.5;f.forEach((b,k)=>b.attr("y",h+k*p-x)),y=p*d.length}const v=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-g/2-Tt().state.padding/2).attr("y",h-y/2-Tt().state.padding/2-3.5).attr("width",g+Tt().state.padding).attr("height",y+Tt().state.padding),et.info(v)}cF++},"drawEdge"),DT={},cGt=w(function(){},"setConf"),uGt=w(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),hGt=w(function(t,e,r,n){Ma=Tt().state;const i=Tt().securityLevel;let o;i==="sandbox"&&(o=he("#i"+e));const a=he(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),s=i==="sandbox"?o.nodes()[0].contentDocument:document;et.debug("Rendering diagram "+t);const l=a.select(`[id='${e}']`);uGt(l);const u=n.db.getRootDoc();Sat(u,l,void 0,!1,a,s,n);const h=Ma.padding,d=l.node().getBBox(),p=d.width+2*h,f=d.height+2*h;Ro(l,f,1.75*p,Ma.useMaxWidth),l.attr("viewBox",`${d.x-Ma.padding}  ${d.y-Ma.padding} `+p+" "+f)},"draw"),dGt=w(t=>t?t.length*Ma.fontSizeFactor:1,"getLabelWidth"),Sat=w((t,e,r,n,i,o,a)=>{const s=new Lo({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}r?s.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Ma.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):s.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Ma.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),s.setDefaultEdgeLabel(function(){return{}}),a.db.extract(t);const h=a.db.getStates(),d=a.db.getRelations(),p=Object.keys(h);for(const v of p){const x=h[v];let b;if(r&&(x.parentId=r),x.doc){let k=e.append("g").attr("id",x.id).attr("class","stateGroup");b=Sat(x.doc,k,x.id,!n,i,o,a);{k=nGt(k,x,n);let N=k.node().getBBox();b.width=N.width,b.height=N.height+Ma.padding/2,DT[x.id]={y:Ma.compositTitleSize}}}else b=lF(e,x,s);if(x.note){const k={descriptions:[],id:x.id+"-note",note:x.note,type:"note"},N=lF(e,k,s);x.note.position==="left of"?(s.setNode(b.id+"-note",N),s.setNode(b.id,b)):(s.setNode(b.id,b),s.setNode(b.id+"-note",N)),s.setParent(b.id,b.id+"-group"),s.setParent(b.id+"-note",b.id+"-group")}else s.setNode(b.id,b)}et.debug("Count=",s.nodeCount(),s);let f=0;d.forEach(function(v){f++,et.debug("Setting edge",v),s.setEdge(v.id1,v.id2,{relation:v,width:dGt(v.title),height:Ma.labelHeight*ne.getRows(v.title).length,labelpos:"c"},"id"+f)}),s3(s),et.debug("Graph after layout",s.nodes());const g=e.node();s.nodes().forEach(function(v){v!==void 0&&s.node(v)!==void 0?(et.warn("Node "+v+": "+JSON.stringify(s.node(v))),i.select("#"+g.id+" #"+v).attr("transform","translate("+(s.node(v).x-s.node(v).width/2)+","+(s.node(v).y+(DT[v]?DT[v].y:0)-s.node(v).height/2)+" )"),i.select("#"+g.id+" #"+v).attr("data-x-shift",s.node(v).x-s.node(v).width/2),o.querySelectorAll("#"+g.id+" #"+v+" .divider").forEach(x=>{const b=x.parentElement;let k=0,N=0;b&&(b.parentElement&&(k=b.parentElement.getBBox().width),N=parseInt(b.getAttribute("data-x-shift"),10),Number.isNaN(N)&&(N=0)),x.setAttribute("x1",0-N+8),x.setAttribute("x2",k-N-8)})):et.debug("No Node "+v+": "+JSON.stringify(s.node(v)))});let m=g.getBBox();s.edges().forEach(function(v){v!==void 0&&s.edge(v)!==void 0&&(et.debug("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(s.edge(v))),lGt(e,s.edge(v),s.edge(v).relation))}),m=g.getBBox();const y={id:r||"root",label:r||"root",width:0,height:0};return y.width=m.width+2*Ma.padding,y.height=m.height+2*Ma.padding,et.debug("Doc rendered",y,s),y},"renderDoc"),pGt={parser:eat,db:wc,renderer:{setConf:cGt,draw:hGt},styles:Eat,init:w(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,wc.clear()},"init")};const fGt=Object.freeze(Object.defineProperty({__proto__:null,diagram:pGt},Symbol.toStringTag,{value:"Module"}));var gGt={parser:eat,db:wc,renderer:Iqt,styles:Eat,init:w(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,wc.clear()},"init")};const mGt=Object.freeze(Object.defineProperty({__proto__:null,diagram:gGt},Symbol.toStringTag,{value:"Module"}));var OS=function(){var t=w(function(d,p,f,g){for(f=f||{},g=d.length;g--;f[d[g]]=p);return f},"o"),e=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],o=[1,12],a=[1,13],s=[1,14],l={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:w(function(d,p,f,g,m,y,v){var x=y.length-1;switch(m){case 1:return y[x-1];case 2:case 6:case 7:this.$=[];break;case 3:y[x-1].push(y[x]),this.$=y[x-1];break;case 4:case 5:this.$=y[x];break;case 8:g.setDiagramTitle(y[x].substr(6)),this.$=y[x].substr(6);break;case 9:this.$=y[x].trim(),g.setAccTitle(this.$);break;case 10:case 11:this.$=y[x].trim(),g.setAccDescription(this.$);break;case 12:g.addSection(y[x].substr(8)),this.$=y[x].substr(8);break;case 13:g.addTask(y[x-1],y[x]),this.$="task"}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:o,17:a,18:s},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:r,12:n,14:i,16:o,17:a,18:s},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:w(function(d,p){if(!p.recoverable){var f=new Error(d);throw f.hash=p,f}this.trace(d)},"parseError"),parse:w(function(d){var p=this,f=[0],g=[],m=[null],y=[],v=this.table,x="",b=0,k=0,N=y.slice.call(arguments,1),_=Object.create(this.lexer),S={yy:{}};for(var T in this.yy)Object.prototype.hasOwnProperty.call(this.yy,T)&&(S.yy[T]=this.yy[T]);_.setInput(d,S.yy),S.yy.lexer=_,S.yy.parser=this,_.yylloc===void 0&&(_.yylloc={});var A=_.yylloc;y.push(A);var C=_.options&&_.options.ranges;function D(){var U;return typeof(U=g.pop()||_.lex()||1)!="number"&&(U instanceof Array&&(U=(g=U).pop()),U=p.symbols_[U]||U),U}typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(U){f.length=f.length-2*U,m.length=m.length-U,y.length=y.length-U},"popStack"),w(D,"lex");for(var E,$,I,L,O,B,R,M,F={};;){if($=f[f.length-1],this.defaultActions[$]?I=this.defaultActions[$]:(E==null&&(E=D()),I=v[$]&&v[$][E]),I===void 0||!I.length||!I[0]){var P="";for(O in M=[],v[$])this.terminals_[O]&&O>2&&M.push("'"+this.terminals_[O]+"'");P=_.showPosition?"Parse error on line "+(b+1)+`:
`+_.showPosition()+`
Expecting `+M.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(b+1)+": Unexpected "+(E==1?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(P,{text:_.match,token:this.terminals_[E]||E,line:_.yylineno,loc:A,expected:M})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+E);switch(I[0]){case 1:f.push(E),m.push(_.yytext),y.push(_.yylloc),f.push(I[1]),E=null,k=_.yyleng,x=_.yytext,b=_.yylineno,A=_.yylloc;break;case 2:if(B=this.productions_[I[1]][1],F.$=m[m.length-B],F._$={first_line:y[y.length-(B||1)].first_line,last_line:y[y.length-1].last_line,first_column:y[y.length-(B||1)].first_column,last_column:y[y.length-1].last_column},C&&(F._$.range=[y[y.length-(B||1)].range[0],y[y.length-1].range[1]]),(L=this.performAction.apply(F,[x,k,b,S.yy,I[1],m,y].concat(N)))!==void 0)return L;B&&(f=f.slice(0,-1*B*2),m=m.slice(0,-1*B),y=y.slice(0,-1*B)),f.push(this.productions_[I[1]][0]),m.push(F.$),y.push(F._$),R=v[f[f.length-2]][f[f.length-1]],f.push(R);break;case 3:return!0}}return!0},"parse")},u=function(){return{EOF:1,parseError:w(function(d,p){if(!this.yy.parser)throw new Error(d);this.yy.parser.parseError(d,p)},"parseError"),setInput:w(function(d,p){return this.yy=p||this.yy||{},this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var d=this._input[0];return this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d,d.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},"input"),unput:w(function(d){var p=d.length,f=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var g=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var m=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===g.length?this.yylloc.first_column:0)+g[g.length-f.length].length-f[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[m[0],m[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(d){this.unput(this.match.slice(d))},"less"),pastInput:w(function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var d=this.pastInput(),p=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+p+"^"},"showPosition"),test_match:w(function(d,p){var f,g,m;if(this.options.backtrack_lexer&&(m={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(m.yylloc.range=this.yylloc.range.slice(0))),(g=d[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],f=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)return f;if(this._backtrack){for(var y in m)this[y]=m[y];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var d,p,f,g;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var m=this._currentRules(),y=0;y<m.length;y++)if((f=this._input.match(this.rules[m[y]]))&&(!p||f[0].length>p[0].length)){if(p=f,g=y,this.options.backtrack_lexer){if((d=this.test_match(f,m[y]))!==!1)return d;if(this._backtrack){p=!1;continue}return!1}if(!this.options.flex)break}return p?(d=this.test_match(p,m[g]))!==!1&&d:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var d=this.next();return d||this.lex()},"lex"),begin:w(function(d){this.conditionStack.push(d)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(d){return(d=this.conditionStack.length-1-Math.abs(d||0))>=0?this.conditionStack[d]:"INITIAL"},"topState"),pushState:w(function(d){this.begin(d)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(d,p,f,g){switch(f){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}}}();function h(){this.yy={}}return l.lexer=u,w(h,"Parser"),h.prototype=l,l.Parser=h,new h}();OS.parser=OS;var yGt=OS,rg="",g$=[],ay=[],sy=[],vGt=w(function(){g$.length=0,ay.length=0,rg="",sy.length=0,Gi()},"clear"),bGt=w(function(t){rg=t,g$.push(t)},"addSection"),xGt=w(function(){return g$},"getSections"),wGt=w(function(){let t=uF(),e=0;for(;!t&&e<100;)t=uF(),e++;return ay.push(...sy),ay},"getTasks"),kGt=w(function(){const t=[];return ay.forEach(e=>{e.people&&t.push(...e.people)}),[...new Set(t)].sort()},"updateActors"),TGt=w(function(t,e){const r=e.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const o=i.map(s=>s.trim()),a={section:rg,type:rg,people:o,task:t,score:n};sy.push(a)},"addTask"),EGt=w(function(t){const e={section:rg,type:rg,description:t,task:t,classes:[]};ay.push(e)},"addTaskOrg"),uF=w(function(){const t=w(function(r){return sy[r].processed},"compileTask");let e=!0;for(const[r,n]of sy.entries())t(r),e=e&&n.processed;return e},"compileTasks"),_Gt=w(function(){return kGt()},"getActors"),hF={getConfig:w(()=>Tt().journey,"getConfig"),clear:vGt,setDiagramTitle:ta,getDiagramTitle:uo,setAccTitle:Wi,getAccTitle:so,setAccDescription:lo,getAccDescription:co,addSection:bGt,getSections:xGt,getTasks:wGt,addTask:TGt,addTaskOrg:EGt,getActors:_Gt},SGt=w(t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,"getStyles"),m$=w(function(t,e){return l3(t,e)},"drawRect"),AGt=w(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");function o(l){const u=Q0().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function a(l){const u=Q0().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return i.append("circle").attr("cx",e.cx-5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),w(o,"smile"),w(a,"sad"),w(s,"ambivalent"),e.score>3?o(i):e.score<3?a(i):s(i),n},"drawFace"),Aat=w(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),Cat=w(function(t,e){return P9t(t,e)},"drawText"),CGt=w(function(t,e){function r(i,o,a,s,l){return i+","+o+" "+(i+a)+","+o+" "+(i+a)+","+(o+s-l)+" "+(i+a-1.2*l)+","+(o+s)+" "+i+","+(o+s)}w(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,Cat(t,e)},"drawLabel"),$Gt=w(function(t,e,r){const n=t.append("g"),i=op();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width*e.taskCount+r.diagramMarginX*(e.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,m$(n,i),$at(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),dF=-1,NGt=w(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");dF++,i.append("line").attr("id","task"+dF).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),AGt(i,{cx:n,cy:300+30*(5-e.score),score:e.score});const o=op();o.x=e.x,o.y=e.y,o.fill=e.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+e.num,o.rx=3,o.ry=3,m$(i,o);let a=e.x+14;e.people.forEach(s=>{const l=e.actors[s].color,u={cx:a,cy:e.y,r:7,fill:l,stroke:"#000",title:s,pos:e.actors[s].position};Aat(i,u),a+=10}),$at(r)(e.task,i,o.x,o.y,o.width,o.height,{class:"task"},r,e.colour)},"drawTask"),IGt=w(function(t,e){fet(t,e)},"drawBackgroundRect"),$at=function(){function t(i,o,a,s,l,u,h,d){n(o.append("text").attr("x",a+l/2).attr("y",s+u/2+5).style("font-color",d).style("text-anchor","middle").text(i),h)}function e(i,o,a,s,l,u,h,d,p){const{taskFontSize:f,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const v=y*f-f*(m.length-1)/2,x=o.append("text").attr("x",a+l/2).attr("y",s).attr("fill",p).style("text-anchor","middle").style("font-size",f).style("font-family",g);x.append("tspan").attr("x",a+l/2).attr("dy",v).text(m[y]),x.attr("y",s+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,h)}}function r(i,o,a,s,l,u,h,d){const p=o.append("switch"),f=p.append("foreignObject").attr("x",a).attr("y",s).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,a,s,l,u,h,d),n(f,h)}function n(i,o){for(const a in o)a in o&&i.attr(a,o[a])}return w(t,"byText"),w(e,"byTspan"),w(r,"byFo"),w(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),ly={drawRect:m$,drawCircle:Aat,drawSection:$Gt,drawText:Cat,drawLabel:CGt,drawTask:NGt,drawBackgroundRect:IGt,initGraphics:w(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics")},LGt=w(function(t){Object.keys(t).forEach(function(e){z3[e]=t[e]})},"setConf"),Ec={};function Nat(t){const e=Tt().journey;let r=60;Object.keys(Ec).forEach(n=>{const i=Ec[n].color,o={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Ec[n].position};ly.drawCircle(t,o);const a={x:40,y:r+7,fill:"#666",text:n,textMargin:5|e.boxTextMargin};ly.drawText(t,a),r+=20})}w(Nat,"drawActorLegend");var z3=Tt().journey,nd=z3.leftMargin,RGt=w(function(t,e,r,n){const i=Tt().journey,o=Tt().securityLevel;let a;o==="sandbox"&&(a=he("#i"+e));const s=he(o==="sandbox"?a.nodes()[0].contentDocument.body:"body");ss.init();const l=s.select("#"+e);ly.initGraphics(l);const u=n.db.getTasks(),h=n.db.getDiagramTitle(),d=n.db.getActors();for(const v in Ec)delete Ec[v];let p=0;d.forEach(v=>{Ec[v]={color:i.actorColours[p%i.actorColours.length],position:p},p++}),Nat(l),ss.insert(0,0,nd,50*Object.keys(Ec).length),DGt(l,u,0);const f=ss.getBounds();h&&l.append("text").text(h).attr("x",nd).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const g=f.stopy-f.starty+2*i.diagramMarginY,m=nd+f.stopx+2*i.diagramMarginX;Ro(l,g,m,i.useMaxWidth),l.append("line").attr("x1",nd).attr("y1",4*i.height).attr("x2",m-nd-4).attr("y2",4*i.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const y=h?70:0;l.attr("viewBox",`${f.startx} -25 ${m} ${g+y}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",g+y+25)},"draw"),ss={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:w(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:w(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:w(function(t,e,r,n){const i=Tt().journey,o=this;let a=0;function s(l){return w(function(u){a++;const h=o.sequenceItems.length-a+1;o.updateVal(u,"starty",e-h*i.boxMargin,Math.min),o.updateVal(u,"stopy",n+h*i.boxMargin,Math.max),o.updateVal(ss.data,"startx",t-h*i.boxMargin,Math.min),o.updateVal(ss.data,"stopx",r+h*i.boxMargin,Math.max),l!=="activation"&&(o.updateVal(u,"startx",t-h*i.boxMargin,Math.min),o.updateVal(u,"stopx",r+h*i.boxMargin,Math.max),o.updateVal(ss.data,"starty",e-h*i.boxMargin,Math.min),o.updateVal(ss.data,"stopy",n+h*i.boxMargin,Math.max))},"updateItemBounds")}w(s,"updateFn"),this.sequenceItems.forEach(s())},"updateBounds"),insert:w(function(t,e,r,n){const i=Math.min(t,r),o=Math.max(t,r),a=Math.min(e,n),s=Math.max(e,n);this.updateVal(ss.data,"startx",i,Math.min),this.updateVal(ss.data,"starty",a,Math.min),this.updateVal(ss.data,"stopx",o,Math.max),this.updateVal(ss.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},"insert"),bumpVerticalPos:w(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:w(function(){return this.verticalPos},"getVerticalPos"),getBounds:w(function(){return this.data},"getBounds")},OT=z3.sectionFills,pF=z3.sectionColours,DGt=w(function(t,e,r){const n=Tt().journey;let i="";const o=r+(2*n.height+n.diagramMarginY);let a=0,s="#CCC",l="black",u=0;for(const[h,d]of e.entries()){if(i!==d.section){s=OT[a%OT.length],u=a%OT.length,l=pF[a%pF.length];let f=0;const g=d.section;for(let y=h;y<e.length&&e[y].section==g;y++)f+=1;const m={x:h*n.taskMargin+h*n.width+nd,y:50,text:d.section,fill:s,num:u,colour:l,taskCount:f};ly.drawSection(t,m,n),i=d.section,a++}const p=d.people.reduce((f,g)=>(Ec[g]&&(f[g]=Ec[g]),f),{});d.x=h*n.taskMargin+h*n.width+nd,d.y=o,d.width=n.diagramMarginX,d.height=n.diagramMarginY,d.colour=l,d.fill=s,d.num=u,d.actors=p,ly.drawTask(t,d,n),ss.insert(d.x,d.y,d.x+d.width+n.taskMargin,450)}},"drawTasks"),fF={setConf:LGt,draw:RGt},OGt={parser:yGt,db:hF,renderer:fF,styles:SGt,init:w(t=>{fF.setConf(t.journey),hF.clear()},"init")};const MGt=Object.freeze(Object.defineProperty({__proto__:null,diagram:OGt},Symbol.toStringTag,{value:"Module"}));var MS=function(){var t=w(function(p,f,g,m){for(g=g||{},m=p.length;m--;g[p[m]]=f);return g},"o"),e=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],o=[1,12],a=[1,13],s=[1,16],l=[1,17],u={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:w(function(p,f,g,m,y,v,x){var b=v.length-1;switch(y){case 1:return v[b-1];case 2:case 6:case 7:this.$=[];break;case 3:v[b-1].push(v[b]),this.$=v[b-1];break;case 4:case 5:this.$=v[b];break;case 8:m.getCommonDb().setDiagramTitle(v[b].substr(6)),this.$=v[b].substr(6);break;case 9:this.$=v[b].trim(),m.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=v[b].trim(),m.getCommonDb().setAccDescription(this.$);break;case 12:m.addSection(v[b].substr(8)),this.$=v[b].substr(8);break;case 15:m.addTask(v[b],0,""),this.$=v[b];break;case 16:m.addEvent(v[b].substr(2)),this.$=v[b]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:o,17:a,18:14,19:15,20:s,21:l},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:18,11:r,12:n,14:i,16:o,17:a,18:14,19:15,20:s,21:l},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,19]},{15:[1,20]},t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),t(e,[2,4]),t(e,[2,9]),t(e,[2,10])],defaultActions:{},parseError:w(function(p,f){if(!f.recoverable){var g=new Error(p);throw g.hash=f,g}this.trace(p)},"parseError"),parse:w(function(p){var f=this,g=[0],m=[],y=[null],v=[],x=this.table,b="",k=0,N=0,_=v.slice.call(arguments,1),S=Object.create(this.lexer),T={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(T.yy[A]=this.yy[A]);S.setInput(p,T.yy),T.yy.lexer=S,T.yy.parser=this,S.yylloc===void 0&&(S.yylloc={});var C=S.yylloc;v.push(C);var D=S.options&&S.options.ranges;function E(){var W;return typeof(W=m.pop()||S.lex()||1)!="number"&&(W instanceof Array&&(W=(m=W).pop()),W=f.symbols_[W]||W),W}typeof T.yy.parseError=="function"?this.parseError=T.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(W){g.length=g.length-2*W,y.length=y.length-W,v.length=v.length-W},"popStack"),w(E,"lex");for(var $,I,L,O,B,R,M,F,P={};;){if(I=g[g.length-1],this.defaultActions[I]?L=this.defaultActions[I]:($==null&&($=E()),L=x[I]&&x[I][$]),L===void 0||!L.length||!L[0]){var U="";for(B in F=[],x[I])this.terminals_[B]&&B>2&&F.push("'"+this.terminals_[B]+"'");U=S.showPosition?"Parse error on line "+(k+1)+`:
`+S.showPosition()+`
Expecting `+F.join(", ")+", got '"+(this.terminals_[$]||$)+"'":"Parse error on line "+(k+1)+": Unexpected "+($==1?"end of input":"'"+(this.terminals_[$]||$)+"'"),this.parseError(U,{text:S.match,token:this.terminals_[$]||$,line:S.yylineno,loc:C,expected:F})}if(L[0]instanceof Array&&L.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+$);switch(L[0]){case 1:g.push($),y.push(S.yytext),v.push(S.yylloc),g.push(L[1]),$=null,N=S.yyleng,b=S.yytext,k=S.yylineno,C=S.yylloc;break;case 2:if(R=this.productions_[L[1]][1],P.$=y[y.length-R],P._$={first_line:v[v.length-(R||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(R||1)].first_column,last_column:v[v.length-1].last_column},D&&(P._$.range=[v[v.length-(R||1)].range[0],v[v.length-1].range[1]]),(O=this.performAction.apply(P,[b,N,k,T.yy,L[1],y,v].concat(_)))!==void 0)return O;R&&(g=g.slice(0,-1*R*2),y=y.slice(0,-1*R),v=v.slice(0,-1*R)),g.push(this.productions_[L[1]][0]),y.push(P.$),v.push(P._$),M=x[g[g.length-2]][g[g.length-1]],g.push(M);break;case 3:return!0}}return!0},"parse")},h=function(){return{EOF:1,parseError:w(function(p,f){if(!this.yy.parser)throw new Error(p);this.yy.parser.parseError(p,f)},"parseError"),setInput:w(function(p,f){return this.yy=f||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var p=this._input[0];return this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p,p.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:w(function(p){var f=p.length,g=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1&&(this.yylineno-=g.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===m.length?this.yylloc.first_column:0)+m[m.length-g.length].length-g[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(p){this.unput(this.match.slice(p))},"less"),pastInput:w(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var p=this.pastInput(),f=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:w(function(p,f){var g,m,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),(m=p[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],g=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var v in y)this[v]=y[v];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var p,f,g,m;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),v=0;v<y.length;v++)if((g=this._input.match(this.rules[y[v]]))&&(!f||g[0].length>f[0].length)){if(f=g,m=v,this.options.backtrack_lexer){if((p=this.test_match(g,y[v]))!==!1)return p;if(this._backtrack){f=!1;continue}return!1}if(!this.options.flex)break}return f?(p=this.test_match(f,y[m]))!==!1&&p:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var p=this.next();return p||this.lex()},"lex"),begin:w(function(p){this.conditionStack.push(p)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(p){return(p=this.conditionStack.length-1-Math.abs(p||0))>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:w(function(p){this.begin(p)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(p,f,g,m){switch(g){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}}}();function d(){this.yy={}}return u.lexer=h,w(d,"Parser"),d.prototype=u,u.Parser=d,new d}();MS.parser=MS;var BGt=MS,Iat={};OU(Iat,{addEvent:()=>Fat,addSection:()=>Oat,addTask:()=>Pat,addTaskOrg:()=>zat,clear:()=>Dat,default:()=>PGt,getCommonDb:()=>Rat,getSections:()=>Mat,getTasks:()=>Bat});var ng="",Lat=0,y$=[],$5=[],ig=[],Rat=w(()=>LA,"getCommonDb"),Dat=w(function(){y$.length=0,$5.length=0,ng="",ig.length=0,Gi()},"clear"),Oat=w(function(t){ng=t,y$.push(t)},"addSection"),Mat=w(function(){return y$},"getSections"),Bat=w(function(){let t=gF(),e=0;for(;!t&&e<100;)t=gF(),e++;return $5.push(...ig),$5},"getTasks"),Pat=w(function(t,e,r){const n={id:Lat++,section:ng,type:ng,task:t,score:e||0,events:r?[r]:[]};ig.push(n)},"addTask"),Fat=w(function(t){ig.find(e=>e.id===Lat-1).events.push(t)},"addEvent"),zat=w(function(t){const e={section:ng,type:ng,description:t,task:t,classes:[]};$5.push(e)},"addTaskOrg"),gF=w(function(){const t=w(function(r){return ig[r].processed},"compileTask");let e=!0;for(const[r,n]of ig.entries())t(r),e=e&&n.processed;return e},"compileTasks"),PGt={clear:Dat,getCommonDb:Rat,addSection:Oat,getSections:Mat,getTasks:Bat,addTask:Pat,addTaskOrg:zat,addEvent:Fat},j3=w(function(t,e){const r=t.append("rect");return r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),r.attr("rx",e.rx),r.attr("ry",e.ry),e.class!==void 0&&r.attr("class",e.class),r},"drawRect"),FGt=w(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");function o(l){const u=Q0().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function a(l){const u=Q0().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return i.append("circle").attr("cx",e.cx-5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),w(o,"smile"),w(a,"sad"),w(s,"ambivalent"),e.score>3?o(i):e.score<3?a(i):s(i),n},"drawFace"),zGt=w(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),jat=w(function(t,e){const r=e.text.replace(/<br\s*\/?>/gi," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class!==void 0&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.text(r),n},"drawText"),jGt=w(function(t,e){function r(i,o,a,s,l){return i+","+o+" "+(i+a)+","+o+" "+(i+a)+","+(o+s-l)+" "+(i+a-1.2*l)+","+(o+s)+" "+i+","+(o+s)}w(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,jat(t,e)},"drawLabel"),HGt=w(function(t,e,r){const n=t.append("g"),i=v$();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,j3(n,i),Hat(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),mF=-1,UGt=w(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");mF++,i.append("line").attr("id","task"+mF).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),FGt(i,{cx:n,cy:300+30*(5-e.score),score:e.score});const o=v$();o.x=e.x,o.y=e.y,o.fill=e.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+e.num,o.rx=3,o.ry=3,j3(i,o),Hat(r)(e.task,i,o.x,o.y,o.width,o.height,{class:"task"},r,e.colour)},"drawTask"),qGt=w(function(t,e){j3(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),GGt=w(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),v$=w(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Hat=function(){function t(i,o,a,s,l,u,h,d){n(o.append("text").attr("x",a+l/2).attr("y",s+u/2+5).style("font-color",d).style("text-anchor","middle").text(i),h)}function e(i,o,a,s,l,u,h,d,p){const{taskFontSize:f,taskFontFamily:g}=d,m=i.split(/<br\s*\/?>/gi);for(let y=0;y<m.length;y++){const v=y*f-f*(m.length-1)/2,x=o.append("text").attr("x",a+l/2).attr("y",s).attr("fill",p).style("text-anchor","middle").style("font-size",f).style("font-family",g);x.append("tspan").attr("x",a+l/2).attr("dy",v).text(m[y]),x.attr("y",s+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,h)}}function r(i,o,a,s,l,u,h,d){const p=o.append("switch"),f=p.append("foreignObject").attr("x",a).attr("y",s).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,p,a,s,l,u,h,d),n(f,h)}function n(i,o){for(const a in o)a in o&&i.attr(a,o[a])}return w(t,"byText"),w(e,"byTspan"),w(r,"byFo"),w(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),WGt=w(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function b$(t,e){t.each(function(){var r,n=he(this),i=n.text().split(/(\s+|<br>)/).reverse(),o=[],a=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");for(let u=0;u<i.length;u++)r=i[i.length-1-u],o.push(r),l.text(o.join(" ").trim()),(l.node().getComputedTextLength()>e||r==="<br>")&&(o.pop(),l.text(o.join(" ").trim()),o=r==="<br>"?[""]:[r],l=n.append("tspan").attr("x",0).attr("y",a).attr("dy","1.1em").text(r))})}w(b$,"wrap");var VGt=w(function(t,e,r,n){var h;const i=r%12-1,o=t.append("g");e.section=i,o.attr("class",(e.class?e.class+" ":"")+"timeline-node section-"+i);const a=o.append("g"),s=o.append("g"),l=s.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(b$,e.width).node().getBBox(),u=(h=n.fontSize)!=null&&h.replace?n.fontSize.replace("px",""):n.fontSize;return e.height=l.height+1.1*u*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,s.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),XGt(a,e,i,n),e},"drawNode"),YGt=w(function(t,e,r){var a;const n=t.append("g"),i=n.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(b$,e.width).node().getBBox(),o=(a=r.fontSize)!=null&&a.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),i.height+1.1*o*.5+e.padding},"getVirtualNodeHeight"),XGt=w(function(t,e,r){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${10-e.height} q0,-5 5,-5 h${e.width-10} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),id={drawRect:j3,drawCircle:zGt,drawSection:HGt,drawText:jat,drawLabel:jGt,drawTask:UGt,drawBackgroundRect:qGt,getTextObj:GGt,getNoteRect:v$,initGraphics:WGt,drawNode:VGt,getVirtualNodeHeight:YGt},KGt=w(function(t,e,r,n){var _,S;const i=Tt(),o=i.leftMargin??50;et.debug("timeline",n.db);const a=i.securityLevel;let s;a==="sandbox"&&(s=he("#i"+e));const l=he(a==="sandbox"?s.nodes()[0].contentDocument.body:"body").select("#"+e);l.append("g");const u=n.db.getTasks(),h=n.db.getCommonDb().getDiagramTitle();et.debug("task",u),id.initGraphics(l);const d=n.db.getSections();et.debug("sections",d);let p=0,f=0,g=0,m=50+o,y=50,v=0,x=!0;d.forEach(function(T){const A={number:v,descr:T,section:v,width:150,padding:20,maxHeight:p},C=id.getVirtualNodeHeight(l,A,i);et.debug("sectionHeight before draw",C),p=Math.max(p,C+20)});let b=0,k=0;et.debug("tasks.length",u.length);for(const[T,A]of u.entries()){const C={number:T,descr:A,section:A.section,width:150,padding:20,maxHeight:f},D=id.getVirtualNodeHeight(l,C,i);et.debug("taskHeight before draw",D),f=Math.max(f,D+20),b=Math.max(b,A.events.length);let E=0;for(const $ of A.events){const I={descr:$,section:A.section,number:A.section,width:150,padding:20,maxHeight:50};E+=id.getVirtualNodeHeight(l,I,i)}k=Math.max(k,E)}et.debug("maxSectionHeight before draw",p),et.debug("maxTaskHeight before draw",f),d&&d.length>0?d.forEach(T=>{const A=u.filter($=>$.section===T),C={number:v,descr:T,section:v,width:200*Math.max(A.length,1)-50,padding:20,maxHeight:p};et.debug("sectionNode",C);const D=l.append("g"),E=id.drawNode(D,C,v,i);et.debug("sectionNode output",E),D.attr("transform",`translate(${m}, 50)`),y+=p+50,A.length>0&&yF(l,A,v,m,y,f,i,b,k,p,!1),m+=200*Math.max(A.length,1),y=50,v++}):(x=!1,yF(l,u,v,m,y,f,i,b,k,p,!0));const N=l.node().getBBox();et.debug("bounds",N),h&&l.append("text").text(h).attr("x",N.width/2-o).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),g=x?p+f+150:f+100,l.append("g").attr("class","lineWrapper").append("line").attr("x1",o).attr("y1",g).attr("x2",N.width+3*o).attr("y2",g).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),ag(void 0,l,((_=i.timeline)==null?void 0:_.padding)??50,((S=i.timeline)==null?void 0:S.useMaxWidth)??!1)},"draw"),yF=w(function(t,e,r,n,i,o,a,s,l,u,h){var d;for(const p of e){const f={descr:p.task,section:r,number:r,width:150,padding:20,maxHeight:o};et.debug("taskNode",f);const g=t.append("g").attr("class","taskWrapper"),m=id.drawNode(g,f,r,a).height;if(et.debug("taskHeight after draw",m),g.attr("transform",`translate(${n}, ${i})`),o=Math.max(o,m),p.events){const y=t.append("g").attr("class","lineWrapper");let v=o;i+=100,v+=ZGt(t,p.events,r,n,i,a),i-=100,y.append("line").attr("x1",n+95).attr("y1",i+o).attr("x2",n+95).attr("y2",i+o+(h?o:u)+l+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n+=200,h&&!((d=a.timeline)!=null&&d.disableMulticolor)&&r++}i-=10},"drawTasks"),ZGt=w(function(t,e,r,n,i,o){let a=0;const s=i;i+=100;for(const l of e){const u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};et.debug("eventNode",u);const h=t.append("g").attr("class","eventWrapper"),d=id.drawNode(h,u,r,o).height;a+=d,h.attr("transform",`translate(${n}, ${i})`),i=i+10+d}return i=s,a},"drawEvents"),QGt={setConf:w(()=>{},"setConf"),draw:KGt},JGt=w(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],ph(t["lineColor"+r])?t["lineColor"+r]=Be(t["lineColor"+r],20):t["lineColor"+r]=Ge(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),tWt={db:Iat,renderer:QGt,parser:BGt,styles:w(t=>`
  .edge {
    stroke-width: 3;
  }
  ${JGt(t)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles")};const eWt=Object.freeze(Object.defineProperty({__proto__:null,diagram:tWt},Symbol.toStringTag,{value:"Module"}));function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xh(t,e,r){return e&&function(n,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Gat(a.key),a)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xs(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=x$(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||r.return==null||r.return()}finally{if(s)throw o}}}}function Uat(t,e,r){return(e=Gat(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ji(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var o,a,s,l,u=[],h=!0,d=!1;try{if(s=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;h=!1}else for(;!(h=(o=s.call(i)).done)&&(u.push(o.value),u.length!==n);h=!0);}catch(p){d=!0,a=p}finally{try{if(!h&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw a}}return u}}(t,e)||x$(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qat(t){return function(e){if(Array.isArray(e))return BS(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||x$(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gat(t){var e=function(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t,"string");return typeof e=="symbol"?e:e+""}function Ni(t){return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(t)}function x$(t,e){if(t){if(typeof t=="string")return BS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BS(t,e):void 0}}var bi=typeof window>"u"?null:window,vF=bi?bi.navigator:null;bi&&bi.document;var bF,xF,wF,kF,TF,EF,_F,SF,MT,AF,BT,CF,$F,NF,IF,LF,RF,DF,OF,MF,BF,PF,FF,zF,jF,HF,UF,qF,rWt=Ni(""),Wat=Ni({}),nWt=Ni(function(){}),iWt=typeof HTMLElement>"u"?"undefined":Ni(HTMLElement),rv=function(t){return t&&t.instanceString&&Bn(t.instanceString)?t.instanceString():null},We=function(t){return t!=null&&Ni(t)==rWt},Bn=function(t){return t!=null&&Ni(t)===nWt},cn=function(t){return!qa(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Br=function(t){return t!=null&&Ni(t)===Wat&&!cn(t)&&t.constructor===Object},we=function(t){return t!=null&&Ni(t)===Ni(1)&&!isNaN(t)},N5=function(t){return iWt==="undefined"?void 0:t!=null&&t instanceof HTMLElement},qa=function(t){return nv(t)||Vat(t)},nv=function(t){return rv(t)==="collection"&&t._private.single},Vat=function(t){return rv(t)==="collection"&&!t._private.single},w$=function(t){return rv(t)==="core"},Yat=function(t){return rv(t)==="stylesheet"},lh=function(t){return t==null||!(t!==""&&!t.match(/^\s+$/))},oWt=function(t){return function(e){return e!=null&&Ni(e)===Wat}(t)&&Bn(t.then)},cy=function(t,e){e||(e=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);return n.join("$")});var r=function(){var n,i=arguments,o=e.apply(this,i),a=r.cache;return(n=a[o])||(n=a[o]=t.apply(this,i)),n};return r.cache={},r},k$=cy(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),H3=cy(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Xat=cy(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),GF=function(t){return lh(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},Ai="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",aWt="rgb[a]?\\(("+Ai+"[%]?)\\s*,\\s*("+Ai+"[%]?)\\s*,\\s*("+Ai+"[%]?)(?:\\s*,\\s*("+Ai+"))?\\)",sWt="rgb[a]?\\((?:"+Ai+"[%]?)\\s*,\\s*(?:"+Ai+"[%]?)\\s*,\\s*(?:"+Ai+"[%]?)(?:\\s*,\\s*(?:"+Ai+"))?\\)",lWt="hsl[a]?\\(("+Ai+")\\s*,\\s*("+Ai+"[%])\\s*,\\s*("+Ai+"[%])(?:\\s*,\\s*("+Ai+"))?\\)",cWt="hsl[a]?\\((?:"+Ai+")\\s*,\\s*(?:"+Ai+"[%])\\s*,\\s*(?:"+Ai+"[%])(?:\\s*,\\s*(?:"+Ai+"))?\\)",Kat=function(t,e){return t<e?-1:t>e?1:0},rr=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];t[a]=n[a]}}return t},Zat=function(t){return(cn(t)?t:null)||function(e){return uWt[e.toLowerCase()]}(t)||function(e){if((e.length===4||e.length===7)&&e[0]==="#"){var r,n,i,o=16;return e.length===4?(r=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(r=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[r,n,i]}}(t)||function(e){var r,n=new RegExp("^"+aWt+"$").exec(e);if(n){r=[];for(var i=[],o=1;o<=3;o++){var a=n[o];if(a[a.length-1]==="%"&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),a<0||a>255)return;r.push(Math.floor(a))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if((u=parseFloat(u))<0||u>1)return;r.push(u)}}return r}(t)||function(e){var r,n,i,o,a,s,l,u;function h(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+6*(m-g)*y:y<.5?m:y<2/3?g+(m-g)*(2/3-y)*6:g}var d=new RegExp("^"+lWt+"$").exec(e);if(d){if((n=parseInt(d[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(d[2]))<0||i>100||(i/=100,(o=parseFloat(d[3]))<0||o>100)||(o/=100,(a=d[4])!==void 0&&((a=parseFloat(a))<0||a>1)))return;if(i===0)s=l=u=Math.round(255*o);else{var p=o<.5?o*(1+i):o+i-o*i,f=2*o-p;s=Math.round(255*h(f,p,n+1/3)),l=Math.round(255*h(f,p,n)),u=Math.round(255*h(f,p,n-1/3))}r=[s,l,u,a]}return r}(t)},uWt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Qat=function(t){for(var e=t.map,r=t.keys,n=r.length,i=0;i<n;i++){var o=r[i];if(Br(o))throw Error("Tried to set map with object key");i<r.length-1?(e[o]==null&&(e[o]={}),e=e[o]):e[o]=t.value}},Jat=function(t){for(var e=t.map,r=t.keys,n=r.length,i=0;i<n;i++){var o=r[i];if(Br(o))throw Error("Tried to get map with object key");if((e=e[o])==null)return e}return e},v2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uy(){return xF?bF:(xF=1,bF=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")})}function U3(){if(EF)return TF;EF=1;var t=function(){if(kF)return wF;kF=1;var n=typeof v2=="object"&&v2&&v2.Object===Object&&v2;return wF=n}(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return TF=r}function hWt(){if(CF)return BT;CF=1;var t=function(){if(AF)return MT;AF=1;var r=/\s/;return MT=function(n){for(var i=n.length;i--&&r.test(n.charAt(i)););return i},MT}(),e=/^\s+/;return BT=function(r){return r&&r.slice(0,t(r)+1).replace(e,"")},BT}function PS(){if(NF)return $F;NF=1;var t=U3().Symbol;return $F=t}function tst(){if(MF)return OF;MF=1;var t=PS(),e=function(){if(LF)return IF;LF=1;var i=PS(),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;return IF=function(u){var h=a.call(u,l),d=u[l];try{u[l]=void 0;var p=!0}catch{}var f=s.call(u);return p&&(h?u[l]=d:delete u[l]),f}}(),r=function(){if(DF)return RF;DF=1;var i=Object.prototype.toString;return RF=function(o){return i.call(o)}}(),n=t?t.toStringTag:void 0;return OF=function(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":n&&n in Object(i)?e(i):r(i)}}function ov(){if(zF)return FF;zF=1;var t=tst(),e=PF?BF:(PF=1,BF=function(r){return r!=null&&typeof r=="object"});return FF=function(r){return typeof r=="symbol"||e(r)&&t(r)=="[object Symbol]"}}var av=iv(function(){if(qF)return UF;qF=1;var t=uy(),e=function(){if(SF)return _F;SF=1;var o=U3();return _F=function(){return o.Date.now()}}(),r=function(){if(HF)return jF;HF=1;var o=hWt(),a=uy(),s=ov(),l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;return jF=function(p){if(typeof p=="number")return p;if(s(p))return NaN;if(a(p)){var f=typeof p.valueOf=="function"?p.valueOf():p;p=a(f)?f+"":f}if(typeof p!="string")return p===0?p:+p;p=o(p);var g=u.test(p);return g||h.test(p)?d(p.slice(2),g?2:8):l.test(p)?NaN:+p}}(),n=Math.max,i=Math.min;return UF=function(o,a,s){var l,u,h,d,p,f,g=0,m=!1,y=!1,v=!0;if(typeof o!="function")throw new TypeError("Expected a function");function x(S){var T=l,A=u;return l=u=void 0,g=S,d=o.apply(A,T)}function b(S){var T=S-f;return f===void 0||T>=a||T<0||y&&S-g>=h}function k(){var S=e();if(b(S))return N(S);p=setTimeout(k,function(T){var A=a-(T-f);return y?i(A,h-(T-g)):A}(S))}function N(S){return p=void 0,v&&l?x(S):(l=u=void 0,d)}function _(){var S=e(),T=b(S);if(l=arguments,u=this,f=S,T){if(p===void 0)return function(A){return g=A,p=setTimeout(k,a),m?x(A):d}(f);if(y)return clearTimeout(p),p=setTimeout(k,a),x(f)}return p===void 0&&(p=setTimeout(k,a)),d}return a=r(a)||0,t(s)&&(m=!!s.leading,h=(y="maxWait"in s)?n(r(s.maxWait)||0,a):h,v="trailing"in s?!!s.trailing:v),_.cancel=function(){p!==void 0&&clearTimeout(p),g=0,l=f=u=p=void 0},_.flush=function(){return p===void 0?d:N(e())},_}}()),PT=bi?bi.performance:null,est=PT&&PT.now?function(){return PT.now()}:function(){return Date.now()},dWt=function(){if(bi){if(bi.requestAnimationFrame)return function(t){bi.requestAnimationFrame(t)};if(bi.mozRequestAnimationFrame)return function(t){bi.mozRequestAnimationFrame(t)};if(bi.webkitRequestAnimationFrame)return function(t){bi.webkitRequestAnimationFrame(t)};if(bi.msRequestAnimationFrame)return function(t){bi.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(est())},1e3/60)}}(),I5=function(t){return dWt(t)},Wc=est,sf=9261,z1=5381,rst=function(t){for(var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sf;!(e=t.next()).done;)r=65599*r+e.value|0;return r},hy=function(t){return 65599*(arguments.length>1&&arguments[1]!==void 0?arguments[1]:sf)+t|0},dy=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z1;return(e<<5)+e+t|0},iu=function(t){return 2097152*t[0]+t[1]},b2=function(t,e){return[hy(t[0],e[0]),dy(t[1],e[1])]},ch=function(t,e){var r={value:0,done:!1},n=0,i=t.length;return rst({next:function(){return n<i?r.value=t.charCodeAt(n++):r.done=!0,r}},e)},nst=function(){return pWt(arguments)},pWt=function(t){for(var e,r=0;r<t.length;r++){var n=t[r];e=r===0?ch(n):ch(n,e)}return e},WF=!0,fWt=console.warn!=null,gWt=console.trace!=null,T$=Number.MAX_SAFE_INTEGER||9007199254740991,ist=function(){return!0},L5=function(){return!1},VF=function(){return 0},E$=function(){},Mn=function(t){throw new Error(t)},ost=function(t){if(t===void 0)return WF;WF=!!t},Kr=function(t){ost()&&(fWt?console.warn(t):(console.log(t),gWt&&console.trace()))},Bl=function(t){return t==null?t:cn(t)?t.slice():Br(t)?function(e){return rr({},e)}(t):t},ast=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},mWt={},sst=function(){return mWt},Li=function(t){var e=Object.keys(t);return function(r){for(var n={},i=0;i<e.length;i++){var o=e[i],a=r==null?void 0:r[o];n[o]=a===void 0?t[o]:a}return n}},Ou=function(t,e,r){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},FS=function(t){t.splice(0,t.length)},js=function(t,e,r){return r&&(e=Xat(r,e)),t[e]},ou=function(t,e,r,n){r&&(e=Xat(r,e)),t[e]=n},_c=typeof Map<"u"?Map:function(){return xh(function t(){bh(this,t),this._obj={}},[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])}(),yWt=function(){return xh(function t(e){if(bh(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;r=e.instanceString!=null&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<r.length;n++)this.add(r[n])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;e[t]!==1&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;e[t]===1&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}])}(),Sg=(typeof Set>"u"?"undefined":Ni(Set))!=="undefined"?Set:yWt,q3=function(t,e){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t!==void 0&&e!==void 0&&w$(t)){var n=e.group;if(n==null&&(n=e.data&&e.data.source!=null&&e.data.target!=null?"edges":"nodes"),n==="nodes"||n==="edges"){this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:e.selectable===void 0||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:e.grabbable===void 0||!!e.grabbable,pannable:e.pannable===void 0?n==="edges":!!e.pannable,active:!1,classes:new Sg,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:e.parent&&e.parent.isNode()?e.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),e.renderedPosition){var o=e.renderedPosition,a=t.pan(),s=t.zoom();i.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var l=[];cn(e.classes)?l=e.classes:We(e.classes)&&(l=e.classes.split(/\s+/));for(var u=0,h=l.length;u<h;u++){var d=l[u];d&&d!==""&&i.classes.add(d)}this.createEmitter(),(r===void 0||r)&&this.restore();var p=e.style||e.css;p&&(Kr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))}else Mn("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else Mn("An element must have a core reference and parameters set")},YF=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,r,n){var i;Br(e)&&!qa(e)&&(e=(i=e).roots||i.root,r=i.visit,n=i.directed),n=arguments.length!==2||Bn(r)?n:r,r=Bn(r)?r:function(){};for(var o,a=this._private.cy,s=e=We(e)?this.filter(e):e,l=[],u=[],h={},d={},p={},f=0,g=this.byGroup(),m=g.nodes,y=g.edges,v=0;v<s.length;v++){var x=s[v],b=x.id();x.isNode()&&(l.unshift(x),t.bfs&&(p[b]=!0,u.push(x)),d[b]=0)}for(var k,N=function(){var C=t.bfs?l.shift():l.pop(),D=C.id();if(t.dfs){if(p[D])return 0;p[D]=!0,u.push(C)}var E,$=d[D],I=h[D],L=I!=null?I.source():null,O=I!=null?I.target():null,B=I==null?void 0:C.same(L)?O[0]:L[0];if((E=r(C,I,B,f++,$))===!0)return o=C,1;if(E===!1)return 1;for(var R=C.connectedEdges().filter(function(W){return(!n||W.source().same(C))&&y.has(W)}),M=0;M<R.length;M++){var F=R[M],P=F.connectedNodes().filter(function(W){return!W.same(C)&&m.has(W)}),U=P.id();P.length===0||p[U]||(P=P[0],l.push(P),t.bfs&&(p[U]=!0,u.push(P)),h[U]=F,d[U]=d[D]+1)}};l.length!==0&&((k=N())===0||k!==1););for(var _=a.collection(),S=0;S<u.length;S++){var T=u[S],A=h[T.id()];A!=null&&_.push(A),_.push(T)}return{path:a.collection(_),found:a.collection(o)}}},j1={breadthFirstSearch:YF({bfs:!0}),depthFirstSearch:YF({dfs:!0})};j1.bfs=j1.breadthFirstSearch,j1.dfs=j1.depthFirstSearch;var XF,KF,ZF,zS={exports:{}},vWt=zS.exports;function bWt(){return XF||(XF=1,t=zS,(function(){var e,r,n,i,o,a,s,l,u,h,d,p,f,g,m;n=Math.floor,h=Math.min,r=function(y,v){return y<v?-1:y>v?1:0},u=function(y,v,x,b,k){var N;if(x==null&&(x=0),k==null&&(k=r),x<0)throw new Error("lo must be non-negative");for(b==null&&(b=y.length);x<b;)k(v,y[N=n((x+b)/2)])<0?b=N:x=N+1;return[].splice.apply(y,[x,x-x].concat(v)),v},a=function(y,v,x){return x==null&&(x=r),y.push(v),g(y,0,y.length-1,x)},o=function(y,v){var x,b;return v==null&&(v=r),x=y.pop(),y.length?(b=y[0],y[0]=x,m(y,0,v)):b=x,b},l=function(y,v,x){var b;return x==null&&(x=r),b=y[0],y[0]=v,m(y,0,x),b},s=function(y,v,x){var b;return x==null&&(x=r),y.length&&x(y[0],v)<0&&(v=(b=[y[0],v])[0],y[0]=b[1],m(y,0,x)),v},i=function(y,v){var x,b,k,N,_,S;for(v==null&&(v=r),_=[],b=0,k=(N=(function(){S=[];for(var T=0,A=n(y.length/2);0<=A?T<A:T>A;0<=A?T++:T--)S.push(T);return S}).apply(this).reverse()).length;b<k;b++)x=N[b],_.push(m(y,x,v));return _},f=function(y,v,x){var b;if(x==null&&(x=r),(b=y.indexOf(v))!==-1)return g(y,0,b,x),m(y,b,x)},d=function(y,v,x){var b,k,N,_,S;if(x==null&&(x=r),!(k=y.slice(0,v)).length)return k;for(i(k,x),N=0,_=(S=y.slice(v)).length;N<_;N++)b=S[N],s(k,b,x);return k.sort(x).reverse()},p=function(y,v,x){var b,k,N,_,S,T,A,C,D;if(x==null&&(x=r),10*v<=y.length){if(!(N=y.slice(0,v).sort(x)).length)return N;for(k=N[N.length-1],_=0,T=(A=y.slice(v)).length;_<T;_++)x(b=A[_],k)<0&&(u(N,b,0,null,x),N.pop(),k=N[N.length-1]);return N}for(i(y,x),D=[],S=0,C=h(v,y.length);0<=C?S<C:S>C;0<=C?++S:--S)D.push(o(y,x));return D},g=function(y,v,x,b){var k,N,_;for(b==null&&(b=r),k=y[x];x>v&&b(k,N=y[_=x-1>>1])<0;)y[x]=N,x=_;return y[x]=k},m=function(y,v,x){var b,k,N,_,S;for(x==null&&(x=r),k=y.length,S=v,N=y[v],b=2*v+1;b<k;)(_=b+1)<k&&!(x(y[b],y[_])<0)&&(b=_),y[v]=y[b],b=2*(v=b)+1;return y[v]=N,g(y,S,v,x)},e=function(){function y(v){this.cmp=v??r,this.nodes=[]}return y.push=a,y.pop=o,y.replace=l,y.pushpop=s,y.heapify=i,y.updateItem=f,y.nlargest=d,y.nsmallest=p,y.prototype.push=function(v){return a(this.nodes,v,this.cmp)},y.prototype.pop=function(){return o(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(v){return this.nodes.indexOf(v)!==-1},y.prototype.replace=function(v){return l(this.nodes,v,this.cmp)},y.prototype.pushpop=function(v){return s(this.nodes,v,this.cmp)},y.prototype.heapify=function(){return i(this.nodes,this.cmp)},y.prototype.updateItem=function(v){return f(this.nodes,v,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var v;return(v=new y).nodes=this.nodes.slice(0),v},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),t.exports=e}).call(vWt)),zS.exports;var t}var sv=iv(ZF?KF:(ZF=1,KF=bWt())),xWt=Li({root:null,weight:function(t){return 1},directed:!1}),wWt={dijkstra:function(t){if(!Br(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var r=xWt(t),n=r.root,i=r.weight,o=r.directed,a=this,s=i,l=We(n)?this.filter(n)[0]:n[0],u={},h={},d={},p=this.byGroup(),f=p.nodes,g=p.edges;g.unmergeBy(function(I){return I.isLoop()});for(var m=function(I){return u[I.id()]},y=function(I,L){u[I.id()]=L,v.updateItem(I)},v=new sv(function(I,L){return m(I)-m(L)}),x=0;x<f.length;x++){var b=f[x];u[b.id()]=b.same(l)?0:1/0,v.push(b)}for(var k=function(I,L){for(var O,B=(o?I.edgesTo(L):I.edgesWith(L)).intersect(g),R=1/0,M=0;M<B.length;M++){var F=B[M],P=s(F);(P<R||!O)&&(R=P,O=F)}return{edge:O,dist:R}};v.size()>0;){var N=v.pop(),_=m(N),S=N.id();if(d[S]=_,_!==1/0)for(var T=N.neighborhood().intersect(f),A=0;A<T.length;A++){var C=T[A],D=C.id(),E=k(N,C),$=_+E.dist;$<m(C)&&(y(C,$),h[D]={node:N,edge:E.edge})}}return{distanceTo:function(I){var L=We(I)?f.filter(I)[0]:I[0];return d[L.id()]},pathTo:function(I){var L=We(I)?f.filter(I)[0]:I[0],O=[],B=L,R=B.id();if(L.length>0)for(O.unshift(L);h[R];){var M=h[R];O.unshift(M.edge),O.unshift(M.node),R=(B=M.node).id()}return a.spawn(O)}}}},kWt={kruskal:function(t){t=t||function(x){return 1};for(var e=this.byGroup(),r=e.nodes,n=e.edges,i=r.length,o=new Array(i),a=r,s=function(x){for(var b=0;b<o.length;b++)if(o[b].has(x))return b},l=0;l<i;l++)o[l]=this.spawn(r[l]);for(var u=n.sort(function(x,b){return t(x)-t(b)}),h=0;h<u.length;h++){var d=u[h],p=d.source()[0],f=d.target()[0],g=s(p),m=s(f),y=o[g],v=o[m];g!==m&&(a.merge(d),y.merge(v),o.splice(m,1))}return a}},TWt=Li({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),EWt={aStar:function(t){var e=this.cy(),r=TWt(t),n=r.root,i=r.goal,o=r.heuristic,a=r.directed,s=r.weight;n=e.collection(n)[0],i=e.collection(i)[0];var l,u,h=n.id(),d=i.id(),p={},f={},g={},m=new sv(function(R,M){return f[R.id()]-f[M.id()]}),y=new Sg,v={},x={},b=function(R,M){m.push(R),y.add(M)};b(n,h),p[h]=0,f[h]=o(n);for(var k,N=0;m.size()>0;){if(l=m.pop(),u=l.id(),y.delete(u),N++,u===d){for(var _=[],S=i,T=d,A=x[T];_.unshift(S),A!=null&&_.unshift(A),(S=v[T])!=null;)A=x[T=S.id()];return{found:!0,distance:p[u],path:this.spawn(_),steps:N}}g[u]=!0;for(var C=l._private.edges,D=0;D<C.length;D++){var E=C[D];if(this.hasElementWithId(E.id())&&(!a||E.data("source")===u)){var $=E.source(),I=E.target(),L=$.id()!==u?$:I,O=L.id();if(this.hasElementWithId(O)&&!g[O]){var B=p[u]+s(E);k=O,y.has(k)?B<p[O]&&(p[O]=B,f[O]=B+o(L),v[O]=l,x[O]=E):(p[O]=B,f[O]=B+o(L),b(L,O),v[O]=l,x[O]=E)}}}}return{found:!1,distance:void 0,path:void 0,steps:N}}},_Wt=Li({weight:function(t){return 1},directed:!1}),SWt={floydWarshall:function(t){for(var e=this.cy(),r=_Wt(t),n=r.weight,i=r.directed,o=n,a=this.byGroup(),s=a.nodes,l=a.edges,u=s.length,h=u*u,d=function(F){return s.indexOf(F)},p=function(F){return s[F]},f=new Array(h),g=0;g<h;g++){var m=g%u,y=(g-m)/u;f[g]=y===m?0:1/0}for(var v=new Array(h),x=new Array(h),b=0;b<l.length;b++){var k=l[b],N=k.source()[0],_=k.target()[0];if(N!==_){var S=d(N),T=d(_),A=S*u+T,C=o(k);if(f[A]>C&&(f[A]=C,v[A]=T,x[A]=k),!i){var D=T*u+S;!i&&f[D]>C&&(f[D]=C,v[D]=S,x[D]=k)}}}for(var E=0;E<u;E++)for(var $=0;$<u;$++)for(var I=$*u+E,L=0;L<u;L++){var O=$*u+L,B=E*u+L;f[I]+f[B]<f[O]&&(f[O]=f[I]+f[B],v[O]=v[I])}var R=function(F){return d(function(P){return(We(P)?e.filter(P):P)[0]}(F))},M={distance:function(F,P){var U=R(F),W=R(P);return f[U*u+W]},path:function(F,P){var U=R(F),W=R(P),Q=p(U);if(U===W)return Q.collection();if(v[U*u+W]==null)return e.collection();var K,G=e.collection(),V=U;for(G.merge(Q);U!==W;)V=U,U=v[U*u+W],K=x[V*u+U],G.merge(K),G.merge(p(U));return G}};return M}},AWt=Li({weight:function(t){return 1},directed:!1,root:null}),CWt={bellmanFord:function(t){var e=this,r=AWt(t),n=r.weight,i=r.directed,o=r.root,a=n,s=this,l=this.cy(),u=this.byGroup(),h=u.edges,d=u.nodes,p=d.length,f=new _c,g=!1,m=[];o=l.collection(o)[0],h.unmergeBy(function(X){return X.isLoop()});for(var y=h.length,v=function(X){var Et=f.get(X.id());return Et||(Et={},f.set(X.id(),Et)),Et},x=function(X){return(We(X)?l.$(X):X)[0]},b=0;b<p;b++){var k=d[b],N=v(k);k.same(o)?N.dist=0:N.dist=1/0,N.pred=null,N.edge=null}for(var _=!1,S=function(X,Et,H,ct,dt,Nt){var ft=ct.dist+Nt;ft<dt.dist&&!H.same(ct.edge)&&(dt.dist=ft,dt.pred=X,dt.edge=H,_=!0)},T=1;T<p;T++){_=!1;for(var A=0;A<y;A++){var C=h[A],D=C.source(),E=C.target(),$=a(C),I=v(D),L=v(E);S(D,0,C,I,L,$),i||S(E,0,C,L,I,$)}if(!_)break}if(_)for(var O=[],B=0;B<y;B++){var R=h[B],M=R.source(),F=R.target(),P=a(R),U=v(M).dist,W=v(F).dist;if(U+P<W||!i&&W+P<U){if(g||(Kr("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),t.findNegativeWeightCycles===!1)break;var Q=[];U+P<W&&Q.push(M),!i&&W+P<U&&Q.push(F);for(var K=Q.length,G=0;G<K;G++){var V=Q[G],rt=[V];rt.push(v(V).edge);for(var tt=v(V).pred;rt.indexOf(tt)===-1;)rt.push(tt),rt.push(v(tt).edge),tt=v(tt).pred;for(var at=(rt=rt.slice(rt.indexOf(tt)))[0].id(),ut=0,st=2;st<rt.length;st+=2)rt[st].id()<at&&(at=rt[st].id(),ut=st);(rt=rt.slice(ut).concat(rt.slice(0,ut))).push(rt[0]);var _t=rt.map(function(X){return X.id()}).join(",");O.indexOf(_t)===-1&&(m.push(s.spawn(rt)),O.push(_t))}}}return{distanceTo:function(X){return v(x(X)).dist},pathTo:function(X){for(var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,H=[],ct=x(X);;){if(ct==null)return e.spawn();var dt=v(ct),Nt=dt.edge,ft=dt.pred;if(H.unshift(ct[0]),ct.same(Et)&&H.length>0)break;Nt!=null&&H.unshift(Nt),ct=ft}return s.spawn(H)},hasNegativeWeightCycle:g,negativeWeightCycles:m}}},$Wt=Math.sqrt(2),NWt=function(t,e,r){r.length===0&&Mn("Karger-Stein must be run on a connected (sub)graph");for(var n=r[t],i=n[1],o=n[2],a=e[i],s=e[o],l=r,u=l.length-1;u>=0;u--){var h=l[u],d=h[1],p=h[2];(e[d]===a&&e[p]===s||e[d]===s&&e[p]===a)&&l.splice(u,1)}for(var f=0;f<l.length;f++){var g=l[f];g[1]===s?(l[f]=g.slice(),l[f][1]=a):g[2]===s&&(l[f]=g.slice(),l[f][2]=a)}for(var m=0;m<e.length;m++)e[m]===s&&(e[m]=a);return l},FT=function(t,e,r,n){for(;r>n;){var i=Math.floor(Math.random()*e.length);e=NWt(i,t,e),r--}return e},IWt={kargerStein:function(){var t=this,e=this.byGroup(),r=e.nodes,n=e.edges;n.unmergeBy(function(O){return O.isLoop()});var i=r.length,o=n.length,a=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/$Wt);if(!(i<2)){for(var l=[],u=0;u<o;u++){var h=n[u];l.push([u,r.indexOf(h.source()),r.indexOf(h.target())])}for(var d=1/0,p=[],f=new Array(i),g=new Array(i),m=new Array(i),y=function(O,B){for(var R=0;R<i;R++)B[R]=O[R]},v=0;v<=a;v++){for(var x=0;x<i;x++)g[x]=x;var b=FT(g,l.slice(),i,s),k=b.slice();y(g,m);var N=FT(g,b,s,2),_=FT(m,k,s,2);N.length<=_.length&&N.length<d?(d=N.length,p=N,y(g,f)):_.length<=N.length&&_.length<d&&(d=_.length,p=_,y(m,f))}for(var S=this.spawn(p.map(function(O){return n[O[0]]})),T=this.spawn(),A=this.spawn(),C=f[0],D=0;D<f.length;D++){var E=f[D],$=r[D];E===C?T.merge($):A.merge($)}var I=function(O){var B=t.spawn();return O.forEach(function(R){B.merge(R),R.connectedEdges().forEach(function(M){t.contains(M)&&!S.contains(M)&&B.merge(M)})}),B},L=[I(T),I(A)];return{cut:S,components:L,partition1:T,partition2:A}}Mn("At least 2 nodes are required for Karger-Stein algorithm")}},R5=function(t,e,r){return{x:t.x*e+r.x,y:t.y*e+r.y}},lst=function(t,e,r){return{x:(t.x-r.x)/e,y:(t.y-r.y)/e}},lf=function(t){return{x:t[0],y:t[1]}},x2=function(t,e){return Math.atan2(e,t)-Math.PI/2},_$=Math.log2||function(t){return Math.log(t)/Math.log(2)},QF=function(t){return t>0?1:t<0?-1:0},Ed=function(t,e){return Math.sqrt(Vh(t,e))},Vh=function(t,e){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n},LWt=function(t){for(var e=t.length,r=0,n=0;n<e;n++)r+=t[n];for(var i=0;i<e;i++)t[i]=t[i]/r;return t},Bi=function(t,e,r,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*r},If=function(t,e,r,n){return{x:Bi(t.x,e.x,r.x,n),y:Bi(t.y,e.y,r.y,n)}},H1=function(t,e,r){return Math.max(t,Math.min(r,e))},Sa=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},cst=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},RWt=function(t,e,r){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r),t.y2=Math.max(t.y2,r),t.h=t.y2-t.y1},Ib=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},w2=function(t){var e,r,n,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0];if(o.length===1)e=r=n=i=o[0];else if(o.length===2)e=n=o[0],i=r=o[1];else if(o.length===4){var a=ji(o,4);e=a[0],r=a[1],n=a[2],i=a[3]}return t.x1-=i,t.x2+=r,t.y1-=e,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},JF=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},S$=function(t,e){return!(t.x1>e.x2)&&!(e.x1>t.x2)&&!(t.x2<e.x1)&&!(e.x2<t.x1)&&!(t.y2<e.y1)&&!(e.y2<t.y1)&&!(t.y1>e.y2)&&!(e.y1>t.y2)},cf=function(t,e,r){return t.x1<=e&&e<=t.x2&&t.y1<=r&&r<=t.y2},ust=function(t,e){return cf(t,e.x1,e.y1)&&cf(t,e.x2,e.y2)},tz=function(t,e,r,n,i,o,a){var s,l,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",h=u==="auto"?Kd(i,o):u,d=i/2,p=o/2,f=(h=Math.min(h,d,p))!==d,g=h!==p;if(f){var m=n-p-a;if((s=Mu(t,e,r,n,r-d+h-a,m,r+d-h+a,m,!1)).length>0)return s}if(g){var y=r+d+a;if((s=Mu(t,e,r,n,y,n-p+h-a,y,n+p-h+a,!1)).length>0)return s}if(f){var v=n+p+a;if((s=Mu(t,e,r,n,r-d+h-a,v,r+d-h+a,v,!1)).length>0)return s}if(g){var x=r-d-a;if((s=Mu(t,e,r,n,x,n-p+h-a,x,n+p-h+a,!1)).length>0)return s}var b=r-d+h,k=n-p+h;if((l=U1(t,e,r,n,b,k,h+a)).length>0&&l[0]<=b&&l[1]<=k)return[l[0],l[1]];var N=r+d-h,_=n-p+h;if((l=U1(t,e,r,n,N,_,h+a)).length>0&&l[0]>=N&&l[1]<=_)return[l[0],l[1]];var S=r+d-h,T=n+p-h;if((l=U1(t,e,r,n,S,T,h+a)).length>0&&l[0]>=S&&l[1]>=T)return[l[0],l[1]];var A=r-d+h,C=n+p-h;return(l=U1(t,e,r,n,A,C,h+a)).length>0&&l[0]<=A&&l[1]>=C?[l[0],l[1]]:[]},DWt=function(t,e,r,n,i,o,a){var s=a,l=Math.min(r,i),u=Math.max(r,i),h=Math.min(n,o),d=Math.max(n,o);return l-s<=t&&t<=u+s&&h-s<=e&&e<=d+s},OWt=function(t,e,r,n,i,o,a,s,l){var u=Math.min(r,a,i)-l,h=Math.max(r,a,i)+l,d=Math.min(n,s,o)-l,p=Math.max(n,s,o)+l;return!(t<u||t>h||e<d||e>p)},MWt=function(t,e,r,n,i,o,a,s){var l=[];(function(y,v,x,b,k){var N,_,S,T,A,C,D,E;y===0&&(y=1e-5),S=-27*(b/=y)+(v/=y)*(9*(x/=y)-v*v*2),N=(_=(3*x-v*v)/9)*_*_+(S/=54)*S,k[1]=0,D=v/3,N>0?(A=(A=S+Math.sqrt(N))<0?-Math.pow(-A,1/3):Math.pow(A,1/3),C=(C=S-Math.sqrt(N))<0?-Math.pow(-C,1/3):Math.pow(C,1/3),k[0]=-D+A+C,D+=(A+C)/2,k[4]=k[2]=-D,D=Math.sqrt(3)*(-C+A)/2,k[3]=D,k[5]=-D):(k[5]=k[3]=0,N===0?(E=S<0?-Math.pow(-S,1/3):Math.pow(S,1/3),k[0]=2*E-D,k[4]=k[2]=-(E+D)):(T=(_=-_)*_*_,T=Math.acos(S/Math.sqrt(T)),E=2*Math.sqrt(_),k[0]=-D+E*Math.cos(T/3),k[2]=-D+E*Math.cos((T+2*Math.PI)/3),k[4]=-D+E*Math.cos((T+4*Math.PI)/3)))})(1*r*r-4*r*i+2*r*a+4*i*i-4*i*a+a*a+n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s,9*r*i-3*r*r-3*r*a-6*i*i+3*i*a+9*n*o-3*n*n-3*n*s-6*o*o+3*o*s,3*r*r-6*r*i+r*a-r*t+2*i*i+2*i*t-a*t+3*n*n-6*n*o+n*s-n*e+2*o*o+2*o*e-s*e,1*r*i-r*r+r*t-i*t+n*o-n*n+n*e-o*e,l);for(var u=[],h=0;h<6;h+=2)Math.abs(l[h+1])<1e-7&&l[h]>=0&&l[h]<=1&&u.push(l[h]);u.push(1),u.push(0);for(var d,p,f,g=-1,m=0;m<u.length;m++)d=Math.pow(1-u[m],2)*r+2*(1-u[m])*u[m]*i+u[m]*u[m]*a,p=Math.pow(1-u[m],2)*n+2*(1-u[m])*u[m]*o+u[m]*u[m]*s,f=Math.pow(d-t,2)+Math.pow(p-e,2),g>=0?f<g&&(g=f):g=f;return g},BWt=function(t,e,r,n,i,o){var a=[t-r,e-n],s=[i-r,o-n],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],h=a[0]*s[0]+a[1]*s[1],d=h*h/l;return h<0?u:d>l?(t-i)*(t-i)+(e-o)*(e-o):u-d},ma=function(t,e,r){for(var n,i,o,a,s=0,l=0;l<r.length/2;l++)if(n=r[2*l],i=r[2*l+1],l+1<r.length/2?(o=r[2*(l+1)],a=r[2*(l+1)+1]):(o=r[2*(l+1-r.length/2)],a=r[2*(l+1-r.length/2)+1]),!(n==t&&o==t)){if(!(n>=t&&t>=o||n<=t&&t<=o))continue;(t-n)/(o-n)*(a-i)+i>e&&s++}return s%2!=0},dc=function(t,e,r,n,i,o,a,s,l){var u,h=new Array(r.length);s[0]!=null?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var d,p=Math.cos(-u),f=Math.sin(-u),g=0;g<h.length/2;g++)h[2*g]=o/2*(r[2*g]*p-r[2*g+1]*f),h[2*g+1]=a/2*(r[2*g+1]*p+r[2*g]*f),h[2*g]+=n,h[2*g+1]+=i;if(l>0){var m=O5(h,-l);d=D5(m)}else d=h;return ma(t,e,d)},D5=function(t){for(var e,r,n,i,o,a,s,l,u=new Array(t.length/2),h=0;h<t.length/4;h++){e=t[4*h],r=t[4*h+1],n=t[4*h+2],i=t[4*h+3],h<t.length/4-1?(o=t[4*(h+1)],a=t[4*(h+1)+1],s=t[4*(h+1)+2],l=t[4*(h+1)+3]):(o=t[0],a=t[1],s=t[2],l=t[3]);var d=Mu(e,r,n,i,o,a,s,l,!0);u[2*h]=d[0],u[2*h+1]=d[1]}return u},O5=function(t,e){for(var r,n,i,o,a=new Array(2*t.length),s=0;s<t.length/2;s++){r=t[2*s],n=t[2*s+1],s<t.length/2-1?(i=t[2*(s+1)],o=t[2*(s+1)+1]):(i=t[0],o=t[1]);var l=o-n,u=-(i-r),h=Math.sqrt(l*l+u*u),d=l/h,p=u/h;a[4*s]=r+d*e,a[4*s+1]=n+p*e,a[4*s+2]=i+d*e,a[4*s+3]=o+p*e}return a},Ih=function(t,e,r,n,i,o,a){return t-=i,e-=o,(t/=r/2+a)*t+(e/=n/2+a)*e<=1},U1=function(t,e,r,n,i,o,a){var s=[r-t,n-e],l=[t-i,e-o],u=s[0]*s[0]+s[1]*s[1],h=2*(l[0]*s[0]+l[1]*s[1]),d=h*h-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(d<0)return[];var p=(-h+Math.sqrt(d))/(2*u),f=(-h-Math.sqrt(d))/(2*u),g=Math.min(p,f),m=Math.max(p,f),y=[];if(g>=0&&g<=1&&y.push(g),m>=0&&m<=1&&y.push(m),y.length===0)return[];var v=y[0]*s[0]+t,x=y[0]*s[1]+e;return y.length>1?y[0]==y[1]?[v,x]:[v,x,y[1]*s[0]+t,y[1]*s[1]+e]:[v,x]},zT=function(t,e,r){return e<=t&&t<=r||r<=t&&t<=e?t:t<=e&&e<=r||r<=e&&e<=t?e:r},Mu=function(t,e,r,n,i,o,a,s,l){var u=t-i,h=r-t,d=a-i,p=e-o,f=n-e,g=s-o,m=d*p-g*u,y=h*p-f*u,v=g*h-d*f;if(v!==0){var x=m/v,b=y/v,k=-.001;return k<=x&&x<=1.001&&k<=b&&b<=1.001||l?[t+x*h,e+x*f]:[]}return m===0||y===0?zT(t,r,a)===a?[a,s]:zT(t,r,i)===i?[i,o]:zT(i,a,r)===r?[r,n]:[]:[]},py=function(t,e,r,n,i,o,a,s){var l,u,h,d,p,f,g=[],m=new Array(r.length),y=!0;if(o==null&&(y=!1),y){for(var v=0;v<m.length/2;v++)m[2*v]=r[2*v]*o+n,m[2*v+1]=r[2*v+1]*a+i;if(s>0){var x=O5(m,-s);u=D5(x)}else u=m}else u=r;for(var b=0;b<u.length/2;b++)h=u[2*b],d=u[2*b+1],b<u.length/2-1?(p=u[2*(b+1)],f=u[2*(b+1)+1]):(p=u[0],f=u[1]),(l=Mu(t,e,n,i,h,d,p,f)).length!==0&&g.push(l[0],l[1]);return g},k2=function(t,e,r){var n=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(i-r)/i;return o<0&&(o=1e-5),[e[0]+o*n[0],e[1]+o*n[1]]},zo=function(t,e){var r=jS(t,e);return r=hst(r)},hst=function(t){for(var e,r,n=t.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<n;l++)e=t[2*l],r=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,r),s=Math.max(s,r);for(var u=2/(a-i),h=2/(s-o),d=0;d<n;d++)e=t[2*d]=t[2*d]*u,r=t[2*d+1]=t[2*d+1]*h,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,r),s=Math.max(s,r);if(o<-1)for(var p=0;p<n;p++)r=t[2*p+1]=t[2*p+1]+(-1-o);return t},jS=function(t,e){var r=1/t*2*Math.PI,n=t%2==0?Math.PI/2+r/2:Math.PI/2;n+=e;for(var i,o=new Array(2*t),a=0;a<t;a++)i=a*r+n,o[2*a]=Math.cos(i),o[2*a+1]=Math.sin(-i);return o},Kd=function(t,e){return Math.min(t/4,e/4,8)},dst=function(t,e){return Math.min(t/10,e/10,8)},HS=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},PWt=Li({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),FWt={pageRank:function(t){for(var e=PWt(t),r=e.dampingFactor,n=e.precision,i=e.iterations,o=e.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,h=l.length,d=h*h,p=u.length,f=new Array(d),g=new Array(h),m=(1-r)/h,y=0;y<h;y++){for(var v=0;v<h;v++)f[y*h+v]=0;g[y]=0}for(var x=0;x<p;x++){var b=u[x],k=b.data("source"),N=b.data("target");if(k!==N){var _=l.indexOfId(k),S=l.indexOfId(N),T=o(b);f[S*h+_]+=T,g[_]+=T}}for(var A=1/h+m,C=0;C<h;C++)if(g[C]===0)for(var D=0;D<h;D++)f[D*h+C]=A;else for(var E=0;E<h;E++){var $=E*h+C;f[$]=f[$]/g[C]+m}for(var I,L=new Array(h),O=new Array(h),B=0;B<h;B++)L[B]=1;for(var R=0;R<i;R++){for(var M=0;M<h;M++)O[M]=0;for(var F=0;F<h;F++)for(var P=0;P<h;P++){var U=F*h+P;O[F]+=f[U]*L[P]}LWt(O),I=L,L=O,O=I;for(var W=0,Q=0;Q<h;Q++){var K=I[Q]-L[Q];W+=K*K}if(W<n)break}return{rank:function(G){return G=a.collection(G)[0],L[l.indexOf(G)]}}}},ez=Li({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Wp={degreeCentralityNormalized:function(t){t=ez(t);var e=this.cy(),r=this.nodes(),n=r.length;if(t.directed){for(var i={},o={},a=0,s=0,l=0;l<n;l++){var u=r[l],h=u.id();t.root=u;var d=this.degreeCentrality(t);a<d.indegree&&(a=d.indegree),s<d.outdegree&&(s=d.outdegree),i[h]=d.indegree,o[h]=d.outdegree}return{indegree:function(v){return a==0?0:(We(v)&&(v=e.filter(v)),i[v.id()]/a)},outdegree:function(v){return s===0?0:(We(v)&&(v=e.filter(v)),o[v.id()]/s)}}}for(var p={},f=0,g=0;g<n;g++){var m=r[g];t.root=m;var y=this.degreeCentrality(t);f<y.degree&&(f=y.degree),p[m.id()]=y.degree}return{degree:function(v){return f===0?0:(We(v)&&(v=e.filter(v)),p[v.id()]/f)}}},degreeCentrality:function(t){t=ez(t);var e=this.cy(),r=this,n=t,i=n.root,o=n.weight,a=n.directed,s=n.alpha;if(i=e.collection(i)[0],a){for(var l=i.connectedEdges(),u=l.filter(function(N){return N.target().same(i)&&r.has(N)}),h=l.filter(function(N){return N.source().same(i)&&r.has(N)}),d=u.length,p=h.length,f=0,g=0,m=0;m<u.length;m++)f+=o(u[m]);for(var y=0;y<h.length;y++)g+=o(h[y]);return{indegree:Math.pow(d,1-s)*Math.pow(f,s),outdegree:Math.pow(p,1-s)*Math.pow(g,s)}}for(var v=i.connectedEdges().intersection(r),x=v.length,b=0,k=0;k<v.length;k++)b+=o(v[k]);return{degree:Math.pow(x,1-s)*Math.pow(b,s)}}};Wp.dc=Wp.degreeCentrality,Wp.dcn=Wp.degreeCentralityNormalised=Wp.degreeCentralityNormalized;var rz=Li({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Vp={closenessCentralityNormalized:function(t){for(var e=rz(t),r=e.harmonic,n=e.weight,i=e.directed,o=this.cy(),a={},s=0,l=this.nodes(),u=this.floydWarshall({weight:n,directed:i}),h=0;h<l.length;h++){for(var d=0,p=l[h],f=0;f<l.length;f++)if(h!==f){var g=u.distance(p,l[f]);d+=r?1/g:g}r||(d=1/d),s<d&&(s=d),a[p.id()]=d}return{closeness:function(m){return s==0?0:(m=We(m)?o.filter(m)[0].id():m.id(),a[m]/s)}}},closenessCentrality:function(t){var e=rz(t),r=e.root,n=e.weight,i=e.directed,o=e.harmonic;r=this.filter(r)[0];for(var a=this.dijkstra({root:r,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++){var h=l[u];if(!h.same(r)){var d=a.distanceTo(h);s+=o?1/d:d}}return o?s:1/s}};Vp.cc=Vp.closenessCentrality,Vp.ccn=Vp.closenessCentralityNormalised=Vp.closenessCentralityNormalized;var zWt=Li({weight:null,directed:!1}),US={betweennessCentrality:function(t){for(var e=zWt(t),r=e.directed,n=e.weight,i=n!=null,o=this.cy(),a=this.nodes(),s={},l={},u=0,h=function(x,b){l[x]=b,b>u&&(u=b)},d=function(x){return l[x]},p=0;p<a.length;p++){var f=a[p],g=f.id();s[g]=r?f.outgoers().nodes():f.openNeighborhood().nodes(),h(g,0)}for(var m=function(){for(var x=a[y].id(),b=[],k={},N={},_={},S=new sv(function(W,Q){return _[W]-_[Q]}),T=0;T<a.length;T++){var A=a[T].id();k[A]=[],N[A]=0,_[A]=1/0}for(N[x]=1,_[x]=0,S.push(x);!S.empty();){var C=S.pop();if(b.push(C),i)for(var D=0;D<s[C].length;D++){var E=s[C][D],$=o.getElementById(C),I=void 0;I=$.edgesTo(E).length>0?$.edgesTo(E)[0]:E.edgesTo($)[0];var L=n(I);E=E.id(),_[E]>_[C]+L&&(_[E]=_[C]+L,S.nodes.indexOf(E)<0?S.push(E):S.updateItem(E),N[E]=0,k[E]=[]),_[E]==_[C]+L&&(N[E]=N[E]+N[C],k[E].push(C))}else for(var O=0;O<s[C].length;O++){var B=s[C][O].id();_[B]==1/0&&(S.push(B),_[B]=_[C]+1),_[B]==_[C]+1&&(N[B]=N[B]+N[C],k[B].push(C))}}for(var R={},M=0;M<a.length;M++)R[a[M].id()]=0;for(;b.length>0;){for(var F=b.pop(),P=0;P<k[F].length;P++){var U=k[F][P];R[U]=R[U]+N[U]/N[F]*(1+R[F])}F!=a[y].id()&&h(F,d(F)+R[F])}},y=0;y<a.length;y++)m();var v={betweenness:function(x){var b=o.collection(x).id();return d(b)},betweennessNormalized:function(x){if(u==0)return 0;var b=o.collection(x).id();return d(b)/u}};return v.betweennessNormalised=v.betweennessNormalized,v}};US.bc=US.betweennessCentrality;var jWt=Li({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),HWt=function(t,e){for(var r=0,n=0;n<e.length;n++)r+=e[n](t);return r},pst=function(t,e){for(var r,n=0;n<e;n++){r=0;for(var i=0;i<e;i++)r+=t[i*e+n];for(var o=0;o<e;o++)t[o*e+n]=t[o*e+n]/r}},UWt=function(t,e,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var o=0;o<r;o++)n[i*r+o]=0;for(var a=0;a<r;a++)for(var s=0;s<r;s++)n[i*r+s]+=t[i*r+a]*e[a*r+s]}return n},qWt=function(t,e,r){for(var n=t.slice(0),i=1;i<r;i++)t=UWt(t,n,e);return t},GWt=function(t,e,r){for(var n=new Array(e*e),i=0;i<e*e;i++)n[i]=Math.pow(t[i],r);return pst(n,e),n},WWt=function(t,e,r,n){for(var i=0;i<r;i++)if(Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n)!==Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n))return!1;return!0},VWt=function(t,e){for(var r=0;r<t.length;r++)if(!e[r]||t[r].id()!==e[r].id())return!1;return!0},nz=function(t){for(var e=this.nodes(),r=this.edges(),n=this.cy(),i=function(k){return jWt(k)}(t),o={},a=0;a<e.length;a++)o[e[a].id()]=a;for(var s,l=e.length,u=l*l,h=new Array(u),d=0;d<u;d++)h[d]=0;for(var p=0;p<r.length;p++){var f=r[p],g=o[f.source().id()],m=o[f.target().id()],y=HWt(f,i.attributes);h[g*l+m]+=y,h[m*l+g]+=y}(function(k,N,_){for(var S=0;S<N;S++)k[S*N+S]=_})(h,l,i.multFactor),pst(h,l);for(var v=!0,x=0;v&&x<i.maxIterations;)v=!1,s=qWt(h,l,i.expandFactor),h=GWt(s,l,i.inflateFactor),WWt(h,s,u,4)||(v=!0),x++;var b=function(k,N,_,S){for(var T=[],A=0;A<N;A++){for(var C=[],D=0;D<N;D++)Math.round(1e3*k[A*N+D])/1e3>0&&C.push(_[D]);C.length!==0&&T.push(S.collection(C))}return T}(h,l,e,n);return b=function(k){for(var N=0;N<k.length;N++)for(var _=0;_<k.length;_++)N!=_&&VWt(k[N],k[_])&&k.splice(_,1);return k}(b),b},YWt={markovClustering:nz,mcl:nz},XWt=function(t){return t},fst=function(t,e){return Math.abs(e-t)},iz=function(t,e,r){return t+fst(e,r)},oz=function(t,e,r){return t+Math.pow(r-e,2)},KWt=function(t){return Math.sqrt(t)},ZWt=function(t,e,r){return Math.max(t,fst(e,r))},p1=function(t,e,r,n,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:XWt,a=n,s=0;s<t;s++)a=i(a,e(s),r(s));return o(a)},uf={euclidean:function(t,e,r){return t>=2?p1(t,e,r,0,oz,KWt):p1(t,e,r,0,iz)},squaredEuclidean:function(t,e,r){return p1(t,e,r,0,oz)},manhattan:function(t,e,r){return p1(t,e,r,0,iz)},max:function(t,e,r){return p1(t,e,r,-1/0,ZWt)}};function G3(t,e,r,n,i,o){var a;return a=Bn(t)?t:uf[t]||uf.euclidean,e===0&&Bn(t)?a(i,o):a(e,r,n,i,o)}uf["squared-euclidean"]=uf.squaredEuclidean,uf.squaredeuclidean=uf.squaredEuclidean;var QWt=Li({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),qS=function(t){return QWt(t)},M5=function(t,e,r,n,i){var o=i!=="kMedoids"?function(l){return r[l]}:function(l){return n[l](r)},a=r,s=e;return G3(t,n.length,o,function(l){return n[l](e)},a,s)},jT=function(t,e,r){for(var n=r.length,i=new Array(n),o=new Array(n),a=new Array(e),s=null,l=0;l<n;l++)i[l]=t.min(r[l]).value,o[l]=t.max(r[l]).value;for(var u=0;u<e;u++){s=[];for(var h=0;h<n;h++)s[h]=Math.random()*(o[h]-i[h])+i[h];a[u]=s}return a},az=function(t,e,r,n,i){for(var o=1/0,a=0,s=0;s<e.length;s++){var l=M5(r,t,e[s],n,i);l<o&&(o=l,a=s)}return a},sz=function(t,e,r){for(var n=[],i=null,o=0;o<e.length;o++)r[(i=e[o]).id()]===t&&n.push(i);return n},JWt=function(t,e,r){return Math.abs(e-t)<=r},tVt=function(t,e,r){for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)if(Math.abs(t[n][i]-e[n][i])>r)return!1;return!0},eVt=function(t,e,r){for(var n=0;n<r;n++)if(t===e[n])return!0;return!1},lz=function(t,e){var r=new Array(e);if(t.length<50)for(var n=0;n<e;n++){for(var i=t[Math.floor(Math.random()*t.length)];eVt(i,r,n);)i=t[Math.floor(Math.random()*t.length)];r[n]=i}else for(var o=0;o<e;o++)r[o]=t[Math.floor(Math.random()*t.length)];return r},cz=function(t,e,r){for(var n=0,i=0;i<e.length;i++)n+=M5("manhattan",e[i],t,r,"kMedoids");return n},rVt=function(t,e,r,n,i){for(var o,a,s=0;s<e.length;s++)for(var l=0;l<t.length;l++)n[s][l]=Math.pow(r[s][l],i.m);for(var u=0;u<t.length;u++)for(var h=0;h<i.attributes.length;h++){o=0,a=0;for(var d=0;d<e.length;d++)o+=n[d][u]*i.attributes[h](e[d]),a+=n[d][u];t[u][h]=o/a}},nVt=function(t,e,r,n,i){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var a,s,l,u=2/(i.m-1),h=0;h<r.length;h++)for(var d=0;d<n.length;d++){a=0;for(var p=0;p<r.length;p++)s=M5(i.distance,n[d],r[h],i.attributes,"cmeans"),l=M5(i.distance,n[d],r[p],i.attributes,"cmeans"),a+=Math.pow(s/l,u);t[d][h]=1/a}},uz=function(t){var e,r,n,i,o,a=this.cy(),s=this.nodes(),l=qS(t);i=new Array(s.length);for(var u=0;u<s.length;u++)i[u]=new Array(l.k);n=new Array(s.length);for(var h=0;h<s.length;h++)n[h]=new Array(l.k);for(var d=0;d<s.length;d++){for(var p=0,f=0;f<l.k;f++)n[d][f]=Math.random(),p+=n[d][f];for(var g=0;g<l.k;g++)n[d][g]=n[d][g]/p}r=new Array(l.k);for(var m=0;m<l.k;m++)r[m]=new Array(l.attributes.length);o=new Array(s.length);for(var y=0;y<s.length;y++)o[y]=new Array(l.k);for(var v=!0,x=0;v&&x<l.maxIterations;)v=!1,rVt(r,s,n,o,l),nVt(n,i,r,s,l),tVt(n,i,l.sensitivityThreshold)||(v=!0),x++;return e=function(b,k,N,_){for(var S,T,A=new Array(N.k),C=0;C<A.length;C++)A[C]=[];for(var D=0;D<k.length;D++){S=-1/0,T=-1;for(var E=0;E<k[0].length;E++)k[D][E]>S&&(S=k[D][E],T=E);A[T].push(b[D])}for(var $=0;$<A.length;$++)A[$]=_.collection(A[$]);return A}(s,n,l,a),{clusters:e,degreeOfMembership:n}},iVt={kMeans:function(t){var e,r=this.cy(),n=this.nodes(),i=null,o=qS(t),a=new Array(o.k),s={};o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,e=jT(n,o.k,o.attributes)):e=Ni(o.testCentroids)==="object"?o.testCentroids:jT(n,o.k,o.attributes):e=jT(n,o.k,o.attributes);for(var l=!0,u=0;l&&u<o.maxIterations;){for(var h=0;h<n.length;h++)s[(i=n[h]).id()]=az(i,e,o.distance,o.attributes,"kMeans");l=!1;for(var d=0;d<o.k;d++){var p=sz(d,n,s);if(p.length!==0){for(var f=o.attributes.length,g=e[d],m=new Array(f),y=new Array(f),v=0;v<f;v++){y[v]=0;for(var x=0;x<p.length;x++)i=p[x],y[v]+=o.attributes[v](i);m[v]=y[v]/p.length,JWt(m[v],g[v],o.sensitivityThreshold)||(l=!0)}e[d]=m,a[d]=r.collection(p)}}u++}return a},kMedoids:function(t){var e,r,n=this.cy(),i=this.nodes(),o=null,a=qS(t),s=new Array(a.k),l={},u=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(e=Ni(a.testCentroids)==="object"?a.testCentroids:lz(i,a.k)):e=lz(i,a.k);for(var h=!0,d=0;h&&d<a.maxIterations;){for(var p=0;p<i.length;p++)l[(o=i[p]).id()]=az(o,e,a.distance,a.attributes,"kMedoids");h=!1;for(var f=0;f<e.length;f++){var g=sz(f,i,l);if(g.length!==0){u[f]=cz(e[f],g,a.attributes);for(var m=0;m<g.length;m++)(r=cz(g[m],g,a.attributes))<u[f]&&(u[f]=r,e[f]=g[m],h=!0);s[f]=n.collection(g)}}d++}return s},fuzzyCMeans:uz,fcm:uz},oVt=Li({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),aVt={single:"min",complete:"max"},hz=function(t,e,r,n,i){for(var o,a=0,s=1/0,l=i.attributes,u=function(S,T){return G3(i.distance,l.length,function(A){return l[A](S)},function(A){return l[A](T)},S,T)},h=0;h<t.length;h++){var d=t[h].key,p=r[d][n[d]];p<s&&(a=d,s=p)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;var f,g=e[a],m=e[n[a]];f=i.mode==="dendrogram"?{left:g,right:m,key:g.key}:{value:g.value.concat(m.value),key:g.key},t[g.index]=f,t.splice(m.index,1),e[g.key]=f;for(var y=0;y<t.length;y++){var v=t[y];g.key===v.key?o=1/0:i.linkage==="min"?(o=r[g.key][v.key],r[g.key][v.key]>r[m.key][v.key]&&(o=r[m.key][v.key])):i.linkage==="max"?(o=r[g.key][v.key],r[g.key][v.key]<r[m.key][v.key]&&(o=r[m.key][v.key])):o=i.linkage==="mean"?(r[g.key][v.key]*g.size+r[m.key][v.key]*m.size)/(g.size+m.size):i.mode==="dendrogram"?u(v.value,g.value):u(v.value[0],g.value[0]),r[g.key][v.key]=r[v.key][g.key]=o}for(var x=0;x<t.length;x++){var b=t[x].key;if(n[b]===g.key||n[b]===m.key){for(var k=b,N=0;N<t.length;N++){var _=t[N].key;r[b][_]<r[b][k]&&(k=_)}n[b]=k}t[x].index=x}return g.key=m.key=g.index=m.index=null,!0},hf=function(t,e,r){t&&(t.value?e.push(t.value):(t.left&&hf(t.left,e),t.right&&hf(t.right,e)))},GS=function(t,e){if(!t)return"";if(t.left&&t.right){var r=GS(t.left,e),n=GS(t.right,e),i=e.add({group:"nodes",data:{id:r+","+n}});return e.add({group:"edges",data:{source:r,target:i.id()}}),e.add({group:"edges",data:{source:n,target:i.id()}}),i.id()}return t.value?t.value.id():void 0},WS=function(t,e,r){if(!t)return[];var n=[],i=[],o=[];return e===0?(t.left&&hf(t.left,n),t.right&&hf(t.right,i),o=n.concat(i),[r.collection(o)]):e===1?t.value?[r.collection(t.value)]:(t.left&&hf(t.left,n),t.right&&hf(t.right,i),[r.collection(n),r.collection(i)]):t.value?[r.collection(t.value)]:(t.left&&(n=WS(t.left,e-1,r)),t.right&&(i=WS(t.right,e-1,r)),n.concat(i))},dz=function(t){for(var e=this.cy(),r=this.nodes(),n=function(v){var x=oVt(v),b=aVt[x.linkage];return b!=null&&(x.linkage=b),x}(t),i=n.attributes,o=function(v,x){return G3(n.distance,i.length,function(b){return i[b](v)},function(b){return i[b](x)},v,x)},a=[],s=[],l=[],u=[],h=0;h<r.length;h++){var d={value:n.mode==="dendrogram"?r[h]:[r[h]],key:h,index:h};a[h]=d,u[h]=d,s[h]=[],l[h]=0}for(var p=0;p<a.length;p++)for(var f=0;f<=p;f++){var g=void 0;g=n.mode==="dendrogram"?p===f?1/0:o(a[p].value,a[f].value):p===f?1/0:o(a[p].value[0],a[f].value[0]),s[p][f]=g,s[f][p]=g,g<s[p][l[p]]&&(l[p]=f)}for(var m,y=hz(a,u,s,l,n);y;)y=hz(a,u,s,l,n);return n.mode==="dendrogram"?(m=WS(a[0],n.dendrogramDepth,e),n.addDendrogram&&GS(a[0],e)):(m=new Array(a.length),a.forEach(function(v,x){v.key=v.index=null,m[x]=e.collection(v.value)})),m},sVt={hierarchicalClustering:dz,hca:dz},lVt=Li({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),cVt=function(t,e,r,n){var i=function(o,a){return n[a](o)};return-G3(t,n.length,function(o){return i(e,o)},function(o){return i(r,o)},e,r)},uVt=function(t,e){var r=null;return r=e==="median"?function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.length,a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];arguments.length>3&&arguments[3]!==void 0&&!arguments[3]?(o<n.length&&n.splice(o,n.length-o),i>0&&n.splice(0,i)):n=n.slice(i,o);for(var l=0,u=n.length-1;u>=0;u--){var h=n[u];s?isFinite(h)||(n[u]=-1/0,l++):n.splice(u,1)}a&&n.sort(function(f,g){return f-g});var d=n.length,p=Math.floor(d/2);return d%2!=0?n[p+1+l]:(n[p-1+l]+n[p+l])/2}(t):e==="mean"?function(n){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.length,a=0,s=0,l=i;l<o;l++){var u=n[l];isFinite(u)&&(a+=u,s++)}return a/s}(t):e==="min"?function(n){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.length,a=1/0,s=i;s<o;s++){var l=n[s];isFinite(l)&&(a=Math.min(l,a))}return a}(t):e==="max"?function(n){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.length,a=-1/0,s=i;s<o;s++){var l=n[s];isFinite(l)&&(a=Math.max(l,a))}return a}(t):e,r},pz=function(t,e,r){for(var n=[],i=0;i<t;i++){for(var o=-1,a=-1/0,s=0;s<r.length;s++){var l=r[s];e[i*t+l]>a&&(o=l,a=e[i*t+l])}o>0&&n.push(o)}for(var u=0;u<r.length;u++)n[r[u]]=r[u];return n},fz=function(t){for(var e,r,n,i,o,a,s=this.cy(),l=this.nodes(),u=function(X){var Et=X.damping,H=X.preference;.5<=Et&&Et<1||Mn("Damping must range on [0.5, 1).  Got: ".concat(Et));var ct=["median","mean","min","max"];return ct.some(function(dt){return dt===H})||we(H)||Mn("Preference must be one of [".concat(ct.map(function(dt){return"'".concat(dt,"'")}).join(", "),"] or a number.  Got: ").concat(H)),lVt(X)}(t),h={},d=0;d<l.length;d++)h[l[d].id()]=d;r=(e=l.length)*e,n=new Array(r);for(var p=0;p<r;p++)n[p]=-1/0;for(var f=0;f<e;f++)for(var g=0;g<e;g++)f!==g&&(n[f*e+g]=cVt(u.distance,l[f],l[g],u.attributes));i=uVt(n,u.preference);for(var m=0;m<e;m++)n[m*e+m]=i;o=new Array(r);for(var y=0;y<r;y++)o[y]=0;a=new Array(r);for(var v=0;v<r;v++)a[v]=0;for(var x=new Array(e),b=new Array(e),k=new Array(e),N=0;N<e;N++)x[N]=0,b[N]=0,k[N]=0;for(var _,S=new Array(e*u.minIterations),T=0;T<S.length;T++)S[T]=0;for(_=0;_<u.maxIterations;_++){for(var A=0;A<e;A++){for(var C=-1/0,D=-1/0,E=-1,$=0,I=0;I<e;I++)x[I]=o[A*e+I],($=a[A*e+I]+n[A*e+I])>=C?(D=C,C=$,E=I):$>D&&(D=$);for(var L=0;L<e;L++)o[A*e+L]=(1-u.damping)*(n[A*e+L]-C)+u.damping*x[L];o[A*e+E]=(1-u.damping)*(n[A*e+E]-D)+u.damping*x[E]}for(var O=0;O<e;O++){for(var B=0,R=0;R<e;R++)x[R]=a[R*e+O],b[R]=Math.max(0,o[R*e+O]),B+=b[R];B-=b[O],b[O]=o[O*e+O],B+=b[O];for(var M=0;M<e;M++)a[M*e+O]=(1-u.damping)*Math.min(0,B-b[M])+u.damping*x[M];a[O*e+O]=(1-u.damping)*(B-b[O])+u.damping*x[O]}for(var F=0,P=0;P<e;P++){var U=a[P*e+P]+o[P*e+P]>0?1:0;S[_%u.minIterations*e+P]=U,F+=U}if(F>0&&(_>=u.minIterations-1||_==u.maxIterations-1)){for(var W=0,Q=0;Q<e;Q++){k[Q]=0;for(var K=0;K<u.minIterations;K++)k[Q]+=S[K*e+Q];k[Q]!==0&&k[Q]!==u.minIterations||W++}if(W===e)break}}for(var G=function(X,Et,H){for(var ct=[],dt=0;dt<X;dt++)Et[dt*X+dt]+H[dt*X+dt]>0&&ct.push(dt);return ct}(e,o,a),V=function(X,Et,H){for(var ct=pz(X,Et,H),dt=0;dt<H.length;dt++){for(var Nt=[],ft=0;ft<ct.length;ft++)ct[ft]===H[dt]&&Nt.push(ft);for(var Dt=-1,$t=-1/0,mt=0;mt<Nt.length;mt++){for(var It=0,gt=0;gt<Nt.length;gt++)It+=Et[Nt[gt]*X+Nt[mt]];It>$t&&(Dt=mt,$t=It)}H[dt]=Nt[Dt]}return pz(X,Et,H)}(e,n,G),rt={},tt=0;tt<G.length;tt++)rt[G[tt]]=[];for(var at=0;at<l.length;at++){var ut=V[h[l[at].id()]];ut!=null&&rt[ut].push(l[at])}for(var st=new Array(G.length),_t=0;_t<G.length;_t++)st[_t]=s.collection(rt[G[_t]]);return st},hVt={affinityPropagation:fz,ap:fz},dVt=Li({root:void 0,directed:!1}),T2=function(){var t=this,e={},r=0,n=0,i=[],o=[],a={},s=function(u,h,d){u===d&&(n+=1),e[h]={id:r,low:r++,cutVertex:!1};var p,f,g,m,y=t.getElementById(h).connectedEdges().intersection(t);y.size()===0?i.push(t.spawn(t.getElementById(h))):y.forEach(function(v){p=v.source().id(),f=v.target().id(),(g=p===h?f:p)!==d&&(m=v.id(),a[m]||(a[m]=!0,o.push({x:h,y:g,edge:v})),g in e?e[h].low=Math.min(e[h].low,e[g].id):(s(u,g,h),e[h].low=Math.min(e[h].low,e[g].low),e[h].id<=e[g].low&&(e[h].cutVertex=!0,function(x,b){for(var k=o.length-1,N=[],_=t.spawn();o[k].x!=x||o[k].y!=b;)N.push(o.pop().edge),k--;N.push(o.pop().edge),N.forEach(function(S){var T=S.connectedNodes().intersection(t);_.merge(S),T.forEach(function(A){var C=A.id(),D=A.connectedEdges().intersection(t);_.merge(A),e[C].cutVertex?_.merge(D.filter(function(E){return E.isLoop()})):_.merge(D)})}),i.push(_)}(h,g))))})};t.forEach(function(u){if(u.isNode()){var h=u.id();h in e||(n=0,s(h,h),e[h].cutVertex=n>1)}});var l=Object.keys(e).filter(function(u){return e[u].cutVertex}).map(function(u){return t.getElementById(u)});return{cut:t.spawn(l),components:i}},E2=function(){var t=this,e={},r=0,n=[],i=[],o=t.spawn(t),a=function(s){if(i.push(s),e[s]={index:r,low:r++,explored:!1},t.getElementById(s).connectedEdges().intersection(t).forEach(function(p){var f=p.target().id();f!==s&&(f in e||a(f),e[f].explored||(e[s].low=Math.min(e[s].low,e[f].low)))}),e[s].index===e[s].low){for(var l=t.spawn();;){var u=i.pop();if(l.merge(t.getElementById(u)),e[u].low=e[s].index,e[u].explored=!0,u===s)break}var h=l.edgesWith(l),d=l.merge(h);n.push(d),o=o.difference(d)}};return t.forEach(function(s){if(s.isNode()){var l=s.id();l in e||a(l)}}),{cut:o,components:n}},gst={};[j1,wWt,kWt,EWt,SWt,CWt,IWt,FWt,Wp,Vp,US,YWt,iVt,sVt,hVt,{hierholzer:function(t){if(!Br(t)){var e=arguments;t={root:e[0],directed:e[1]}}var r,n,i,o=dVt(t),a=o.root,s=o.directed,l=this,u=!1;a&&(i=We(a)?this.filter(a)[0].id():a[0].id());var h={},d={};s?l.forEach(function(v){var x=v.id();if(v.isNode()){var b=v.indegree(!0),k=v.outdegree(!0),N=b-k,_=k-b;N==1?r?u=!0:r=x:_==1?n?u=!0:n=x:(_>1||N>1)&&(u=!0),h[x]=[],v.outgoers().forEach(function(S){S.isEdge()&&h[x].push(S.id())})}else d[x]=[void 0,v.target().id()]}):l.forEach(function(v){var x=v.id();v.isNode()?(v.degree(!0)%2&&(r?n?u=!0:n=x:r=x),h[x]=[],v.connectedEdges().forEach(function(b){return h[x].push(b.id())})):d[x]=[v.source().id(),v.target().id()]});var p={found:!1,trail:void 0};if(u)return p;if(n&&r)if(s){if(i&&n!=i)return p;i=n}else{if(i&&n!=i&&r!=i)return p;i||(i=n)}else i||(i=l[0].id());var f=function(v){for(var x,b,k,N=v,_=[v];h[N].length;)x=h[N].shift(),b=d[x][0],N!=(k=d[x][1])?(h[k]=h[k].filter(function(S){return S!=x}),N=k):s||N==b||(h[b]=h[b].filter(function(S){return S!=x}),N=b),_.unshift(x),_.unshift(N);return _},g=[],m=[];for(m=f(i);m.length!=1;)h[m[0]].length==0?(g.unshift(l.getElementById(m.shift())),g.unshift(l.getElementById(m.shift()))):m=f(m.shift()).concat(m);for(var y in g.unshift(l.getElementById(m.shift())),h)if(h[y].length)return p;return p.found=!0,p.trail=this.spawn(g,!0),p}},{hopcroftTarjanBiconnected:T2,htbc:T2,htb:T2,hopcroftTarjanBiconnectedComponents:T2},{tarjanStronglyConnected:E2,tsc:E2,tscc:E2,tarjanStronglyConnectedComponents:E2}].forEach(function(t){rr(gst,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Gs=function(t){if(!(this instanceof Gs))return new Gs(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Gs.prototype={fulfill:function(t){return gz(this,1,"fulfillValue",t)},reject:function(t){return gz(this,2,"rejectReason",t)},then:function(t,e){var r=this,n=new Gs;return r.onFulfilled.push(yz(t,n,"fulfill")),r.onRejected.push(yz(e,n,"reject")),mst(r),n.proxy}};var gz=function(t,e,r,n){return t.state===0&&(t.state=e,t[r]=n,mst(t)),t},mst=function(t){t.state===1?mz(t,"onFulfilled",t.fulfillValue):t.state===2&&mz(t,"onRejected",t.rejectReason)},mz=function(t,e,r){if(t[e].length!==0){var n=t[e];t[e]=[];var i=function(){for(var o=0;o<n.length;o++)n[o](r)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},yz=function(t,e,r){return function(n){if(typeof t!="function")e[r].call(e,n);else{var i;try{i=t(n)}catch(o){return void e.reject(o)}yst(e,i)}}},yst=function(t,e){if(t!==e&&t.proxy!==e){var r;if(Ni(e)==="object"&&e!==null||typeof e=="function")try{r=e.then}catch(i){return void t.reject(i)}if(typeof r!="function")t.fulfill(e);else{var n=!1;try{r.call(e,function(i){n||(n=!0,i===e?t.reject(new TypeError("circular thenable chain")):yst(t,i))},function(i){n||(n=!0,t.reject(i))})}catch(i){n||t.reject(i)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Gs.all=function(t){return new Gs(function(e,r){for(var n=new Array(t.length),i=0,o=function(s,l){n[s]=l,++i===t.length&&e(n)},a=0;a<t.length;a++)(function(s){var l=t[s];l!=null&&l.then!=null?l.then(function(u){o(s,u)},function(u){r(u)}):o(s,l)})(a)})},Gs.resolve=function(t){return new Gs(function(e,r){e(t)})},Gs.reject=function(t){return new Gs(function(e,r){r(t)})};var Ag=typeof Promise<"u"?Promise:Gs,VS=function(t,e,r){var n=w$(t),i=!n,o=this._private=rr({duration:1e3},e,r);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Bn(o.complete)&&o.completes.push(o.complete),i){var a=t.position();o.startPosition=o.startPosition||{x:a.x,y:a.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(n){var s=t.pan();o.startPan={x:s.x,y:s.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Lh=VS.prototype;rr(Lh,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),qa(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return t===void 0?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,r=e.playing;return t===void 0?e.progress:(r&&this.pause(),e.progress=t,e.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var r=function(s,l){var u=t[s];u!=null&&(t[s]=t[l],t[l]=u)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),t.style)for(var n=0;n<t.style.length;n++){var i=t.style[n],o=i.name,a=t.startStyle[o];t.startStyle[o]=i,t.style[n]=a}return e&&this.play(),this},promise:function(t){var e,r=this._private;return t==="frame"?e=r.frames:e=r.completes,new Ag(function(n,i){e.push(function(){n()})})}}),Lh.complete=Lh.completed,Lh.run=Lh.play,Lh.running=Lh.playing;var vz,bz,HT,xz,wz,kz,Tz,Ez,_z,Sz,Az,Cz,$z,Nz,Iz,Lz,UT,Rz,Dz,Oz,Mz,Bz,Pz,Fz,qT,zz,GT,jz,WT,Hz,Uz,qz,Gz,Wz,Vz,Yz,VT,Xz,YT,Kz,XT,Zz,Qz,Jz,KT,tj,ej,rj,nj,ij,oj,aj,sj,lj,ZT,cj,uj,hj,dj,pj,fj,gj,QT,mj,yj,vj,bj,xj,JT,wj,kj,Tj,tE,Ej,eE,_j,Sj,Aj,rE,Cj,$j,Nj,nE,Ij,iE,Lj,pVt={animated:function(){return function(){var t=this,e=t.length!==void 0?t:[t];if(!(this._private.cy||this).styleEnabled())return!1;var r=e[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=this,e=t.length!==void 0?t:[t];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<e.length;r++)e[r]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this,a=!n,s=!a;if(!o.styleEnabled())return this;var l=o.style();if(t=rr({},t,e),Object.keys(t).length===0)return new VS(i[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(s&&(t.style=l.getPropsList(t.style||t.css),t.css=void 0),s&&t.renderedPosition!=null){var u=t.renderedPosition,h=o.pan(),d=o.zoom();t.position=lst(u,d,h)}if(a&&t.panBy!=null){var p=t.panBy,f=o.pan();t.pan={x:f.x+p.x,y:f.y+p.y}}var g=t.center||t.centre;if(a&&g!=null){var m=o.getCenterPan(g.eles,t.zoom);m!=null&&(t.pan=m)}if(a&&t.fit!=null){var y=t.fit,v=o.getFitViewport(y.eles||y.boundingBox,y.padding);v!=null&&(t.pan=v.pan,t.zoom=v.zoom)}if(a&&Br(t.zoom)){var x=o.getZoomedViewport(t.zoom);x!=null?(x.zoomed&&(t.zoom=x.zoom),x.panned&&(t.pan=x.pan)):t.zoom=null}return new VS(i[0],t)}},animate:function(){return function(t,e){var r=this,n=r.length!==void 0?r:[r];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=rr({},t,e));for(var i=0;i<n.length;i++){var o=n[i],a=o.animated()&&(t.queue===void 0||t.queue);o.animation(t,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var r=this,n=r.length!==void 0?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<n.length;o++){for(var a=n[o]._private,s=a.animation.current,l=0;l<s.length;l++){var u=s[l]._private;e&&(u.duration=0)}t&&(a.animation.queue=[]),e||(a.animation.current=[])}return i.notify("draw"),this}}};function B5(){if(bz)return vz;bz=1;var t=Array.isArray;return vz=t}function fVt(){if(Sz)return _z;Sz=1;var t,e=function(){if(Ez)return Tz;Ez=1;var n=U3()["__core-js_shared__"];return Tz=n}(),r=(t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";return _z=function(n){return!!r&&r in n}}function gVt(){if(Nz)return $z;Nz=1;var t=function(){if(kz)return wz;kz=1;var h=tst(),d=uy();return wz=function(p){if(!d(p))return!1;var f=h(p);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}}(),e=fVt(),r=uy(),n=function(){if(Cz)return Az;Cz=1;var h=Function.prototype.toString;return Az=function(d){if(d!=null){try{return h.call(d)}catch{}try{return d+""}catch{}}return""}}(),i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,s=o.toString,l=a.hasOwnProperty,u=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return $z=function(h){return!(!r(h)||e(h))&&(t(h)?u:i).test(n(h))}}function A$(){if(Rz)return UT;Rz=1;var t=gVt(),e=(Lz||(Lz=1,Iz=function(r,n){return r==null?void 0:r[n]}),Iz);return UT=function(r,n){var i=e(r,n);return t(i)?i:void 0},UT}function _2(){if(Oz)return Dz;Oz=1;var t=A$()(Object,"create");return Dz=t}function mVt(){if(qz)return Uz;qz=1;var t=function(){if(Bz)return Mz;Bz=1;var a=_2();return Mz=function(){this.__data__=a?a(null):{},this.size=0}}(),e=Fz?Pz:(Fz=1,Pz=function(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}),r=function(){if(zz)return qT;zz=1;var a=_2(),s=Object.prototype.hasOwnProperty;return qT=function(l){var u=this.__data__;if(a){var h=u[l];return h==="__lodash_hash_undefined__"?void 0:h}return s.call(u,l)?u[l]:void 0},qT}(),n=function(){if(jz)return GT;jz=1;var a=_2(),s=Object.prototype.hasOwnProperty;return GT=function(l){var u=this.__data__;return a?u[l]!==void 0:s.call(u,l)},GT}(),i=function(){if(Hz)return WT;Hz=1;var a=_2();return WT=function(s,l){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=a&&l===void 0?"__lodash_hash_undefined__":l,this},WT}();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Uz=o}function vst(){return Yz?Vz:(Yz=1,Vz=function(t,e){return t===e||t!=t&&e!=e})}function S2(){if(Xz)return VT;Xz=1;var t=vst();return VT=function(e,r){for(var n=e.length;n--;)if(t(e[n][0],r))return n;return-1},VT}function yVt(){if(rj)return ej;rj=1;var t=Wz?Gz:(Wz=1,Gz=function(){this.__data__=[],this.size=0}),e=function(){if(Kz)return YT;Kz=1;var a=S2(),s=Array.prototype.splice;return YT=function(l){var u=this.__data__,h=a(u,l);return!(h<0||(h==u.length-1?u.pop():s.call(u,h,1),--this.size,0))},YT}(),r=function(){if(Zz)return XT;Zz=1;var a=S2();return XT=function(s){var l=this.__data__,u=a(l,s);return u<0?void 0:l[u][1]},XT}(),n=function(){if(Jz)return Qz;Jz=1;var a=S2();return Qz=function(s){return a(this.__data__,s)>-1}}(),i=function(){if(tj)return KT;tj=1;var a=S2();return KT=function(s,l){var u=this.__data__,h=a(u,s);return h<0?(++this.size,u.push([s,l])):u[h][1]=l,this},KT}();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,ej=o}function vVt(){if(aj)return oj;aj=1;var t=mVt(),e=yVt(),r=function(){if(ij)return nj;ij=1;var n=A$()(U3(),"Map");return nj=n}();return oj=function(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}}function A2(){if(cj)return ZT;cj=1;var t=lj?sj:(lj=1,sj=function(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null});return ZT=function(e,r){var n=e.__data__;return t(r)?n[typeof r=="string"?"string":"hash"]:n.map},ZT}function bVt(){if(vj)return yj;vj=1;var t=vVt(),e=function(){if(hj)return uj;hj=1;var a=A2();return uj=function(s){var l=a(this,s).delete(s);return this.size-=l?1:0,l}}(),r=function(){if(pj)return dj;pj=1;var a=A2();return dj=function(s){return a(this,s).get(s)}}(),n=function(){if(gj)return fj;gj=1;var a=A2();return fj=function(s){return a(this,s).has(s)}}(),i=function(){if(mj)return QT;mj=1;var a=A2();return QT=function(s,l){var u=a(this,s),h=u.size;return u.set(s,l),this.size+=u.size==h?0:1,this},QT}();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,yj=o}function xVt(){if(wj)return JT;wj=1;var t=function(){if(xj)return bj;xj=1;var e=bVt();function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var u=n.apply(this,a);return o.cache=l.set(s,u)||l,u};return o.cache=new(r.Cache||e),o}return r.Cache=e,bj=r}();return JT=function(e){var r=t(e,function(i){return n.size===500&&n.clear(),i}),n=r.cache;return r},JT}function bst(){if(Tj)return kj;Tj=1;var t=xVt(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,s,l,u){o.push(l?u.replace(r,"$1"):s||a)}),o});return kj=n}function xst(){return Ej||(Ej=1,tE=function(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}),tE}function wst(){if(Aj)return Sj;Aj=1;var t=function(){if(_j)return eE;_j=1;var e=PS(),r=xst(),n=B5(),i=ov(),o=e?e.prototype:void 0,a=o?o.toString:void 0;return eE=function s(l){if(typeof l=="string")return l;if(n(l))return r(l,s)+"";if(i(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u},eE}();return Sj=function(e){return e==null?"":t(e)}}function kst(){if(Cj)return rE;Cj=1;var t=B5(),e=function(){if(xz)return HT;xz=1;var i=B5(),o=ov(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;return HT=function(l,u){if(i(l))return!1;var h=typeof l;return!(h!="number"&&h!="symbol"&&h!="boolean"&&l!=null&&!o(l))||s.test(l)||!a.test(l)||u!=null&&l in Object(u)},HT}(),r=bst(),n=wst();return rE=function(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))},rE}function C$(){if(Nj)return $j;Nj=1;var t=ov();return $j=function(e){if(typeof e=="string"||t(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}}var Rj,Dj,oE,Oj,aE,Mj,Bj,Pj,sE,Fj,lE,zj,wVt=function(){if(Lj)return iE;Lj=1;var t=function(){if(Ij)return nE;Ij=1;var e=kst(),r=C$();return nE=function(n,i){for(var o=0,a=(i=e(i,n)).length;n!=null&&o<a;)n=n[r(i[o++])];return o&&o==a?n:void 0},nE}();return iE=function(e,r,n){var i=e==null?void 0:t(e,r);return i===void 0?n:i},iE}(),kVt=iv(wVt);function TVt(){if(Oj)return oE;Oj=1;var t=function(){if(Dj)return Rj;Dj=1;var e=A$(),r=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Rj=r}();return oE=function(e,r,n){r=="__proto__"&&t?t(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n},oE}function EVt(){if(Fj)return sE;Fj=1;var t=function(){if(Mj)return aE;Mj=1;var o=TVt(),a=vst(),s=Object.prototype.hasOwnProperty;return aE=function(l,u,h){var d=l[u];s.call(l,u)&&a(d,h)&&(h!==void 0||u in l)||o(l,u,h)},aE}(),e=kst(),r=function(){if(Pj)return Bj;Pj=1;var o=/^(?:0|[1-9]\d*)$/;return Bj=function(a,s){var l=typeof a;return!!(s=s??9007199254740991)&&(l=="number"||l!="symbol"&&o.test(a))&&a>-1&&a%1==0&&a<s}}(),n=uy(),i=C$();return sE=function(o,a,s,l){if(!n(o))return o;for(var u=-1,h=(a=e(a,o)).length,d=h-1,p=o;p!=null&&++u<h;){var f=i(a[u]),g=s;if(f==="__proto__"||f==="constructor"||f==="prototype")return o;if(u!=d){var m=p[f];(g=l?l(m,f,p):void 0)===void 0&&(g=n(m)?m:r(a[u+1])?[]:{})}t(p,f,g),p=p[f]}return o},sE}var jj,Hj,Uj,qj,_Vt=function(){if(zj)return lE;zj=1;var t=EVt();return lE=function(e,r,n){return e==null?e:t(e,r,n)},lE}(),SVt=iv(_Vt),AVt=function(){if(qj)return Uj;qj=1;var t=xst(),e=(Hj||(Hj=1,jj=function(s,l){var u=-1,h=s.length;for(l||(l=Array(h));++u<h;)l[u]=s[u];return l}),jj),r=B5(),n=ov(),i=bst(),o=C$(),a=wst();return Uj=function(s){return r(s)?t(s,o):n(s)?[s]:e(i(a(s)))}}(),CVt=iv(AVt),$Vt={data:function(t){return t=rr({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,r){},onSet:function(e){},canSet:function(e){return!0}},t),function(e,r){var n=t,i=this,o=i.length!==void 0,a=o?i:[i],s=o?i[0]:i;if(We(e)){var l,u=e.indexOf(".")!==-1&&CVt(e);if(n.allowGetting&&r===void 0)return s&&(n.beforeGet(s),l=u&&s._private[n.field][e]===void 0?kVt(s._private[n.field],u):s._private[n.field][e]),l;if(n.allowSetting&&r!==void 0&&!n.immutableKeys[e]){var h=Uat({},e,r);n.beforeSet(i,h);for(var d=0,p=a.length;d<p;d++){var f=a[d];n.canSet(f)&&(u&&s._private[n.field][e]===void 0?SVt(f._private[n.field],u,r):f._private[n.field][e]=r)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&Br(e)){var g,m,y=e,v=Object.keys(y);n.beforeSet(i,y);for(var x=0;x<v.length;x++)if(m=y[g=v[x]],!n.immutableKeys[g])for(var b=0;b<a.length;b++){var k=a[b];n.canSet(k)&&(k._private[n.field][g]=m)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&Bn(e)){var N=e;i.on(n.bindingEvent,N)}else if(n.allowGetting&&e===void 0){var _;return s&&(n.beforeGet(s),_=s._private[n.field]),_}return i}},removeData:function(t){return t=rr({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var r=t,n=this,i=n.length!==void 0?n:[n];if(We(e)){for(var o=e.split(/\s+/),a=o.length,s=0;s<a;s++){var l=o[s];if(!lh(l)&&!r.immutableKeys[l])for(var u=0,h=i.length;u<h;u++)i[u]._private[r.field][l]=void 0}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(e===void 0){for(var d=0,p=i.length;d<p;d++)for(var f=i[d]._private[r.field],g=Object.keys(f),m=0;m<g.length;m++){var y=g[m];!r.immutableKeys[y]&&(f[y]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}}},NVt={eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(r,n){var i=this,o=Array.prototype.slice.call(arguments,0);return new Ag(function(a,s){var l=o.concat([function(h){i.off.apply(i,u),a(h)}]),u=l.concat([]);i.on.apply(i,l)})}}},Yr={};[pVt,$Vt,NVt].forEach(function(t){rr(Yr,t)});var IVt={animate:Yr.animate(),animation:Yr.animation(),animated:Yr.animated(),clearQueue:Yr.clearQueue(),delay:Yr.delay(),delayAnimation:Yr.delayAnimation(),stop:Yr.stop()},Lb={classes:function(t){var e=this;if(t===void 0){var r=[];return e[0]._private.classes.forEach(function(p){return r.push(p)}),r}cn(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],i=new Sg(t),o=0;o<e.length;o++){for(var a=e[o],s=a._private,l=s.classes,u=!1,h=0;h<t.length;h++){var d=t[h];if(!l.has(d)){u=!0;break}}u||(u=l.size!==t.length),u&&(s.classes=i,n.push(a))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return e!=null&&e._private.classes.has(t)},toggleClass:function(t,e){cn(t)||(t=t.match(/\S+/g)||[]);for(var r=this,n=e===void 0,i=[],o=0,a=r.length;o<a;o++)for(var s=r[o],l=s._private.classes,u=!1,h=0;h<t.length;h++){var d=t[h],p=l.has(d),f=!1;e||n&&!p?(l.add(d),f=!0):(!e||n&&p)&&(l.delete(d),f=!0),!u&&f&&(i.push(s),u=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var r=this;if(e==null)e=250;else if(e===0)return r;return r.addClass(t),setTimeout(function(){r.removeClass(t)},e),r}};Lb.className=Lb.classNames=Lb.classes;var Or={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Ai,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Or.variable="(?:[\\w-.]|(?:\\\\"+Or.metaChar+"))+",Or.className="(?:[\\w-]|(?:\\\\"+Or.metaChar+"))+",Or.value=Or.string+"|"+Or.number,Or.id=Or.variable,function(){var t,e,r;for(t=Or.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Or.comparatorOp+="|@"+e;for(t=Or.comparatorOp.split("|"),r=0;r<t.length;r++)(e=t[r]).indexOf("!")>=0||e!=="="&&(Or.comparatorOp+="|\\!"+e)}();var $$=0,Tst=1,Est=2,N$=3,I$=4,L$=5,R$=6,D$=7,W3=8,O$=9,YS=10,XS=11,_st=12,Sst=13,KS=14,M$=15,B$=16,P5=17,F5=18,z5=19,df=20,ZS=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(t,e){return function(r,n){return-1*Kat(r,n)}(t.selector,e.selector)}),LVt=function(){for(var t,e={},r=0;r<ZS.length;r++)e[(t=ZS[r]).selector]=t.matches;return e}(),RVt="("+ZS.map(function(t){return t.selector}).join("|")+")",$p=function(t){return t.replace(new RegExp("\\\\("+Or.metaChar+")","g"),function(e,r){return r})},au=function(t,e,r){t[t.length-1]=r},QS=[{name:"group",query:!0,regex:"("+Or.group+")",populate:function(t,e,r){var n=ji(r,1)[0];e.checks.push({type:$$,value:n==="*"?n:n+"s"})}},{name:"state",query:!0,regex:RVt,populate:function(t,e,r){var n=ji(r,1)[0];e.checks.push({type:D$,value:n})}},{name:"id",query:!0,regex:"\\#("+Or.id+")",populate:function(t,e,r){var n=ji(r,1)[0];e.checks.push({type:W3,value:$p(n)})}},{name:"className",query:!0,regex:"\\.("+Or.className+")",populate:function(t,e,r){var n=ji(r,1)[0];e.checks.push({type:O$,value:$p(n)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Or.variable+")\\s*\\]",populate:function(t,e,r){var n=ji(r,1)[0];e.checks.push({type:I$,field:$p(n)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Or.variable+")\\s*("+Or.comparatorOp+")\\s*("+Or.value+")\\s*\\]",populate:function(t,e,r){var n=ji(r,3),i=n[0],o=n[1],a=n[2];a=new RegExp("^"+Or.string+"$").exec(a)!=null?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:N$,field:$p(i),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Or.boolOp+")\\s*("+Or.variable+")\\s*\\]",populate:function(t,e,r){var n=ji(r,2),i=n[0],o=n[1];e.checks.push({type:L$,field:$p(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Or.meta+")\\s*("+Or.comparatorOp+")\\s*("+Or.number+")\\s*\\]\\]",populate:function(t,e,r){var n=ji(r,3),i=n[0],o=n[1],a=n[2];e.checks.push({type:R$,field:$p(i),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:Or.separator,populate:function(t,e){var r=t.currentSubject,n=t.edgeCount,i=t.compoundCount,o=t[t.length-1];return r!=null&&(o.subject=r,t.currentSubject=null),o.edgeCount=n,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Or.directedEdge,populate:function(t,e){if(t.currentSubject==null){var r={checks:[]},n=e,i={checks:[]};return r.checks.push({type:XS,source:n,target:i}),au(t,0,r),t.edgeCount++,i}var o={checks:[]},a=e,s={checks:[]};return o.checks.push({type:_st,source:a,target:s}),au(t,0,o),t.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:Or.undirectedEdge,populate:function(t,e){if(t.currentSubject==null){var r={checks:[]},n=e,i={checks:[]};return r.checks.push({type:YS,nodes:[n,i]}),au(t,0,r),t.edgeCount++,i}var o={checks:[]},a=e,s={checks:[]};return o.checks.push({type:KS,node:a,neighbor:s}),au(t,0,o),s}},{name:"child",separator:!0,regex:Or.child,populate:function(t,e){if(t.currentSubject==null){var r={checks:[]},n={checks:[]},i=t[t.length-1];return r.checks.push({type:M$,parent:i,child:n}),au(t,0,r),t.compoundCount++,n}if(t.currentSubject===e){var o={checks:[]},a=t[t.length-1],s={checks:[]},l={checks:[]},u={checks:[]},h={checks:[]};return o.checks.push({type:z5,left:a,right:s,subject:l}),l.checks=e.checks,e.checks=[{type:df}],h.checks.push({type:df}),s.checks.push({type:P5,parent:h,child:u}),au(t,0,o),t.currentSubject=l,t.compoundCount++,u}var d={checks:[]},p={checks:[]},f=[{type:P5,parent:d,child:p}];return d.checks=e.checks,e.checks=f,t.compoundCount++,p}},{name:"descendant",separator:!0,regex:Or.descendant,populate:function(t,e){if(t.currentSubject==null){var r={checks:[]},n={checks:[]},i=t[t.length-1];return r.checks.push({type:B$,ancestor:i,descendant:n}),au(t,0,r),t.compoundCount++,n}if(t.currentSubject===e){var o={checks:[]},a=t[t.length-1],s={checks:[]},l={checks:[]},u={checks:[]},h={checks:[]};return o.checks.push({type:z5,left:a,right:s,subject:l}),l.checks=e.checks,e.checks=[{type:df}],h.checks.push({type:df}),s.checks.push({type:F5,ancestor:h,descendant:u}),au(t,0,o),t.currentSubject=l,t.compoundCount++,u}var d={checks:[]},p={checks:[]},f=[{type:F5,ancestor:d,descendant:p}];return d.checks=e.checks,e.checks=f,t.compoundCount++,p}},{name:"subject",modifier:!0,regex:Or.subject,populate:function(t,e){if(t.currentSubject!=null&&t.currentSubject!==e)return Kr("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var r=t[t.length-1].checks[0],n=r==null?null:r.type;n===XS?r.type=Sst:n===YS&&(r.type=KS,r.node=r.nodes[1],r.neighbor=r.nodes[0],r.nodes=null)}}];QS.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var DVt=function(t){for(var e,r,n,i=0;i<QS.length;i++){var o=QS[i],a=o.name,s=t.match(o.regexObj);if(s!=null){r=s,e=o,n=a;var l=s[0];t=t.substring(l.length);break}}return{expr:e,match:r,name:n,remaining:t}},OVt={parse:function(t){var e=this,r=e.inputText=t,n=e[0]={checks:[]};for(e.length=1,r=function(h){var d=h.match(/^\s+/);if(d){var p=d[0];h=h.substring(p.length)}return h}(r);;){var i=DVt(r);if(i.expr==null)return Kr("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),a=i.expr.populate(e,n,o);if(a===!1)return!1;if(a!=null&&(n=a),(r=i.remaining).match(/^\s*$/))break}var s=e[e.length-1];e.currentSubject!=null&&(s.subject=e.currentSubject),s.edgeCount=e.edgeCount,s.compoundCount=e.compoundCount;for(var l=0;l<e.length;l++){var u=e[l];if(u.compoundCount>0&&u.edgeCount>0)return Kr("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(u.edgeCount>1)return Kr("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;u.edgeCount===1&&Kr("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(l){return l??""},e=function(l){return We(l)?'"'+l+'"':t(l)},r=function(l){return" "+l+" "},n=function(l,u){var h=l.type,d=l.value;switch(h){case $$:var p=t(d);return p.substring(0,p.length-1);case N$:var f=l.field,g=l.operator;return"["+f+r(t(g))+e(d)+"]";case L$:var m=l.operator,y=l.field;return"["+t(m)+y+"]";case I$:return"["+l.field+"]";case R$:var v=l.operator;return"[["+l.field+r(t(v))+e(d)+"]]";case D$:return d;case W3:return"#"+d;case O$:return"."+d;case P5:case M$:return i(l.parent,u)+r(">")+i(l.child,u);case F5:case B$:return i(l.ancestor,u)+" "+i(l.descendant,u);case z5:var x=i(l.left,u),b=i(l.subject,u),k=i(l.right,u);return x+(x.length>0?" ":"")+b+k;case df:return""}},i=function(l,u){return l.checks.reduce(function(h,d,p){return h+(u===l&&p===0?"$":"")+n(d,u)},"")},o="",a=0;a<this.length;a++){var s=this[a];o+=i(s,s.subject),this.length>1&&a<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},Gj=function(t,e,r){var n,i,o,a=We(t),s=we(t),l=We(r),u=!1,h=!1,d=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),h=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),u=!0),(a||l||u)&&(i=a||s?""+t:"",o=""+r),u&&(t=i=i.toLowerCase(),r=o=o.toLowerCase()),e){case"*=":n=i.indexOf(o)>=0;break;case"$=":n=i.indexOf(o,i.length-o.length)>=0;break;case"^=":n=i.indexOf(o)===0;break;case"=":n=t===r;break;case">":d=!0,n=t>r;break;case">=":d=!0,n=t>=r;break;case"<":d=!0,n=t<r;break;case"<=":d=!0,n=t<=r;break;default:n=!1}return!h||t==null&&d||(n=!n),n},cE=function(t,e){return t.data(e)},Fn=[],Tn=function(t,e){return t.checks.every(function(r){return Fn[r.type](r,e)})};Fn[$$]=function(t,e){var r=t.value;return r==="*"||r===e.group()},Fn[D$]=function(t,e){return function(r,n){return LVt[r](n)}(t.value,e)},Fn[W3]=function(t,e){var r=t.value;return e.id()===r},Fn[O$]=function(t,e){var r=t.value;return e.hasClass(r)},Fn[R$]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Gj(function(o,a){return o[a]()}(e,r),n,i)},Fn[N$]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Gj(cE(e,r),n,i)},Fn[L$]=function(t,e){var r=t.field,n=t.operator;return function(i,o){switch(o){case"?":return!!i;case"!":return!i;case"^":return i===void 0}}(cE(e,r),n)},Fn[I$]=function(t,e){var r=t.field;return t.operator,cE(e,r)!==void 0},Fn[YS]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),o=e.target();return Tn(r,i)&&Tn(n,o)||Tn(n,i)&&Tn(r,o)},Fn[KS]=function(t,e){return Tn(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Tn(t.neighbor,r)})},Fn[XS]=function(t,e){return Tn(t.source,e.source())&&Tn(t.target,e.target())},Fn[_st]=function(t,e){return Tn(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Tn(t.target,r)})},Fn[Sst]=function(t,e){return Tn(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Tn(t.source,r)})},Fn[M$]=function(t,e){return Tn(t.child,e)&&Tn(t.parent,e.parent())},Fn[P5]=function(t,e){return Tn(t.parent,e)&&e.children().some(function(r){return Tn(t.child,r)})},Fn[B$]=function(t,e){return Tn(t.descendant,e)&&e.ancestors().some(function(r){return Tn(t.ancestor,r)})},Fn[F5]=function(t,e){return Tn(t.ancestor,e)&&e.descendants().some(function(r){return Tn(t.descendant,r)})},Fn[z5]=function(t,e){return Tn(t.subject,e)&&Tn(t.left,e)&&Tn(t.right,e)},Fn[df]=function(){return!0},Fn[Tst]=function(t,e){return t.value.has(e)},Fn[Est]=function(t,e){return(0,t.value)(e)};var MVt={matches:function(t){for(var e=0;e<this.length;e++){var r=this[e];if(Tn(r,t))return!0}return!1},filter:function(t){var e=this;if(e.length===1&&e[0].checks.length===1&&e[0].checks[0].type===W3)return t.getElementById(e[0].checks[0].value).collection();var r=function(n){for(var i=0;i<e.length;i++){var o=e[i];if(Tn(o,n))return!0}return!1};return e.text()==null&&(r=function(){return!0}),t.filter(r)}},uh=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||We(t)&&t.match(/^\s*$/)||(qa(t)?this.addQuery({checks:[{type:Tst,value:t.collection()}]}):Bn(t)?this.addQuery({checks:[{type:Est,value:t}]}):We(t)?this.parse(t)||(this.invalid=!0):Mn("A selector must be created from a string; found "))},su=uh.prototype;[OVt,MVt].forEach(function(t){return rr(su,t)}),su.text=function(){return this.inputText},su.size=function(){return this.length},su.eq=function(t){return this[t]},su.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},su.addQuery=function(t){this[this.length++]=t},su.selector=su.toString;var vu={allAre:function(t){var e=new uh(t);return this.every(function(r){return e.matches(r)})},is:function(t){var e=new uh(t);return this.some(function(r){return e.matches(r)})},some:function(t,e){for(var r=0;r<this.length;r++)if(e?t.apply(e,[this[r],r,this]):t(this[r],r,this))return!0;return!1},every:function(t,e){for(var r=0;r<this.length;r++)if(!(e?t.apply(e,[this[r],r,this]):t(this[r],r,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(e===1?this[0]===t[0]:this.every(function(r){return t.hasElementWithId(r.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(r){return e.hasElementWithId(r.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(r){return e.hasElementWithId(r.id())})}};vu.allAreNeighbours=vu.allAreNeighbors,vu.has=vu.contains,vu.equal=vu.equals=vu.same;var C2,Ast,is=function(t,e){return function(r,n,i,o){var a,s=r,l=this;if(s==null?a="":qa(s)&&s.length===1&&(a=s.id()),l.length===1&&a){var u=l[0]._private,h=u.traversalCache=u.traversalCache||{},d=h[e]=h[e]||[],p=ch(a),f=d[p];return f||(d[p]=t.call(l,r,n,i,o))}return t.call(l,r,n,i,o)}},Yp={parent:function(t){var e=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n]._private.parent;i&&e.push(i)}return this.spawn(e,!0).filter(t)},parents:function(t){for(var e=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}r=r.parent()}return this.spawn(e,!0).filter(t)},commonAncestors:function(t){for(var e,r=0;r<this.length;r++){var n=this[r].parents();e=(e=e||n).intersect(n)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(e){return e.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(e){return e.isChild()}).filter(t)},children:is(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r]._private.children,i=0;i<n.length;i++)e.push(n[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var e=[];return function r(n){for(var i=0;i<n.length;i++){var o=n[i];e.push(o),o.children().nonempty()&&r(o.children())}}(this.children()),this.spawn(e,!0).filter(t)}};function uE(t,e,r,n){for(var i=[],o=new Sg,a=t.cy().hasCompoundNodes(),s=0;s<t.length;s++){var l=t[s];r?i.push(l):a&&n(i,o,l)}for(;i.length>0;){var u=i.shift();e(u),o.add(u.id()),a&&n(i,o,u)}return t}function Cst(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||t.push(o)}}function $st(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}function BVt(t,e,r){$st(t,e,r),Cst(t,e,r)}Yp.forEachDown=function(t){return uE(this,t,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Cst)},Yp.forEachUp=function(t){return uE(this,t,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],$st)},Yp.forEachUpAndDown=function(t){return uE(this,t,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],BVt)},Yp.ancestors=Yp.parents,(C2=Ast={data:Yr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Yr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Yr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Yr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Yr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Yr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=C2.data,C2.removeAttr=C2.removeData;var Ls,Nst,PVt=Ast,Rb={};function hE(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(n+=t(i,s))}return n}}}function Np(t,e){return function(r){for(var n,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][t](r);a===void 0||n!==void 0&&!e(a,n)||(n=a)}return n}}rr(Rb,{degree:hE(function(t,e){return e.source().same(e.target())?2:1}),indegree:hE(function(t,e){return e.target().same(t)?1:0}),outdegree:hE(function(t,e){return e.source().same(t)?1:0})}),rr(Rb,{minDegree:Np("degree",function(t,e){return t<e}),maxDegree:Np("degree",function(t,e){return t>e}),minIndegree:Np("indegree",function(t,e){return t<e}),maxIndegree:Np("indegree",function(t,e){return t>e}),minOutdegree:Np("outdegree",function(t,e){return t<e}),maxOutdegree:Np("outdegree",function(t,e){return t>e})}),rr(Rb,{totalDegree:function(t){for(var e=0,r=this.nodes(),n=0;n<r.length;n++)e+=r[n].degree(t);return e}});var Ist=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if(!i.locked()){var o=i._private.position,a={x:e.x!=null?e.x-o.x:0,y:e.y!=null?e.y-o.y:0};!i.isParent()||a.x===0&&a.y===0||i.children().shift(a,r),i.dirtyBoundingBoxCache()}}},Wj={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Ist(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Ls=Nst={position:Yr.data(Wj),silentPosition:Yr.data(rr({},Wj,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Ist(t,e,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,e){if(Br(t))e?this.silentPosition(t):this.position(t);else if(Bn(t)){var r=t,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var o,a=this[i];(o=r(a,i))&&(e?a.silentPosition(o):a.position(o))}n.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,r){var n;if(Br(t)?(n={x:we(t.x)?t.x:0,y:we(t.y)?t.y:0},r=e):We(t)&&we(e)&&((n={x:0,y:0})[t]=e),n!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o];if(!(i.hasCompoundNodes()&&a.isChild()&&a.ancestors().anySame(this))){var s=a.position(),l={x:s.x+n.x,y:s.y+n.y};r?a.silentPosition(l):a.position(l)}}i.endBatch()}return this},silentShift:function(t,e){return Br(t)?this.shift(t,!0):We(t)&&we(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var r=this[0],n=this.cy(),i=n.zoom(),o=n.pan(),a=Br(t)?t:void 0,s=a!==void 0||e!==void 0&&We(t);if(r&&r.isNode()){if(!s){var l=r.position();return a=R5(l,i,o),t===void 0?a:a[t]}for(var u=0;u<this.length;u++){var h=this[u];e!==void 0?h.position(t,(e-o[t])/i):a!==void 0&&h.position(lst(a,i,o))}}else if(!s)return;return this},relativePosition:function(t,e){var r=this[0],n=this.cy(),i=Br(t)?t:void 0,o=i!==void 0||e!==void 0&&We(t),a=n.hasCompoundNodes();if(r&&r.isNode()){if(!o){var s=r.position(),l=a?r.parent():null,u=l&&l.length>0,h=u;u&&(l=l[0]);var d=h?l.position():{x:0,y:0};return i={x:s.x-d.x,y:s.y-d.y},t===void 0?i:i[t]}for(var p=0;p<this.length;p++){var f=this[p],g=a?f.parent():null,m=g&&g.length>0,y=m;m&&(g=g[0]);var v=y?g.position():{x:0,y:0};e!==void 0?f.position(t,e+v[t]):i!==void 0&&f.position({x:i.x+v.x,y:i.y+v.y})}}else if(!o)return;return this}},Ls.modelPosition=Ls.point=Ls.position,Ls.modelPositions=Ls.points=Ls.positions,Ls.renderedPoint=Ls.renderedPosition,Ls.relativePoint=Ls.relativePosition;var Xp,Bu,FVt=Nst;Xp=Bu={},Bu.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),o=e.x1*n+i.x,a=e.x2*n+i.x,s=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},Bu.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this):this},Bu.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(a){if(a.isParent()){var s=a._private,l=a.children(),u=a.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},d=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),p=s.position;d.w!==0&&d.h!==0||((d={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue}).x1=p.x-d.w/2,d.x2=p.x+d.w/2,d.y1=p.y-d.h/2,d.y2=p.y+d.h/2);var f=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(f=100*f/h.width.val);var g=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(g=100*g/h.width.val);var m=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(m=100*m/h.height.val);var y=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(y=100*y/h.height.val);var v=S(h.width.val-d.w,f,g),x=v.biasDiff,b=v.biasComplementDiff,k=S(h.height.val-d.h,m,y),N=k.biasDiff,_=k.biasComplementDiff;s.autoPadding=function(T,A,C,D){if(C.units!=="%")return C.units==="px"?C.pfValue:0;switch(D){case"width":return T>0?C.pfValue*T:0;case"height":return A>0?C.pfValue*A:0;case"average":return T>0&&A>0?C.pfValue*(T+A)/2:0;case"min":return T>0&&A>0?T>A?C.pfValue*A:C.pfValue*T:0;case"max":return T>0&&A>0?T>A?C.pfValue*T:C.pfValue*A:0;default:return 0}}(d.w,d.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),s.autoWidth=Math.max(d.w,h.width.val),p.x=(-x+d.x1+d.x2+b)/2,s.autoHeight=Math.max(d.h,h.height.val),p.y=(-N+d.y1+d.y2+_)/2}function S(T,A,C){var D=0,E=0,$=A+C;return T>0&&$>0&&(D=A/$*T,E=C/$*T),{biasDiff:D,biasComplementDiff:E}}}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;o.compoundBoundsClean&&!t||(r(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var gs=function(t){return t===1/0||t===-1/0?0:t},Hs=function(t,e,r,n,i){n-e!=0&&i-r!=0&&e!=null&&r!=null&&n!=null&&i!=null&&(t.x1=e<t.x1?e:t.x1,t.x2=n>t.x2?n:t.x2,t.y1=r<t.y1?r:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Yh=function(t,e){return e==null?t:Hs(t,e.x1,e.y1,e.x2,e.y2)},f1=function(t,e,r){return js(t,e,r)},$2=function(t,e,r){if(!e.cy().headless()){var n,i,o=e._private,a=o.rstyle,s=a.arrowWidth/2;if(e.pstyle(r+"-arrow-shape").value!=="none"){r==="source"?(n=a.srcX,i=a.srcY):r==="target"?(n=a.tgtX,i=a.tgtY):(n=a.midX,i=a.midY);var l=o.arrowBounds=o.arrowBounds||{},u=l[r]=l[r]||{};u.x1=n-s,u.y1=i-s,u.x2=n+s,u.y2=i+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,Ib(u,1),Hs(t,u.x1,u.y1,u.x2,u.y2)}}},dE=function(t,e,r){if(!e.cy().headless()){var n;n=r?r+"-":"";var i=e._private,o=i.rstyle;if(e.pstyle(n+"label").strValue){var a,s,l,u,h=e.pstyle("text-halign"),d=e.pstyle("text-valign"),p=f1(o,"labelWidth",r),f=f1(o,"labelHeight",r),g=f1(o,"labelX",r),m=f1(o,"labelY",r),y=e.pstyle(n+"text-margin-x").pfValue,v=e.pstyle(n+"text-margin-y").pfValue,x=e.isEdge(),b=e.pstyle(n+"text-rotation"),k=e.pstyle("text-outline-width").pfValue,N=e.pstyle("text-border-width").pfValue/2,_=e.pstyle("text-background-padding").pfValue,S=f,T=p,A=T/2,C=S/2;if(x)a=g-A,s=g+A,l=m-C,u=m+C;else{switch(h.value){case"left":a=g-T,s=g;break;case"center":a=g-A,s=g+A;break;case"right":a=g,s=g+T}switch(d.value){case"top":l=m-S,u=m;break;case"center":l=m-C,u=m+C;break;case"bottom":l=m,u=m+S}}var D=y-Math.max(k,N)-_-2,E=y+Math.max(k,N)+_+2,$=v-Math.max(k,N)-_-2,I=v+Math.max(k,N)+_+2;a+=D,s+=E,l+=$,u+=I;var L=r||"main",O=i.labelBounds,B=O[L]=O[L]||{};B.x1=a,B.y1=l,B.x2=s,B.y2=u,B.w=s-a,B.h=u-l,B.leftPad=D,B.rightPad=E,B.topPad=$,B.botPad=I;var R=x&&b.strValue==="autorotate",M=b.pfValue!=null&&b.pfValue!==0;if(R||M){var F=R?f1(i.rstyle,"labelAngle",r):b.pfValue,P=Math.cos(F),U=Math.sin(F),W=(a+s)/2,Q=(l+u)/2;if(!x){switch(h.value){case"left":W=s;break;case"right":W=a}switch(d.value){case"top":Q=u;break;case"bottom":Q=l}}var K=function(st,_t){return{x:(st-=W)*P-(_t-=Q)*U+W,y:st*U+_t*P+Q}},G=K(a,l),V=K(a,u),rt=K(s,l),tt=K(s,u);a=Math.min(G.x,V.x,rt.x,tt.x),s=Math.max(G.x,V.x,rt.x,tt.x),l=Math.min(G.y,V.y,rt.y,tt.y),u=Math.max(G.y,V.y,rt.y,tt.y)}var at=L+"Rot",ut=O[at]=O[at]||{};ut.x1=a,ut.y1=l,ut.x2=s,ut.y2=u,ut.w=s-a,ut.h=u-l,Hs(t,a,l,s,u),Hs(i.labelBounds.all,a,l,s,u)}return t}},zVt=function(t,e){var r,n,i,o,a,s,l,u=t._private.cy,h=u.styleEnabled(),d=u.headless(),p=Sa(),f=t._private,g=t.isNode(),m=t.isEdge(),y=f.rstyle,v=g&&h?t.pstyle("bounds-expansion").pfValue:[0],x=function(V){return V.pstyle("display").value!=="none"},b=!h||x(t)&&(!m||x(t.source())&&x(t.target()));if(b){var k=0;h&&e.includeOverlays&&t.pstyle("overlay-opacity").value!==0&&(k=t.pstyle("overlay-padding").value);var N=0;h&&e.includeUnderlays&&t.pstyle("underlay-opacity").value!==0&&(N=t.pstyle("underlay-padding").value);var _=Math.max(k,N),S=0;if(h&&(S=t.pstyle("width").pfValue/2),g&&e.includeNodes){var T=t.position();a=T.x,s=T.y;var A=t.outerWidth()/2,C=t.outerHeight()/2;Hs(p,r=a-A,i=s-C,n=a+A,o=s+C),h&&e.includeOutlines&&function(V,rt){if(!rt.cy().headless()){var tt,at,ut,st=rt.pstyle("outline-opacity").value,_t=rt.pstyle("outline-width").value;if(st>0&&_t>0){var X=rt.pstyle("outline-offset").value,Et=rt.pstyle("shape").value,H=_t+X,ct=(V.w+2*H)/V.w,dt=(V.h+2*H)/V.h,Nt=0;["diamond","pentagon","round-triangle"].includes(Et)?(ct=(V.w+2.4*H)/V.w,Nt=-H/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(Et)?ct=(V.w+2.4*H)/V.w:Et==="star"?(ct=(V.w+2.8*H)/V.w,dt=(V.h+2.6*H)/V.h,Nt=-H/3.8):Et==="triangle"?(ct=(V.w+2.8*H)/V.w,dt=(V.h+2.4*H)/V.h,Nt=-H/1.4):Et==="vee"&&(ct=(V.w+4.4*H)/V.w,dt=(V.h+3.8*H)/V.h,Nt=.5*-H);var ft=V.h*dt-V.h,Dt=V.w*ct-V.w;if(w2(V,[Math.ceil(ft/2),Math.ceil(Dt/2)]),Nt!==0){var $t=(at=0,ut=Nt,{x1:(tt=V).x1+at,x2:tt.x2+at,y1:tt.y1+ut,y2:tt.y2+ut,w:tt.w,h:tt.h});cst(V,$t)}}}}(p,t)}else if(m&&e.includeEdges)if(h&&!d){var D=t.pstyle("curve-style").strValue;if(r=Math.min(y.srcX,y.midX,y.tgtX),n=Math.max(y.srcX,y.midX,y.tgtX),i=Math.min(y.srcY,y.midY,y.tgtY),o=Math.max(y.srcY,y.midY,y.tgtY),Hs(p,r-=S,i-=S,n+=S,o+=S),D==="haystack"){var E=y.haystackPts;if(E&&E.length===2){if(r=E[0].x,i=E[0].y,r>(n=E[1].x)){var $=r;r=n,n=$}if(i>(o=E[1].y)){var I=i;i=o,o=I}Hs(p,r-S,i-S,n+S,o+S)}}else if(D==="bezier"||D==="unbundled-bezier"||D.endsWith("segments")||D.endsWith("taxi")){var L;switch(D){case"bezier":case"unbundled-bezier":L=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":L=y.linePts}if(L!=null)for(var O=0;O<L.length;O++){var B=L[O];r=B.x-S,n=B.x+S,i=B.y-S,o=B.y+S,Hs(p,r,i,n,o)}}}else{var R=t.source().position(),M=t.target().position();if((r=R.x)>(n=M.x)){var F=r;r=n,n=F}if((i=R.y)>(o=M.y)){var P=i;i=o,o=P}Hs(p,r-=S,i-=S,n+=S,o+=S)}if(h&&e.includeEdges&&m&&($2(p,t,"mid-source"),$2(p,t,"mid-target"),$2(p,t,"source"),$2(p,t,"target")),h&&t.pstyle("ghost").value==="yes"){var U=t.pstyle("ghost-offset-x").pfValue,W=t.pstyle("ghost-offset-y").pfValue;Hs(p,p.x1+U,p.y1+W,p.x2+U,p.y2+W)}var Q=f.bodyBounds=f.bodyBounds||{};JF(Q,p),w2(Q,v),Ib(Q,1),h&&(r=p.x1,n=p.x2,i=p.y1,o=p.y2,Hs(p,r-_,i-_,n+_,o+_));var K=f.overlayBounds=f.overlayBounds||{};JF(K,p),w2(K,v),Ib(K,1);var G=f.labelBounds=f.labelBounds||{};G.all!=null?((l=G.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):G.all=Sa(),h&&e.includeLabels&&(e.includeMainLabels&&dE(p,t,null),m&&(e.includeSourceLabels&&dE(p,t,"source"),e.includeTargetLabels&&dE(p,t,"target")))}return p.x1=gs(p.x1),p.y1=gs(p.y1),p.x2=gs(p.x2),p.y2=gs(p.y2),p.w=gs(p.x2-p.x1),p.h=gs(p.y2-p.y1),p.w>0&&p.h>0&&b&&(w2(p,v),Ib(p,1)),p},Lst=function(t){var e=0,r=function(i){return(i?1:0)<<e++},n=0;return n+=r(t.incudeNodes),n+=r(t.includeEdges),n+=r(t.includeLabels),n+=r(t.includeMainLabels),n+=r(t.includeSourceLabels),n+=r(t.includeTargetLabels),n+=r(t.includeOverlays),n+=r(t.includeOutlines)},Rst=function(t){if(t.isEdge()){var e=t.source().position(),r=t.target().position(),n=function(i){return Math.round(i)};return function(i,o){var a={value:0,done:!1},s=0,l=i.length;return rst({next:function(){return s<l?a.value=i[s++]:a.done=!0,a}},o)}([n(e.x),n(e.y),n(r.x),n(r.y)])}return 0},Vj=function(t,e){var r,n=t._private,i=t.isEdge(),o=(e==null?Yj:Lst(e))===Yj,a=Rst(t),s=n.bbCachePosKey===a,l=e.useCache,u=function(d){return d._private.bbCache==null||d._private.styleDirty};if(!l||u(t)||i&&(u(t.source())||u(t.target()))?(s||t.recalculateRenderedStyle(l),r=zVt(t,fy),n.bbCache=r,n.bbCachePosKey=a):r=n.bbCache,!o){var h=t.isNode();r=Sa(),(e.includeNodes&&h||e.includeEdges&&!h)&&(e.includeOverlays?Yh(r,n.overlayBounds):Yh(r,n.bodyBounds)),e.includeLabels&&(e.includeMainLabels&&(!i||e.includeSourceLabels&&e.includeTargetLabels)?Yh(r,n.labelBounds.all):(e.includeMainLabels&&Yh(r,n.labelBounds.mainRot),e.includeSourceLabels&&Yh(r,n.labelBounds.sourceRot),e.includeTargetLabels&&Yh(r,n.labelBounds.targetRot))),r.w=r.x2-r.x1,r.h=r.y2-r.y1}return r},fy={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Yj=Lst(fy),Xj=Li(fy);Bu.boundingBox=function(t){var e;if(this.length!==1||this[0]._private.bbCache==null||this[0]._private.styleDirty||t!==void 0&&t.useCache!==void 0&&t.useCache!==!0){e=Sa();var r=Xj(t=t||fy),n=this;if(n.cy().styleEnabled())for(var i=0;i<n.length;i++){var o=n[i],a=o._private,s=Rst(o),l=a.bbCachePosKey===s,u=r.useCache&&l&&!a.styleDirty;o.recalculateRenderedStyle(u)}this.updateCompoundBounds(!t.useCache);for(var h=0;h<n.length;h++){var d=n[h];Yh(e,Vj(d,r))}}else t=t===void 0?fy:Xj(t),e=Vj(this[0],t);return e.x1=gs(e.x1),e.y1=gs(e.y1),e.x2=gs(e.x2),e.y2=gs(e.y2),e.w=gs(e.x2-e.x1),e.h=gs(e.y2-e.y1),e},Bu.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Bu.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(s){return s.isParent()}),e=e.not(i)),Br(t)){var o=t;t=function(){return o}}r.startBatch(),e.forEach(function(s,l){return s._private.bbAtOldPos=t(s,l)}).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var a=function(s){return{x1:s.x1,x2:s.x2,w:s.w,y1:s.y1,y2:s.y2,h:s.h}}(this.boundingBox({useCache:!1}));return e.silentPositions(function(s){return s._private.bbAtOldPos}),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),a},Xp.boundingbox=Xp.bb=Xp.boundingBox,Xp.renderedBoundingbox=Xp.renderedBoundingBox;var q1,mm,jVt=Bu;q1=mm={};var Kj=function(t){t.uppercaseName=GF(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=GF(t.outerName),q1[t.name]=function(){var e=this[0],r=e._private,n=r.cy._private.styleEnabled;if(e){if(n){if(e.isParent())return e.updateCompoundBounds(),r[t.autoName]||0;var i=e.pstyle(t.name);return i.strValue==="label"?(e.recalculateRenderedStyle(),r.rstyle[t.labelName]||0):i.pfValue}return 1}},q1["outer"+t.uppercaseName]=function(){var e=this[0],r=e._private.cy._private.styleEnabled;if(e)return r?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},q1["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},q1["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};Kj({name:"width"}),Kj({name:"height"}),mm.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},mm.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},mm.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var HVt=mm,Zj={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},UVt=Object.keys(Zj).reduce(function(t,e){var r=Zj[e],n=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(e);return t[e]=function(){return function(i,o){if(i.isEdge()&&i.takesUpSpace())return o(i)}(this,r.get)},r.mult?t[n]=function(){return function(i,o){if(i.isEdge()&&i.takesUpSpace()){var a=i.cy(),s=a.pan(),l=a.zoom();return o(i).map(function(u){return R5(u,l,s)})}}(this,r.get)}:t[n]=function(){return function(i,o){if(i.isEdge()&&i.takesUpSpace()){var a=i.cy();return R5(o(i),a.zoom(),a.pan())}}(this,r.get)},t},{}),qVt=rr({},FVt,jVt,HVt,UVt),Dst=function(t,e){this.recycle(t,e)};function g1(){return!1}function N2(){return!0}Dst.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=g1,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?N2:g1):t!=null&&t.type?e=t:this.type=t,e!=null&&(this.originalEvent=e.originalEvent,this.type=e.type!=null?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=N2;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=N2;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=N2,this.stopPropagation()},isDefaultPrevented:g1,isPropagationStopped:g1,isImmediatePropagationStopped:g1};var Ost=/^([^.]+)(\.(?:[^.]+))?$/,Mst={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Qj=Object.keys(Mst),GVt={};function V3(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GVt,e=arguments.length>1?arguments[1]:void 0,r=0;r<Qj.length;r++){var n=Qj[r];this[n]=t[n]||Mst[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var lu=V3.prototype,Jj=function(t,e,r,n,i,o,a){Bn(n)&&(i=n,n=null),a&&(o=o==null?a:rr({},o,a));for(var s=cn(r)?r:r.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!lh(u)){var h=u.match(Ost);if(h&&e(t,u,h[1],h[2]?h[2]:null,n,i,o)===!1)break}}},tH=function(t,e){return t.addEventFields(t.context,e),new Dst(e.type,e)},WVt=function(t,e,r){if(rv(r)!=="event")if(Br(r))e(t,tH(t,r));else for(var n=cn(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var o=n[i];if(!lh(o)){var a=o.match(Ost);if(a){var s=a[1],l=a[2]?a[2]:null;e(t,tH(t,{type:s,namespace:l,target:t.context}))}}}else e(t,r)};lu.on=lu.addListener=function(t,e,r,n,i){return Jj(this,function(o,a,s,l,u,h,d){Bn(h)&&o.listeners.push({event:a,callback:h,type:s,namespace:l,qualifier:u,conf:d})},t,e,r,n,i),this},lu.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})},lu.removeListener=lu.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=this.listeners.slice());for(var o=this.listeners,a=function(l){var u=o[l];Jj(i,function(h,d,p,f,g,m){if((u.type===p||t==="*")&&(!f&&u.namespace!==".*"||u.namespace===f)&&(!g||h.qualifierCompare(u.qualifier,g))&&(!m||u.callback===m))return o.splice(l,1),!1},t,e,r,n)},s=o.length-1;s>=0;s--)a(s);return this},lu.removeAllListeners=function(){return this.removeListener("*")},lu.emit=lu.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,cn(e)||(e=[e]),WVt(this,function(o,a){r!=null&&(n=[{event:a.event,type:a.type,namespace:a.namespace,callback:r}],i=n.length);for(var s=function(){var u=n[l];if(u.type===a.type&&(!u.namespace||u.namespace===a.namespace||u.namespace===".*")&&o.eventMatches(o.context,u,a)){var h=[a];e!=null&&function(f,g){for(var m=0;m<g.length;m++){var y=g[m];f.push(y)}}(h,e),o.beforeEmit(o.context,u,a),u.conf&&u.conf.one&&(o.listeners=o.listeners.filter(function(f){return f!==u}));var d=o.callbackContext(o.context,u,a),p=u.callback.apply(d,h);o.afterEmit(o.context,u,a),p===!1&&(a.stopPropagation(),a.preventDefault())}},l=0;l<i;l++)s();o.bubble(o.context)&&!a.isPropagationStopped()&&o.parent(o.context).emit(a,e)},t),this.emitting--,this};var VVt={qualifierCompare:function(t,e){return t==null||e==null?t==null&&e==null:t.sameText(e)},eventMatches:function(t,e,r){var n=e.qualifier;return n==null||t!==r.target&&nv(r.target)&&n.matches(r.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,r){return e.qualifier!=null?r.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},I2=function(t){return We(t)?new uh(t):t},Bst={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],r=e._private;r.emitter||(r.emitter=new V3(VVt,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,r){for(var n=I2(e),i=0;i<this.length;i++)this[i].emitter().on(t,n,r);return this},removeListener:function(t,e,r){for(var n=I2(e),i=0;i<this.length;i++)this[i].emitter().removeListener(t,n,r);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,r){for(var n=I2(e),i=0;i<this.length;i++)this[i].emitter().one(t,n,r);return this},once:function(t,e,r){for(var n=I2(e),i=0;i<this.length;i++)this[i].emitter().on(t,n,r,{once:!0,onceCollection:this})},emit:function(t,e){for(var r=0;r<this.length;r++)this[r].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,e),this}};Yr.eventAliasesOn(Bst);var Pst={nodes:function(t){return this.filter(function(e){return e.isNode()}).filter(t)},edges:function(t){return this.filter(function(e){return e.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?t.push(n):e.push(n)}return{nodes:t,edges:e}},filter:function(t,e){if(t===void 0)return this;if(We(t)||qa(t))return new uh(t).filter(this);if(Bn(t)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var o=n[i];(e?t.apply(e,[o,i,n]):t(o,i,n))&&r.push(o)}return r}return this.spawn()},not:function(t){if(t){We(t)&&(t=this.filter(t));for(var e=this.spawn(),r=0;r<this.length;r++){var n=this[r];t.has(n)||e.push(n)}return e}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(We(t)){var e=t;return this.filter(e)}for(var r=this.spawn(),n=t,i=this.length<t.length,o=i?this:n,a=i?n:this,s=0;s<o.length;s++){var l=o[s];a.has(l)&&r.push(l)}return r},xor:function(t){var e=this._private.cy;We(t)&&(t=e.$(t));var r=this.spawn(),n=t,i=function(o,a){for(var s=0;s<o.length;s++){var l=o[s],u=l._private.data.id;a.hasElementWithId(u)||r.push(l)}};return i(this,n),i(n,this),r},diff:function(t){var e=this._private.cy;We(t)&&(t=e.$(t));var r=this.spawn(),n=this.spawn(),i=this.spawn(),o=t,a=function(s,l,u){for(var h=0;h<s.length;h++){var d=s[h],p=d._private.data.id;l.hasElementWithId(p)?i.merge(d):u.push(d)}};return a(this,o,r),a(o,this,n),{left:r,right:n,both:i}},add:function(t){var e=this._private.cy;if(!t)return this;if(We(t)){var r=t;t=e.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i],a=!this.has(o);a&&n.push(o)}return n},merge:function(t){var e=this._private,r=e.cy;if(!t)return this;if(t&&We(t)){var n=t;t=r.mutableElements().filter(n)}for(var i=e.map,o=0;o<t.length;o++){var a=t[o],s=a._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=a,i.set(s,{ele:a,index:l})}}return this},unmergeAt:function(t){var e=this[t].id(),r=this._private.map;this[t]=void 0,r.delete(e);var n=t===this.length-1;if(this.length>1&&!n){var i=this.length-1,o=this[i],a=o._private.data.id;this[i]=void 0,this[t]=o,r.set(a,{ele:o,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var e=this._private,r=t._private.data.id,n=e.map.get(r);if(!n)return this;var i=n.index;return this.unmergeAt(i),this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&We(t)){var r=t;t=e.mutableElements().filter(r)}for(var n=0;n<t.length;n++)this.unmergeOne(t[n]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var r=[],n=this,i=0;i<n.length;i++){var o=n[i],a=e?t.apply(e,[o,i,n]):t(o,i,n);r.push(a)}return r},reduce:function(t,e){for(var r=e,n=this,i=0;i<n.length;i++)r=t(r,n[i],i,n);return r},max:function(t,e){for(var r,n=-1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s>n&&(n=s,r=a)}return{value:n,ele:r}},min:function(t,e){for(var r,n=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s<n&&(n=s,r=a)}return{value:n,ele:r}}},jr=Pst;jr.u=jr["|"]=jr["+"]=jr.union=jr.or=jr.add,jr["\\"]=jr["!"]=jr["-"]=jr.difference=jr.relativeComplement=jr.subtract=jr.not,jr.n=jr["&"]=jr["."]=jr.and=jr.intersection=jr.intersect,jr["^"]=jr["(+)"]=jr["(-)"]=jr.symmetricDifference=jr.symdiff=jr.xor,jr.fnFilter=jr.filterFn=jr.stdFilter=jr.filter,jr.complement=jr.abscomp=jr.absoluteComplement;var Fst=function(t,e){var r=t.cy().hasCompoundNodes();function n(l){var u=l.pstyle("z-compound-depth");return u.value==="auto"?r?l.zDepth():0:u.value==="bottom"?-1:u.value==="top"?T$:0}var i=n(t)-n(e);if(i!==0)return i;function o(l){return l.pstyle("z-index-compare").value==="auto"&&l.isNode()?1:0}var a=o(t)-o(e);if(a!==0)return a;var s=t.pstyle("z-index").value-e.pstyle("z-index").value;return s!==0?s:t.poolIndex()-e.poolIndex()},j5={forEach:function(t,e){if(Bn(t))for(var r=this.length,n=0;n<r;n++){var i=this[n];if((e?t.apply(e,[i,n,this]):t(i,n,this))===!1)break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var r=[],n=this.length;e==null&&(e=n),t==null&&(t=0),t<0&&(t=n+t),e<0&&(e=n+e);for(var i=t;i>=0&&i<e&&i<n;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Bn(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(Fst)},zDepth:function(){var t=this[0];if(t){var e=t._private;if(e.group==="nodes"){var r=e.data.parent?t.parents().size():0;return t.isParent()?r:T$-1}var n=e.source,i=e.target,o=n.zDepth(),a=i.zDepth();return Math.max(o,a,0)}}};j5.each=j5.forEach;var pE;pE="undefined",(typeof Symbol>"u"?"undefined":Ni(Symbol))!=pE&&Ni(Symbol.iterator)!=pE&&(j5[Symbol.iterator]=function(){var t=this,e={value:void 0,done:!1},r=0,n=this.length;return Uat({next:function(){return r<n?e.value=t[r++]:(e.value=void 0,e.done=!0),e}},Symbol.iterator,function(){return this})});var YVt=Li({nodeDimensionsIncludeLabels:!1}),Db={layoutDimensions:function(t){var e;if(t=YVt(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var r=this.boundingBox();e={w:r.w,h:r.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return e.w!==0&&e.h!==0||(e.w=e.h=1),e},layoutPositions:function(t,e,r){var n=this.nodes().filter(function(v){return!v.isParent()}),i=this.cy(),o=e.eles,a=function(v){return v.id()},s=cy(r,a);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&e.spacingFactor!==1,u=function(){if(!l)return null;for(var v=Sa(),x=0;x<n.length;x++){var b=n[x],k=s(b,x);RWt(v,k.x,k.y)}return v}(),h=cy(function(v,x){var b=s(v,x);return l&&(b=function(k,N,_){var S=N.x1+N.w/2,T=N.y1+N.h/2;return{x:S+(_.x-S)*k,y:T+(_.y-T)*k}}(Math.abs(e.spacingFactor),u,b)),e.transform!=null&&(b=e.transform(v,b)),b},a);if(e.animate){for(var d=0;d<n.length;d++){var p=n[d],f=h(p,d);if(e.animateFilter==null||e.animateFilter(p,d)){var g=p.animation({position:f,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else p.position(f)}if(e.fit){var m=i.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}else if(e.zoom!==void 0&&e.pan!==void 0){var y=i.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(y)}t.animations.forEach(function(v){return v.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Ag.all(t.animations.map(function(v){return v.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else n.positions(h),e.fit&&i.fit(e.eles,e.padding),e.zoom!=null&&i.zoom(e.zoom),e.pan&&i.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(rr({},t,{eles:this}))}};function zst(t,e,r){var n,i=r._private,o=i.styleCache=i.styleCache||[];return(n=o[t])!=null?n:n=o[t]=e(r)}function Y3(t,e){return t=ch(t),function(r){return zst(t,e,r)}}function H5(t,e){t=ch(t);var r=function(n){return e.call(n)};return function(){var n=this[0];if(n)return zst(t,r,n)}}Db.createLayout=Db.makeLayout=Db.layout;var eo={recalculateRenderedStyle:function(t){var e=this.cy(),r=e.renderer(),n=e.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),r=function(n){return n._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(r)):this.forEach(function(n){r(n),n.connectedEdges().forEach(r)}),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var r=this;t=!(!t&&t!==void 0),e.hasCompoundNodes()&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var n=r;return t?n.emitAndNotify("style"):n.emit("style"),r.forEach(function(i){return i._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var r=this[e];r._private.styleDirty&&(r._private.styleDirty=!1,t.style().apply(r))}},parsedStyle:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this[0],n=r.cy();if(n.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,n.style().apply(r));var i=r._private.style[t];return i??(e?n.style().getDefaultProperty(t):null)}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var r=e.pstyle(t);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var r=this[0];return r?e.style().getRenderedStyle(r,t):void 0},style:function(t,e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style();if(Br(t)){var o=t;i.applyBypass(this,o,n),this.emitAndNotify("style")}else if(We(t)){if(e===void 0){var a=this[0];return a?i.getStylePropertyValue(a,t):void 0}i.applyBypass(this,t,e,n),this.emitAndNotify("style")}else if(t===void 0){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var r=!1,n=e.style(),i=this;if(t===void 0)for(var o=0;o<i.length;o++){var a=i[o];n.removeAllBypasses(a,r)}else{t=t.split(/\s+/);for(var s=0;s<i.length;s++){var l=i[s];n.removeBypasses(l,t,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!e)return i;var o=n.data.parent?r.parents():null;if(o)for(var a=0;a<o.length;a++)i*=o[a].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?t.effectiveOpacity()===0:t.pstyle("opacity").value===0:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function fE(t,e){var r=t._private.data.parent?t.parents():null;if(r){for(var n=0;n<r.length;n++)if(!e(r[n]))return!1}return!0}function P$(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],a=i.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!a||fE(o,n);var l=s.source,u=s.target;return r(l)&&(!a||fE(l,r))&&(l===u||r(u)&&(!a||fE(u,r)))}}}var Cg=Y3("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(!t.isNode()||t.height()!==0)});eo.takesUpSpace=H5("takesUpSpace",P$({ok:Cg}));var XVt=Y3("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Cg(t)}),KVt=Y3("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Cg(t)});eo.interactive=H5("interactive",P$({ok:XVt,parentOk:KVt,edgeOkViaNode:Cg})),eo.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var ZVt=Y3("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Cg(t)}),QVt=Cg;eo.visible=H5("visible",P$({ok:ZVt,edgeOkViaNode:QVt})),eo.hidden=function(){var t=this[0];if(t)return!t.visible()},eo.isBundledBezier=H5("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()}),eo.bypass=eo.css=eo.style,eo.renderedCss=eo.renderedStyle,eo.removeBypass=eo.removeCss=eo.removeStyle,eo.pstyle=eo.parsedStyle;var Pu={};function eH(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Bn(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&cn(e[0])){for(var a=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],h=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(d!==void 0&&(u=d,!d))return this}u&&(l._private[t.field]=t.value,h&&r.push(l))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),a&&p.emit(a)}return this}}function Ip(t){Pu[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Pu[t.on]=eH({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Pu[t.off]=eH({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ip({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ip({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ip({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ip({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Pu.deselect=Pu.unselect,Pu.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Ip({field:"active",on:"activate",off:"unactivate"}),Ip({field:"pannable",on:"panify",off:"unpanify"}),Pu.inactive=function(){var t=this[0];if(t)return!t._private.active};var vo={},rH=function(t){return function(e){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),h=l.target();if(t.noIncomingEdges&&h===i&&u!==i||t.noOutgoingEdges&&u===i&&h!==i){o=!0;break}}o||r.push(i)}}return this.spawn(r,!0).filter(e)}},nH=function(t){return function(e){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();t.outgoing&&l===i?(r.push(s),r.push(u)):t.incoming&&u===i&&(r.push(s),r.push(l))}}return this.spawn(r,!0).filter(e)}},iH=function(t){return function(e){for(var r=this,n=[],i={};;){var o=t.outgoing?r.outgoers():r.incomers();if(o.length===0)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,n.push(l),a=!0)}if(!a)break;r=o}return this.spawn(n,!0).filter(e)}};function oH(t){return function(e){for(var r=[],n=0;n<this.length;n++){var i=this[n]._private[t.attr];i&&r.push(i)}return this.spawn(r,!0).filter(e)}}function aH(t){return function(e){var r=[],n=this._private.cy,i=t||{};We(e)&&(e=n.$(e));for(var o=0;o<e.length;o++)for(var a=e[o]._private.edges,s=0;s<a.length;s++){var l=a[s],u=l._private.data,h=this.hasElementWithId(u.source)&&e.hasElementWithId(u.target),d=e.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(h||d){if((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!h||i.thisIsTgt&&!d))continue;r.push(l)}}return this.spawn(r,!0)}}function sH(t){return t=rr({},{codirected:!1},t),function(e){for(var r=[],n=this.edges(),i=t,o=0;o<n.length;o++)for(var a=n[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,h=s._private.edges,d=0;d<h.length;d++){var p=h[d],f=p._private.data,g=f.target,m=f.source,y=g===u&&m===l,v=l===g&&u===m;(i.codirected&&y||!i.codirected&&(y||v))&&r.push(p)}return this.spawn(r,!0).filter(e)}}vo.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},rr(vo,{roots:rH({noIncomingEdges:!0}),leaves:rH({noOutgoingEdges:!0}),outgoers:is(nH({outgoing:!0}),"outgoers"),successors:iH({outgoing:!0}),incomers:is(nH({incoming:!0}),"incomers"),predecessors:iH({})}),rr(vo,{neighborhood:is(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),h=i===l?u:l;h.length>0&&e.push(h[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),vo.neighbourhood=vo.neighborhood,vo.closedNeighbourhood=vo.closedNeighborhood,vo.openNeighbourhood=vo.openNeighborhood,rr(vo,{source:is(function(t){var e,r=this[0];return r&&(e=r._private.source||r.cy().collection()),e&&t?e.filter(t):e},"source"),target:is(function(t){var e,r=this[0];return r&&(e=r._private.target||r.cy().collection()),e&&t?e.filter(t):e},"target"),sources:oH({attr:"source"}),targets:oH({attr:"target"})}),rr(vo,{edgesWith:is(aH(),"edgesWith"),edgesTo:is(aH({thisIsSrc:!0}),"edgesTo")}),rr(vo,{connectedEdges:is(function(t){for(var e=[],r=0;r<this.length;r++){var n=this[r];if(n.isNode())for(var i=n._private.edges,o=0;o<i.length;o++){var a=i[o];e.push(a)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:is(function(t){for(var e=[],r=0;r<this.length;r++){var n=this[r];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:is(sH(),"parallelEdges"),codirectedEdges:is(sH({codirected:!0}),"codirectedEdges")}),rr(vo,{components:function(t){var e=this,r=e.cy(),n=r.collection(),i=t==null?e.nodes():t.nodes(),o=[];t!=null&&i.empty()&&(i=t.sources());var a=function(l,u){n.merge(l),i.unmerge(l),u.merge(l)};if(i.empty())return e.spawn();var s=function(){var l=r.collection();o.push(l);var u=i[0];a(u,l),e.bfs({directed:!1,roots:u,visit:function(h){return a(h,l)}}),l.forEach(function(h){h.connectedEdges().forEach(function(d){e.has(d)&&l.has(d.source())&&l.has(d.target())&&l.merge(d)})})};do s();while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),vo.componentsOf=vo.components;var no=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t!==void 0){var i=new _c,o=!1;if(e){if(e.length>0&&Br(e[0])&&!nv(e[0])){o=!0;for(var a=[],s=new Sg,l=0,u=e.length;l<u;l++){var h=e[l];h.data==null&&(h.data={});var d=h.data;if(d.id==null)d.id=ast();else if(t.hasElementWithId(d.id)||s.has(d.id))continue;var p=new q3(t,h,!1);a.push(p),s.add(d.id)}e=a}}else e=[];this.length=0;for(var f=0,g=e.length;f<g;f++){var m=e[f][0];if(m!=null){var y=m._private.data.id;r&&i.has(y)||(r&&i.set(y,{index:this.length,ele:m}),this[this.length]=m,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(v){this.lazyMap=v},rebuildMap:function(){for(var v=this.lazyMap=new _c,x=this.eles,b=0;b<x.length;b++){var k=x[b];v.set(k.id(),{index:b,ele:k})}}},r&&(this._private.map=i),o&&!n&&this.restore()}else Mn("A collection must have a reference to the core")},fn=q3.prototype=no.prototype=Object.create(Array.prototype);fn.instanceString=function(){return"collection"},fn.spawn=function(t,e){return new no(this.cy(),t,e)},fn.spawnSelf=function(){return this.spawn(this)},fn.cy=function(){return this._private.cy},fn.renderer=function(){return this._private.cy.renderer()},fn.element=function(){return this[0]},fn.collection=function(){return Vat(this)?this:new no(this._private.cy,[this])},fn.unique=function(){return new no(this._private.cy,this,!0)},fn.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)},fn.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new no(e)},fn.$id=fn.getElementById,fn.poolIndex=function(){var t=this._private.cy._private.elements,e=this[0]._private.data.id;return t._private.map.get(e).index},fn.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},fn.indexOfId=function(t){return t=""+t,this._private.map.get(t).index},fn.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Br(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,l=t.data.target;s!=null&&s!=i.source&&(a.source=""+s,o=!0),l!=null&&l!=i.target&&(a.target=""+l,o=!0),o&&(e=e.move(a))}else{var u="parent"in t.data,h=t.data.parent;!u||h==null&&i.parent==null||h==i.parent||(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var d=function(g,m,y){var v=t[g];v!=null&&v!==n[g]&&(v?e[m]():e[y]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}if(t===void 0){var p={data:Bl(n.data),position:Bl(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var f=0;return n.classes.forEach(function(g){return p.classes+=f++==0?g:" "+g}),p}}},fn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e].json();t.push(r)}return t},fn.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r].json(),i=new q3(t,n,!1);e.push(i)}return new no(t,e)},fn.copy=fn.clone,fn.restore=function(){for(var t,e,r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this,o=i.cy(),a=o._private,s=[],l=[],u=0,h=i.length;u<h;u++){var d=i[u];n&&!d.removed()||(d.isNode()?s.push(d):l.push(d))}t=s.concat(l);var p=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var f=t[e],g=f._private,m=g.data;if(f.clearTraversalCache(),n||g.removed)if(m.id===void 0)m.id=ast();else if(we(m.id))m.id=""+m.id;else{if(lh(m.id)||!We(m.id)){Mn("Can not create element with invalid string ID `"+m.id+"`"),p();continue}if(o.hasElementWithId(m.id)){Mn("Can not create second element with ID `"+m.id+"`"),p();continue}}var y=m.id;if(f.isNode()){var v=g.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(f.isEdge()){for(var x=f,b=["source","target"],k=b.length,N=!1,_=0;_<k;_++){var S=b[_],T=m[S];we(T)&&(T=m[S]=""+m[S]),T==null||T===""?(Mn("Can not create edge `"+y+"` with unspecified "+S),N=!0):o.hasElementWithId(T)||(Mn("Can not create edge `"+y+"` with nonexistant "+S+" `"+T+"`"),N=!0)}if(N){p();continue}var A=o.getElementById(m.source),C=o.getElementById(m.target);A.same(C)?A._private.edges.push(x):(A._private.edges.push(x),C._private.edges.push(x)),x._private.source=A,x._private.target=C}g.map=new _c,g.map.set(y,{ele:f,index:0}),g.removed=!1,n&&o.addToPool(f)}for(var D=0;D<s.length;D++){var E=s[D],$=E._private.data;we($.parent)&&($.parent=""+$.parent);var I=$.parent;if(I!=null||E._private.parent){var L=E._private.parent?o.collection().merge(E._private.parent):o.getElementById(I);if(L.empty())$.parent=void 0;else if(L[0].removed())Kr("Node added with missing parent, reference to parent removed"),$.parent=void 0,E._private.parent=null;else{for(var O=!1,B=L;!B.empty();){if(E.same(B)){O=!0,$.parent=void 0;break}B=B.parent()}O||(L[0]._private.children.push(E),E._private.parent=L[0],a.hasCompoundNodes=!0)}}}if(t.length>0){for(var R=t.length===i.length?i:new no(o,t),M=0;M<R.length;M++){var F=R[M];F.isNode()||(F.parallelEdges().clearTraversalCache(),F.source().clearTraversalCache(),F.target().clearTraversalCache())}(a.hasCompoundNodes?o.collection().merge(R).merge(R.connectedNodes()).merge(R.parent()):R).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?R.emitAndNotify("add"):n&&R.emit("add")}return i},fn.removed=function(){var t=this[0];return t&&t._private.removed},fn.inside=function(){var t=this[0];return t&&!t._private.removed},fn.remove=function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this,n=[],i={},o=r._private.cy;function a(C){var D=i[C.id()];e&&C.removed()||D||(i[C.id()]=!0,C.isNode()?(n.push(C),function(E){for(var $=E._private.edges,I=0;I<$.length;I++)a($[I])}(C),function(E){for(var $=E._private.children,I=0;I<$.length;I++)a($[I])}(C)):n.unshift(C))}for(var s=0,l=r.length;s<l;s++)a(r[s]);function u(C,D){var E=C._private.edges;Ou(E,D),C.clearTraversalCache()}function h(C){C.clearTraversalCache()}var d=[];function p(C,D){D=D[0];var E=(C=C[0])._private.children,$=C.id();Ou(E,D),D._private.parent=null,d.ids[$]||(d.ids[$]=!0,d.push(C))}d.ids={},r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var f=0;f<n.length;f++){var g=n[f];if(g.isEdge()){var m=g.source()[0],y=g.target()[0];u(m,g),u(y,g);for(var v=g.parallelEdges(),x=0;x<v.length;x++){var b=v[x];h(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var k=g.parent();k.length!==0&&p(k,g)}e&&(g._private.removed=!0)}var N=o._private.elements;o._private.hasCompoundNodes=!1;for(var _=0;_<N.length;_++)if(N[_].isParent()){o._private.hasCompoundNodes=!0;break}var S=new no(this.cy(),n);S.size()>0&&(t?S.emitAndNotify("remove"):e&&S.emit("remove"));for(var T=0;T<d.length;T++){var A=d[T];e&&A.removed()||A.updateStyle()}return S},fn.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,o=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var a=o(t.source),s=o(t.target),l=a!=null&&e.hasElementWithId(a),u=s!=null&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var f=r[p],g=f._private.data;f.isEdge()&&(l&&(g.source=a),u&&(g.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var h=o(t.parent);if(h===null||e.hasElementWithId(h)){var d=h===null?void 0:h;e.batch(function(){var p=r.remove(n,i);p.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var g=r[f],m=g._private.data;g.isNode()&&(m.parent=d)}p.restore(n,i)}),r.emitAndNotify("move")}}return this},[gst,IVt,Lb,vu,Yp,PVt,Rb,qVt,Bst,Pst,{isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},j5,Db,eo,Pu,vo].forEach(function(t){rr(fn,t)});var JVt={add:function(t){var e,r=this;if(qa(t)){var n=t;if(n._private.cy===r)e=n.restore();else{for(var i=[],o=0;o<n.length;o++){var a=n[o];i.push(a.json())}e=new no(r,i)}}else if(cn(t))e=new no(r,t);else if(Br(t)&&(cn(t.nodes)||cn(t.edges))){for(var s=t,l=[],u=["nodes","edges"],h=0,d=u.length;h<d;h++){var p=u[h],f=s[p];if(cn(f))for(var g=0,m=f.length;g<m;g++){var y=rr({group:p},f[g]);l.push(y)}}e=new no(r,l)}else e=new q3(r,t).collection();return e},remove:function(t){if(!qa(t)){if(We(t)){var e=t;t=this.$(e)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function tYt(t,e,r,n){var i=.1,o=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var a=0;a<4;++a)if(typeof arguments[a]!="number"||isNaN(arguments[a])||!isFinite(arguments[a]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var s=o?new Float32Array(11):new Array(11);function l(x,b){return 1-3*b+3*x}function u(x,b){return 3*b-6*x}function h(x){return 3*x}function d(x,b,k){return((l(b,k)*x+u(b,k))*x+h(b))*x}function p(x,b,k){return 3*l(b,k)*x*x+2*u(b,k)*x+h(b)}function f(x){for(var b=0,k=1;k!==10&&s[k]<=x;++k)b+=i;--k;var N=b+(x-s[k])/(s[k+1]-s[k])*i,_=p(N,t,r);return _>=.001?function(S,T){for(var A=0;A<4;++A){var C=p(T,t,r);if(C===0)return T;T-=(d(T,t,r)-S)/C}return T}(x,N):_===0?N:function(S,T,A){var C,D,E=0;do(C=d(D=T+(A-T)/2,t,r)-S)>0?A=D:T=D;while(Math.abs(C)>1e-7&&++E<10);return D}(x,b,b+i)}var g=!1;function m(){g=!0,t===e&&r===n||function(){for(var x=0;x<11;++x)s[x]=d(x*i,t,r)}()}var y=function(x){return g||m(),t===e&&r===n?x:x===0?0:x===1?1:d(f(x),e,n)};y.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var v="generateBezier("+[t,e,r,n]+")";return y.toString=function(){return v},y}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var eYt=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,o){var a={x:n.x+o.dx*i,v:n.v+o.dv*i,tension:n.tension,friction:n.friction};return{dx:a.v,dv:t(a)}}function r(n,i){var o={dx:n.v,dv:t(n)},a=e(n,.5*i,o),s=e(n,.5*i,a),l=e(n,i,s),u=1/6*(o.dx+2*(a.dx+s.dx)+l.dx),h=1/6*(o.dv+2*(a.dv+s.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+h*i,n}return function n(i,o,a){var s,l,u,h={x:-1,v:0,tension:null,friction:null},d=[0],p=0,f=1e-4;for(i=parseFloat(i)||500,o=parseFloat(o)||20,a=a||null,h.tension=i,h.friction=o,l=(s=a!==null)?(p=n(i,o))/a*.016:.016;u=r(u||h,l),d.push(1+u.x),p+=16,Math.abs(u.x)>f&&Math.abs(u.v)>f;);return s?function(g){return d[g*(d.length-1)|0]}:p}}(),gn=function(t,e,r,n){var i=tYt(t,e,r,n);return function(o,a,s){return o+(a-o)*i(s)}},Ob={linear:function(t,e,r){return t+(e-t)*r},ease:gn(.25,.1,.25,1),"ease-in":gn(.42,0,1,1),"ease-out":gn(0,0,.58,1),"ease-in-out":gn(.42,0,.58,1),"ease-in-sine":gn(.47,0,.745,.715),"ease-out-sine":gn(.39,.575,.565,1),"ease-in-out-sine":gn(.445,.05,.55,.95),"ease-in-quad":gn(.55,.085,.68,.53),"ease-out-quad":gn(.25,.46,.45,.94),"ease-in-out-quad":gn(.455,.03,.515,.955),"ease-in-cubic":gn(.55,.055,.675,.19),"ease-out-cubic":gn(.215,.61,.355,1),"ease-in-out-cubic":gn(.645,.045,.355,1),"ease-in-quart":gn(.895,.03,.685,.22),"ease-out-quart":gn(.165,.84,.44,1),"ease-in-out-quart":gn(.77,0,.175,1),"ease-in-quint":gn(.755,.05,.855,.06),"ease-out-quint":gn(.23,1,.32,1),"ease-in-out-quint":gn(.86,0,.07,1),"ease-in-expo":gn(.95,.05,.795,.035),"ease-out-expo":gn(.19,1,.22,1),"ease-in-out-expo":gn(1,0,0,1),"ease-in-circ":gn(.6,.04,.98,.335),"ease-out-circ":gn(.075,.82,.165,1),"ease-in-out-circ":gn(.785,.135,.15,.86),spring:function(t,e,r){if(r===0)return Ob.linear;var n=eYt(t,e,r);return function(i,o,a){return i+(o-i)*n(a)}},"cubic-bezier":gn};function lH(t,e,r,n,i){if(n===1||e===r)return r;var o=i(e,r,n);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function cH(t,e){return t.pfValue!=null||t.value!=null?t.pfValue==null||e!=null&&e.type.units==="%"?t.value:t.pfValue:t}function Lp(t,e,r,n,i){var o=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var a=cH(t,i),s=cH(e,i);if(we(a)&&we(s))return lH(o,a,s,r,n);if(cn(a)&&cn(s)){for(var l=[],u=0;u<s.length;u++){var h=a[u],d=s[u];if(h!=null&&d!=null){var p=lH(o,h,d,r,n);l.push(p)}else l.push(d)}return l}}function rYt(t,e,r,n){var i=!n,o=t._private,a=e._private,s=a.easing,l=a.startTime,u=(n?t:t.cy()).style();if(!a.easingImpl)if(s==null)a.easingImpl=Ob.linear;else{var h,d,p;We(s)?h=u.parse("transition-timing-function",s).value:h=s,We(h)?(d=h,p=[]):(d=h[1],p=h.slice(2).map(function(O){return+O})),p.length>0?(d==="spring"&&p.push(a.duration),a.easingImpl=Ob[d].apply(null,p)):a.easingImpl=Ob[d]}var f,g=a.easingImpl;if(f=a.duration===0?1:(r-l)/a.duration,a.applying&&(f=a.progress),f<0?f=0:f>1&&(f=1),a.delay==null){var m=a.startPosition,y=a.position;if(y&&i&&!t.locked()){var v={};m1(m.x,y.x)&&(v.x=Lp(m.x,y.x,f,g)),m1(m.y,y.y)&&(v.y=Lp(m.y,y.y,f,g)),t.position(v)}var x=a.startPan,b=a.pan,k=o.pan,N=b!=null&&n;N&&(m1(x.x,b.x)&&(k.x=Lp(x.x,b.x,f,g)),m1(x.y,b.y)&&(k.y=Lp(x.y,b.y,f,g)),t.emit("pan"));var _=a.startZoom,S=a.zoom,T=S!=null&&n;T&&(m1(_,S)&&(o.zoom=H1(o.minZoom,Lp(_,S,f,g),o.maxZoom)),t.emit("zoom")),(N||T)&&t.emit("viewport");var A=a.style;if(A&&A.length>0&&i){for(var C=0;C<A.length;C++){var D=A[C],E=D.name,$=D,I=a.startStyle[E],L=Lp(I,$,f,g,u.properties[I.name]);u.overrideBypass(t,E,L)}t.emit("style")}}return a.progress=f,f}function m1(t,e){return t!=null&&e!=null&&(!(!we(t)||!we(e))||!(!t||!e))}function nYt(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function uH(t,e){var r=e._private.aniEles,n=[];function i(u,h){var d=u._private,p=d.animation.current,f=d.animation.queue,g=!1;if(p.length===0){var m=f.shift();m&&p.push(m)}for(var y=function(k){for(var N=k.length-1;N>=0;N--)(0,k[N])();k.splice(0,k.length)},v=p.length-1;v>=0;v--){var x=p[v],b=x._private;b.stopped?(p.splice(v,1),b.hooked=!1,b.playing=!1,b.started=!1,y(b.frames)):(b.playing||b.applying)&&(b.playing&&b.applying&&(b.applying=!1),b.started||nYt(0,x,t),rYt(u,x,t,h),b.applying&&(b.applying=!1),y(b.frames),b.step!=null&&b.step(t),x.completed()&&(p.splice(v,1),b.hooked=!1,b.playing=!1,b.started=!1,y(b.completes)),g=!0)}return h||p.length!==0||f.length!==0||n.push(u),g}for(var o=!1,a=0;a<r.length;a++){var s=i(r[a]);o=o||s}var l=i(e,!0);(o||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var iYt={animate:Yr.animate(),animation:Yr.animation(),animated:Yr.animated(),clearQueue:Yr.clearQueue(),delay:Yr.delay(),delayAnimation:Yr.delayAnimation(),stop:Yr.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender(function(r,n){uH(n,t)},e.beforeRenderPriorities.animations):function r(){t._private.animationsRunning&&I5(function(n){uH(n,t),r()})}()}}},oYt={qualifierCompare:function(t,e){return t==null||e==null?t==null&&e==null:t.sameText(e)},eventMatches:function(t,e,r){var n=e.qualifier;return n==null||t!==r.target&&nv(r.target)&&n.matches(r.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,r){return e.qualifier!=null?r.target:t}},L2=function(t){return We(t)?new uh(t):t},jst={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new V3(oYt,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,r){return this.emitter().on(t,L2(e),r),this},removeListener:function(t,e,r){return this.emitter().removeListener(t,L2(e),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,r){return this.emitter().one(t,L2(e),r),this},once:function(t,e,r){return this.emitter().one(t,L2(e),r),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Yr.eventAliasesOn(jst);var JS={png:function(t){return t=t||{},this._private.renderer.png(t)},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};JS.jpeg=JS.jpg;var Mb={layout:function(t){var e=this;if(t!=null)if(t.name!=null){var r=t.name,n=e.extension("layout",r);if(n!=null){var i;i=We(t.eles)?e.$(t.eles):t.eles!=null?t.eles:e.$();var o=new n(rr({},t,{cy:e,eles:i}));return o}Mn("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Mn("A `name` must be specified to make a layout");else Mn("Layout options must be specified to make a layout")}};Mb.createLayout=Mb.makeLayout=Mb.layout;var aYt={notify:function(t,e){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[t]=r.batchNotifications[t]||this.collection();e!=null&&n.merge(e)}else if(r.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(t,e)}},notifications:function(t){var e=this._private;return t===void 0?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(r){var n=t.batchNotifications[r];n.empty()?e.notify(r):e.notify(r,n)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],o=t[i];e.getElementById(i).data(o)}})}},sYt=Li({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),tA={renderTo:function(t,e,r,n){return this._private.renderer.renderTo(t,e,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this,r=e.extension("renderer",t.name);if(r!=null){t.wheelSensitivity!==void 0&&Kr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=sYt(t);n.cy=e,e._private.renderer=new r(n),this.notify("init")}else Mn("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var t=this;t.notify("destroy");var e=t.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(r){var n=r._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};tA.invalidateDimensions=tA.resize;var Bb={collection:function(t,e){return We(t)?this.$(t):qa(t)?t.collection():cn(t)?(e||(e={}),new no(this,t,e.unique,e.removed)):new no(this)},nodes:function(t){var e=this.$(function(r){return r.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(r){return r.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};Bb.elements=Bb.filter=Bb.$;var Oi={},y1="t";Oi.apply=function(t){for(var e=this,r=e._private.cy.collection(),n=0;n<t.length;n++){var i=t[n],o=e.getContextMeta(i);if(!o.empty){var a=e.getContextStyle(o),s=e.applyContextStyle(o,a,i);i._private.appliedInitStyle?e.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,e.updateStyleHints(i)&&r.push(i)}}return r},Oi.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,o=n[i];if(o)return o;for(var a=[],s={},l=0;l<r.length;l++){var u=r[l],h=t[l]===y1,d=e[l]===y1,p=h!==d,f=u.mappedProperties.length>0;if(p||d&&f){var g=void 0;p&&f||p?g=u.properties:f&&(g=u.mappedProperties);for(var m=0;m<g.length;m++){for(var y=g[m],v=y.name,x=!1,b=l+1;b<r.length;b++){var k=r[b];if(e[b]===y1&&(x=k.properties[y.name]!=null))break}s[v]||x||(s[v]=!0,a.push(v))}}}return n[i]=a,a},Oi.getContextMeta=function(t){for(var e,r=this,n="",i=t._private.styleCxtKey||"",o=0;o<r.length;o++){var a=r[o];n+=a.selector&&a.selector.matches(t)?y1:"f"}return e=r.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:e.length===0}},Oi.getContextStyle=function(t){var e=t.key,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var n={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if(e[i]===y1)for(var a=0;a<o.properties.length;a++){var s=o.properties[a];n[s.name]=s}}return r[e]=n,n},Oi.applyContextStyle=function(t,e,r){for(var n=t.diffPropNames,i={},o=this.types,a=0;a<n.length;a++){var s=n[a],l=e[s],u=r.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===o.fn&&u!=null&&u.mapping!=null&&u.mapping.value===l.value){var h=u.mapping;if((h.fnValue=l.value(r))===h.prevFnValue)continue}var d=i[s]={prev:u};this.applyParsedProperty(r,l),d.next=r.pstyle(s),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}},Oi.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,o=function(tt,at,ut){return r.getPropertiesHash(tt,at,ut)},a=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var h=i[u];e.styleKeys[h]=[sf,z1]}for(var d,p=function(tt,at){return e.styleKeys[at][0]=hy(tt,e.styleKeys[at][0])},f=function(tt,at){return e.styleKeys[at][1]=dy(tt,e.styleKeys[at][1])},g=function(tt,at){p(tt,at),f(tt,at)},m=function(tt,at){for(var ut=0;ut<tt.length;ut++){var st=tt.charCodeAt(ut);p(st,at),f(st,at)}},y=0;y<n.length;y++){var v=n[y],x=l[v];if(x!=null){var b=this.properties[v],k=b.type,N=b.groupKey,_=void 0;b.hashOverride!=null?_=b.hashOverride(t,x):x.pfValue!=null&&(_=x.pfValue);var S=b.enums==null?x.value:null,T=_!=null,A=T||S!=null,C=x.units;k.number&&A&&!k.multiple?(g(-128<(d=T?_:S)&&d<128&&Math.floor(d)!==d?2e9-(1024*d|0):d,N),T||C==null||m(C,N)):m(x.strValue,N)}}for(var D,E,$=[sf,z1],I=0;I<i.length;I++){var L=i[I],O=e.styleKeys[L];$[0]=hy(O[0],$[0]),$[1]=dy(O[1],$[1])}e.styleKey=(D=$[0],E=$[1],2097152*D+E);var B=e.styleKeys;e.labelDimsKey=iu(B.labelDimensions);var R=o(t,["label"],B.labelDimensions);if(e.labelKey=iu(R),e.labelStyleKey=iu(b2(B.commonLabel,R)),!s){var M=o(t,["source-label"],B.labelDimensions);e.sourceLabelKey=iu(M),e.sourceLabelStyleKey=iu(b2(B.commonLabel,M));var F=o(t,["target-label"],B.labelDimensions);e.targetLabelKey=iu(F),e.targetLabelStyleKey=iu(b2(B.commonLabel,F))}if(s){var P=e.styleKeys,U=P.nodeBody,W=P.nodeBorder,Q=P.nodeOutline,K=P.backgroundImage,G=P.compound,V=P.pie,rt=[U,W,Q,K,G,V].filter(function(tt){return tt!=null}).reduce(b2,[sf,z1]);e.nodeKey=iu(rt),e.hasPie=V!=null&&V[0]!==sf&&V[1]!==z1}return a!==e.styleKey},Oi.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},Oi.applyParsedProperty=function(t,e){var r,n=this,i=e,o=t._private.style,a=n.types,s=n.properties[i.name].type,l=i.bypass,u=o[i.name],h=u&&u.bypass,d=t._private,p="mapping",f=function(F){return F==null?null:F.pfValue!=null?F.pfValue:F.value},g=function(){var F=f(u),P=f(i);n.checkTriggers(t,i.name,F,P)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(i=e=this.parse(e.name,"bezier",l)),i.delete)return o[i.name]=void 0,g(),!0;if(i.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,g(),!0):(g(),!0);if(i.deleteBypass)return u?!!u.bypass&&(o[i.name]=u.bypassed,g(),!0):(g(),!0);var m=function(){Kr("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case a.mapData:for(var y,v=i.field.split("."),x=d.data,b=0;b<v.length&&x;b++)x=x[v[b]];if(x==null)return m(),!1;if(!we(x))return Kr("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+x+"` for `"+t.id()+"` is non-numeric)"),!1;var k=i.fieldMax-i.fieldMin;if((y=k===0?0:(x-i.fieldMin)/k)<0?y=0:y>1&&(y=1),s.color){var N=i.valueMin[0],_=i.valueMax[0],S=i.valueMin[1],T=i.valueMax[1],A=i.valueMin[2],C=i.valueMax[2],D=i.valueMin[3]==null?1:i.valueMin[3],E=i.valueMax[3]==null?1:i.valueMax[3],$=[Math.round(N+(_-N)*y),Math.round(S+(T-S)*y),Math.round(A+(C-A)*y),Math.round(D+(E-D)*y)];r={bypass:i.bypass,name:i.name,value:$,strValue:"rgb("+$[0]+", "+$[1]+", "+$[2]+")"}}else{if(!s.number)return!1;var I=i.valueMin+(i.valueMax-i.valueMin)*y;r=this.parse(i.name,I,i.bypass,p)}if(!r)return m(),!1;r.mapping=i,i=r;break;case a.data:for(var L=i.field.split("."),O=d.data,B=0;B<L.length&&O;B++)O=O[L[B]];if(O!=null&&(r=this.parse(i.name,O,i.bypass,p)),!r)return m(),!1;r.mapping=i,i=r;break;case a.fn:var R=i.value,M=i.fnValue!=null?i.fnValue:R(t);if(i.prevFnValue=M,M==null)return Kr("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(r=this.parse(i.name,M,i.bypass,p)))return Kr("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+t.id()+"` is invalid)"),!1;r.mapping=Bl(i),i=r;break;case void 0:break;default:return!1}return l?(i.bypassed=h?u.bypassed:u,o[i.name]=i):h?u.bypassed=i:o[i.name]=i,g(),!0},Oi.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),e)for(var i=n._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=i[s];l!=null&&(l.bypass?l.bypassed=null:i[s]=null)}else n._private.style={}}},Oi.update=function(){this._private.cy.mutableElements().updateStyle()},Oi.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},l=!1,u=0;u<i.length;u++){var h=i[u],d=t.pstyle(h),p=e[h];if(p){var f=p.prev,g=p.next!=null?p.next:d,m=!1,y=void 0,v=1e-6;f&&(we(f.pfValue)&&we(g.pfValue)?(m=g.pfValue-f.pfValue,y=f.pfValue+v*m):we(f.value)&&we(g.value)?(m=g.value-f.value,y=f.value+v*m):cn(f.value)&&cn(g.value)&&(m=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],y=f.strValue),m&&(s[h]=g.strValue,this.applyBypass(t,h,y),l=!0))}}if(!l)return;n.transitioning=!0,new Ag(function(x){a>0?t.delayAnimation(a).play().promise().then(x):x()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)},Oi.checkTrigger=function(t,e,r,n,i,o){var a=this.properties[e],s=i(a);t.removed()||s!=null&&s(r,n,t)&&o(a)},Oi.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",t)})},Oi.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})},Oi.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})},Oi.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})},Oi.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var lYt={applyBypass:function(t,e,r,n){var i=[];if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<this.properties.length;o++){var a=this.properties[o].name,s=this.parse(a,r,!0);s&&i.push(s)}}else if(We(e)){var l=this.parse(e,r,!0);l&&i.push(l)}else{if(!Br(e))return!1;var u=e;n=r;for(var h=Object.keys(u),d=0;d<h.length;d++){var p=h[d],f=u[p];if(f===void 0&&(f=u[H3(p)]),f!==void 0){var g=this.parse(p,f,!0);g&&i.push(g)}}}if(i.length===0)return!1;for(var m=!1,y=0;y<t.length;y++){for(var v=t[y],x={},b=void 0,k=0;k<i.length;k++){var N=i[k];if(n){var _=v.pstyle(N.name);b=x[N.name]={prev:_}}m=this.applyParsedProperty(v,Bl(N))||m,n&&(b.next=v.pstyle(N.name))}m&&this.updateStyleHints(v),n&&this.updateTransitions(v,x,!0)}return m},overrideBypass:function(t,e,r){e=k$(e);for(var n=0;n<t.length;n++){var i=t[n],o=i._private.style[e],a=this.properties[e].type,s=a.color,l=a.mutiple,u=o?o.pfValue!=null?o.pfValue:o.value:null;o&&o.bypass?(o.value=r,o.pfValue!=null&&(o.pfValue=r),o.strValue=s?"rgb("+r.join(",")+")":l?r.join(" "):""+r,this.updateStyleHints(i)):this.applyBypass(i,e,r),this.checkTriggers(i,e,u,r)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,r){for(var n=0;n<t.length;n++){for(var i=t[n],o={},a=0;a<e.length;a++){var s=e[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var h=this.parse(s,"",!0),d=o[l.name]={prev:u};this.applyParsedProperty(i,h),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,!0)}}},cYt={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1},containerCss:function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)}},eA={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){var r=this;if(t=t[0]){for(var n={},i=0;i<r.properties.length;i++){var o=r.properties[i],a=r.getStylePropertyValue(t,o.name,e);a!=null&&(n[o.name]=a,n[H3(o.name)]=a)}return n}},getIndexedStyle:function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]},getStylePropertyValue:function(t,e,r){if(t=t[0]){var n=this.properties[e];n.alias&&(n=n.pointsTo);var i=n.type,o=t.pstyle(n.name);if(o){var a=o.value,s=o.units,l=o.strValue;if(r&&i.number&&a!=null&&we(a)){var u=t.cy().zoom(),h=function(f){return f*u},d=function(f,g){return h(f)+g},p=cn(a);return(p?s.every(function(f){return f!=null}):s!=null)?p?a.map(function(f,g){return d(f,s[g])}).join(" "):d(a,s):p?a.map(function(f){return We(f)?f:""+h(f)}).join(" "):""+h(a)}if(l!=null)return l}return null}},getAnimationStartStyle:function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n].name,o=t.pstyle(i);o!==void 0&&(o=Br(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(r[i]=o)}return r},getPropsList:function(t){var e=[],r=t,n=this.properties;if(r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a],l=n[a]||n[k$(a)],u=this.parse(l.name,s);u&&e.push(u)}return e},getNonDefaultPropertiesHash:function(t,e,r){var n,i,o,a,s,l,u=r.slice();for(s=0;s<e.length;s++)if(n=e[s],(i=t.pstyle(n,!1))!=null)if(i.pfValue!=null)u[0]=hy(a,u[0]),u[1]=dy(a,u[1]);else for(o=i.strValue,l=0;l<o.length;l++)a=o.charCodeAt(l),u[0]=hy(a,u[0]),u[1]=dy(a,u[1]);return u}};eA.getPropertiesHash=eA.getNonDefaultPropertiesHash;var uYt={appendFromJson:function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,o=n.style||n.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var l=a[s],u=o[l];e.css(l,u)}}return e},fromJson:function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:o})}return t}},hYt={appendFromString:function(t){var e,r,n,i=this,o=""+t;function a(){o=o.length>e.length?o.substr(e.length):""}function s(){r=r.length>n.length?r.substr(n.length):""}for(o=o.replace(/[/][*](\s|.)+?[*][/]/g,"");!o.match(/^\s*$/);){var l=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){Kr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}e=l[0];var u=l[1];if(u!=="core"&&new uh(u).invalid){Kr("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),a();continue}var h=l[2],d=!1;r=h;for(var p=[];!r.match(/^\s*$/);){var f=r.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!f){Kr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),d=!0;break}n=f[0];var g=f[1],m=f[2];this.properties[g]?i.parse(g,m)?(p.push({name:g,val:m}),s()):(Kr("Skipping property: Invalid property definition in: "+n),s()):(Kr("Skipping property: Invalid property name in: "+n),s())}if(d){a();break}i.selector(u);for(var y=0;y<p.length;y++){var v=p[y];i.css(v.name,v.val)}a()}return i},fromString:function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e}},Ji={};(function(){var t=Ai,e=sWt,r=cWt,n=function(K){return"^"+K+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(K){var G=t+"|\\w+|"+e+"|"+r+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+K+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+G+")\\s*\\,\\s*("+G+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ji.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:n("data")},layoutData:{mapping:!0,regex:n("layoutData")},scratch:{mapping:!0,regex:n("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(K,G){switch(K.length){case 2:return G[0]!=="deg"&&G[0]!=="rad"&&G[1]!=="deg"&&G[1]!=="rad";case 1:return We(K[0])||G[0]==="deg"||G[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(K){var G=K.length;return G===1||G===2||G===4}}};var a={zeroNonZero:function(K,G){return(K==null||G==null)&&K!==G||K==0&&G!=0||K!=0&&G==0},any:function(K,G){return K!=G},emptyNonEmpty:function(K,G){var V=lh(K),rt=lh(G);return V&&!rt||!V&&rt}},s=Ji.types,l=[{name:"label",type:s.text,triggersBounds:a.any,triggersZOrder:a.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any}],u=[{name:"source-label",type:s.text,triggersBounds:a.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"source-text-offset",type:s.size,triggersBounds:a.any}],h=[{name:"target-label",type:s.text,triggersBounds:a.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:a.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"target-text-offset",type:s.size,triggersBounds:a.any}],d=[{name:"font-family",type:s.fontFamily,triggersBounds:a.any},{name:"font-style",type:s.fontStyle,triggersBounds:a.any},{name:"font-weight",type:s.fontWeight,triggersBounds:a.any},{name:"font-size",type:s.size,triggersBounds:a.any},{name:"text-transform",type:s.textTransform,triggersBounds:a.any},{name:"text-wrap",type:s.textWrap,triggersBounds:a.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:a.any},{name:"text-max-width",type:s.size,triggersBounds:a.any},{name:"text-outline-width",type:s.size,triggersBounds:a.any},{name:"line-height",type:s.positiveNumber,triggersBounds:a.any}],p=[{name:"text-valign",type:s.valign,triggersBounds:a.any},{name:"text-halign",type:s.halign,triggersBounds:a.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:a.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:a.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:a.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:a.any},{name:"text-justification",type:s.justification}],f=[{name:"events",type:s.bool,triggersZOrder:a.any},{name:"text-events",type:s.bool,triggersZOrder:a.any}],g=[{name:"display",type:s.display,triggersZOrder:a.any,triggersBounds:a.any,triggersBoundsOfConnectedEdges:a.any,triggersBoundsOfParallelEdges:function(K,G,V){return K!==G&&V.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:s.visibility,triggersZOrder:a.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:a.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:a.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:a.any},{name:"z-index",type:s.number,triggersZOrder:a.any}],m=[{name:"overlay-padding",type:s.size,triggersBounds:a.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:a.any},{name:"overlay-corner-radius",type:s.cornerRadius}],y=[{name:"underlay-padding",type:s.size,triggersBounds:a.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:a.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:a.any},{name:"underlay-corner-radius",type:s.cornerRadius}],v=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],x=function(K,G){return G.value==="label"?-K.poolIndex():G.pfValue},b=[{name:"height",type:s.nodeSize,triggersBounds:a.any,hashOverride:x},{name:"width",type:s.nodeSize,triggersBounds:a.any,hashOverride:x},{name:"shape",type:s.nodeShape,triggersBounds:a.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:a.any},{name:"corner-radius",type:s.cornerRadius},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:a.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:a.any}],k=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:a.any},{name:"border-style",type:s.borderStyle},{name:"border-cap",type:s.lineCap},{name:"border-join",type:s.lineJoin},{name:"border-dash-pattern",type:s.numbers},{name:"border-dash-offset",type:s.number},{name:"border-position",type:s.linePosition}],N=[{name:"outline-color",type:s.color},{name:"outline-opacity",type:s.zeroOneNumber},{name:"outline-width",type:s.size,triggersBounds:a.any},{name:"outline-style",type:s.borderStyle},{name:"outline-offset",type:s.size,triggersBounds:a.any}],_=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],S=[{name:"position",type:s.position,triggersBounds:a.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:a.any},{name:"min-width",type:s.size,triggersBounds:a.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-height",type:s.size,triggersBounds:a.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:a.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:a.any}],T=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-outline-width",type:s.size},{name:"line-outline-color",type:s.color},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:a.any,triggersBoundsOfParallelEdges:function(K,G){return K!==G&&(K==="bezier"||G==="bezier")}},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:a.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:a.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:a.any},{name:"control-point-step-size",type:s.size,triggersBounds:a.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:a.any},{name:"control-point-weights",type:s.numbers,triggersBounds:a.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:a.any},{name:"segment-weights",type:s.numbers,triggersBounds:a.any},{name:"segment-radii",type:s.numbers,triggersBounds:a.any},{name:"radius-type",type:s.radiusType,triggersBounds:a.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:a.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:a.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:a.any},{name:"taxi-radius",type:s.number,triggersBounds:a.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:a.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:a.any},{name:"loop-direction",type:s.angle,triggersBounds:a.any},{name:"loop-sweep",type:s.angle,triggersBounds:a.any},{name:"source-distance-from-node",type:s.size,triggersBounds:a.any},{name:"target-distance-from-node",type:s.size,triggersBounds:a.any}],A=[{name:"ghost",type:s.bool,triggersBounds:a.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:a.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:a.any},{name:"ghost-opacity",type:s.zeroOneNumber}],C=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],D=[];Ji.pieBackgroundN=16,D.push({name:"pie-size",type:s.sizeMaybePercent});for(var E=1;E<=Ji.pieBackgroundN;E++)D.push({name:"pie-"+E+"-background-color",type:s.color}),D.push({name:"pie-"+E+"-background-size",type:s.percent}),D.push({name:"pie-"+E+"-background-opacity",type:s.zeroOneNumber});var $=[],I=Ji.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:a.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill},{name:"arrow-width",type:s.arrowWidth}].forEach(function(K){I.forEach(function(G){var V=G+"-"+K.name,rt=K.type,tt=K.triggersBounds;$.push({name:V,type:rt,triggersBounds:tt})})},{});var L=Ji.properties=[].concat(f,v,g,m,y,A,p,d,l,u,h,b,k,N,_,D,S,T,$,C),O=Ji.propertyGroups={behavior:f,transition:v,visibility:g,overlay:m,underlay:y,ghost:A,commonLabel:p,labelDimensions:d,mainLabel:l,sourceLabel:u,targetLabel:h,nodeBody:b,nodeBorder:k,nodeOutline:N,backgroundImage:_,pie:D,compound:S,edgeLine:T,edgeArrow:$,core:C},B=Ji.propertyGroupNames={};(Ji.propertyGroupKeys=Object.keys(O)).forEach(function(K){B[K]=O[K].map(function(G){return G.name}),O[K].forEach(function(G){return G.groupKey=K})});var R=Ji.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ji.propertyNames=L.map(function(K){return K.name});for(var M=0;M<L.length;M++){var F=L[M];L[F.name]=F}for(var P=0;P<R.length;P++){var U=R[P],W=L[U.pointsTo],Q={name:U.name,alias:!0,pointsTo:W};L.push(Q),L[U.name]=Q}})(),Ji.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},Ji.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=rr({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var h=1;h<=Ji.pieBackgroundN;h++){var d=u.name.replace("{{i}}",h),p=u.value;l[d]=p}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Ji.arrowPrefixes.forEach(function(h){var d=h+"-"+u.name,p=u.value;l[d]=p}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);r[o]=s}}return t.defaultProperties=r,t.defaultProperties},Ji.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Hst={parse:function(t,e,r,n){var i=this;if(Bn(e))return i.parseImplWarn(t,e,r,n);var o,a=nst(t,""+e,r?"t":"f",n==="mapping"||n===!0||n===!1||n==null?"dontcare":n),s=i.propCache=i.propCache||[];return(o=s[a])||(o=s[a]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(o=Bl(o))&&(o.value=Bl(o.value)),o},parseImplWarn:function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return i||e==null||Kr("The style property `".concat(t,": ").concat(e,"` is invalid")),!i||i.name!=="width"&&i.name!=="height"||e!=="label"||Kr("The style value of `label` is deprecated for `"+i.name+"`"),i}};Hst.parseImpl=function(t,e,r,n){var i=this;t=k$(t);var o=i.properties[t],a=e,s=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var l=We(e);l&&(e=e.trim());var u,h,d=o.type;if(!d)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Bn(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(u=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:u,strValue:""+e,mapped:p,field:u[1],bypass:r}}if(e.length>=10&&e[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(e))){if(r||d.multiple)return!1;var f=s.mapData;if(!d.color&&!d.number)return!1;var g=this.parse(t,h[4]);if(!g||g.mapped)return!1;var m=this.parse(t,h[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return Kr("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(d.color){var y=g.value,v=m.value;if(!(y[0]!==v[0]||y[1]!==v[1]||y[2]!==v[2]||y[3]!==v[3]&&(y[3]!=null&&y[3]!==1||v[3]!=null&&v[3]!==1)))return!1}return{name:t,value:h,strValue:""+e,mapped:f,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:g.value,valueMax:m.value,bypass:r}}}if(d.multiple&&n!=="multiple"){var x;if(x=l?e.split(/\s+/):cn(e)?e:[e],d.evenMultiple&&x.length%2!=0)return null;for(var b=[],k=[],N=[],_="",S=!1,T=0;T<x.length;T++){var A=i.parse(t,x[T],r,"multiple");S=S||We(A.value),b.push(A.value),N.push(A.pfValue!=null?A.pfValue:A.value),k.push(A.units),_+=(T>0?" ":"")+A.strValue}return d.validate&&!d.validate(b,k)?null:d.singleEnum&&S?b.length===1&&We(b[0])?{name:t,value:b[0],strValue:b[0],bypass:r}:null:{name:t,value:b,pfValue:N,strValue:_,bypass:r,units:k}}var C,D,E=function(){for(var rt=0;rt<d.enums.length;rt++)if(d.enums[rt]===e)return{name:t,value:e,strValue:""+e,bypass:r};return null};if(d.number){var $,I="px";if(d.units&&($=d.units),d.implicitUnits&&(I=d.implicitUnits),!d.unitless)if(l){var L="px|em"+(d.allowPercent?"|\\%":"");$&&(L=$);var O=e.match("^("+Ai+")("+L+")?$");O&&(e=O[1],$=O[2]||I)}else $&&!d.implicitUnits||($=I);if(e=parseFloat(e),isNaN(e)&&d.enums===void 0)return null;if(isNaN(e)&&d.enums!==void 0)return e=a,E();if(d.integer&&(!we(D=e)||Math.floor(D)!==D)||d.min!==void 0&&(e<d.min||d.strictMin&&e===d.min)||d.max!==void 0&&(e>d.max||d.strictMax&&e===d.max))return null;var B={name:t,value:e,strValue:""+e+($||""),units:$,bypass:r};return d.unitless||$!=="px"&&$!=="em"?B.pfValue=e:B.pfValue=$!=="px"&&$?this.getEmSizeInPixels()*e:e,$!=="ms"&&$!=="s"||(B.pfValue=$==="ms"?e:1e3*e),$!=="deg"&&$!=="rad"||(B.pfValue=$==="rad"?e:(C=e,Math.PI*C/180)),$==="%"&&(B.pfValue=e/100),B}if(d.propList){var R=[],M=""+e;if(M!=="none"){for(var F=M.split(/\s*,\s*|\s+/),P=0;P<F.length;P++){var U=F[P].trim();i.properties[U]?R.push(U):Kr("`"+U+"` is not a valid property name")}if(R.length===0)return null}return{name:t,value:R,strValue:R.length===0?"none":R.join(" "),bypass:r}}if(d.color){var W=Zat(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}if(d.regex||d.regexes){if(d.enums){var Q=E();if(Q)return Q}for(var K=d.regexes?d.regexes:[d.regex],G=0;G<K.length;G++){var V=new RegExp(K[G]).exec(e);if(V)return{name:t,value:d.singleRegexMatchValue?V[1]:V,strValue:""+e,bypass:r}}return null}return d.string?{name:t,value:""+e,strValue:""+e,bypass:r}:d.enums?E():null};var Fi=function(t){if(!(this instanceof Fi))return new Fi(t);w$(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Mn("A style must have a core reference")},go=Fi.prototype;go.instanceString=function(){return"style"},go.clear=function(){for(var t=this._private,e=t.cy.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0),e.forEach(function(n){var i=n[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this},go.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},go.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},go.selector=function(t){var e=t==="core"?null:new uh(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this},go.css=function(){var t=arguments;if(t.length===1)for(var e=t[0],r=0;r<this.properties.length;r++){var n=this.properties[r],i=e[n.name];i===void 0&&(i=e[H3(n.name)]),i!==void 0&&this.cssRule(n.name,i)}else t.length===2&&this.cssRule(t[0],t[1]);return this},go.style=go.css,go.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r),!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},go.append=function(t){return Yat(t)?t.appendToStyle(this):cn(t)?this.appendFromJson(t):We(t)&&this.appendFromString(t),this},Fi.fromJson=function(t,e){var r=new Fi(t);return r.fromJson(e),r},Fi.fromString=function(t,e){return new Fi(t).fromString(e)},[Oi,lYt,cYt,eA,uYt,hYt,Ji,Hst].forEach(function(t){rr(go,t)}),Fi.types=go.types,Fi.properties=go.properties,Fi.propertyGroups=go.propertyGroups,Fi.propertyGroupNames=go.propertyGroupNames,Fi.propertyGroupKeys=go.propertyGroupKeys;var dYt={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return Yat(t)?e.style=t.generateStyle(this):cn(t)?e.style=Fi.fromJson(this,t):We(t)?e.style=Fi.fromString(this,t):e.style=Fi(this),e.style},updateStyle:function(){this.mutableElements().updateStyle()}},Xh={autolock:function(t){return t===void 0?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return t===void 0?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return t===void 0?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return e.selectionType==null&&(e.selectionType="single"),t===void 0?e.selectionType:(t!=="additive"&&t!=="single"||(e.selectionType=t),this)},panningEnabled:function(t){return t===void 0?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return t===void 0?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return t===void 0?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return t===void 0?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return t===void 0?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,r,n,i,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if(We(o[0]))return a[t=o[0]];if(Br(o[0])){if(!this._private.panningEnabled)return this;n=(r=o[0]).x,i=r.y,we(n)&&(a.x=n),we(i)&&(a.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[1],(t=o[0])!=="x"&&t!=="y"||!we(e)||(a[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var r,n,i,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:Br(t)&&(o=(i=s[0]).x,a=i.y,we(o)&&(l.x+=o),we(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:n=e,(r=t)!=="x"&&r!=="y"||!we(n)||(l[r]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,e){var r=this.getFitViewport(t,e);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){if(we(t)&&e===void 0&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r,n;if(We(t)){var i=t;t=this.$(i)}else if(Br(n=t)&&we(n.x1)&&we(n.x2)&&we(n.y1)&&we(n.y2)){var o=t;(r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=r.x2-r.x1,r.h=r.y2-r.y1}else qa(t)||(t=this.mutableElements());if(!qa(t)||!t.empty()){r=r||t.boundingBox();var a,s=this.width(),l=this.height();if(e=we(e)?e:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0)return{zoom:a=(a=(a=Math.min((s-2*e)/r.w,(l-2*e)/r.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(r.x1+r.x2))/2,y:(l-a*(r.y1+r.y2))/2}}}}},zoomRange:function(t,e){var r=this._private;if(e==null){var n=t;t=n.min,e=n.max}return we(t)&&we(e)&&t<=e?(r.minZoom=t,r.maxZoom=e):we(t)&&e===void 0&&t<=r.maxZoom?r.minZoom=t:we(e)&&t===void 0&&e>=r.minZoom&&(r.maxZoom=e),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,r,n=this._private,i=n.pan,o=n.zoom,a=!1;if(n.zoomingEnabled||(a=!0),we(t)?r=t:Br(t)&&(r=t.level,t.position!=null?e=R5(t.position,o,i):t.renderedPosition!=null&&(e=t.renderedPosition),e==null||n.panningEnabled||(a=!0)),r=(r=r>n.maxZoom?n.maxZoom:r)<n.minZoom?n.minZoom:r,a||!we(r)||r===o||e!=null&&(!we(e.x)||!we(e.y)))return null;if(e!=null){var s=i,l=o,u=r;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(e.x-s.x)+e.x,y:-u/l*(e.y-s.y)+e.y}}}return{zoomed:!0,panned:!1,zoom:r,pan:i}},zoom:function(t){if(t===void 0)return this._private.zoom;var e=this.getZoomedViewport(t),r=this._private;return e!=null&&e.zoomed?(r.zoom=e.zoom,e.panned&&(r.pan.x=e.pan.x,r.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,r=!0,n=!0,i=[],o=!1,a=!1;if(!t)return this;if(we(t.zoom)||(r=!1),Br(t.pan)||(n=!1),!r&&!n)return this;if(r){var s=t.zoom;s<e.minZoom||s>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=s,i.push("zoom"))}if(n&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;we(l.x)&&(e.pan.x=l.x,a=!1),we(l.y)&&(e.pan.y=l.y,a=!1),a||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(We(t)){var r=t;t=this.mutableElements().filter(r)}else qa(t)||(t=this.mutableElements());if(t.length!==0){var n=t.boundingBox(),i=this.width(),o=this.height();return{x:(i-(e=e===void 0?this._private.zoom:e)*(n.x1+n.x2))/2,y:(o-e*(n.y1+n.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,r=this._private,n=r.container,i=this;return r.sizeCache=r.sizeCache||(n?(t=i.window().getComputedStyle(n),e=function(o){return parseFloat(t.getPropertyValue(o))},{width:n.clientWidth-e("padding-left")-e("padding-right"),height:n.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-t.x)/e,x2:(r.x2-t.x)/e,y1:(r.y1-t.y)/e,y2:(r.y2-t.y)/e};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}},multiClickDebounceTime:function(t){return t?(this._private.multiClickDebounceTime=t,this):this._private.multiClickDebounceTime}};Xh.centre=Xh.center,Xh.autolockNodes=Xh.autolock,Xh.autoungrabifyNodes=Xh.autoungrabify;var G1={data:Yr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Yr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Yr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Yr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};G1.attr=G1.data,G1.removeAttr=G1.removeData;var gy=function(t){var e=this,r=(t=rr({},t)).container;r&&!N5(r)&&N5(r[0])&&(r=r[0]);var n=r?r._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=e;var o=bi!==void 0&&r!==void 0&&!t.headless,a=t;a.layout=rr({name:o?"grid":"null"},a.layout),a.renderer=rr({name:o?"canvas":"null"},a.renderer);var s=function(h,d,p){return d!==void 0?d:p!==void 0?p:h},l=this._private={container:r,ready:!1,options:a,elements:new no(this),listeners:[],aniEles:new no(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:a.styleEnabled===void 0?o:a.styleEnabled,zoom:we(a.zoom)?a.zoom:1,pan:{x:Br(a.pan)&&we(a.pan.x)?a.pan.x:0,y:Br(a.pan)&&we(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,a.multiClickDebounceTime)};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),l.styleEnabled&&e.setStyle([]);var u=rr({},a,a.renderer);e.initRenderer(u),function(h,d){if(h.some(oWt))return Ag.all(h).then(d);d(h)}([a.style,a.elements],function(h){var d=h[0],p=h[1];l.styleEnabled&&e.style().append(d),function(f,g,m){e.notifications(!1);var y=e.mutableElements();y.length>0&&y.remove(),f!=null&&(Br(f)||cn(f))&&e.add(f),e.one("layoutready",function(x){e.notifications(!0),e.emit(x),e.one("load",g),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",m),e.emit("done")});var v=rr({},e._private.options.layout);v.eles=e.elements(),e.layout(v).run()}(p,function(){e.startAnimationLoop(),l.ready=!0,Bn(a.ready)&&e.on("ready",a.ready);for(var f=0;f<i.length;f++){var g=i[f];e.on("ready",g)}n&&(n.readies=[]),e.emit("ready")},a.done)})},R2=gy.prototype;rr(R2,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){if(this._private.container==null)return bi;var t=this._private.container.ownerDocument;return t===void 0||t==null?bi:t.defaultView||bi},mount:function(t){if(t!=null){var e=this,r=e._private,n=r.options;return!N5(t)&&N5(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),r.container=t,r.styleEnabled=!0,e.invalidateSize(),e.initRenderer(rr({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),e.startAnimationLoop(),e.style(n.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Bl(this._private.options)},json:function(t){var e=this,r=e._private,n=e.mutableElements();if(Br(t)){if(e.startBatch(),t.elements){var i={},o=function(y,v){for(var x=[],b=[],k=0;k<y.length;k++){var N=y[k];if(N.data.id){var _=""+N.data.id,S=e.getElementById(_);i[_]=!0,S.length!==0?b.push({ele:S,json:N}):(v&&(N.group=v),x.push(N))}else Kr("cy.json() cannot handle elements without an ID attribute")}e.add(x);for(var T=0;T<b.length;T++){var A=b[T],C=A.ele,D=A.json;C.json(D)}};if(cn(t.elements))o(t.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],u=t.elements[l];cn(u)&&o(u,l)}var h=e.collection();n.filter(function(y){return!i[y.id()]}).forEach(function(y){y.isParent()?h.merge(y):y.remove()}),h.forEach(function(y){return y.children().move({parent:null})}),h.forEach(function(y){return function(v){return e.getElementById(v.id())}(y).remove()})}t.style&&e.style(t.style),t.zoom!=null&&t.zoom!==r.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===r.pan.x&&t.pan.y===r.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<d.length;p++){var f=d[p];t[f]!=null&&e[f](t[f])}return e.endBatch(),this}var g={};t?g.elements=this.elements().map(function(y){return y.json()}):(g.elements={},n.forEach(function(y){var v=y.group();g.elements[v]||(g.elements[v]=[]),g.elements[v].push(y.json())})),this._private.styleEnabled&&(g.style=e.style().json()),g.data=Bl(e.data());var m=r.options;return g.zoomingEnabled=r.zoomingEnabled,g.userZoomingEnabled=r.userZoomingEnabled,g.zoom=r.zoom,g.minZoom=r.minZoom,g.maxZoom=r.maxZoom,g.panningEnabled=r.panningEnabled,g.userPanningEnabled=r.userPanningEnabled,g.pan=Bl(r.pan),g.boxSelectionEnabled=r.boxSelectionEnabled,g.renderer=Bl(m.renderer),g.hideEdgesOnViewport=m.hideEdgesOnViewport,g.textureOnViewport=m.textureOnViewport,g.wheelSensitivity=m.wheelSensitivity,g.motionBlur=m.motionBlur,g.multiClickDebounceTime=m.multiClickDebounceTime,g}}),R2.$id=R2.getElementById,[JVt,iYt,jst,JS,Mb,aYt,tA,Bb,dYt,Xh,G1].forEach(function(t){rr(R2,t)});var pYt={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},fYt={maximal:!1,acyclic:!1},Rp=function(t){return t.scratch("breadthfirst")},hH=function(t,e){return t.scratch("breadthfirst",e)};function Ust(t){this.options=rr({},pYt,fYt,t)}Ust.prototype.run=function(){var t,e=this.options,r=e.cy,n=e.eles,i=n.nodes().filter(function(X){return X.isChildless()}),o=n,a=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=!!e.boundingBox,u=r.extent(),h=Sa(l?e.boundingBox:{x1:u.x1,y1:u.y1,w:u.w,h:u.h});if(qa(e.roots))t=e.roots;else if(cn(e.roots)){for(var d=[],p=0;p<e.roots.length;p++){var f=e.roots[p],g=r.getElementById(f);d.push(g)}t=r.collection(d)}else if(We(e.roots))t=r.$(e.roots);else if(a)t=i.roots();else{var m=n.components();t=r.collection();for(var y=function(){var X=m[v],Et=X.maxDegree(!1),H=X.filter(function(ct){return ct.degree(!1)===Et});t=t.add(H)},v=0;v<m.length;v++)y()}var x=[],b={},k=function(X,Et){x[Et]==null&&(x[Et]=[]);var H=x[Et].length;x[Et].push(X),hH(X,{index:H,depth:Et})};o.bfs({roots:t,directed:e.directed,visit:function(X,Et,H,ct,dt){var Nt=X[0],ft=Nt.id();Nt.isChildless()&&k(Nt,dt),b[ft]=!0}});for(var N=[],_=0;_<i.length;_++){var S=i[_];b[S.id()]||N.push(S)}var T=function(X){for(var Et=x[X],H=0;H<Et.length;H++){var ct=Et[H];ct!=null?hH(ct,{depth:X,index:H}):(Et.splice(H,1),H--)}},A=function(X,Et){for(var H=Rp(X),ct=X.incomers().filter(function(It){return It.isNode()&&n.has(It)}),dt=-1,Nt=X.id(),ft=0;ft<ct.length;ft++){var Dt=ct[ft],$t=Rp(Dt);dt=Math.max(dt,$t.depth)}if(H.depth<=dt){if(!e.acyclic&&Et[Nt])return null;var mt=dt+1;return function(It,gt){var xt=Rp(It),Ct=xt.depth,lt=xt.index;x[Ct][lt]=null,It.isChildless()&&k(It,gt)}(X,mt),Et[Nt]=mt,!0}return!1};if(a&&s){var C=[],D={},E=function(X){return C.push(X)};for(i.forEach(function(X){return C.push(X)});C.length>0;){var $=C.shift(),I=A($,D);if(I)$.outgoers().filter(function(X){return X.isNode()&&n.has(X)}).forEach(E);else if(I===null){Kr("Detected double maximal shift for node `"+$.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var L=0;if(e.avoidOverlap)for(var O=0;O<i.length;O++){var B=i[O].layoutDimensions(e),R=B.w,M=B.h;L=Math.max(L,R,M)}var F={},P=function(X){if(F[X.id()])return F[X.id()];for(var Et=Rp(X).depth,H=X.neighborhood(),ct=0,dt=0,Nt=0;Nt<H.length;Nt++){var ft=H[Nt];if(!ft.isEdge()&&!ft.isParent()&&i.has(ft)){var Dt=Rp(ft);if(Dt!=null){var $t=Dt.index,mt=Dt.depth;if($t!=null&&mt!=null){var It=x[mt].length;mt<Et&&(ct+=$t/It,dt++)}}}}return ct/=dt=Math.max(1,dt),dt===0&&(ct=0),F[X.id()]=ct,ct},U=function(X,Et){var H=P(X)-P(Et);return H===0?Kat(X.id(),Et.id()):H};e.depthSort!==void 0&&(U=e.depthSort);for(var W=x.length,Q=0;Q<W;Q++)x[Q].sort(U),T(Q);for(var K=[],G=0;G<N.length;G++)K.push(N[G]);K.length&&(x.unshift(K),W=x.length,function(){for(var X=0;X<W;X++)T(X)}());for(var V=0,rt=0;rt<W;rt++)V=Math.max(x[rt].length,V);var tt=h.x1+h.w/2,at=h.y1+h.h/2,ut=i.reduce(function(X,Et){return H=Et.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}),{w:X.w===-1?H.w:(X.w+H.w)/2,h:X.h===-1?H.h:(X.h+H.h)/2};var H},{w:-1,h:-1}),st=Math.max(W===1?0:l?(h.h-2*e.padding-ut.h)/(W-1):(h.h-2*e.padding-ut.h)/(W+1),L),_t=x.reduce(function(X,Et){return Math.max(X,Et.length)},0);return n.nodes().layoutPositions(this,e,function(X){var Et=Rp(X),H=Et.depth,ct=Et.index;if(e.circle){var dt=Math.min(h.w/2/W,h.h/2/W),Nt=(dt=Math.max(dt,L))*H+dt-(W>0&&x[0].length<=3?dt/2:0),ft=2*Math.PI/x[H].length*ct;return H===0&&x[0].length===1&&(Nt=1),{x:tt+Nt*Math.cos(ft),y:at+Nt*Math.sin(ft)}}var Dt=x[H].length,$t=Math.max(Dt===1?0:l?(h.w-2*e.padding-ut.w)/((e.grid?_t:Dt)-1):(h.w-2*e.padding-ut.w)/((e.grid?_t:Dt)+1),L);return{x:tt+(ct+1-(Dt+1)/2)*$t,y:at+(H+1-(W+1)/2)*st}}),this};var gYt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function qst(t){this.options=rr({},gYt,t)}qst.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a,s=Sa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l=s.x1+s.w/2,u=s.y1+s.h/2,h=(e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),d=0,p=0;p<o.length;p++){var f=o[p].layoutDimensions(e),g=f.w,m=f.h;d=Math.max(d,g,m)}if(a=we(e.radius)?e.radius:o.length<=1?0:Math.min(s.h,s.w)/2-d,o.length>1&&e.avoidOverlap){d*=1.75;var y=Math.cos(h)-Math.cos(0),v=Math.sin(h)-Math.sin(0),x=Math.sqrt(d*d/(y*y+v*v));a=Math.max(x,a)}return n.nodes().layoutPositions(this,e,function(b,k){var N=e.startAngle+k*h*(i?1:-1),_=a*Math.cos(N),S=a*Math.sin(N);return{x:l+_,y:u+S}}),this};var dH,mYt={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Gst(t){this.options=rr({},mYt,t)}Gst.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=Sa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=a.x1+a.w/2,l=a.y1+a.h/2,u=[],h=0,d=0;d<o.length;d++){var p,f=o[d];p=e.concentric(f),u.push({value:p,node:f}),f._private.scratch.concentric=p}o.updateStyle();for(var g=0;g<o.length;g++){var m=o[g].layoutDimensions(e);h=Math.max(h,m.w,m.h)}u.sort(function(ut,st){return st.value-ut.value});for(var y=e.levelWidth(o),v=[[]],x=v[0],b=0;b<u.length;b++){var k=u[b];x.length>0&&Math.abs(x[0].value-k.value)>=y&&(x=[],v.push(x)),x.push(k)}var N=h+e.minNodeSpacing;if(!e.avoidOverlap){var _=v.length>0&&v[0].length>1,S=(Math.min(a.w,a.h)/2-N)/(v.length+_?1:0);N=Math.min(N,S)}for(var T=0,A=0;A<v.length;A++){var C=v[A],D=e.sweep===void 0?2*Math.PI-2*Math.PI/C.length:e.sweep,E=C.dTheta=D/Math.max(1,C.length-1);if(C.length>1&&e.avoidOverlap){var $=Math.cos(E)-Math.cos(0),I=Math.sin(E)-Math.sin(0),L=Math.sqrt(N*N/($*$+I*I));T=Math.max(L,T)}C.r=T,T+=N}if(e.equidistant){for(var O=0,B=0,R=0;R<v.length;R++){var M=v[R].r-B;O=Math.max(O,M)}B=0;for(var F=0;F<v.length;F++){var P=v[F];F===0&&(B=P.r),P.r=B,B+=O}}for(var U={},W=0;W<v.length;W++)for(var Q=v[W],K=Q.dTheta,G=Q.r,V=0;V<Q.length;V++){var rt=Q[V],tt=e.startAngle+(r?1:-1)*K*V,at={x:s+G*Math.cos(tt),y:l+G*Math.sin(tt)};U[rt.node.id()]=at}return i.nodes().layoutPositions(this,e,function(ut){var st=ut.id();return U[st]}),this};var yYt={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Pb(t){this.options=rr({},yYt,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges().filter(function(n){var i=n.source().data("id"),o=n.target().data("id"),a=e.some(function(l){return l.data("id")===i}),s=e.some(function(l){return l.data("id")===o});return!a||!s});this.options.eles=this.options.eles.not(r)}Pb.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,t.animate!==!0&&t.animate!==!1||r.emit({type:"layoutstart",layout:r}),dH=t.debug===!0;var n=vYt(e,r,t);dH&&(void 0)(n),t.randomize&&xYt(n);var i=Wc(),o=function(){wYt(n,e,t),t.fit===!0&&e.fit(t.padding)},a=function(d){return!(r.stopped||d>=t.numIter)&&(kYt(n,t),n.temperature=n.temperature*t.coolingFactor,!(n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),p=Vst(n,t,d);d.layoutPositions(r,t,p)}},l=0,u=!0;if(t.animate===!0){var h=function(){for(var d=0;u&&d<t.refresh;)u=a(l),l++,d++;u?(Wc()-i>=t.animationThreshold&&o(),I5(h)):(fH(n,t),s())};h()}else{for(;u;)u=a(l),l++;fH(n,t),s()}return this},Pb.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Pb.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var vYt=function(t,e,r){for(var n=r.eles.edges(),i=r.eles.nodes(),o=Sa(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},s=r.eles.components(),l={},u=0;u<s.length;u++)for(var h=s[u],d=0;d<h.length;d++)l[h[d].id()]=u;for(u=0;u<a.nodeSize;u++){var p=(v=i[u]).layoutDimensions(r);(B={}).isLocked=v.locked(),B.id=v.data("id"),B.parentId=v.data("parent"),B.cmptId=l[v.id()],B.children=[],B.positionX=v.position("x"),B.positionY=v.position("y"),B.offsetX=0,B.offsetY=0,B.height=p.w,B.width=p.h,B.maxX=B.positionX+B.width/2,B.minX=B.positionX-B.width/2,B.maxY=B.positionY+B.height/2,B.minY=B.positionY-B.height/2,B.padLeft=parseFloat(v.style("padding")),B.padRight=parseFloat(v.style("padding")),B.padTop=parseFloat(v.style("padding")),B.padBottom=parseFloat(v.style("padding")),B.nodeRepulsion=Bn(r.nodeRepulsion)?r.nodeRepulsion(v):r.nodeRepulsion,a.layoutNodes.push(B),a.idToIndex[B.id]=u}var f=[],g=0,m=-1,y=[];for(u=0;u<a.nodeSize;u++){var v,x=(v=a.layoutNodes[u]).parentId;x!=null?a.layoutNodes[a.idToIndex[x]].children.push(v.id):(f[++m]=v.id,y.push(v.id))}for(a.graphSet.push(y);g<=m;){var b=f[g++],k=a.idToIndex[b],N=a.layoutNodes[k].children;if(N.length>0)for(a.graphSet.push(N),u=0;u<N.length;u++)f[++m]=N[u]}for(u=0;u<a.graphSet.length;u++){var _=a.graphSet[u];for(d=0;d<_.length;d++){var S=a.idToIndex[_[d]];a.indexToGraph[S]=u}}for(u=0;u<a.edgeSize;u++){var T=n[u],A={};A.id=T.data("id"),A.sourceId=T.data("source"),A.targetId=T.data("target");var C=Bn(r.idealEdgeLength)?r.idealEdgeLength(T):r.idealEdgeLength,D=Bn(r.edgeElasticity)?r.edgeElasticity(T):r.edgeElasticity,E=a.idToIndex[A.sourceId],$=a.idToIndex[A.targetId];if(a.indexToGraph[E]!=a.indexToGraph[$]){for(var I=bYt(A.sourceId,A.targetId,a),L=a.graphSet[I],O=0,B=a.layoutNodes[E];L.indexOf(B.id)===-1;)B=a.layoutNodes[a.idToIndex[B.parentId]],O++;for(B=a.layoutNodes[$];L.indexOf(B.id)===-1;)B=a.layoutNodes[a.idToIndex[B.parentId]],O++;C*=O*r.nestingFactor}A.idealLength=C,A.elasticity=D,a.layoutEdges.push(A)}return a},bYt=function(t,e,r){var n=Wst(t,e,0,r);return 2>n.count?0:n.graph},Wst=function(t,e,r,n){var i=n.graphSet[r];if(-1<i.indexOf(t)&&-1<i.indexOf(e))return{count:2,graph:r};for(var o=0,a=0;a<i.length;a++){var s=i[a],l=n.idToIndex[s],u=n.layoutNodes[l].children;if(u.length!==0){var h=n.indexToGraph[n.idToIndex[u[0]]],d=Wst(t,e,h,n);if(d.count!==0){if(d.count!==1)return d;if(++o===2)break}}}return{count:o,graph:r}},xYt=function(t,e){for(var r=t.clientWidth,n=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.children.length!==0||o.isLocked||(o.positionX=Math.random()*r,o.positionY=Math.random()*n)}},Vst=function(t,e,r){var n=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(r.forEach(function(o){var a=t.layoutNodes[t.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,a.positionX),i.x2=Math.max(i.x2,a.positionX),i.y1=Math.min(i.y1,a.positionY),i.y2=Math.max(i.y2,a.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,a){var s=t.layoutNodes[t.idToIndex[o.data("id")]];if(e.boundingBox){var l=(s.positionX-i.x1)/i.w,u=(s.positionY-i.y1)/i.h;return{x:n.x1+l*n.w,y:n.y1+u*n.h}}return{x:s.positionX,y:s.positionY}}},wYt=function(t,e,r){var n=r.layout,i=r.eles.nodes(),o=Vst(t,r,i);i.positions(o),t.ready!==!0&&(t.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},kYt=function(t,e,r){TYt(t,e),SYt(t),AYt(t,e),CYt(t),$Yt(t)},TYt=function(t,e){for(var r=0;r<t.graphSet.length;r++)for(var n=t.graphSet[r],i=n.length,o=0;o<i;o++)for(var a=t.layoutNodes[t.idToIndex[n[o]]],s=o+1;s<i;s++){var l=t.layoutNodes[t.idToIndex[n[s]]];EYt(a,l,t,e)}},pH=function(t){return 2*t*Math.random()-1},EYt=function(t,e,r,n){if(t.cmptId===e.cmptId||r.isCompound){var i=e.positionX-t.positionX,o=e.positionY-t.positionY;i===0&&o===0&&(i=pH(1),o=pH(1));var a=_Yt(t,e,i,o);if(a>0)var s=(u=n.nodeOverlap*a)*i/(m=Math.sqrt(i*i+o*o)),l=u*o/m;else{var u,h=U5(t,i,o),d=U5(e,-1*i,-1*o),p=d.x-h.x,f=d.y-h.y,g=p*p+f*f,m=Math.sqrt(g);s=(u=(t.nodeRepulsion+e.nodeRepulsion)/g)*p/m,l=u*f/m}t.isLocked||(t.offsetX-=s,t.offsetY-=l),e.isLocked||(e.offsetX+=s,e.offsetY+=l)}},_Yt=function(t,e,r,n){if(r>0)var i=t.maxX-e.minX;else i=e.maxX-t.minX;if(n>0)var o=t.maxY-e.minY;else o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},U5=function(t,e,r){var n=t.positionX,i=t.positionY,o=t.height||1,a=t.width||1,s=r/e,l=o/a,u={};return e===0&&0<r||e===0&&0>r?(u.x=n,u.y=i+o/2,u):0<e&&-1*l<=s&&s<=l?(u.x=n+a/2,u.y=i+a*r/2/e,u):0>e&&-1*l<=s&&s<=l?(u.x=n-a/2,u.y=i-a*r/2/e,u):0<r&&(s<=-1*l||s>=l)?(u.x=n+o*e/2/r,u.y=i+o/2,u):(0>r&&(s<=-1*l||s>=l)&&(u.x=n-o*e/2/r,u.y=i-o/2),u)},SYt=function(t,e){for(var r=0;r<t.edgeSize;r++){var n=t.layoutEdges[r],i=t.idToIndex[n.sourceId],o=t.layoutNodes[i],a=t.idToIndex[n.targetId],s=t.layoutNodes[a],l=s.positionX-o.positionX,u=s.positionY-o.positionY;if(l!==0||u!==0){var h=U5(o,l,u),d=U5(s,-1*l,-1*u),p=d.x-h.x,f=d.y-h.y,g=Math.sqrt(p*p+f*f),m=Math.pow(n.idealLength-g,2)/n.elasticity;if(g!==0)var y=m*p/g,v=m*f/g;else y=0,v=0;o.isLocked||(o.offsetX+=y,o.offsetY+=v),s.isLocked||(s.offsetX-=y,s.offsetY-=v)}}},AYt=function(t,e){if(e.gravity!==0)for(var r=0;r<t.graphSet.length;r++){var n=t.graphSet[r],i=n.length;if(r===0)var o=t.clientHeight/2,a=t.clientWidth/2;else{var s=t.layoutNodes[t.idToIndex[n[0]]],l=t.layoutNodes[t.idToIndex[s.parentId]];o=l.positionX,a=l.positionY}for(var u=0;u<i;u++){var h=t.layoutNodes[t.idToIndex[n[u]]];if(!h.isLocked){var d=o-h.positionX,p=a-h.positionY,f=Math.sqrt(d*d+p*p);if(f>1){var g=e.gravity*d/f,m=e.gravity*p/f;h.offsetX+=g,h.offsetY+=m}}}}},CYt=function(t,e){var r=[],n=0,i=-1;for(r.push.apply(r,t.graphSet[0]),i+=t.graphSet[0].length;n<=i;){var o=r[n++],a=t.idToIndex[o],s=t.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,h=s.offsetY,d=0;d<l.length;d++){var p=t.layoutNodes[t.idToIndex[l[d]]];p.offsetX+=u,p.offsetY+=h,r[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},$Yt=function(t,e){for(var r=0;r<t.nodeSize;r++)0<(i=t.layoutNodes[r]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(r=0;r<t.nodeSize;r++)if(!(0<(i=t.layoutNodes[r]).children.length||i.isLocked)){var n=NYt(i.offsetX,i.offsetY,t.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Yst(i,t)}for(r=0;r<t.nodeSize;r++){var i;0<(i=t.layoutNodes[r]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},NYt=function(t,e,r){var n=Math.sqrt(t*t+e*e);if(n>r)var i={x:r*t/n,y:r*e/n};else i={x:t,y:e};return i},Yst=function(t,e){var r=t.parentId;if(r!=null){var n=e.layoutNodes[e.idToIndex[r]],i=!1;return(n.maxX==null||t.maxX+n.padRight>n.maxX)&&(n.maxX=t.maxX+n.padRight,i=!0),(n.minX==null||t.minX-n.padLeft<n.minX)&&(n.minX=t.minX-n.padLeft,i=!0),(n.maxY==null||t.maxY+n.padBottom>n.maxY)&&(n.maxY=t.maxY+n.padBottom,i=!0),(n.minY==null||t.minY-n.padTop<n.minY)&&(n.minY=t.minY-n.padTop,i=!0),i?Yst(n,e):void 0}},fH=function(t,e){for(var r=t.layoutNodes,n=[],i=0;i<r.length;i++){var o=r[i],a=o.cmptId;(n[a]=n[a]||[]).push(o)}var s=0;for(i=0;i<n.length;i++)if(m=n[i]){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var l=0;l<m.length;l++){var u=m[l];m.x1=Math.min(m.x1,u.positionX-u.width/2),m.x2=Math.max(m.x2,u.positionX+u.width/2),m.y1=Math.min(m.y1,u.positionY-u.height/2),m.y2=Math.max(m.y2,u.positionY+u.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,s+=m.w*m.h}n.sort(function(y,v){return v.w*v.h-y.w*y.h});var h=0,d=0,p=0,f=0,g=Math.sqrt(s)*t.clientWidth/t.clientHeight;for(i=0;i<n.length;i++){var m;if(m=n[i]){for(l=0;l<m.length;l++)(u=m[l]).isLocked||(u.positionX+=h-m.x1,u.positionY+=d-m.y1);h+=m.w+e.componentSpacing,p+=m.w+e.componentSpacing,f=Math.max(f,m.h),p>g&&(d+=f+e.componentSpacing,h=0,p=0,f=0)}}},IYt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Xst(t){this.options=rr({},IYt,t)}Xst.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=Sa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(U){return{x:o.x1,y:o.y1}});else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),l=Math.round(s),u=Math.round(o.w/o.h*s),h=function(U){if(U==null)return Math.min(l,u);Math.min(l,u)==l?l=U:u=U},d=function(U){if(U==null)return Math.max(l,u);Math.max(l,u)==l?l=U:u=U},p=e.rows,f=e.cols!=null?e.cols:e.columns;if(p!=null&&f!=null)l=p,u=f;else if(p!=null&&f==null)l=p,u=Math.ceil(a/l);else if(p==null&&f!=null)u=f,l=Math.ceil(a/u);else if(u*l>a){var g=h(),m=d();(g-1)*m>=a?h(g-1):(m-1)*g>=a&&d(m-1)}else for(;u*l<a;){var y=h(),v=d();(v+1)*y>=a?d(v+1):h(y+1)}var x=o.w/u,b=o.h/l;if(e.condense&&(x=0,b=0),e.avoidOverlap)for(var k=0;k<i.length;k++){var N=i[k],_=N._private.position;_.x!=null&&_.y!=null||(_.x=0,_.y=0);var S=N.layoutDimensions(e),T=e.avoidOverlapPadding,A=S.w+T,C=S.h+T;x=Math.max(x,A),b=Math.max(b,C)}for(var D={},E=function(U,W){return!!D["c-"+U+"-"+W]},$=function(U,W){D["c-"+U+"-"+W]=!0},I=0,L=0,O=function(){++L>=u&&(L=0,I++)},B={},R=0;R<i.length;R++){var M=i[R],F=e.position(M);if(F&&(F.row!==void 0||F.col!==void 0)){var P={row:F.row,col:F.col};if(P.col===void 0)for(P.col=0;E(P.row,P.col);)P.col++;else if(P.row===void 0)for(P.row=0;E(P.row,P.col);)P.row++;B[M.id()]=P,$(P.row,P.col)}}i.layoutPositions(this,e,function(U,W){var Q,K;if(U.locked()||U.isParent())return!1;var G=B[U.id()];if(G)Q=G.col*x+x/2+o.x1,K=G.row*b+b/2+o.y1;else{for(;E(I,L);)O();Q=L*x+x/2+o.x1,K=I*b+b/2+o.y1,$(I,L),O()}return{x:Q,y:K}})}return this};var LYt={ready:function(){},stop:function(){}};function rA(t){this.options=rr({},LYt,t)}rA.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this},rA.prototype.stop=function(){return this};var RYt={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Kst(t){this.options=rr({},RYt,t)}Kst.prototype.run=function(){var t=this.options,e=t.eles.nodes(),r=Bn(t.positions);return e.layoutPositions(this,t,function(n,i){var o=function(a){if(t.positions==null)return function(l){return{x:l.x,y:l.y}}(a.position());if(r)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}(n);return!n.locked()&&o!=null&&o}),this};var DYt={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Zst(t){this.options=rr({},DYt,t)}Zst.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Sa(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return r.nodes().layoutPositions(this,t,function(i,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}}),this};var OYt=[{name:"breadthfirst",impl:Ust},{name:"circle",impl:qst},{name:"concentric",impl:Gst},{name:"cose",impl:Pb},{name:"grid",impl:Xst},{name:"null",impl:rA},{name:"preset",impl:Kst},{name:"random",impl:Zst}];function Qst(t){this.options=t,this.notifications=0}var gH=function(){},mH=function(){throw new Error("A headless instance can not render images")};Qst.prototype={recalculateRenderedStyle:gH,notify:function(){this.notifications++},init:gH,isHeadless:function(){return!0},png:mH,jpg:mH};var MYt={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,r=function(l,u,h,d,p,f,g){var m=p.x-h/2-g,y=p.x+h/2+g,v=p.y-h/2-g,x=p.y+h/2+g;return m<=l&&l<=y&&v<=u&&u<=x},n=function(l,u,h,d,p){var f=l*Math.cos(d)-u*Math.sin(d),g=(l*Math.sin(d)+u*Math.cos(d))*h;return{x:f*h+p.x,y:g+p.y}},i=function(l,u,h,d){for(var p=[],f=0;f<l.length;f+=2){var g=l[f],m=l[f+1];p.push(n(g,m,u,h,d))}return p},o=function(l){for(var u=[],h=0;h<l.length;h++){var d=l[h];u.push(d.x,d.y)}return u},a=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,u){We(u)&&(u=t[u]),t[l]=rr({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,p,f,g,m){var y=o(i(this.points,p+2*m,f,g));return ma(h,d,y)},roughCollide:r,draw:function(h,d,p,f){var g=i(this.points,d,p,f);e.arrowShapeImpl("polygon")(h,g)},spacing:function(h){return 0},gap:a},u)};s("none",{collide:L5,roughCollide:L5,draw:E$,spacing:VF,gap:VF}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,u,h,d,p){var f=i(this.points,u,h,d),g=this.controlPoint,m=n(g[0],g[1],u,h,d);e.arrowShapeImpl(this.name)(l,f,m)},gap:function(l){return .8*a(l)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,u,h,d,p,f,g){var m=o(i(this.points,h+2*g,d,p)),y=o(i(this.pointsTee,h+2*g,d,p));return ma(l,u,m)||ma(l,u,y)},draw:function(l,u,h,d,p){var f=i(this.points,u,h,d),g=i(this.pointsTee,u,h,d);e.arrowShapeImpl(this.name)(l,f,g)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,u,h,d,p,f,g){var m=p,y=Math.pow(m.x-l,2)+Math.pow(m.y-u,2)<=Math.pow((h+2*g)*this.radius,2),v=o(i(this.points,h+2*g,d,p));return ma(l,u,v)||y},draw:function(l,u,h,d,p){var f=i(this.pointsTr,u,h,d);e.arrowShapeImpl(this.name)(l,f,d.x,d.y,this.radius*u)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,u){var h=this.baseCrossLinePts.slice(),d=u/l;return h[3]=h[3]-d,h[5]=h[5]-d,h},collide:function(l,u,h,d,p,f,g){var m=o(i(this.points,h+2*g,d,p)),y=o(i(this.crossLinePts(h,f),h+2*g,d,p));return ma(l,u,m)||ma(l,u,y)},draw:function(l,u,h,d,p){var f=i(this.points,u,h,d),g=i(this.crossLinePts(u,p),u,h,d);e.arrowShapeImpl(this.name)(l,f,g)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return .525*a(l)}}),s("circle",{radius:.15,collide:function(l,u,h,d,p,f,g){var m=p;return Math.pow(m.x-l,2)+Math.pow(m.y-u,2)<=Math.pow((h+2*g)*this.radius,2)},draw:function(l,u,h,d,p){e.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*u)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})}},BYt={projectIntoViewport:function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],a=n[4],s=r.pan(),l=r.zoom();return[((t-i)/a-s.x)/l,((e-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(N){return parseFloat(r.getPropertyValue(N))},i=n("padding-left"),o=n("padding-right"),a=n("padding-top"),s=n("padding-bottom"),l=n("border-left-width"),u=n("border-right-width"),h=n("border-top-width"),d=(n("border-bottom-width"),t.clientWidth),p=t.clientHeight,f=i+o,g=a+s,m=l+u,y=e.width/(d+m),v=d-f,x=p-g,b=e.left+i+l,k=e.top+a+h;return this.containerBB=[b,k,v,x,y]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]},findNearestElements:function(t,e,r,n){var i,o,a=this,s=this,l=s.getCachedZSortedEles(),u=[],h=s.cy.zoom(),d=s.cy.hasCompoundNodes(),p=(n?24:8)/h,f=(n?8:2)/h,g=(n?8:2)/h,m=1/0;function y(S,T){if(S.isNode()){if(o)return;o=S,u.push(S)}if(S.isEdge()&&(T==null||T<m))if(i){if(i.pstyle("z-compound-depth").value===S.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===S.pstyle("z-compound-depth").value){for(var A=0;A<u.length;A++)if(u[A].isEdge()){u[A]=S,i=S,m=T??m;break}}}else u.push(S),i=S,m=T??m}function v(S){var T=S.outerWidth()+2*f,A=S.outerHeight()+2*f,C=T/2,D=A/2,E=S.position(),$=S.pstyle("corner-radius").value==="auto"?"auto":S.pstyle("corner-radius").pfValue,I=S._private.rscratch;if(E.x-C<=t&&t<=E.x+C&&E.y-D<=e&&e<=E.y+D&&s.nodeShapes[a.getNodeShape(S)].checkPoint(t,e,0,T,A,E.x,E.y,$,I))return y(S,0),!0}function x(S){var T,A=S._private,C=A.rscratch,D=S.pstyle("width").pfValue,E=S.pstyle("arrow-scale").value,$=D/2+p,I=$*$,L=2*$,O=A.source,B=A.target;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){for(var R=C.allpts,M=0;M+3<R.length;M+=2)if(DWt(t,e,R[M],R[M+1],R[M+2],R[M+3],L)&&I>(T=BWt(t,e,R[M],R[M+1],R[M+2],R[M+3])))return y(S,T),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){for(R=C.allpts,M=0;M+5<C.allpts.length;M+=4)if(OWt(t,e,R[M],R[M+1],R[M+2],R[M+3],R[M+4],R[M+5],L)&&I>(T=MWt(t,e,R[M],R[M+1],R[M+2],R[M+3],R[M+4],R[M+5])))return y(S,T),!0}O=O||A.source,B=B||A.target;var F=a.getArrowWidth(D,E),P=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}];for(M=0;M<P.length;M++){var U=P[M],W=s.arrowShapes[S.pstyle(U.name+"-arrow-shape").value],Q=S.pstyle("width").pfValue;if(W.roughCollide(t,e,F,U.angle,{x:U.x,y:U.y},Q,p)&&W.collide(t,e,F,U.angle,{x:U.x,y:U.y},Q,p))return y(S),!0}d&&u.length>0&&(v(O),v(B))}function b(S,T,A){return js(S,T,A)}function k(S,T){var A,C=S._private,D=g;A=T?T+"-":"",S.boundingBox();var E=C.labelBounds[T||"main"],$=S.pstyle(A+"label").value;if(S.pstyle("text-events").strValue==="yes"&&$){var I=b(C.rscratch,"labelX",T),L=b(C.rscratch,"labelY",T),O=b(C.rscratch,"labelAngle",T),B=S.pstyle(A+"text-margin-x").pfValue,R=S.pstyle(A+"text-margin-y").pfValue,M=E.x1-D-B,F=E.x2+D-B,P=E.y1-D-R,U=E.y2+D-R;if(O){var W=Math.cos(O),Q=Math.sin(O),K=function(ut,st){return{x:(ut-=I)*W-(st-=L)*Q+I,y:ut*Q+st*W+L}},G=K(M,P),V=K(M,U),rt=K(F,P),tt=K(F,U),at=[G.x+B,G.y+R,rt.x+B,rt.y+R,tt.x+B,tt.y+R,V.x+B,V.y+R];if(ma(t,e,at))return y(S),!0}else if(cf(E,t,e))return y(S),!0}}r&&(l=l.interactive);for(var N=l.length-1;N>=0;N--){var _=l[N];_.isNode()?v(_)||k(_):x(_)||k(_)||k(_,"source")||k(_,"target")}return u},getAllInBox:function(t,e,r,n){for(var i,o,a=this.getCachedZSortedEles().interactive,s=[],l=Math.min(t,r),u=Math.max(t,r),h=Math.min(e,n),d=Math.max(e,n),p=Sa({x1:t=l,y1:e=h,x2:r=u,y2:n=d}),f=0;f<a.length;f++){var g=a[f];if(g.isNode()){var m=g,y=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});S$(p,y)&&!ust(y,p)&&s.push(m)}else{var v=g,x=v._private,b=x.rscratch;if(b.startX!=null&&b.startY!=null&&!cf(p,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!cf(p,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var k=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,N=!0,_=0;_<k.length;_++)if(i=p,o=k[_],!cf(i,o.x,o.y)){N=!1;break}N&&s.push(v)}else b.edgeType!=="haystack"&&b.edgeType!=="straight"||s.push(v)}}return s}},nA={calculateArrowAngles:function(t){var e,r,n,i,o,a,s=t._private.rscratch,l=s.edgeType==="haystack",u=s.edgeType==="bezier",h=s.edgeType==="multibezier",d=s.edgeType==="segments",p=s.edgeType==="compound",f=s.edgeType==="self";if(l?(n=s.haystackPts[0],i=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(n=s.arrowStartX,i=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),m=s.midX,y=s.midY,d)e=n-s.segpts[0],r=i-s.segpts[1];else if(h||p||f||u){var g=s.allpts;e=n-Bi(g[0],g[2],g[4],.1),r=i-Bi(g[1],g[3],g[5],.1)}else e=n-m,r=i-y;s.srcArrowAngle=x2(e,r);var m=s.midX,y=s.midY;if(l&&(m=(n+o)/2,y=(i+a)/2),e=o-n,r=a-i,d)if((g=s.allpts).length/2%2==0){var v=(A=g.length/2)-2;e=g[A]-g[v],r=g[A+1]-g[v+1]}else s.isRound?(e=s.midVector[1],r=-s.midVector[0]):(v=(A=g.length/2-1)-2,e=g[A]-g[v],r=g[A+1]-g[v+1]);else if(h||p||f){var x,b,k,N,g=s.allpts;if(s.ctrlpts.length/2%2==0){var _=(S=(T=g.length/2-1)+2)+2;x=Bi(g[T],g[S],g[_],0),b=Bi(g[T+1],g[S+1],g[_+1],0),k=Bi(g[T],g[S],g[_],1e-4),N=Bi(g[T+1],g[S+1],g[_+1],1e-4)}else{var S,T;_=(S=g.length/2-1)+2,x=Bi(g[T=S-2],g[S],g[_],.4999),b=Bi(g[T+1],g[S+1],g[_+1],.4999),k=Bi(g[T],g[S],g[_],.5),N=Bi(g[T+1],g[S+1],g[_+1],.5)}e=k-x,r=N-b}if(s.midtgtArrowAngle=x2(e,r),s.midDispX=e,s.midDispY=r,e*=-1,r*=-1,d&&(g=s.allpts).length/2%2!=0){if(!s.isRound){var A,C=(A=g.length/2-1)+2;e=-(g[C]-g[A]),r=-(g[C+1]-g[A+1])}}if(s.midsrcArrowAngle=x2(e,r),d)e=o-s.segpts[s.segpts.length-2],r=a-s.segpts[s.segpts.length-1];else if(h||p||f||u){var D=(g=s.allpts).length;e=o-Bi(g[D-6],g[D-4],g[D-2],.9),r=a-Bi(g[D-5],g[D-3],g[D-1],.9)}else e=o-m,r=a-y;s.tgtArrowAngle=x2(e,r)}};nA.getArrowWidth=nA.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(13.37*t,.9),29)*e,r[t+", "+e]=n,n)};var iA,oA,yH,vH,od,Fb,ac,Rh,Kh,sc,v1,D2,Jst,tlt,aA,sA,bH,xl={},os={},xH=function(t,e,r){r.x=e.x-t.x,r.y=e.y-t.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},PYt=function(t,e,r,n,i){var o,a;if(t!==bH?xH(e,t,xl):((a=xl).x=-1*(o=os).x,a.y=-1*o.y,a.nx=-1*o.nx,a.ny=-1*o.ny,a.ang=o.ang>0?-(Math.PI-o.ang):Math.PI+o.ang),xH(e,r,os),yH=xl.nx*os.ny-xl.ny*os.nx,vH=xl.nx*os.nx-xl.ny*-os.ny,ac=Math.asin(Math.max(-1,Math.min(1,yH))),Math.abs(ac)<1e-6)return iA=e.x,oA=e.y,void(Kh=v1=0);od=1,Fb=!1,vH<0?ac<0?ac=Math.PI+ac:(ac=Math.PI-ac,od=-1,Fb=!0):ac>0&&(od=-1,Fb=!0),v1=e.radius!==void 0?e.radius:n,Rh=ac/2,D2=Math.min(xl.len/2,os.len/2),i?(sc=Math.abs(Math.cos(Rh)*v1/Math.sin(Rh)))>D2?(sc=D2,Kh=Math.abs(sc*Math.sin(Rh)/Math.cos(Rh))):Kh=v1:(sc=Math.min(D2,v1),Kh=Math.abs(sc*Math.sin(Rh)/Math.cos(Rh))),aA=e.x+os.nx*sc,sA=e.y+os.ny*sc,iA=aA-os.ny*Kh*od,oA=sA+os.nx*Kh*od,Jst=e.x+xl.nx*sc,tlt=e.y+xl.ny*sc,bH=e};function elt(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function F$(t,e,r,n){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(PYt(t,e,r,n,i),{cx:iA,cy:oA,radius:Kh,startX:Jst,startY:tlt,stopX:aA,stopY:sA,startAngle:xl.ang+Math.PI/2*od,endAngle:os.ang-Math.PI/2*od,counterClockwise:Fb})}var bo={};function wH(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}bo.findMidptPtsEtc=function(t,e){var r,n=e.posPts,i=e.intersectionPts,o=e.vectorNormInverse,a=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),l=a.units!=null&&s.units!=null;switch(t.pstyle("edge-distances").value){case"node-position":r=n;break;case"intersection":r=i;break;case"endpoints":if(l){var u=ji(this.manualEndptToPx(t.source()[0],a),2),h=u[0],d=u[1],p=ji(this.manualEndptToPx(t.target()[0],s),2),f=p[0],g=p[1],m={x1:h,y1:d,x2:f,y2:g};o=function(y,v,x,b){var k=b-v,N=x-y,_=Math.sqrt(N*N+k*k);return{x:-k/_,y:N/_}}(h,d,f,g),r=m}else Kr("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),r=i}return{midptPts:r,vectorNormInverse:o}},bo.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=n.source,s=n.target,l=a.position(),u=s.position(),h=a.width(),d=s.width(),p=a.height(),f=s.height(),g=r.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*h*g+l.x,i.source.y*p*g+l.y,i.target.x*d*g+u.x,i.target.y*f*g+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},bo.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),o=t.pstyle("segment-radii"),a=t.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),l=o.pfValue[o.pfValue.length-1],u=a.pfValue[a.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var h=0;h<s;h++){var d=n.pfValue[h],p=i.pfValue[h],f=1-d,g=d,m=this.findMidptPtsEtc(t,e),y=m.midptPts,v=m.vectorNormInverse,x={x:y.x1*f+y.x2*g,y:y.y1*f+y.y2*g};r.segpts.push(x.x+v.x*p,x.y+v.y*p),r.radii.push(o.pfValue[h]!==void 0?o.pfValue[h]:l),r.isArcRadius.push((a.pfValue[h]!==void 0?a.pfValue[h]:u)==="arc-radius")}},bo.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=r,f=d;n&&(p=0,f=l);var g=u-Math.PI/2,m=g-h/2,y=g+h/2,v=u+"_"+h;p=o[v]===void 0?o[v]=0:++o[v],i.ctrlpts=[a.x+1.4*Math.cos(m)*f*(p/3+1),a.y+1.4*Math.sin(m)*f*(p/3+1),a.x+1.4*Math.cos(y)*f*(p/3+1),a.y+1.4*Math.sin(y)*f*(p/3+1)]},bo.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,h=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),f=p?p.pfValue[0]:void 0,g=r,m=d;n&&(g=0,m=f);var y={x:o.x-s/2,y:o.y-l/2},v={x:a.x-u/2,y:a.y-h/2},x={x:Math.min(y.x,v.x),y:Math.min(y.y,v.y)},b=Math.max(.5,Math.log(.01*s)),k=Math.max(.5,Math.log(.01*u));i.ctrlpts=[x.x,x.y-(1+Math.pow(50,1.12)/100)*m*(g/3+1)*b,x.x-(1+Math.pow(50,1.12)/100)*m*(g/3+1)*k,x.y]},bo.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},bo.findBezierPoints=function(t,e,r,n,i){var o=t._private.rscratch,a=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,h=s?s.pfValue[0]:void 0,d=l.value[0],p=n;o.edgeType=p?"multibezier":"bezier",o.ctrlpts=[];for(var f=0;f<u;f++){var g=(.5-e.eles.length/2+r)*a*(i?-1:1),m=void 0,y=QF(g);p&&(h=s?s.pfValue[f]:a,d=l.value[f]);var v=(m=n?h:h!==void 0?y*h:void 0)!==void 0?m:g,x=1-d,b=d,k=this.findMidptPtsEtc(t,e),N=k.midptPts,_=k.vectorNormInverse,S={x:N.x1*x+N.x2*b,y:N.y1*x+N.y2*b};o.ctrlpts.push(S.x+_.x*v,S.y+_.y*v)}},bo.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",o="leftward",a="rightward",s="downward",l="upward",u=e.posPts,h=e.srcW,d=e.srcH,p=e.tgtW,f=e.tgtH,g=t.pstyle("edge-distances").value!=="node-position",m=t.pstyle("taxi-direction").value,y=m,v=t.pstyle("taxi-turn"),x=v.units==="%",b=v.pfValue,k=b<0,N=t.pstyle("taxi-turn-min-distance").pfValue,_=g?(h+p)/2:0,S=g?(d+f)/2:0,T=u.x2-u.x1,A=u.y2-u.y1,C=function(Ct,lt){return Ct>0?Math.max(Ct-lt,0):Math.min(Ct+lt,0)},D=C(T,_),E=C(A,S),$=!1;y==="auto"?m=Math.abs(D)>Math.abs(E)?i:n:y===l||y===s?(m=n,$=!0):y!==o&&y!==a||(m=i,$=!0);var I,L=m===n,O=L?E:D,B=L?A:T,R=QF(B),M=!1;$&&(x||k)||!(y===s&&B<0||y===l&&B>0||y===o&&B>0||y===a&&B<0)||(O=(R*=-1)*Math.abs(O),M=!0),x?I=(b<0?1+b:b)*O:I=(b<0?O:0)+b*R;var F=function(Ct){return Math.abs(Ct)<N||Math.abs(Ct)>=Math.abs(O)},P=F(I),U=F(Math.abs(O)-Math.abs(I));if((P||U)&&!M)if(L){var W=Math.abs(B)<=d/2,Q=Math.abs(T)<=p/2;if(W){var K=(u.x1+u.x2)/2,G=u.y1,V=u.y2;r.segpts=[K,G,K,V]}else if(Q){var rt=(u.y1+u.y2)/2,tt=u.x1,at=u.x2;r.segpts=[tt,rt,at,rt]}else r.segpts=[u.x1,u.y2]}else{var ut=Math.abs(B)<=h/2,st=Math.abs(A)<=f/2;if(ut){var _t=(u.y1+u.y2)/2,X=u.x1,Et=u.x2;r.segpts=[X,_t,Et,_t]}else if(st){var H=(u.x1+u.x2)/2,ct=u.y1,dt=u.y2;r.segpts=[H,ct,H,dt]}else r.segpts=[u.x2,u.y1]}else if(L){var Nt=u.y1+I+(g?d/2*R:0),ft=u.x1,Dt=u.x2;r.segpts=[ft,Nt,Dt,Nt]}else{var $t=u.x1+I+(g?h/2*R:0),mt=u.y1,It=u.y2;r.segpts=[$t,mt,$t,It]}if(r.isRound){var gt=t.pstyle("taxi-radius").value,xt=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(gt),r.isArcRadius=new Array(r.segpts.length/2).fill(xt)}},bo.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,h=e.tgtShape,d=e.srcCornerRadius,p=e.tgtCornerRadius,f=e.srcRs,g=e.tgtRs,m=!we(r.startX)||!we(r.startY),y=!we(r.arrowStartX)||!we(r.arrowStartY),v=!we(r.endX)||!we(r.endY),x=!we(r.arrowEndX)||!we(r.arrowEndY),b=3*(this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth),k=Ed({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),N=k<b,_=Ed({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),S=_<b,T=!1;if(m||y||N){T=!0;var A={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},C=Math.sqrt(A.x*A.x+A.y*A.y),D={x:A.x/C,y:A.y/C},E=Math.max(o,a),$={x:r.ctrlpts[0]+2*D.x*E,y:r.ctrlpts[1]+2*D.y*E},I=u.intersectLine(n.x,n.y,o,a,$.x,$.y,0,d,f);N?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(b-k),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(b-k)):(r.ctrlpts[0]=I[0]+D.x*b,r.ctrlpts[1]=I[1]+D.y*b)}if(v||x||S){T=!0;var L={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},O=Math.sqrt(L.x*L.x+L.y*L.y),B={x:L.x/O,y:L.y/O},R=Math.max(o,a),M={x:r.ctrlpts[0]+2*B.x*R,y:r.ctrlpts[1]+2*B.y*R},F=h.intersectLine(i.x,i.y,s,l,M.x,M.y,0,p,g);S?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(b-_),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(b-_)):(r.ctrlpts[0]=F[0]+B.x*b,r.ctrlpts[1]=F[1]+B.y*b)}T&&this.findEndpoints(t)}},bo.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);var n;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,e.midX=Bi(e.allpts[n],e.allpts[n+2],e.allpts[n+4],.5),e.midY=Bi(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],.5))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var o=e.radii[i/2-1],a=e.isArcRadius[i/2-1];e.roundCorners.push(F$({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:o},{x:e.allpts[i+2],y:e.allpts[i+3]},o,a))}}if(e.segpts.length%4==0){var s=e.segpts.length/2,l=s-2;e.midX=(e.segpts[l]+e.segpts[s])/2,e.midY=(e.segpts[l+1]+e.segpts[s+1])/2}else{var u=e.segpts.length/2-1;if(e.isRound){var h={x:e.segpts[u],y:e.segpts[u+1]},d=e.roundCorners[u/2];if(d.radius===0){var p={x:e.segpts[u+2],y:e.segpts[u+3]};e.midX=h.x,e.midY=h.y,e.midVector=[h.y-p.y,p.x-h.x]}else{var f=[h.x-d.cx,h.y-d.cy],g=d.radius/Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2));f=f.map(function(m){return m*g}),e.midX=d.cx+f[0],e.midY=d.cy+f[1],e.midVector=f}}else e.midX=e.segpts[u],e.midY=e.segpts[u+1]}}},bo.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||we(e.startX)&&we(e.startY)&&we(e.endX)&&we(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Kr("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},bo.findEdgeControlPoints=function(t){var e=this;if(t&&t.length!==0){for(var r=this,n=r.cy.hasCompoundNodes(),i=new _c,o=function(N,_){return[].concat(qat(N),[_?1:0]).join("-")},a=[],s=[],l=0;l<t.length;l++){var u=t[l],h=u._private,d=u.pstyle("curve-style").value;if(!u.removed()&&u.takesUpSpace())if(d!=="haystack"){var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),f=d==="unbundled-bezier"||d==="bezier",g=h.source,m=h.target,y=[g.poolIndex(),m.poolIndex()].sort(),v=o(y,p),x=i.get(v);x==null&&(x={eles:[]},a.push({pairId:y,edgeIsUnbundled:p}),i.set(v,x)),x.eles.push(u),p&&(x.hasUnbundled=!0),f&&(x.hasBezier=!0)}else s.push(u)}for(var b=function(){var N,_=a[k],S=_.pairId,T=_.edgeIsUnbundled,A=o(S,T),C=i.get(A);if(!C.hasUnbundled){var D=C.eles[0].parallelEdges().filter(function(Ct){return Ct.isBundledBezier()});FS(C.eles),D.forEach(function(Ct){return C.eles.push(Ct)}),C.eles.sort(function(Ct,lt){return Ct.poolIndex()-lt.poolIndex()})}var E=C.eles[0],$=E.source(),I=E.target();if($.poolIndex()>I.poolIndex()){var L=$;$=I,I=L}var O=C.srcPos=$.position(),B=C.tgtPos=I.position(),R=C.srcW=$.outerWidth(),M=C.srcH=$.outerHeight(),F=C.tgtW=I.outerWidth(),P=C.tgtH=I.outerHeight(),U=C.srcShape=r.nodeShapes[e.getNodeShape($)],W=C.tgtShape=r.nodeShapes[e.getNodeShape(I)],Q=C.srcCornerRadius=$.pstyle("corner-radius").value==="auto"?"auto":$.pstyle("corner-radius").pfValue,K=C.tgtCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,G=C.tgtRs=I._private.rscratch,V=C.srcRs=$._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var rt=0;rt<C.eles.length;rt++){var tt=C.eles[rt],at=tt[0]._private.rscratch,ut=tt.pstyle("curve-style").value,st=ut==="unbundled-bezier"||ut.endsWith("segments")||ut.endsWith("taxi"),_t=!$.same(tt.source());if(!C.calculatedIntersection&&$!==I&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var X=U.intersectLine(O.x,O.y,R,M,B.x,B.y,0,Q,V),Et=C.srcIntn=X,H=W.intersectLine(B.x,B.y,F,P,O.x,O.y,0,K,G),ct=C.tgtIntn=H,dt=C.intersectionPts={x1:X[0],x2:H[0],y1:X[1],y2:H[1]},Nt=C.posPts={x1:O.x,x2:B.x,y1:O.y,y2:B.y},ft=H[1]-X[1],Dt=H[0]-X[0],$t=Math.sqrt(Dt*Dt+ft*ft),mt=C.vector={x:Dt,y:ft},It=C.vectorNorm={x:mt.x/$t,y:mt.y/$t},gt={x:-It.y,y:It.x};C.nodesOverlap=!we($t)||W.checkPoint(X[0],X[1],0,F,P,B.x,B.y,K,G)||U.checkPoint(H[0],H[1],0,R,M,O.x,O.y,Q,V),C.vectorNormInverse=gt,N={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:B,srcRs:G,tgtPos:O,tgtRs:V,srcW:F,srcH:P,tgtW:R,tgtH:M,srcIntn:ct,tgtIntn:Et,srcShape:W,tgtShape:U,posPts:{x1:Nt.x2,y1:Nt.y2,x2:Nt.x1,y2:Nt.y1},intersectionPts:{x1:dt.x2,y1:dt.y2,x2:dt.x1,y2:dt.y1},vector:{x:-mt.x,y:-mt.y},vectorNorm:{x:-It.x,y:-It.y},vectorNormInverse:{x:-gt.x,y:-gt.y}}}var xt=_t?N:C;at.nodesOverlap=xt.nodesOverlap,at.srcIntn=xt.srcIntn,at.tgtIntn=xt.tgtIntn,at.isRound=ut.startsWith("round"),n&&($.isParent()||$.isChild()||I.isParent()||I.isChild())&&($.parents().anySame(I)||I.parents().anySame($)||$.same(I)&&$.isParent())?e.findCompoundLoopPoints(tt,xt,rt,st):$===I?e.findLoopPoints(tt,xt,rt,st):ut.endsWith("segments")?e.findSegmentsPoints(tt,xt):ut.endsWith("taxi")?e.findTaxiPoints(tt,xt):ut==="straight"||!st&&C.eles.length%2==1&&rt===Math.floor(C.eles.length/2)?e.findStraightEdgePoints(tt):e.findBezierPoints(tt,xt,rt,st,_t),e.findEndpoints(tt),e.tryToCorrectInvalidPoints(tt,xt),e.checkForInvalidEdgeWarning(tt),e.storeAllpts(tt),e.storeEdgeProjections(tt),e.calculateArrowAngles(tt),e.recalculateEdgeLabelProjections(tt),e.calculateLabelAngles(tt)}},k=0;k<a.length;k++)b();this.findHaystackPoints(s)}},bo.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if(this.recalculateRenderedStyle(t),e.edgeType==="segments")return wH(e.segpts)},bo.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return wH(e.ctrlpts)},bo.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var FYt={manualEndptToPx:function(t,e){var r=t.position(),n=t.outerWidth(),i=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var a=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(a[0]=a[0]*n),e.units[1]==="%"&&(a[1]=a[1]*i),a[0]+=r.x,a[1]+=r.y,a}var s=e.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(n,i),u=[r.x+Math.cos(s)*l,r.y+Math.sin(s)*l];return this.nodeShapes[this.getNodeShape(t)].intersectLine(r.x,r.y,n,i,u[0],u[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)},findEndpoints:function(t){var e,r,n,i,o,a=this,s=t.source()[0],l=t.target()[0],u=s.position(),h=l.position(),d=t.pstyle("target-arrow-shape").value,p=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,g=t.pstyle("source-distance-from-node").pfValue,m=s._private.rscratch,y=l._private.rscratch,v=t.pstyle("curve-style").value,x=t._private.rscratch,b=x.edgeType,k=b==="self"||b==="compound",N=b==="bezier"||b==="multibezier"||k,_=b!=="bezier",S=b==="straight"||b==="segments",T=b==="segments",A=N||_||S,C=k||v==="taxi",D=t.pstyle("source-endpoint"),E=C?"outside-to-node":D.value,$=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,I=t.pstyle("target-endpoint"),L=C?"outside-to-node":I.value,O=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;if(x.srcManEndpt=D,x.tgtManEndpt=I,N){var B=[x.ctrlpts[0],x.ctrlpts[1]];r=_?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:B,n=B}else if(S){var R=T?x.segpts.slice(0,2):[h.x,h.y];r=T?x.segpts.slice(x.segpts.length-2):[u.x,u.y],n=R}if(L==="inside-to-node")e=[h.x,h.y];else if(I.units)e=this.manualEndptToPx(l,I);else if(L==="outside-to-line")e=x.tgtIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?i=r:L!=="outside-to-line"&&L!=="outside-to-line-or-label"||(i=[u.x,u.y]),e=a.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0,O,y),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var M=l._private.rscratch,F=M.labelWidth,P=M.labelHeight,U=M.labelX,W=M.labelY,Q=F/2,K=P/2,G=l.pstyle("text-valign").value;G==="top"?W-=K:G==="bottom"&&(W+=K);var V=l.pstyle("text-halign").value;V==="left"?U-=Q:V==="right"&&(U+=Q);var rt=py(i[0],i[1],[U-Q,W-K,U+Q,W-K,U+Q,W+K,U-Q,W+K],h.x,h.y);if(rt.length>0){var tt=u,at=Vh(tt,lf(e)),ut=Vh(tt,lf(rt)),st=at;ut<at&&(e=rt,st=ut),rt.length>2&&Vh(tt,{x:rt[2],y:rt[3]})<st&&(e=[rt[2],rt[3]])}}var _t=k2(e,r,a.arrowShapes[d].spacing(t)+f),X=k2(e,r,a.arrowShapes[d].gap(t)+f);if(x.endX=X[0],x.endY=X[1],x.arrowEndX=_t[0],x.arrowEndY=_t[1],E==="inside-to-node")e=[u.x,u.y];else if(D.units)e=this.manualEndptToPx(s,D);else if(E==="outside-to-line")e=x.srcIntn;else if(E==="outside-to-node"||E==="outside-to-node-or-label"?o=n:E!=="outside-to-line"&&E!=="outside-to-line-or-label"||(o=[h.x,h.y]),e=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0,$,m),E==="outside-to-node-or-label"||E==="outside-to-line-or-label"){var Et=s._private.rscratch,H=Et.labelWidth,ct=Et.labelHeight,dt=Et.labelX,Nt=Et.labelY,ft=H/2,Dt=ct/2,$t=s.pstyle("text-valign").value;$t==="top"?Nt-=Dt:$t==="bottom"&&(Nt+=Dt);var mt=s.pstyle("text-halign").value;mt==="left"?dt-=ft:mt==="right"&&(dt+=ft);var It=py(o[0],o[1],[dt-ft,Nt-Dt,dt+ft,Nt-Dt,dt+ft,Nt+Dt,dt-ft,Nt+Dt],u.x,u.y);if(It.length>0){var gt=h,xt=Vh(gt,lf(e)),Ct=Vh(gt,lf(It)),lt=xt;Ct<xt&&(e=[It[0],It[1]],lt=Ct),It.length>2&&Vh(gt,{x:It[2],y:It[3]})<lt&&(e=[It[2],It[3]])}}var ot=k2(e,n,a.arrowShapes[p].spacing(t)+g),Y=k2(e,n,a.arrowShapes[p].gap(t)+g);x.startX=Y[0],x.startY=Y[1],x.arrowStartX=ot[0],x.arrowStartY=ot[1],A&&(we(x.startX)&&we(x.startY)&&we(x.endX)&&we(x.endY)?x.badLine=!1:x.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}}},lA={};function zYt(t,e,r){for(var n=function(s,l,u,h){return Bi(s,l,u,h)},i=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var a=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],a),y:n(r[1],r[3],r[5],a)})}}lA.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)zYt(this,t,r.allpts.slice(i,i+6))}else if(n==="segments"){var o=e.rstyle.linePts=[];for(i=0;i+1<r.allpts.length;i+=2)o.push({x:r.allpts[i],y:r.allpts[i+1]})}else if(n==="haystack"){var a=r.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},lA.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pc={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!lh(e)){var r,n,i=t._private,o=t.width(),a=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,d=i.rscratch,p=i.rstyle;switch(u){case"left":r=l.x-o/2-s;break;case"right":r=l.x+o/2+s;break;default:r=l.x}switch(h){case"top":n=l.y-a/2-s;break;case"bottom":n=l.y+a/2+s;break;default:n=l.y}d.labelX=r,d.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}}},rlt=function(t,e){var r=Math.atan(e/t);return t===0&&r<0&&(r*=-1),r},kH=function(t,e){var r=e.x-t.x,n=e.y-t.y;return rlt(r,n)};pc.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var a=function(h,d,p){ou(r.rscratch,h,d,p),ou(r.rstyle,h,d,p)};a("labelX",null,e.x),a("labelY",null,e.y);var s=rlt(n.midDispX,n.midDispY);a("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var h=[],d=0;d+5<n.allpts.length;d+=4){var p={x:n.allpts[d],y:n.allpts[d+1]},f={x:n.allpts[d+2],y:n.allpts[d+3]},g={x:n.allpts[d+4],y:n.allpts[d+5]};h.push({p0:p,p1:f,p2:g,startDist:0,length:0,segments:[]})}var m=r.rstyle.bezierPts,y=i.bezierProjPcts.length;function v(_,S,T,A,C){var D=Ed(S,T),E=_.segments[_.segments.length-1],$={p0:S,p1:T,t0:A,t1:C,startDist:E?E.startDist+E.length:0,length:D};_.segments.push($),_.length+=D}for(var x=0;x<h.length;x++){var b=h[x],k=h[x-1];k&&(b.startDist=k.startDist+k.length),v(b,b.p0,m[x*y],0,i.bezierProjPcts[0]);for(var N=0;N<y-1;N++)v(b,m[x*y+N],m[x*y+N+1],i.bezierProjPcts[N],i.bezierProjPcts[N+1]);v(b,m[x*y+y-1],b.p2,i.bezierProjPcts[y-1],1)}return l.cache=h},u=function(h){var d,p=h==="source";if(o[h]){var f=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var g,m=l(),y=0,v=0,x=0;x<m.length;x++){for(var b=m[p?x:m.length-1-x],k=0;k<b.segments.length;k++){var N=b.segments[p?k:b.segments.length-1-k],_=x===m.length-1&&k===b.segments.length-1;if(y=v,(v+=N.length)>=f||_){g={cp:b,segment:N};break}}if(g)break}var S=g.cp,T=g.segment,A=(f-y)/T.length,C=T.t1-T.t0,D=p?T.t0+C*A:T.t1-C*A;D=H1(0,D,1),e=If(S.p0,S.p1,S.p2,D),d=function(F,P,U,W){var Q=H1(0,W-.001,1),K=H1(0,W+.001,1),G=If(F,P,U,Q),V=If(F,P,U,K);return kH(G,V)}(S.p0,S.p1,S.p2,D);break;case"straight":case"segments":case"haystack":for(var E,$,I,L,O=0,B=n.allpts.length,R=0;R+3<B&&(p?(I={x:n.allpts[R],y:n.allpts[R+1]},L={x:n.allpts[R+2],y:n.allpts[R+3]}):(I={x:n.allpts[B-2-R],y:n.allpts[B-1-R]},L={x:n.allpts[B-4-R],y:n.allpts[B-3-R]}),$=O,!((O+=E=Ed(I,L))>=f));R+=2);var M=(f-$)/E;M=H1(0,M,1),e=function(F,P,U,W){var Q=P.x-F.x,K=P.y-F.y,G=Ed(F,P),V=Q/G,rt=K/G;return U=U??0,W=W??U*G,{x:F.x+V*W,y:F.y+rt*W}}(I,L,M),d=kH(I,L)}a("labelX",h,e.x),a("labelY",h,e.y),a("labelAutoAngle",h,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}},pc.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},pc.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=js(r.rscratch,"labelWrapCachedLines",e)||[],l=a!=="wrap"?1:Math.max(s.length,1),u=i.height/l,h=u*o,d=i.width,p=i.height+(l-1)*(o-1)*u;ou(r.rstyle,"labelWidth",e,d),ou(r.rscratch,"labelWidth",e,d),ou(r.rstyle,"labelHeight",e,p),ou(r.rscratch,"labelHeight",e,p),ou(r.rscratch,"labelLineHeight",e,h)},pc.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,a=function(I,L){return L?(ou(r.rscratch,I,e,L),L):js(r.rscratch,I,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var l=a("labelKey");if(l!=null&&a("labelWrapKey")===l)return a("labelWrapCachedText");for(var u=i.split(`
`),h=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value==="anywhere",p=[],f=/[\s\u200b]+|$/g,g=0;g<u.length;g++){var m=u[g],y=this.calculateLabelDimensions(t,m).width;if(d){var v=m.split("").join("​");m=v}if(y>h){var x,b="",k=0,N=Xs(m.matchAll(f));try{for(N.s();!(x=N.n()).done;){var _=x.value,S=_[0],T=m.substring(k,_.index);k=_.index+S.length;var A=b.length===0?T:b+T+S;this.calculateLabelDimensions(t,A).width<=h?b+=T+S:(b&&p.push(b),b=T+S)}}catch(I){N.e(I)}finally{N.f()}b.match(/^[\s\u200b]+$/)||p.push(b)}else p.push(m)}a("labelWrapCachedLines",p),i=a("labelWrapCachedText",p.join(`
`)),a("labelWrapKey",l)}else if(s==="ellipsis"){var C=t.pstyle("text-max-width").pfValue,D="",E=!1;if(this.calculateLabelDimensions(t,i).width<C)return i;for(var $=0;$<i.length&&!(this.calculateLabelDimensions(t,D+i[$]+"…").width>C);$++)D+=i[$],$===i.length-1&&(E=!0);return E||(D+="…"),D}return i},pc.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e!=="auto")return e;if(!t.isNode())return"center";switch(r){case"left":return"right";case"right":return"left";default:return"center"}},pc.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window().document,i=ch(e,t._private.labelDimsKey),o=r.labelDimCache||(r.labelDimCache=[]),a=o[i];if(a!=null)return a;var s=t.pstyle("font-style").strValue,l=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,h=t.pstyle("font-weight").strValue,d=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=n.createElement("canvas"),p=this.labelCalcCanvasContext=d.getContext("2d");var f=d.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}p.font="".concat(s," ").concat(h," ").concat(l,"px ").concat(u);for(var g=0,m=0,y=e.split(`
`),v=0;v<y.length;v++){var x=y[v],b=p.measureText(x),k=Math.ceil(b.width),N=l;g=Math.max(k,g),m+=N}return g+=0,m+=0,o[i]={width:g,height:m}},pc.calculateLabelAngle=function(t,e){var r=t._private.rscratch,n=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),a=o.strValue;return a==="none"?0:n&&a==="autorotate"?r.labelAutoAngle:a==="autorotate"?0:o.pfValue},pc.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private.rscratch;n.labelAngle=e.calculateLabelAngle(t),r&&(n.sourceLabelAngle=e.calculateLabelAngle(t,"source"),n.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var nlt={},TH=!1;nlt.getNodeShape=function(t){var e=t.pstyle("shape").value;if(e==="cutrectangle"&&(t.width()<28||t.height()<28))return TH||(Kr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),TH=!0),"rectangle";if(t.isParent())return e==="rectangle"||e==="roundrectangle"||e==="round-rectangle"||e==="cutrectangle"||e==="cut-rectangle"||e==="barrel"?e:"rectangle";if(e==="polygon"){var r=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(r).name}return e};var jYt={registerCalculationListeners:function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.merge(o),a)for(var s=0;s<o.length;s++){var l=o[s]._private.rstyle;l.clean=!1,l.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var a=o.target;n(a)}).on("style.* background.*",function(o){var a=o.target;n(a,!1)});var i=function(o){if(o){var a=r.onUpdateEleCalcsFns;e.cleanStyle();for(var s=0;s<e.length;s++){var l=e[s],u=l._private.rstyle;l.isNode()&&!u.cleanConnected&&(n(l.connectedEdges()),u.cleanConnected=!0)}if(a)for(var h=0;h<a.length;h++)(0,a[h])(o,e);r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var r=function(v){return v._private.rstyle.cleanConnected};if(t.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,l=s.rstyle;!a.isEdge()||r(a.source())&&r(a.target())||(l.clean=!1),a.isEdge()&&a.isBundledBezier()&&a.parallelEdges().some(function(v){return!v._private.rstyle.clean&&v.isBundledBezier()})&&(l.clean=!1),e&&l.clean||a.removed()||a.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(a):n.push(a),l.clean=!0)}for(var u=0;u<i.length;u++){var h=i[u],d=h._private.rstyle,p=h.position();this.recalculateNodeLabelProjection(h),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=h.pstyle("width").pfValue,d.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var f=0;f<n.length;f++){var g=n[f]._private,m=g.rstyle,y=g.rscratch;m.srcX=y.arrowStartX,m.srcY=y.arrowStartY,m.tgtX=y.arrowEndX,m.tgtY=y.arrowEndY,m.midX=y.midX,m.midY=y.midY,m.labelAngle=y.labelAngle,m.sourceLabelAngle=y.sourceLabelAngle,m.targetLabelAngle=y.targetLabelAngle}}}}},HYt={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=(i=t[r])._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):n.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(r=0;r<e.length;r++){var i=e[r];t.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Fst),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}},ilt={};[BYt,nA,bo,FYt,lA,pc,nlt,jYt,HYt].forEach(function(t){rr(ilt,t)});var UYt={getCachedImage:function(t,e,r){var n=this.imageCache=this.imageCache||{},i=n[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;var o=(i=n[t]=n[t]||{}).image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var a="data:";return t.substring(0,5).toLowerCase()===a||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o}},W1={registerBinding:function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var o=[],a=0;a<t.length;a++){var s=t[a];if(s!==void 0){var l=this.binder(s);o.push(l.on.apply(l,i))}}return o}return(l=this.binder(t)).on.apply(l,i)}};W1.binder=function(t){var e,r=this,n=r.cy.window(),i=t===n||t===n.document||t===n.document.body||(e=t,typeof HTMLElement<"u"&&e instanceof HTMLElement);if(r.supportsPassiveEvents==null){var o=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return o=!0,!0}});n.addEventListener("test",null,a)}catch{}r.supportsPassiveEvents=o}var s=function(l,u,h){var d=Array.prototype.slice.call(arguments);return i&&r.supportsPassiveEvents&&(d[2]={capture:h!=null&&h,passive:!1,once:!1}),r.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:s,addEventListener:s,addListener:s,bind:s}},W1.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},W1.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()},W1.load=function(){var t=this,e=t.cy.window(),r=function(H){return H.selected()},n=function(H,ct,dt,Nt){H==null&&(H=t.cy);for(var ft=0;ft<ct.length;ft++){var Dt=ct[ft];H.emit({originalEvent:dt,type:Dt,position:Nt})}},i=function(H){return H.shiftKey||H.metaKey||H.ctrlKey},o=function(H,ct){var dt=!0;if(t.cy.hasCompoundNodes()&&H&&H.pannable()){for(var Nt=0;ct&&Nt<ct.length;Nt++)if((H=ct[Nt]).isNode()&&H.isParent()&&!H.pannable()){dt=!1;break}}else dt=!0;return dt},a=function(H){H[0]._private.rscratch.inDragLayer=!0},s=function(H){H[0]._private.rscratch.isGrabTarget=!0},l=function(H,ct){var dt=ct.addToList;dt.has(H)||!H.grabbable()||H.locked()||(dt.merge(H),function(Nt){Nt[0]._private.grabbed=!0}(H))},u=function(H,ct){ct=ct||{};var dt=H.cy().hasCompoundNodes();ct.inDragLayer&&(H.forEach(a),H.neighborhood().stdFilter(function(Nt){return!dt||Nt.isEdge()}).forEach(a)),ct.addToList&&H.forEach(function(Nt){l(Nt,ct)}),function(Nt,ft){if(Nt.cy().hasCompoundNodes()&&(ft.inDragLayer!=null||ft.addToList!=null)){var Dt=Nt.descendants();ft.inDragLayer&&(Dt.forEach(a),Dt.connectedEdges().forEach(a)),ft.addToList&&l(Dt,ft)}}(H,ct),p(H,{inDragLayer:ct.inDragLayer}),t.updateCachedGrabbedEles()},h=u,d=function(H){H&&(t.getCachedZSortedEles().forEach(function(ct){(function(dt){dt[0]._private.grabbed=!1})(ct),function(dt){dt[0]._private.rscratch.inDragLayer=!1}(ct),function(dt){dt[0]._private.rscratch.isGrabTarget=!1}(ct)}),t.updateCachedGrabbedEles())},p=function(H,ct){if((ct.inDragLayer!=null||ct.addToList!=null)&&H.cy().hasCompoundNodes()){var dt=H.ancestors().orphans();if(!dt.same(H)){var Nt=dt.descendants().spawnSelf().merge(dt).unmerge(H).unmerge(H.descendants()),ft=Nt.connectedEdges();ct.inDragLayer&&(ft.forEach(a),Nt.forEach(a)),ct.addToList&&Nt.forEach(function(Dt){l(Dt,ct)})}}},f=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},g=typeof MutationObserver<"u",m=typeof ResizeObserver<"u";g?(t.removeObserver=new MutationObserver(function(H){for(var ct=0;ct<H.length;ct++){var dt=H[ct].removedNodes;if(dt){for(var Nt=0;Nt<dt.length;Nt++)if(dt[Nt]===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(H){t.destroy()});var y=av(function(){t.cy.resize()},100);g&&(t.styleObserver=new MutationObserver(y),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",y),m&&(t.resizeObserver=new ResizeObserver(y),t.resizeObserver.observe(t.container));var v=function(){t.invalidateContainerClientCoordsCache()};(function(H,ct){for(;H!=null;)ct(H),H=H.parentNode})(t.container,function(H){t.registerBinding(H,"transitionend",v),t.registerBinding(H,"animationend",v),t.registerBinding(H,"scroll",v)}),t.registerBinding(t.container,"contextmenu",function(H){H.preventDefault()});var x=function(H){for(var ct=t.findContainerClientCoords(),dt=ct[0],Nt=ct[1],ft=ct[2],Dt=ct[3],$t=H.touches?H.touches:[H],mt=!1,It=0;It<$t.length;It++){var gt=$t[It];if(dt<=gt.clientX&&gt.clientX<=dt+ft&&Nt<=gt.clientY&&gt.clientY<=Nt+Dt){mt=!0;break}}if(!mt)return!1;for(var xt=t.container,Ct=H.target.parentNode,lt=!1;Ct;){if(Ct===xt){lt=!0;break}Ct=Ct.parentNode}return!!lt};t.registerBinding(t.container,"mousedown",function(H){if(x(H)&&(t.hoverData.which!==1||H.which===1)){H.preventDefault(),f(),t.hoverData.capture=!0,t.hoverData.which=H.which;var ct=t.cy,dt=[H.clientX,H.clientY],Nt=t.projectIntoViewport(dt[0],dt[1]),ft=t.selection,Dt=t.findNearestElements(Nt[0],Nt[1],!0,!1),$t=Dt[0],mt=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=Nt,t.hoverData.mdownGPos=dt,H.which==3){t.hoverData.cxtStarted=!0;var It={originalEvent:H,type:"cxttapstart",position:{x:Nt[0],y:Nt[1]}};$t?($t.activate(),$t.emit(It),t.hoverData.down=$t):ct.emit(It),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(H.which==1){if($t&&$t.activate(),$t!=null&&t.nodeIsGrabbable($t)){var gt=function(Ct){return{originalEvent:H,type:Ct,position:{x:Nt[0],y:Nt[1]}}};if(s($t),$t.selected()){mt=t.dragData.possibleDragElements=ct.collection();var xt=ct.$(function(Ct){return Ct.isNode()&&Ct.selected()&&t.nodeIsGrabbable(Ct)});u(xt,{addToList:mt}),$t.emit(gt("grabon")),xt.forEach(function(Ct){Ct.emit(gt("grab"))})}else mt=t.dragData.possibleDragElements=ct.collection(),h($t,{addToList:mt}),$t.emit(gt("grabon")).emit(gt("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=$t,t.hoverData.downs=Dt,t.hoverData.downTime=new Date().getTime(),n($t,["mousedown","tapstart","vmousedown"],H,{x:Nt[0],y:Nt[1]}),$t==null?(ft[4]=1,t.data.bgActivePosistion={x:Nt[0],y:Nt[1]},t.redrawHint("select",!0),t.redraw()):$t.pannable()&&(ft[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Ct=t.hoverData.down;Ct?Ct.emit({originalEvent:H,type:"taphold",position:{x:Nt[0],y:Nt[1]}}):ct.emit({originalEvent:H,type:"taphold",position:{x:Nt[0],y:Nt[1]}})}},t.tapholdDuration)}ft[0]=ft[2]=Nt[0],ft[1]=ft[3]=Nt[1]}},!1);var b,k,N,_=function(H){var ct=H.getRootNode();if(ct&&ct.nodeType===11&&ct.host!==void 0)return ct}(t.container);t.registerBinding([e,_],"mousemove",function(H){if(t.hoverData.capture||x(H)){var ct=!1,dt=t.cy,Nt=dt.zoom(),ft=[H.clientX,H.clientY],Dt=t.projectIntoViewport(ft[0],ft[1]),$t=t.hoverData.mdownPos,mt=t.hoverData.mdownGPos,It=t.selection,gt=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(gt=t.findNearestElement(Dt[0],Dt[1],!0,!1));var xt,Ct=t.hoverData.last,lt=t.hoverData.down,ot=[Dt[0]-It[2],Dt[1]-It[3]],Y=t.dragData.possibleDragElements;if(mt){var Ot=ft[0]-mt[0],nt=Ot*Ot,Ut=ft[1]-mt[1],Ft=nt+Ut*Ut;t.hoverData.isOverThresholdDrag=xt=Ft>=t.desktopTapThreshold2}var qt=i(H);xt&&(t.hoverData.tapholdCancelled=!0),ct=!0,n(gt,["mousemove","vmousemove","tapdrag"],H,{x:Dt[0],y:Dt[1]});var Wt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||dt.emit({originalEvent:H,type:"boxstart",position:{x:Dt[0],y:Dt[1]}}),It[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(xt){var Ht={originalEvent:H,type:"cxtdrag",position:{x:Dt[0],y:Dt[1]}};lt?lt.emit(Ht):dt.emit(Ht),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&gt===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:H,type:"cxtdragout",position:{x:Dt[0],y:Dt[1]}}),t.hoverData.cxtOver=gt,gt&&gt.emit({originalEvent:H,type:"cxtdragover",position:{x:Dt[0],y:Dt[1]}}))}}else if(t.hoverData.dragging){if(ct=!0,dt.panningEnabled()&&dt.userPanningEnabled()){var Xe;if(t.hoverData.justStartedPan){var Vt=t.hoverData.mdownPos;Xe={x:(Dt[0]-Vt[0])*Nt,y:(Dt[1]-Vt[1])*Nt},t.hoverData.justStartedPan=!1}else Xe={x:ot[0]*Nt,y:ot[1]*Nt};dt.panBy(Xe),dt.emit("dragpan"),t.hoverData.dragged=!0}Dt=t.projectIntoViewport(H.clientX,H.clientY)}else if(It[4]!=1||lt!=null&&!lt.pannable()){if(lt&&lt.pannable()&&lt.active()&&lt.unactivate(),lt&&lt.grabbed()||gt==Ct||(Ct&&n(Ct,["mouseout","tapdragout"],H,{x:Dt[0],y:Dt[1]}),gt&&n(gt,["mouseover","tapdragover"],H,{x:Dt[0],y:Dt[1]}),t.hoverData.last=gt),lt)if(xt){if(dt.boxSelectionEnabled()&&qt)lt&&lt.grabbed()&&(d(Y),lt.emit("freeon"),Y.emit("free"),t.dragData.didDrag&&(lt.emit("dragfreeon"),Y.emit("dragfree"))),Wt();else if(lt&&lt.grabbed()&&t.nodeIsDraggable(lt)){var xe=!t.dragData.didDrag;xe&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||u(Y,{inDragLayer:!0});var Kt={x:0,y:0};if(we(ot[0])&&we(ot[1])&&(Kt.x+=ot[0],Kt.y+=ot[1],xe)){var Xt=t.hoverData.dragDelta;Xt&&we(Xt[0])&&we(Xt[1])&&(Kt.x+=Xt[0],Kt.y+=Xt[1])}t.hoverData.draggingEles=!0,Y.silentShift(Kt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else(function(){var pe=t.hoverData.dragDelta=t.hoverData.dragDelta||[];pe.length===0?(pe.push(ot[0]),pe.push(ot[1])):(pe[0]+=ot[0],pe[1]+=ot[1])})();ct=!0}else xt&&(t.hoverData.dragging||!dt.boxSelectionEnabled()||!qt&&dt.panningEnabled()&&dt.userPanningEnabled()?!t.hoverData.selecting&&dt.panningEnabled()&&dt.userPanningEnabled()&&o(lt,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,It[4]=0,t.data.bgActivePosistion=lf($t),t.redrawHint("select",!0),t.redraw()):Wt(),lt&&lt.pannable()&&lt.active()&&lt.unactivate());return It[2]=Dt[0],It[3]=Dt[1],ct?(H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),!1):void 0}},!1),t.registerBinding(e,"mouseup",function(H){if((t.hoverData.which!==1||H.which===1||!t.hoverData.capture)&&t.hoverData.capture){t.hoverData.capture=!1;var ct=t.cy,dt=t.projectIntoViewport(H.clientX,H.clientY),Nt=t.selection,ft=t.findNearestElement(dt[0],dt[1],!0,!1),Dt=t.dragData.possibleDragElements,$t=t.hoverData.down,mt=i(H);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,$t&&$t.unactivate(),t.hoverData.which===3){var It={originalEvent:H,type:"cxttapend",position:{x:dt[0],y:dt[1]}};if($t?$t.emit(It):ct.emit(It),!t.hoverData.cxtDragged){var gt={originalEvent:H,type:"cxttap",position:{x:dt[0],y:dt[1]}};$t?$t.emit(gt):ct.emit(gt)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(ft,["mouseup","tapend","vmouseup"],H,{x:dt[0],y:dt[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||(n($t,["click","tap","vclick"],H,{x:dt[0],y:dt[1]}),k=!1,H.timeStamp-N<=ct.multiClickDebounceTime()?(b&&clearTimeout(b),k=!0,N=null,n($t,["dblclick","dbltap","vdblclick"],H,{x:dt[0],y:dt[1]})):(b=setTimeout(function(){k||n($t,["oneclick","onetap","voneclick"],H,{x:dt[0],y:dt[1]})},ct.multiClickDebounceTime()),N=H.timeStamp)),$t!=null||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||i(H)||(ct.$(r).unselect(["tapunselect"]),Dt.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Dt=ct.collection()),ft!=$t||t.dragData.didDrag||t.hoverData.selecting||ft!=null&&ft._private.selectable&&(t.hoverData.dragging||(ct.selectionType()==="additive"||mt?ft.selected()?ft.unselect(["tapunselect"]):ft.select(["tapselect"]):mt||(ct.$(r).unmerge(ft).unselect(["tapunselect"]),ft.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var xt=ct.collection(t.getAllInBox(Nt[0],Nt[1],Nt[2],Nt[3]));t.redrawHint("select",!0),xt.length>0&&t.redrawHint("eles",!0),ct.emit({type:"boxend",originalEvent:H,position:{x:dt[0],y:dt[1]}});var Ct=function(ot){return ot.selectable()&&!ot.selected()};ct.selectionType()==="additive"||mt||ct.$(r).unmerge(xt).unselect(),xt.emit("box").stdFilter(Ct).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Nt[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var lt=$t&&$t.grabbed();d(Dt),lt&&($t.emit("freeon"),Dt.emit("free"),t.dragData.didDrag&&($t.emit("dragfreeon"),Dt.emit("dragfree")))}}Nt[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}},!1);var S,T,A,C,D,E,$,I,L,O,B,R,M,F=function(H){if(!t.scrollingPage){var ct=t.cy,dt=ct.zoom(),Nt=ct.pan(),ft=t.projectIntoViewport(H.clientX,H.clientY),Dt=[ft[0]*dt+Nt.x,ft[1]*dt+Nt.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||t.selection[4]!==0)H.preventDefault();else if(ct.panningEnabled()&&ct.userPanningEnabled()&&ct.zoomingEnabled()&&ct.userZoomingEnabled()){var $t;H.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),$t=H.deltaY!=null?H.deltaY/-250:H.wheelDeltaY!=null?H.wheelDeltaY/1e3:H.wheelDelta/1e3,$t*=t.wheelSensitivity,H.deltaMode===1&&($t*=33);var mt=ct.zoom()*Math.pow(10,$t);H.type==="gesturechange"&&(mt=t.gestureStartZoom*H.scale),ct.zoom({level:mt,renderedPosition:{x:Dt[0],y:Dt[1]}}),ct.emit(H.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",F,!0),t.registerBinding(e,"scroll",function(H){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(H){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||H.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(H){t.hasTouchStarted||F(H)},!0),t.registerBinding(t.container,"mouseout",function(H){var ct=t.projectIntoViewport(H.clientX,H.clientY);t.cy.emit({originalEvent:H,type:"mouseout",position:{x:ct[0],y:ct[1]}})},!1),t.registerBinding(t.container,"mouseover",function(H){var ct=t.projectIntoViewport(H.clientX,H.clientY);t.cy.emit({originalEvent:H,type:"mouseover",position:{x:ct[0],y:ct[1]}})},!1);var P,U,W,Q,K,G,V,rt=function(H,ct,dt,Nt){return Math.sqrt((dt-H)*(dt-H)+(Nt-ct)*(Nt-ct))},tt=function(H,ct,dt,Nt){return(dt-H)*(dt-H)+(Nt-ct)*(Nt-ct)};if(t.registerBinding(t.container,"touchstart",P=function(H){if(t.hasTouchStarted=!0,x(H)){f(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ct=t.cy,dt=t.touchData.now,Nt=t.touchData.earlier;if(H.touches[0]){var ft=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);dt[0]=ft[0],dt[1]=ft[1]}if(H.touches[1]&&(ft=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY),dt[2]=ft[0],dt[3]=ft[1]),H.touches[2]&&(ft=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY),dt[4]=ft[0],dt[5]=ft[1]),H.touches[1]){t.touchData.singleTouchMoved=!0,d(t.dragData.touchDragEles);var Dt=t.findContainerClientCoords();L=Dt[0],O=Dt[1],B=Dt[2],R=Dt[3],S=H.touches[0].clientX-L,T=H.touches[0].clientY-O,A=H.touches[1].clientX-L,C=H.touches[1].clientY-O,M=0<=S&&S<=B&&0<=A&&A<=B&&0<=T&&T<=R&&0<=C&&C<=R;var $t=ct.pan(),mt=ct.zoom();if(D=rt(S,T,A,C),E=tt(S,T,A,C),I=[(($=[(S+A)/2,(T+C)/2])[0]-$t.x)/mt,($[1]-$t.y)/mt],E<4e4&&!H.touches[2]){var It=t.findNearestElement(dt[0],dt[1],!0,!0),gt=t.findNearestElement(dt[2],dt[3],!0,!0);return It&&It.isNode()?(It.activate().emit({originalEvent:H,type:"cxttapstart",position:{x:dt[0],y:dt[1]}}),t.touchData.start=It):gt&&gt.isNode()?(gt.activate().emit({originalEvent:H,type:"cxttapstart",position:{x:dt[0],y:dt[1]}}),t.touchData.start=gt):ct.emit({originalEvent:H,type:"cxttapstart",position:{x:dt[0],y:dt[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(H.touches[2])ct.boxSelectionEnabled()&&H.preventDefault();else if(!H.touches[1]){if(H.touches[0]){var xt=t.findNearestElements(dt[0],dt[1],!0,!0),Ct=xt[0];if(Ct!=null&&(Ct.activate(),t.touchData.start=Ct,t.touchData.starts=xt,t.nodeIsGrabbable(Ct))){var lt=t.dragData.touchDragEles=ct.collection(),ot=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ct.selected()?(ot=ct.$(function(Ft){return Ft.selected()&&t.nodeIsGrabbable(Ft)}),u(ot,{addToList:lt})):h(Ct,{addToList:lt}),s(Ct);var Y=function(Ft){return{originalEvent:H,type:Ft,position:{x:dt[0],y:dt[1]}}};Ct.emit(Y("grabon")),ot?ot.forEach(function(Ft){Ft.emit(Y("grab"))}):Ct.emit(Y("grab"))}n(Ct,["touchstart","tapstart","vmousedown"],H,{x:dt[0],y:dt[1]}),Ct==null&&(t.data.bgActivePosistion={x:ft[0],y:ft[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved!==!1||t.pinching||t.touchData.selecting||n(t.touchData.start,["taphold"],H,{x:dt[0],y:dt[1]})},t.tapholdDuration)}}if(H.touches.length>=1){for(var Ot=t.touchData.startPosition=[null,null,null,null,null,null],nt=0;nt<dt.length;nt++)Ot[nt]=Nt[nt]=dt[nt];var Ut=H.touches[0];t.touchData.startGPosition=[Ut.clientX,Ut.clientY]}}},!1),t.registerBinding(e,"touchmove",U=function(H){var ct=t.touchData.capture;if(ct||x(H)){var dt=t.selection,Nt=t.cy,ft=t.touchData.now,Dt=t.touchData.earlier,$t=Nt.zoom();if(H.touches[0]){var mt=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);ft[0]=mt[0],ft[1]=mt[1]}H.touches[1]&&(mt=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY),ft[2]=mt[0],ft[3]=mt[1]),H.touches[2]&&(mt=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY),ft[4]=mt[0],ft[5]=mt[1]);var It,gt=t.touchData.startGPosition;if(ct&&H.touches[0]&&gt){for(var xt=[],Ct=0;Ct<ft.length;Ct++)xt[Ct]=ft[Ct]-Dt[Ct];var lt=H.touches[0].clientX-gt[0],ot=lt*lt,Y=H.touches[0].clientY-gt[1];It=ot+Y*Y>=t.touchTapThreshold2}if(ct&&t.touchData.cxt){H.preventDefault();var Ot=H.touches[0].clientX-L,nt=H.touches[0].clientY-O,Ut=H.touches[1].clientX-L,Ft=H.touches[1].clientY-O,qt=tt(Ot,nt,Ut,Ft);if(qt/E>=2.25||qt>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Wt={originalEvent:H,type:"cxttapend",position:{x:ft[0],y:ft[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Wt),t.touchData.start=null):Nt.emit(Wt)}}if(ct&&t.touchData.cxt){Wt={originalEvent:H,type:"cxtdrag",position:{x:ft[0],y:ft[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Wt):Nt.emit(Wt),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Ht=t.findNearestElement(ft[0],ft[1],!0,!0);t.touchData.cxtOver&&Ht===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:H,type:"cxtdragout",position:{x:ft[0],y:ft[1]}}),t.touchData.cxtOver=Ht,Ht&&Ht.emit({originalEvent:H,type:"cxtdragover",position:{x:ft[0],y:ft[1]}}))}else if(ct&&H.touches[2]&&Nt.boxSelectionEnabled())H.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||Nt.emit({originalEvent:H,type:"boxstart",position:{x:ft[0],y:ft[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,dt[4]=1,dt&&dt.length!==0&&dt[0]!==void 0?(dt[2]=(ft[0]+ft[2]+ft[4])/3,dt[3]=(ft[1]+ft[3]+ft[5])/3):(dt[0]=(ft[0]+ft[2]+ft[4])/3,dt[1]=(ft[1]+ft[3]+ft[5])/3,dt[2]=(ft[0]+ft[2]+ft[4])/3+1,dt[3]=(ft[1]+ft[3]+ft[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(ct&&H.touches[1]&&!t.touchData.didSelect&&Nt.zoomingEnabled()&&Nt.panningEnabled()&&Nt.userZoomingEnabled()&&Nt.userPanningEnabled()){if(H.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),be=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var Xe=0;Xe<be.length;Xe++){var Vt=be[Xe]._private;Vt.grabbed=!1,Vt.rscratch.inDragLayer=!1}}var xe=t.touchData.start,Kt=(Ot=H.touches[0].clientX-L,nt=H.touches[0].clientY-O,Ut=H.touches[1].clientX-L,Ft=H.touches[1].clientY-O,rt(Ot,nt,Ut,Ft)),Xt=Kt/D;if(M){var pe=(Ot-S+(Ut-A))/2,de=(nt-T+(Ft-C))/2,ge=Nt.zoom(),pr=ge*Xt,Ne=Nt.pan(),Ze=I[0]*ge+Ne.x,ke=I[1]*ge+Ne.y,Ce={x:-pr/ge*(Ze-Ne.x-pe)+Ze,y:-pr/ge*(ke-Ne.y-de)+ke};if(xe&&xe.active()){var be=t.dragData.touchDragEles;d(be),t.redrawHint("drag",!0),t.redrawHint("eles",!0),xe.unactivate().emit("freeon"),be.emit("free"),t.dragData.didDrag&&(xe.emit("dragfreeon"),be.emit("dragfree"))}Nt.viewport({zoom:pr,pan:Ce,cancelOnFailedZoom:!0}),Nt.emit("pinchzoom"),D=Kt,S=Ot,T=nt,A=Ut,C=Ft,t.pinching=!0}H.touches[0]&&(mt=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY),ft[0]=mt[0],ft[1]=mt[1]),H.touches[1]&&(mt=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY),ft[2]=mt[0],ft[3]=mt[1]),H.touches[2]&&(mt=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY),ft[4]=mt[0],ft[5]=mt[1])}else if(H.touches[0]&&!t.touchData.didSelect){var Zt=t.touchData.start,Le=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(Ht=t.findNearestElement(ft[0],ft[1],!0,!0)),ct&&Zt!=null&&H.preventDefault(),ct&&Zt!=null&&t.nodeIsDraggable(Zt))if(It){be=t.dragData.touchDragEles;var Re=!t.dragData.didDrag;Re&&u(be,{inDragLayer:!0}),t.dragData.didDrag=!0;var hn={x:0,y:0};we(xt[0])&&we(xt[1])&&(hn.x+=xt[0],hn.y+=xt[1],Re&&(t.redrawHint("eles",!0),(nr=t.touchData.dragDelta)&&we(nr[0])&&we(nr[1])&&(hn.x+=nr[0],hn.y+=nr[1]))),t.hoverData.draggingEles=!0,be.silentShift(hn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Dt[0]&&t.touchData.startPosition[1]==Dt[1]&&t.redrawHint("eles",!0),t.redraw()}else{var nr;(nr=t.touchData.dragDelta=t.touchData.dragDelta||[]).length===0?(nr.push(xt[0]),nr.push(xt[1])):(nr[0]+=xt[0],nr[1]+=xt[1])}if(n(Zt||Ht,["touchmove","tapdrag","vmousemove"],H,{x:ft[0],y:ft[1]}),Zt&&Zt.grabbed()||Ht==Le||(Le&&Le.emit({originalEvent:H,type:"tapdragout",position:{x:ft[0],y:ft[1]}}),Ht&&Ht.emit({originalEvent:H,type:"tapdragover",position:{x:ft[0],y:ft[1]}})),t.touchData.last=Ht,ct)for(Xe=0;Xe<ft.length;Xe++)ft[Xe]&&t.touchData.startPosition[Xe]&&It&&(t.touchData.singleTouchMoved=!0);ct&&(Zt==null||Zt.pannable())&&Nt.panningEnabled()&&Nt.userPanningEnabled()&&(o(Zt,t.touchData.starts)&&(H.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=lf(t.touchData.startPosition)),t.swipePanning?(Nt.panBy({x:xt[0]*$t,y:xt[1]*$t}),Nt.emit("dragpan")):It&&(t.swipePanning=!0,Nt.panBy({x:lt*$t,y:Y*$t}),Nt.emit("dragpan"),Zt&&(Zt.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),mt=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY),ft[0]=mt[0],ft[1]=mt[1])}for(Ct=0;Ct<ft.length;Ct++)Dt[Ct]=ft[Ct];ct&&H.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(e,"touchcancel",W=function(H){var ct=t.touchData.start;t.touchData.capture=!1,ct&&ct.unactivate()}),t.registerBinding(e,"touchend",Q=function(H){var ct=t.touchData.start;if(t.touchData.capture){H.touches.length===0&&(t.touchData.capture=!1),H.preventDefault();var dt=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Nt,ft=t.cy,Dt=ft.zoom(),$t=t.touchData.now,mt=t.touchData.earlier;if(H.touches[0]){var It=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);$t[0]=It[0],$t[1]=It[1]}if(H.touches[1]&&(It=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY),$t[2]=It[0],$t[3]=It[1]),H.touches[2]&&(It=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY),$t[4]=It[0],$t[5]=It[1]),ct&&ct.unactivate(),t.touchData.cxt){if(Nt={originalEvent:H,type:"cxttapend",position:{x:$t[0],y:$t[1]}},ct?ct.emit(Nt):ft.emit(Nt),!t.touchData.cxtDragged){var gt={originalEvent:H,type:"cxttap",position:{x:$t[0],y:$t[1]}};ct?ct.emit(gt):ft.emit(gt)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!H.touches[2]&&ft.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var xt=ft.collection(t.getAllInBox(dt[0],dt[1],dt[2],dt[3]));dt[0]=void 0,dt[1]=void 0,dt[2]=void 0,dt[3]=void 0,dt[4]=0,t.redrawHint("select",!0),ft.emit({type:"boxend",originalEvent:H,position:{x:$t[0],y:$t[1]}}),xt.emit("box").stdFilter(function(qt){return qt.selectable()&&!qt.selected()}).select().emit("boxselect"),xt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ct!=null&&ct.unactivate(),H.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!H.touches[1]){if(!H.touches[0]){if(!H.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ct=t.dragData.touchDragEles;if(ct!=null){var lt=ct._private.grabbed;d(Ct),t.redrawHint("drag",!0),t.redrawHint("eles",!0),lt&&(ct.emit("freeon"),Ct.emit("free"),t.dragData.didDrag&&(ct.emit("dragfreeon"),Ct.emit("dragfree"))),n(ct,["touchend","tapend","vmouseup","tapdragout"],H,{x:$t[0],y:$t[1]}),ct.unactivate(),t.touchData.start=null}else{var ot=t.findNearestElement($t[0],$t[1],!0,!0);n(ot,["touchend","tapend","vmouseup","tapdragout"],H,{x:$t[0],y:$t[1]})}var Y=t.touchData.startPosition[0]-$t[0],Ot=Y*Y,nt=t.touchData.startPosition[1]-$t[1],Ut=(Ot+nt*nt)*Dt*Dt;t.touchData.singleTouchMoved||(ct||ft.$(":selected").unselect(["tapunselect"]),n(ct,["tap","vclick"],H,{x:$t[0],y:$t[1]}),K=!1,H.timeStamp-V<=ft.multiClickDebounceTime()?(G&&clearTimeout(G),K=!0,V=null,n(ct,["dbltap","vdblclick"],H,{x:$t[0],y:$t[1]})):(G=setTimeout(function(){K||n(ct,["onetap","voneclick"],H,{x:$t[0],y:$t[1]})},ft.multiClickDebounceTime()),V=H.timeStamp)),ct!=null&&!t.dragData.didDrag&&ct._private.selectable&&Ut<t.touchTapThreshold2&&!t.pinching&&(ft.selectionType()==="single"?(ft.$(r).unmerge(ct).unselect(["tapunselect"]),ct.select(["tapselect"])):ct.selected()?ct.unselect(["tapunselect"]):ct.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ft=0;Ft<$t.length;Ft++)mt[Ft]=$t[Ft];t.dragData.didDrag=!1,H.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),H.touches.length<2&&(H.touches.length===1&&(t.touchData.startGPosition=[H.touches[0].clientX,H.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),typeof TouchEvent>"u"){var at=[],ut=function(H){return{clientX:H.clientX,clientY:H.clientY,force:1,identifier:H.pointerId,pageX:H.pageX,pageY:H.pageY,radiusX:H.width/2,radiusY:H.height/2,screenX:H.screenX,screenY:H.screenY,target:H.target}},st=function(H){at.push(function(ct){return{event:ct,touch:ut(ct)}}(H))},_t=function(H){for(var ct=0;ct<at.length;ct++)if(at[ct].event.pointerId===H.pointerId)return void at.splice(ct,1)},X=function(H){H.touches=at.map(function(ct){return ct.touch})},Et=function(H){return H.pointerType==="mouse"||H.pointerType===4};t.registerBinding(t.container,"pointerdown",function(H){Et(H)||(H.preventDefault(),st(H),X(H),P(H))}),t.registerBinding(t.container,"pointerup",function(H){Et(H)||(_t(H),X(H),Q(H))}),t.registerBinding(t.container,"pointercancel",function(H){Et(H)||(_t(H),X(H),W())}),t.registerBinding(t.container,"pointermove",function(H){Et(H)||(H.preventDefault(),function(ct){var dt=at.filter(function(Nt){return Nt.event.pointerId===ct.pointerId})[0];dt.event=ct,dt.touch=ut(ct)}(H),X(H),U(H))})}};var bu={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(r,n,i,o,a,s){this.renderer.nodeShapeImpl("polygon",r,n,i,o,a,this.points)},intersectLine:function(r,n,i,o,a,s,l,u){return py(a,s,this.points,r,n,i/2,o/2,l)},checkPoint:function(r,n,i,o,a,s,l,u){return dc(r,n,this.points,s,l,o,a,[0,-1],i)}}}};bu.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},intersectLine:function(t,e,r,n,i,o,a,s){return function(l,u,h,d,p,f){var g=h-l,m=d-u;g/=p,m/=f;var y=Math.sqrt(g*g+m*m),v=y-1;if(v<0)return[];var x=v/y;return[(h-l)*x+l,(d-u)*x+u]}(i,o,t,e,r/2+a,n/2+a)},checkPoint:function(t,e,r,n,i,o,a,s){return Ih(t,e,n,i,o,a,r)}}},bu.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(r,n,i,o,a,s,l){if(s[l]!==void 0&&s[l+"-cx"]===r&&s[l+"-cy"]===n)return s[l];s[l]=new Array(e.length/2),s[l+"-cx"]=r,s[l+"-cy"]=n;var u=i/2,h=o/2;a=a==="auto"?dst(i,o):a;for(var d=new Array(e.length/2),p=0;p<e.length/2;p++)d[p]={x:r+u*e[2*p],y:n+h*e[2*p+1]};var f,g,m,y,v=d.length;for(g=d[v-1],f=0;f<v;f++)m=d[f%v],y=d[(f+1)%v],s[l][f]=F$(g,m,y,a),g=m,m=y;return s[l]},draw:function(r,n,i,o,a,s,l){this.renderer.nodeShapeImpl("round-polygon",r,n,i,o,a,this.points,this.getOrCreateCorners(n,i,o,a,s,l,"drawCorners"))},intersectLine:function(r,n,i,o,a,s,l,u,h){return function(d,p,f,g,m,y,v,x,b){var k,N=[],_=new Array(2*f.length);b.forEach(function(E,$){$===0?(_[_.length-2]=E.startX,_[_.length-1]=E.startY):(_[4*$-2]=E.startX,_[4*$-1]=E.startY),_[4*$]=E.stopX,_[4*$+1]=E.stopY,(k=U1(d,p,g,m,E.cx,E.cy,E.radius)).length!==0&&N.push(k[0],k[1])});for(var S=0;S<_.length/4;S++)(k=Mu(d,p,g,m,_[4*S],_[4*S+1],_[4*S+2],_[4*S+3],!1)).length!==0&&N.push(k[0],k[1]);if(N.length>2){for(var T=[N[0],N[1]],A=Math.pow(T[0]-d,2)+Math.pow(T[1]-p,2),C=1;C<N.length/2;C++){var D=Math.pow(N[2*C]-d,2)+Math.pow(N[2*C+1]-p,2);D<=A&&(T[0]=N[2*C],T[1]=N[2*C+1],A=D)}return T}return N}(a,s,this.points,r,n,0,0,0,this.getOrCreateCorners(r,n,i,o,u,h,"corners"))},checkPoint:function(r,n,i,o,a,s,l,u,h){return function(d,p,f,g,m,y,v,x){for(var b=new Array(2*f.length),k=0;k<x.length;k++){var N=x[k];if(b[4*k+0]=N.startX,b[4*k+1]=N.startY,b[4*k+2]=N.stopX,b[4*k+3]=N.stopY,Math.pow(N.cx-d,2)+Math.pow(N.cy-p,2)<=Math.pow(N.radius,2))return!0}return ma(d,p,b)}(r,n,this.points,0,0,0,0,this.getOrCreateCorners(s,l,o,a,u,h,"corners"))}}},bu.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:zo(4,0),draw:function(t,e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i,this.points,o)},intersectLine:function(t,e,r,n,i,o,a,s){return tz(i,o,t,e,r,n,a,s)},checkPoint:function(t,e,r,n,i,o,a,s){var l=n/2,u=i/2;s=s==="auto"?Kd(n,i):s;var h=2*(s=Math.min(l,u,s));return!!dc(t,e,this.points,o,a,n,i-h,[0,-1],r)||!!dc(t,e,this.points,o,a,n-h,i,[0,-1],r)||!!Ih(t,e,h,h,o-l+s,a-u+s,r)||!!Ih(t,e,h,h,o+l-s,a-u+s,r)||!!Ih(t,e,h,h,o+l-s,a+u-s,r)||!!Ih(t,e,h,h,o-l+s,a+u-s,r)}}},bu.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:zo(4,0),draw:function(t,e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i,null,o)},generateCutTrianglePts:function(t,e,r,n,i){var o=i==="auto"?this.cornerLength:i,a=e/2,s=t/2,l=r-s,u=r+s,h=n-a,d=n+a;return{topLeft:[l,h+o,l+o,h,l+o,h+o],topRight:[u-o,h,u,h+o,u-o,h+o],bottomRight:[u,d-o,u-o,d,u-o,d-o],bottomLeft:[l+o,d,l,d-o,l+o,d-o]}},intersectLine:function(t,e,r,n,i,o,a,s){var l=this.generateCutTrianglePts(r+2*a,n+2*a,t,e,s),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return py(i,o,u,t,e)},checkPoint:function(t,e,r,n,i,o,a,s){var l=s==="auto"?this.cornerLength:s;if(dc(t,e,this.points,o,a,n,i-2*l,[0,-1],r)||dc(t,e,this.points,o,a,n-2*l,i,[0,-1],r))return!0;var u=this.generateCutTrianglePts(n,i,o,a);return ma(t,e,u.topLeft)||ma(t,e,u.topRight)||ma(t,e,u.bottomRight)||ma(t,e,u.bottomLeft)}}},bu.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:zo(4,0),draw:function(t,e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i)},intersectLine:function(t,e,r,n,i,o,a,s){var l=this.generateBarrelBezierPts(r+2*a,n+2*a,t,e),u=function(d){var p=If({x:d[0],y:d[1]},{x:d[2],y:d[3]},{x:d[4],y:d[5]},.15),f=If({x:d[0],y:d[1]},{x:d[2],y:d[3]},{x:d[4],y:d[5]},.5),g=If({x:d[0],y:d[1]},{x:d[2],y:d[3]},{x:d[4],y:d[5]},.85);return[d[0],d[1],p.x,p.y,f.x,f.y,g.x,g.y,d[4],d[5]]},h=[].concat(u(l.topLeft),u(l.topRight),u(l.bottomRight),u(l.bottomLeft));return py(i,o,h,t,e)},generateBarrelBezierPts:function(t,e,r,n){var i=e/2,o=t/2,a=r-o,s=r+o,l=n-i,u=n+i,h=HS(t,e),d=h.heightOffset,p=h.widthOffset,f=h.ctrlPtOffsetPct*t,g={topLeft:[a,l+d,a+f,l,a+p,l],topRight:[s-p,l,s-f,l,s,l+d],bottomRight:[s,u-d,s-f,u,s-p,u],bottomLeft:[a+p,u,a+f,u,a,u-d]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(t,e,r,n,i,o,a,s){var l=HS(n,i),u=l.heightOffset,h=l.widthOffset;if(dc(t,e,this.points,o,a,n,i-2*u,[0,-1],r)||dc(t,e,this.points,o,a,n-2*h,i,[0,-1],r))return!0;for(var d=this.generateBarrelBezierPts(n,i,o,a),p=function(N,_,S){var T,A,C=S[4],D=S[2],E=S[0],$=S[5],I=S[1],L=Math.min(C,E),O=Math.max(C,E),B=Math.min($,I),R=Math.max($,I);if(L<=N&&N<=O&&B<=_&&_<=R){var M=[(T=C)-2*(A=D)+E,2*(A-T),T],F=function(P,U,W,Q){var K=U*U-4*P*(W-=Q);if(K<0)return[];var G=Math.sqrt(K),V=2*P;return[(-U+G)/V,(-U-G)/V]}(M[0],M[1],M[2],N).filter(function(P){return 0<=P&&P<=1});if(F.length>0)return F[0]}return null},f=Object.keys(d),g=0;g<f.length;g++){var m=d[f[g]],y=p(t,e,m);if(y!=null){var v=m[5],x=m[3],b=m[1],k=Bi(v,x,b,y);if(m.isTop&&k<=e||m.isBottom&&e<=k)return!0}}return!1}}},bu.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:zo(4,0),draw:function(t,e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,r,n,i,this.points,o)},intersectLine:function(t,e,r,n,i,o,a,s){var l=e-(n/2+a),u=Mu(i,o,t,e,t-(r/2+a),l,t+(r/2+a),l,!1);return u.length>0?u:tz(i,o,t,e,r,n,a,s)},checkPoint:function(t,e,r,n,i,o,a,s){var l=2*(s=s==="auto"?Kd(n,i):s);if(dc(t,e,this.points,o,a,n,i-l,[0,-1],r)||dc(t,e,this.points,o,a,n-l,i,[0,-1],r))return!0;var u=n/2+2*r,h=i/2+2*r;return!!ma(t,e,[o-u,a-h,o-u,a,o+u,a,o+u,a-h])||!!Ih(t,e,l,l,o+n/2-s,a+i/2-s,r)||!!Ih(t,e,l,l,o-n/2+s,a+i/2-s,r)}}},bu.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",zo(3,0)),this.generateRoundPolygon("round-triangle",zo(3,0)),this.generatePolygon("rectangle",zo(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r),this.generatePolygon("pentagon",zo(5,0)),this.generateRoundPolygon("round-pentagon",zo(5,0)),this.generatePolygon("hexagon",zo(6,0)),this.generateRoundPolygon("round-hexagon",zo(6,0)),this.generatePolygon("heptagon",zo(7,0)),this.generateRoundPolygon("round-heptagon",zo(7,0)),this.generatePolygon("octagon",zo(8,0)),this.generateRoundPolygon("round-octagon",zo(8,0));var n=new Array(20),i=jS(5,0),o=jS(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=o[2*s],n[4*s+3]=o[2*s+1];n=hst(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),t.makePolygon=function(u){var h,d="polygon-"+u.join("$");return(h=this[d])?h:e.generatePolygon(d,u)}};var olt={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||sst();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){e==null&&Mn("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}}},EH=function(t,e,r){for(var n=t.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(e,r)};olt.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(n){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){EH(t,!0,n);var i=Wc();t.render(t.renderOptions);var o=t.lastDrawTime=Wc();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var a=o-i;t.redrawTotalTime+=a,t.lastRedrawTime=a,t.averageRedrawTime=t.averageRedrawTime/2+a/2,t.requestedFrame=!1}else EH(t,!1,n);t.skipFrame=!1,I5(r)}};I5(r)}};var alt=function(t){this.init(t)},Dp=alt.prototype;Dp.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Dp.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,o=i.head,a="__________cytoscape_stylesheet",s="__________cytoscape_container",l=i.getElementById(a)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=i.createElement("style");u.id=a,u.textContent="."+s+" { position: relative; }",o.insertBefore(u,o.children[0])}n.getComputedStyle(r).getPropertyValue("position")==="static"&&Kr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=we(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Dp.notify=function(t,e){var r=this,n=r.cy;this.destroyed||(t!=="init"?t!=="destroy"?((t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),t!=="load"&&t!=="resize"&&t!=="mount"||(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):r.destroy():r.load())},Dp.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r.target;(n.off||n.removeEventListener).apply(n,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}},Dp.isHeadless=function(){return!1},[MYt,ilt,UYt,W1,bu,olt].forEach(function(t){rr(Dp,t)});var gE=1e3/60,slt=function(t){return function(){var e=this,r=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var n=av(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},t.deqRedrawThreshold),i=t.priority||E$;r.beforeRender(function(o,a){var s=Wc(),l=r.averageRedrawTime,u=r.lastRedrawTime,h=[],d=r.cy.extent(),p=r.getPixelRatio();for(o||r.flushRenderedStyleQueue();;){var f=Wc(),g=f-s,m=f-a;if(u<gE){var y=gE-(o?l:0);if(m>=t.deqFastCost*y)break}else if(o){if(g>=t.deqCost*u||g>=t.deqAvgCost*l)break}else if(m>=t.deqNoDrawCost*gE)break;var v=t.deq(e,p,d);if(!(v.length>0))break;for(var x=0;x<v.length;x++)h.push(v[x])}h.length>0&&(t.onDeqd(e,h),!o&&t.shouldRedraw(e,h,p,d)&&n())},i(e))}}},qYt=function(){return xh(function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L5;bh(this,t),this.idsByKey=new _c,this.keyForId=new _c,this.cachesByLvl=new _c,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r},[{key:"getIdsFor",value:function(t){t==null&&Mn("Can not get id list for null key");var e=this.idsByKey,r=this.idsByKey.get(t);return r||(r=new Sg,e.set(t,r)),r}},{key:"addIdForKey",value:function(t,e){t!=null&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){t!=null&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),r=this.keyForId.get(e),n=this.getKey(t);this.deleteIdForKey(r,e),this.addIdForKey(n,e),this.keyForId.set(e,n)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),r=this.keyForId.get(e);this.deleteIdForKey(r,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,r=this.lvls,n=e.get(t);return n||(n=new _c,e.set(t,n),r.push(t)),n}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var r=this.getKey(t),n=this.getCache(r,e);return n!=null&&this.updateKeyMappingFor(t),n}},{key:"getForCachedKey",value:function(t,e){var r=this.keyForId.get(t.id());return this.getCache(r,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var r=this.getKey(t);return this.hasCache(r,e)}},{key:"setCache",value:function(t,e,r){r.key=t,this.getCachesAt(e).set(t,r)}},{key:"set",value:function(t,e,r){var n=this.getKey(t);this.setCache(n,e,r),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var r=this.getKey(t);this.deleteCache(r,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach(function(r){return e.deleteCache(t,r)})}},{key:"invalidate",value:function(t){var e=t.id(),r=this.keyForId.get(e);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(r),n||this.getNumberOfIdsForKey(r)===0}}])}(),GYt=7.99,Op={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},WYt=Li({getKey:null,doesEleInvalidateKey:L5,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ist,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),V1=function(t,e){var r=this;r.renderer=t,r.onDequeues=[];var n=WYt(e);rr(r,n),r.lookup=new qYt(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},fi=V1.prototype;fi.reasons=Op,fi.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},fi.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},fi.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new sv(function(t,e){return e.reqs-t.reqs})},fi.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},fi.getElement=function(t,e,r,n,i){var o=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(_$(s*r))),n<-4)n=-4;else if(s>=7.99||n>3)return null;var u=Math.pow(2,n),h=e.h*u,d=e.w*u,p=a.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,p))return null;var f,g=l.get(t,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;if(f=h<=25?25:h<=50?50:50*Math.ceil(h/50),h>1024||d>1024)return null;var m=o.getTextureQueue(f),y=m[m.length-2],v=function(){return o.recycleTexture(f,d)||o.addTexture(f,d)};y||(y=m[m.length-1]),y||(y=v()),y.width-y.usedWidth<d&&(y=v());for(var x,b=function(L){return L&&L.scaledLabelShown===p},k=i&&i===Op.dequeue,N=i&&i===Op.highQuality,_=i&&i===Op.downscale,S=n+1;S<=3;S++){var T=l.get(t,S);if(T){x=T;break}}var A=x&&x.level===n+1?x:null,C=function(){y.context.drawImage(A.texture.canvas,A.x,0,A.width,A.height,y.usedWidth,0,d,h)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,d,f),b(A))C();else if(b(x)){if(!N)return o.queueElement(t,x.level-1),x;for(var D=x.level;D>n;D--)A=o.getElement(t,e,r,D,Op.downscale);C()}else{var E;if(!k&&!N&&!_)for(var $=n-1;$>=-4;$--){var I=l.get(t,$);if(I){E=I;break}}if(b(E))return o.queueElement(t,n),E;y.context.translate(y.usedWidth,0),y.context.scale(u,u),this.drawElement(y.context,t,e,p,!1),y.context.scale(1/u,1/u),y.context.translate(-y.usedWidth,0)}return g={x:y.usedWidth,texture:y,level:n,scale:u,width:d,height:h,scaledLabelShown:p},y.usedWidth+=Math.ceil(d+8),y.eleCaches.push(g),l.set(t,n,g),o.checkTextureFullness(y),g},fi.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},fi.invalidateElement=function(t){var e=this,r=e.lookup,n=[];if(r.isInvalid(t)){for(var i=-4;i<=3;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}if(r.invalidate(t))for(var a=0;a<n.length;a++){var s=n[a],l=s.texture;l.invalidatedWidth+=s.width,s.invalidated=!0,e.checkTextureUtility(l)}e.removeFromQueue(t)}},fi.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},fi.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?Ou(e,t):t.fullnessChecks++},fi.retireTexture=function(t){var e=t.height,r=this.getTextureQueue(e),n=this.lookup;Ou(r,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var a=i[o];n.deleteCache(a.key,a.level)}FS(i),this.getRetiredTextureQueue(e).push(t)},fi.addTexture=function(t,e){var r={};return this.getTextureQueue(t).push(r),r.eleCaches=[],r.height=t,r.width=Math.max(1024,e),r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,r.canvas=this.renderer.makeOffscreenCanvas(r.width,r.height),r.context=r.canvas.getContext("2d"),r},fi.recycleTexture=function(t,e){for(var r=this.getTextureQueue(t),n=this.getRetiredTextureQueue(t),i=0;i<n.length;i++){var o=n[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,FS(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Ou(n,o),r.push(o),o}},fi.queueElement=function(t,e){var r=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(t),o=n[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,r.updateItem(o);else{var a={eles:t.spawn().merge(t),level:e,reqs:1,key:i};r.push(a),n[i]=a}},fi.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<1&&r.size()>0;a++){var s=r.pop(),l=s.key,u=s.eles[0],h=o.hasCache(u,s.level);if(n[l]=null,!h){i.push(s);var d=e.getBoundingBox(u);e.getElement(u,d,t,s.level,Op.dequeue)}}return i},fi.removeFromQueue=function(t){var e=this.getElementQueue(),r=this.getElementKeyToQueue(),n=this.getKey(t),i=r[n];i!=null&&(i.eles.length===1?(i.reqs=T$,e.updateItem(i),e.pop(),r[n]=null):i.eles.unmerge(t))},fi.onDequeue=function(t){this.onDequeues.push(t)},fi.offDequeue=function(t){Ou(this.onDequeues,t)},fi.setupDequeueing=slt({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,r){return t.dequeue(e,r)},onDeqd:function(t,e){for(var r=0;r<t.onDequeues.length;r++)(0,t.onDequeues[r])(e)},shouldRedraw:function(t,e,r,n){for(var i=0;i<e.length;i++)for(var o=e[i].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(S$(s,n))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var llt=function(t){var e=this,r=e.renderer=t,n=r.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=Wc()-500,e.skipping=!1,e.eleTxrDeqs=n.collection(),e.scheduleElementRefinement=av(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},50),r.beforeRender(function(i,o){o-e.lastInvalidationTime<=250?e.skipping=!0:e.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new sv(function(i,o){return o.reqs-i.reqs}),e.setupDequeueing()},Ki=llt.prototype,_H=0,VYt=Math.pow(2,53)-1;Ki.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,i),a={id:_H=++_H%VYt,bb:t,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(r,r),s.translate(l,u),a},Ki.getLayers=function(t,e,r){var n=this,i=n.renderer.cy.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if((r=Math.ceil(_$(i*e)))<-4)r=-4;else if(i>=3.99||r>2)return null}n.validateLayersElesOrdering(r,t);var a,s,l=n.layersByLevel,u=Math.pow(2,r),h=l[r]=l[r]||[];if(n.levelIsComplete(r,t))return h;(function(){var k=function(T){if(n.validateLayersElesOrdering(T,t),n.levelIsComplete(T,t))return s=l[T],!0},N=function(T){if(!s)for(var A=r+T;-4<=A&&A<=2&&!k(A);A+=T);};N(1),N(-1);for(var _=h.length-1;_>=0;_--){var S=h[_];S.invalid&&Ou(h,S)}})();var d=function(k){var N=(k=k||{}).after;(function(){if(!a){a=Sa();for(var C=0;C<t.length;C++)cst(a,t[C].boundingBox())}})();var _=Math.ceil(a.w*u),S=Math.ceil(a.h*u);if(_>32767||S>32767||_*S>16e6)return null;var T=n.makeLayer(a,r);if(N!=null){var A=h.indexOf(N)+1;h.splice(A,0,T)}else(k.insert===void 0||k.insert)&&h.unshift(T);return T};if(n.skipping&&!o)return null;for(var p=null,f=t.length/1,g=!o,m=0;m<t.length;m++){var y=t[m],v=y._private.rscratch,x=v.imgLayerCaches=v.imgLayerCaches||{},b=x[r];if(b)p=b;else{if((!p||p.eles.length>=f||!ust(p.bb,y.boundingBox()))&&!(p=d({insert:!0,after:p})))return null;s||g?n.queueLayer(p,y):n.drawEleInLayer(p,y,r,e),p.eles.push(y),x[r]=p}}return s||(g?null:h)},Ki.getEleLevelForLayerLevel=function(t,e){return t},Ki.drawEleInLayer=function(t,e,r,n){var i=this.renderer,o=t.context,a=e.boundingBox();a.w!==0&&a.h!==0&&e.visible()&&(r=this.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,!0),i.setImgSmoothing(o,!0))},Ki.levelIsComplete=function(t,e){var r=this.layersByLevel[t];if(!r||r.length===0)return!1;for(var n=0,i=0;i<r.length;i++){var o=r[i];if(o.reqs>0||o.invalid)return!1;n+=o.eles.length}return n===e.length},Ki.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}}},Ki.updateElementsInLayers=function(t,e){for(var r=nv(t[0]),n=0;n<t.length;n++)for(var i=r?null:t[n],o=r?t[n]:t[n].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||e(u,o,i))}},Ki.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var r=this.layersByLevel[e];if(r&&r.length>0){t=!0;break}}return t},Ki.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Wc(),t.length!==0&&e.haveLayers()&&e.updateElementsInLayers(t,function(r,n,i){e.invalidateLayer(r)}))},Ki.invalidateLayer=function(t){if(this.lastInvalidationTime=Wc(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Ou(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var o=r[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}},Ki.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(r,n,i){var o=r.replacement;if(o||((o=r.replacement=e.makeLayer(r.bb,r.level)).replaces=r,o.eles=r.eles),!o.reqs)for(var a=0;a<o.eles.length;a++)e.queueLayer(o,o.eles[a])})},Ki.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},Ki.queueLayer=function(t,e){var r=this.layersQueue,n=t.elesQueue,i=n.hasId=n.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;n.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,r.updateItem(t)):(t.reqs=1,r.push(t))}},Ki.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<1&&r.size()!==0;){var o=r.peek();if(o.replacement)r.pop();else if(o.replaces&&o!==o.replaces.replacement)r.pop();else if(o.invalid)r.pop();else{var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}}return n},Ki.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],r=t.replaces,n=e.indexOf(r);if(!(n<0||r.invalid)){e[n]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[t.level]=t)}this.requestRedraw()}},Ki.requestRedraw=av(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),Ki.setupDequeueing=slt({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:E$,shouldRedraw:ist,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var SH,clt={};function YYt(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function XYt(t,e,r){for(var n,i=0;i<e.length;i++){var o=e[i];i===0&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function AH(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];t.lineTo(o.x,o.y)}var a=r,s=r[0];for(t.moveTo(s.x,s.y),i=1;i<a.length;i++)o=a[i],t.lineTo(o.x,o.y);t.closePath&&t.closePath()}function KYt(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,2*Math.PI,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var l=o[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function ZYt(t,e,r,n){t.arc(e,r,n,0,2*Math.PI,!1)}clt.arrowShapeImpl=function(t){return(SH||(SH={polygon:YYt,"triangle-backcurve":XYt,"triangle-tee":AH,"circle-triangle":KYt,"triangle-cross":AH,circle:ZYt}))[t]};var Kp={drawElement:function(t,e,r,n,i,o){e.isNode()?this.drawNode(t,e,r,n,i,o):this.drawEdge(t,e,r,n,i,o)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawElementUnderlay:function(t,e){e.isNode()?this.drawNodeUnderlay(t,e):this.drawEdgeUnderlay(t,e)},drawCachedElementPortion:function(t,e,r,n,i,o,a,s){var l=this,u=r.getBoundingBox(e);if(u.w!==0&&u.h!==0){var h=r.getElement(e,u,n,i,o);if(h!=null){var d=s(l,e);if(d===0)return;var p,f,g,m,y,v,x=a(l,e),b=u.x1,k=u.y1,N=u.w,_=u.h;if(x!==0){var S=r.getRotationPoint(e);g=S.x,m=S.y,t.translate(g,m),t.rotate(x),(y=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var T=r.getRotationOffset(e);p=T.x,f=T.y}else p=b,f=k;d!==1&&(v=t.globalAlpha,t.globalAlpha=v*d),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,p,f,N,_),d!==1&&(t.globalAlpha=v),x!==0&&(t.rotate(-x),t.translate(-g,-m),y||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}}},QYt=function(){return 0},JYt=function(t,e){return t.getTextAngle(e,null)},tXt=function(t,e){return t.getTextAngle(e,"source")},eXt=function(t,e){return t.getTextAngle(e,"target")},rXt=function(t,e){return e.effectiveOpacity()},mE=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Kp.drawCachedElement=function(t,e,r,n,i,o){var a=this,s=a.data,l=s.eleTxrCache,u=s.lblTxrCache,h=s.slbTxrCache,d=s.tlbTxrCache,p=e.boundingBox(),f=o===!0?l.reasons.highQuality:null;if(p.w!==0&&p.h!==0&&e.visible()&&(!n||S$(p,n))){var g=e.isEdge(),m=e.element()._private.rscratch.badLine;a.drawElementUnderlay(t,e),a.drawCachedElementPortion(t,e,l,r,i,f,QYt,rXt),g&&m||a.drawCachedElementPortion(t,e,u,r,i,f,JYt,mE),g&&!m&&(a.drawCachedElementPortion(t,e,h,r,i,f,tXt,mE),a.drawCachedElementPortion(t,e,d,r,i,f,eXt,mE)),a.drawElementOverlay(t,e)}},Kp.drawElements=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];this.drawElement(t,n)}},Kp.drawCachedElements=function(t,e,r,n){for(var i=0;i<e.length;i++){var o=e[i];this.drawCachedElement(t,o,r,n)}},Kp.drawCachedNodes=function(t,e,r,n){for(var i=0;i<e.length;i++){var o=e[i];o.isNode()&&this.drawCachedElement(t,o,r,n)}},Kp.drawLayeredElements=function(t,e,r,n){var i=this.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;s.w!==0&&s.h!==0&&t.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(t,e,r,n)};var xu={drawEdge:function(t,e,r){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],a=this,s=e._private.rscratch;if((!o||e.visible())&&!s.badLine&&s.allpts!=null&&!isNaN(s.allpts[0])){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=o?e.pstyle("opacity").value:1,h=o?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,f=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,y=e.pstyle("line-outline-color").value,v=u*h,x=u*h,b=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;d==="straight-triangle"?(a.eleStrokeStyle(t,e,A),a.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=f,t.lineCap=g,a.eleStrokeStyle(t,e,A),a.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},k=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;a.drawArrowheads(t,e,A)};if(t.lineJoin="round",e.pstyle("ghost").value==="yes"){var N=e.pstyle("ghost-offset-x").pfValue,_=e.pstyle("ghost-offset-y").pfValue,S=e.pstyle("ghost-opacity").value,T=v*S;t.translate(N,_),b(T),k(T),t.translate(-N,-_)}else(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;t.lineWidth=f+m,t.lineCap=g,m>0?(a.colorStrokeStyle(t,y[0],y[1],y[2],A),d==="straight-triangle"?a.drawEdgeTrianglePath(e,t,s.allpts):(a.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")):t.lineCap="butt"})();i&&a.drawEdgeUnderlay(t,e),b(),k(),i&&a.drawEdgeOverlay(t,e),a.drawElementText(t,e,null,n),r&&t.translate(l.x1,l.y1)}}},CH=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,r){if(r.visible()){var n=r.pstyle("".concat(t,"-opacity")).value;if(n!==0){var i=this,o=i.usePaths(),a=r._private.rscratch,s=2*r.pstyle("".concat(t,"-padding")).pfValue,l=r.pstyle("".concat(t,"-color")).value;e.lineWidth=s,a.edgeType!=="self"||o?e.lineCap="round":e.lineCap="butt",i.colorStrokeStyle(e,l[0],l[1],l[2],n),i.drawEdgePath(r,e,a.allpts,"solid")}}}};xu.drawEdgeOverlay=CH("overlay"),xu.drawEdgeUnderlay=CH("underlay"),xu.drawEdgePath=function(t,e,r,n){var i,o=t._private.rscratch,a=e,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(l){var d=r.join("$");o.pathCacheKey&&o.pathCacheKey===d?(i=e=o.pathCache,s=!0):(i=e=new Path2D,o.pathCacheKey=d,o.pathCache=i)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=h;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var f=2;f+1<r.length;f+=2)e.lineTo(r[f],r[f+1]);break;case"segments":if(o.isRound){var g,m=Xs(o.roundCorners);try{for(m.s();!(g=m.n()).done;)elt(e,g.value)}catch(v){m.e(v)}finally{m.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1])}e=a,l?e.stroke(i):e.stroke(),e.setLineDash&&e.setLineDash([])},xu.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var o=[r[i+2]-r[i],r[i+3]-r[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/a,-o[0]/a],l=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}},xu.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},xu.drawArrowhead=function(t,e,r,n,i,o,a){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),f=p.value==="match-line"?d:p.pfValue;p.units==="%"&&(f*=d);var g=e.pstyle("opacity").value;a===void 0&&(a=g);var m=t.globalCompositeOperation;a===1&&h!=="hollow"||(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,u,d,l,f,n,i,o),t.globalCompositeOperation=m);var y=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,y[0],y[1],y[2],a),s.colorStrokeStyle(t,y[0],y[1],y[2],a),s.drawArrowShape(e,t,h,d,l,f,n,i,o)}}},xu.drawArrowShape=function(t,e,r,n,i,o,a,s,l){var u,h=this,d=this.usePaths()&&i!=="triangle-cross",p=!1,f=e,g={x:a,y:s},m=t.pstyle("arrow-scale").value,y=this.getArrowWidth(n,m),v=h.arrowShapes[i];if(d){var x=h.arrowPathCache=h.arrowPathCache||[],b=ch(i),k=x[b];k!=null?(u=e=k,p=!0):(u=e=new Path2D,x[b]=u)}p||(e.beginPath&&e.beginPath(),d?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,y,l,g,n),e.closePath&&e.closePath()),e=f,d&&(e.translate(a,s),e.rotate(l),e.scale(y,y)),r!=="filled"&&r!=="both"||(d?e.fill(u):e.fill()),r!=="hollow"&&r!=="both"||(e.lineWidth=o/(d?y:1),e.lineJoin="miter",d?e.stroke(u):e.stroke()),d&&(e.scale(1/y,1/y),e.rotate(-l),e.translate(-a,-s))};var nXt={safeDrawImage:function(t,e,r,n,i,o,a,s,l,u){if(!(i<=0||o<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,o,a,s,l,u)}catch(h){Kr(h)}},drawInscribedImage:function(t,e,r,n,i){var o=this,a=r.position(),s=a.x,l=a.y,u=r.cy().style(),h=u.getIndexedStyle.bind(u),d=h(r,"background-fit","value",n),p=h(r,"background-repeat","value",n),f=r.width(),g=r.height(),m=2*r.padding(),y=f+(h(r,"background-width-relative-to","value",n)==="inner"?0:m),v=g+(h(r,"background-height-relative-to","value",n)==="inner"?0:m),x=r._private.rscratch,b=h(r,"background-clip","value",n)==="node",k=h(r,"background-image-opacity","value",n)*i,N=h(r,"background-image-smoothing","value",n),_=r.pstyle("corner-radius").value;_!=="auto"&&(_=r.pstyle("corner-radius").pfValue);var S=e.width||e.cachedW,T=e.height||e.cachedH;S!=null&&T!=null||(document.body.appendChild(e),S=e.cachedW=e.width||e.offsetWidth,T=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var A=S,C=T;if(h(r,"background-width","value",n)!=="auto"&&(A=h(r,"background-width","units",n)==="%"?h(r,"background-width","pfValue",n)*y:h(r,"background-width","pfValue",n)),h(r,"background-height","value",n)!=="auto"&&(C=h(r,"background-height","units",n)==="%"?h(r,"background-height","pfValue",n)*v:h(r,"background-height","pfValue",n)),A!==0&&C!==0){if(d==="contain")A*=D=Math.min(y/A,v/C),C*=D;else if(d==="cover"){var D;A*=D=Math.max(y/A,v/C),C*=D}var E=s-y/2,$=h(r,"background-position-x","units",n),I=h(r,"background-position-x","pfValue",n);E+=$==="%"?(y-A)*I:I;var L=h(r,"background-offset-x","units",n),O=h(r,"background-offset-x","pfValue",n);E+=L==="%"?(y-A)*O:O;var B=l-v/2,R=h(r,"background-position-y","units",n),M=h(r,"background-position-y","pfValue",n);B+=R==="%"?(v-C)*M:M;var F=h(r,"background-offset-y","units",n),P=h(r,"background-offset-y","pfValue",n);B+=F==="%"?(v-C)*P:P,x.pathCache&&(E-=s,B-=l,s=0,l=0);var U=t.globalAlpha;t.globalAlpha=k;var W=o.getImgSmoothing(t),Q=!1;if(N==="no"&&W?(o.setImgSmoothing(t,!1),Q=!0):N!=="yes"||W||(o.setImgSmoothing(t,!0),Q=!0),p==="no-repeat")b&&(t.save(),x.pathCache?t.clip(x.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,s,l,y,v,_,x),t.clip())),o.safeDrawImage(t,e,0,0,S,T,E,B,A,C),b&&t.restore();else{var K=t.createPattern(e,p);t.fillStyle=K,o.nodeShapes[o.getNodeShape(r)].draw(t,s,l,y,v,_,x),t.translate(E,B),t.fill(),t.translate(-E,-B)}t.globalAlpha=U,Q&&o.setImgSmoothing(t,W)}}},Zh={};function yE(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,a=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+i-o),t.quadraticCurveTo(e+n,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.quadraticCurveTo(e,r+i,e,r+i-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),a?t.stroke():t.fill()}Zh.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(_$(r*n));e=Math.pow(2,i)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},Zh.drawElementText=function(t,e,r,n,i){var o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],a=this;if(n==null){if(o&&!a.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=a.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,h=e.pstyle("label"),d=e.pstyle("source-label"),p=e.pstyle("target-label");if(u||(!h||!h.value)&&(!d||!d.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var f,g=!r;r&&(f=r,t.translate(-f.x1,-f.y1)),i==null?(a.drawText(t,e,null,g,o),e.isEdge()&&(a.drawText(t,e,"source",g,o),a.drawText(t,e,"target",g,o))):a.drawText(t,e,i,g,o),r&&t.translate(f.x1,f.y1)},Zh.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if((e=this.fontCaches[r]).context===t)return e;return e={context:t},this.fontCaches.push(e),e},Zh.setupTextStyle=function(t,e){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=n+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,h[0],h[1],h[2],l)},Zh.getTextAngle=function(t,e){var r,n=t._private.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var a=js(n,"labelAngle",e);r=t.isEdge()?a:0}else r=o.strValue==="none"?0:o.pfValue;return r},Zh.drawText=function(t,e,r){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=e._private.rscratch,a=i?e.effectiveOpacity():1;if(!i||a!==0&&e.pstyle("text-opacity").value!==0){r==="main"&&(r=null);var s,l,u=js(o,"labelX",r),h=js(o,"labelY",r),d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(t,e,i);var p,f=r?r+"-":"",g=js(o,"labelWidth",r),m=js(o,"labelHeight",r),y=e.pstyle(f+"text-margin-x").pfValue,v=e.pstyle(f+"text-margin-y").pfValue,x=e.isEdge(),b=e.pstyle("text-halign").value,k=e.pstyle("text-valign").value;switch(x&&(b="center",k="center"),u+=y,h+=v,(p=n?this.getTextAngle(e,r):0)!==0&&(s=u,l=h,t.translate(s,l),t.rotate(p),u=0,h=0),k){case"top":break;case"center":h+=m/2;break;case"bottom":h+=m}var N=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,T=e.pstyle("text-background-padding").pfValue,A=e.pstyle("text-background-shape").strValue.indexOf("round")===0;if(N>0||S>0&&_>0){var C=u-T;switch(b){case"left":C-=g;break;case"center":C-=g/2}var D=h-m-T,E=g+2*T,$=m+2*T;if(N>0){var I=t.fillStyle,L=e.pstyle("text-background-color").value;t.fillStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+N*a+")",A?yE(t,C,D,E,$,2):t.fillRect(C,D,E,$),t.fillStyle=I}if(S>0&&_>0){var O=t.strokeStyle,B=t.lineWidth,R=e.pstyle("text-border-color").value,M=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+R[0]+","+R[1]+","+R[2]+","+_*a+")",t.lineWidth=S,t.setLineDash)switch(M){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=S/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(A?yE(t,C,D,E,$,2,"stroke"):t.strokeRect(C,D,E,$),M==="double"){var F=S/2;A?yE(t,C+F,D+F,E-2*F,$-2*F,2,"stroke"):t.strokeRect(C+F,D+F,E-2*F,$-2*F)}t.setLineDash&&t.setLineDash([]),t.lineWidth=B,t.strokeStyle=O}}var P=2*e.pstyle("text-outline-width").pfValue;if(P>0&&(t.lineWidth=P),e.pstyle("text-wrap").value==="wrap"){var U=js(o,"labelWrapCachedLines",r),W=js(o,"labelLineHeight",r),Q=g/2,K=this.getLabelJustification(e);switch(K==="auto"||(b==="left"?K==="left"?u+=-g:K==="center"&&(u+=-Q):b==="center"?K==="left"?u+=-Q:K==="right"&&(u+=Q):b==="right"&&(K==="center"?u+=Q:K==="right"&&(u+=g))),k){case"top":case"center":case"bottom":h-=(U.length-1)*W}for(var G=0;G<U.length;G++)P>0&&t.strokeText(U[G],u,h),t.fillText(U[G],u,h),h+=W}else P>0&&t.strokeText(d,u,h),t.fillText(d,u,h);p!==0&&(t.rotate(-p),t.translate(-s,-l))}}};var Y1={drawNode:function(t,e,r){var n,i,o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],l=this,u=e._private,h=u.rscratch,d=e.position();if(we(d.x)&&we(d.y)&&(!s||e.visible())){var p,f,g=s?e.effectiveOpacity():1,m=l.usePaths(),y=!1,v=e.padding();n=e.width()+2*v,i=e.height()+2*v,r&&(f=r,t.translate(-f.x1,-f.y1));for(var x=e.pstyle("background-image").value,b=new Array(x.length),k=new Array(x.length),N=0,_=0;_<x.length;_++){var S=x[_];if(b[_]=S!=null&&S!=="none"){var T=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",_);N++,k[_]=l.getCachedImage(S,T,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var A=e.pstyle("background-blacken").value,C=e.pstyle("border-width").pfValue,D=e.pstyle("background-opacity").value*g,E=e.pstyle("border-color").value,$=e.pstyle("border-style").value,I=e.pstyle("border-join").value,L=e.pstyle("border-cap").value,O=e.pstyle("border-position").value,B=e.pstyle("border-dash-pattern").pfValue,R=e.pstyle("border-dash-offset").pfValue,M=e.pstyle("border-opacity").value*g,F=e.pstyle("outline-width").pfValue,P=e.pstyle("outline-color").value,U=e.pstyle("outline-style").value,W=e.pstyle("outline-opacity").value*g,Q=e.pstyle("outline-offset").value,K=e.pstyle("corner-radius").value;K!=="auto"&&(K=e.pstyle("corner-radius").pfValue);var G=function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;l.eleFillStyle(t,e,mt)},V=function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;l.colorStrokeStyle(t,E[0],E[1],E[2],mt)},rt=function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;l.colorStrokeStyle(t,P[0],P[1],P[2],mt)},tt=function(mt,It,gt,xt){var Ct,lt=l.nodePathCache=l.nodePathCache||[],ot=nst(gt==="polygon"?gt+","+xt.join(","):gt,""+It,""+mt,""+K),Y=lt[ot],Ot=!1;return Y!=null?(Ct=Y,Ot=!0,h.pathCache=Ct):(Ct=new Path2D,lt[ot]=h.pathCache=Ct),{path:Ct,cacheHit:Ot}},at=e.pstyle("shape").strValue,ut=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(d.x,d.y);var st=tt(n,i,at,ut);p=st.path,y=st.cacheHit}var _t=function(){if(!y){var mt=d;m&&(mt={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(p||t,mt.x,mt.y,n,i,K,h)}m?t.fill(p):t.fill()},X=function(){for(var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,It=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],gt=u.backgrounding,xt=0,Ct=0;Ct<k.length;Ct++){var lt=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ct);It&&lt==="over"||!It&&lt==="inside"?xt++:b[Ct]&&k[Ct].complete&&!k[Ct].error&&(xt++,l.drawInscribedImage(t,k[Ct],e,Ct,mt))}u.backgrounding=xt!==N,gt!==u.backgrounding&&e.updateStyle(!1)},Et=function(){var mt=arguments.length>0&&arguments[0]!==void 0&&arguments[0],It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;l.hasPie(e)&&(l.drawPie(t,e,It),mt&&(m||l.nodeShapes[l.getNodeShape(e)].draw(t,d.x,d.y,n,i,K,h)))},H=function(){var mt=(A>0?A:-A)*(arguments.length>0&&arguments[0]!==void 0?arguments[0]:g),It=A>0?0:255;A!==0&&(l.colorFillStyle(t,It,It,It,mt),m?t.fill(p):t.fill())},ct=function(){if(C>0){if(t.lineWidth=C,t.lineCap=L,t.lineJoin=I,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(B),t.lineDashOffset=R;break;case"solid":case"double":t.setLineDash([])}if(O!=="center"){if(t.save(),t.lineWidth*=2,O==="inside")m?t.clip(p):t.clip();else{var mt=new Path2D;mt.rect(-n/2-C,-i/2-C,n+2*C,i+2*C),mt.addPath(p),t.clip(mt,"evenodd")}m?t.stroke(p):t.stroke(),t.restore()}else m?t.stroke(p):t.stroke();if($==="double"){t.lineWidth=C/3;var It=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(p):t.stroke(),t.globalCompositeOperation=It}t.setLineDash&&t.setLineDash([])}},dt=function(){if(F>0){if(t.lineWidth=F,t.lineCap="butt",t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}var mt=d;m&&(mt={x:0,y:0});var It=l.getNodeShape(e),gt=C;O==="inside"&&(gt=0),O==="outside"&&(gt*=2);var xt,Ct=(n+gt+(F+Q))/n,lt=(i+gt+(F+Q))/i,ot=n*Ct,Y=i*lt,Ot=l.nodeShapes[It].points;if(m&&(xt=tt(ot,Y,It,Ot).path),It==="ellipse")l.drawEllipsePath(xt||t,mt.x,mt.y,ot,Y);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(It)){var nt=0,Ut=0,Ft=0;It==="round-diamond"?nt=1.4*(gt+Q+F):It==="round-heptagon"?(nt=1.075*(gt+Q+F),Ft=-(gt/2+Q+F)/35):It==="round-hexagon"?nt=1.12*(gt+Q+F):It==="round-pentagon"?(nt=1.13*(gt+Q+F),Ft=-(gt/2+Q+F)/15):It==="round-tag"?(nt=1.12*(gt+Q+F),Ut=.07*(gt/2+F+Q)):It==="round-triangle"&&(nt=(gt+Q+F)*(Math.PI/2),Ft=-(gt+Q/2+F)/Math.PI),nt!==0&&(ot=n*(Ct=(n+nt)/n),["round-hexagon","round-tag"].includes(It)||(Y=i*(lt=(i+nt)/i)));for(var qt=ot/2,Wt=Y/2,Ht=(K=K==="auto"?dst(ot,Y):K)+(gt+F+Q)/2,Xe=new Array(Ot.length/2),Vt=new Array(Ot.length/2),xe=0;xe<Ot.length/2;xe++)Xe[xe]={x:mt.x+Ut+qt*Ot[2*xe],y:mt.y+Ft+Wt*Ot[2*xe+1]};var Kt,Xt,pe,de,ge=Xe.length;for(Xt=Xe[ge-1],Kt=0;Kt<ge;Kt++)pe=Xe[Kt%ge],de=Xe[(Kt+1)%ge],Vt[Kt]=F$(Xt,pe,de,Ht),Xt=pe,pe=de;l.drawRoundPolygonPath(xt||t,mt.x+Ut,mt.y+Ft,n*Ct,i*lt,Ot,Vt)}else["roundrectangle","round-rectangle"].includes(It)?(K=K==="auto"?Kd(ot,Y):K,l.drawRoundRectanglePath(xt||t,mt.x,mt.y,ot,Y,K+(gt+F+Q)/2)):["cutrectangle","cut-rectangle"].includes(It)?(K=K==="auto"?8:K,l.drawCutRectanglePath(xt||t,mt.x,mt.y,ot,Y,null,K+(gt+F+Q)/4)):["bottomroundrectangle","bottom-round-rectangle"].includes(It)?(K=K==="auto"?Kd(ot,Y):K,l.drawBottomRoundRectanglePath(xt||t,mt.x,mt.y,ot,Y,K+(gt+F+Q)/2)):It==="barrel"?l.drawBarrelPath(xt||t,mt.x,mt.y,ot,Y):It.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(It)?(Ot=D5(O5(Ot,(gt+F+Q)/n)),l.drawPolygonPath(xt||t,mt.x,mt.y,n,i,Ot)):(Ot=D5(O5(Ot,-((gt+F+Q)/n))),l.drawPolygonPath(xt||t,mt.x,mt.y,n,i,Ot));if(m?t.stroke(xt):t.stroke(),U==="double"){t.lineWidth=gt/3;var pr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(xt):t.stroke(),t.globalCompositeOperation=pr}t.setLineDash&&t.setLineDash([])}};if(e.pstyle("ghost").value==="yes"){var Nt=e.pstyle("ghost-offset-x").pfValue,ft=e.pstyle("ghost-offset-y").pfValue,Dt=e.pstyle("ghost-opacity").value,$t=Dt*g;t.translate(Nt,ft),rt(),dt(),G(Dt*D),_t(),X($t,!0),V(Dt*M),ct(),Et(A!==0||C!==0),X($t,!1),H($t),t.translate(-Nt,-ft)}m&&t.translate(-d.x,-d.y),a&&l.drawNodeUnderlay(t,e,d,n,i),m&&t.translate(d.x,d.y),rt(),dt(),G(),_t(),X(g,!0),V(),ct(),Et(A!==0||C!==0),X(g,!1),H(),m&&t.translate(-d.x,-d.y),l.drawElementText(t,e,null,o),a&&l.drawNodeOverlay(t,e,d,n,i),r&&t.translate(f.x1,f.y1)}}},$H=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,r,n,i,o){if(r.visible()){var a=r.pstyle("".concat(t,"-padding")).pfValue,s=r.pstyle("".concat(t,"-opacity")).value,l=r.pstyle("".concat(t,"-color")).value,u=r.pstyle("".concat(t,"-shape")).value,h=r.pstyle("".concat(t,"-corner-radius")).value;if(s>0){if(n=n||r.position(),i==null||o==null){var d=r.padding();i=r.width()+2*d,o=r.height()+2*d}this.colorFillStyle(e,l[0],l[1],l[2],s),this.nodeShapes[u].draw(e,n.x,n.y,i+2*a,o+2*a,h),e.fill()}}}};Y1.drawNodeOverlay=$H("overlay"),Y1.drawNodeUnderlay=$H("underlay"),Y1.hasPie=function(t){return(t=t[0])._private.hasPie},Y1.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=n.x,s=n.y,l=e.width(),u=e.height(),h=Math.min(l,u)/2,d=0;this.usePaths()&&(a=0,s=0),o.units==="%"?h*=o.pfValue:o.pfValue!==void 0&&(h=o.pfValue/2);for(var p=1;p<=i.pieBackgroundN;p++){var f=e.pstyle("pie-"+p+"-background-size").value,g=e.pstyle("pie-"+p+"-background-color").value,m=e.pstyle("pie-"+p+"-background-opacity").value*r,y=f/100;y+d>1&&(y=1-d);var v=1.5*Math.PI+2*Math.PI*d,x=v+2*Math.PI*y;f===0||d>=1||d+y>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,h,v,x),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],m),t.fill(),d+=y)}};var b1,Ho={};function NH(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function iXt(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function z$(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function x1(t,e,r){var n=t[0]/255,i=t[1]/255,o=t[2]/255,a=e,s=r||new Array(4);return s[0]=n*a,s[1]=i*a,s[2]=o*a,s[3]=a,s}function Mp(t,e){var r=e||new Array(4);return r[0]=(255&t)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function oXt(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function ult(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function hlt(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function aXt(t,e,r,n,i,o){switch(e){case t.FLOAT:return new Float32Array(r.buffer,o*n,i);case t.INT:return new Int32Array(r.buffer,o*n,i)}}function cu(t,e,r,n){var i=ji(ult(t,r),3),o=i[0],a=i[1],s=i[2],l=hlt(t,a,e*o),u=o*s,h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,e*u,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),a===t.FLOAT?t.vertexAttribPointer(n,o,a,!1,u,0):a===t.INT&&t.vertexAttribIPointer(n,o,a,u,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var d=new Array(e),p=0;p<e;p++)d[p]=aXt(t,a,l,u,o,p);return h.dataArray=l,h.stride=u,h.size=o,h.getView=function(f){return d[f]},h.setPoint=function(f,g,m){var y=d[f];y[0]=g,y[1]=m},h.bufferSubData=function(f){t.bindBuffer(t.ARRAY_BUFFER,h),f?t.bufferSubData(t.ARRAY_BUFFER,0,l,0,f*o):t.bufferSubData(t.ARRAY_BUFFER,0,l)},h}Ho.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r},Ho.paintCache=function(t){for(var e,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if((e=r[i]).context===t){n=!1;break}return n&&(e={context:t},r.push(e)),e},Ho.createGradientStyleFor=function(t,e,r,n,i){var o,a=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),h=r.targetEndpoint(),d=r.midpoint(),p=Ed(u,d),f=Ed(h,d);o=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(p,f))}else{var g=a?{x:0,y:0}:r.position(),m=r.paddedWidth(),y=r.paddedHeight();o=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(m,y))}else if(r.isEdge()){var v=r.sourceEndpoint(),x=r.targetEndpoint();o=t.createLinearGradient(v.x,v.y,x.x,x.y)}else{var b=a?{x:0,y:0}:r.position(),k=r.paddedWidth()/2,N=r.paddedHeight()/2;switch(r.pstyle("background-gradient-direction").value){case"to-bottom":o=t.createLinearGradient(b.x,b.y-N,b.x,b.y+N);break;case"to-top":o=t.createLinearGradient(b.x,b.y+N,b.x,b.y-N);break;case"to-left":o=t.createLinearGradient(b.x+k,b.y,b.x-k,b.y);break;case"to-right":o=t.createLinearGradient(b.x-k,b.y,b.x+k,b.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(b.x-k,b.y-N,b.x+k,b.y+N);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(b.x-k,b.y+N,b.x+k,b.y-N);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(b.x+k,b.y-N,b.x-k,b.y+N);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(b.x+k,b.y+N,b.x-k,b.y-N)}}if(!o)return null;for(var _=l.length===s.length,S=s.length,T=0;T<S;T++)o.addColorStop(_?l[T]:T/(S-1),"rgba("+s[T][0]+","+s[T][1]+","+s[T][2]+","+i+")");return o},Ho.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i},Ho.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"},Ho.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}},Ho.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i},Ho.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"},Ho.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}},Ho.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,h=o*a;if(u!==e.canvasWidth||h!==e.canvasHeight){e.fontCaches=null;var d=r.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)(l=r.canvases[p]).width=u,l.height=h,l.style.width=i+"px",l.style.height=o+"px";for(p=0;p<e.BUFFER_COUNT;p++)(l=r.bufferCanvases[p]).width=u,l.height=h,l.style.width=i+"px",l.style.height=o+"px";e.textureMult=1,a<=1&&(l=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,l.width=u*e.textureMult,l.height=h*e.textureMult),e.canvasWidth=u,e.canvasHeight=h,e.pixelRatio=a}},Ho.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},Ho.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])},Ho.render=function(t){var e=this;t=t||sst();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,o=t.drawOnlyNodeLayer,a=t.forcedZoom,s=t.forcedPan,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,h=u.canvasNeedsRedraw,d=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,f=e.motionBlurPxRatio,g=r.hasCompoundNodes(),m=e.hoverData.draggingEles,y=!(!e.hoverData.selecting&&!e.touchData.selecting),v=p=p&&!n&&e.motionBlurEnabled&&!y;n||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(v=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!d&&(h[e.NODE]=!0,h[e.SELECT_BOX]=!0);var x=r.style(),b=r.zoom(),k=a!==void 0?a:b,N=r.pan(),_={x:N.x,y:N.y},S={zoom:b,pan:{x:N.x,y:N.y}},T=e.prevViewport;T===void 0||S.zoom!==T.zoom||S.pan.x!==T.pan.x||S.pan.y!==T.pan.y||m&&!g||(e.motionBlurPxRatio=1),s&&(_=s),k*=l,_.x*=l,_.y*=l;var A=e.getCachedZSortedEles();function C(V,rt,tt,at,ut){var st=V.globalCompositeOperation;V.globalCompositeOperation="destination-out",e.colorFillStyle(V,255,255,255,e.motionBlurTransparency),V.fillRect(rt,tt,at,ut),V.globalCompositeOperation=st}function D(V,rt){var tt,at,ut,st;e.clearingMotionBlur||V!==u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]&&V!==u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]?(tt=_,at=k,ut=e.canvasWidth,st=e.canvasHeight):(tt={x:N.x*f,y:N.y*f},at=b*f,ut=e.canvasWidth*f,st=e.canvasHeight*f),V.setTransform(1,0,0,1,0,0),rt==="motionBlur"?C(V,0,0,ut,st):n||rt!==void 0&&!rt||V.clearRect(0,0,ut,st),i||(V.translate(tt.x,tt.y),V.scale(at,at)),s&&V.translate(s.x,s.y),a&&V.scale(a,a)}if(d||(e.textureDrawLastFrame=!1),d){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var E=e.data.bufferContexts[e.TEXTURE_BUFFER];E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:E,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult}),(S=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}h[e.DRAG]=!1,h[e.NODE]=!1;var $=u.contexts[e.NODE],I=e.textureCache.texture;S=e.textureCache.viewport,$.setTransform(1,0,0,1,0,0),p?C($,0,0,S.width,S.height):$.clearRect(0,0,S.width,S.height);var L=x.core("outside-texture-bg-color").value,O=x.core("outside-texture-bg-opacity").value;e.colorFillStyle($,L[0],L[1],L[2],O),$.fillRect(0,0,S.width,S.height),b=r.zoom(),D($,!1),$.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l),$.drawImage(I,S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l)}else e.textureOnViewport&&!n&&(e.textureCache=null);var B=r.extent(),R=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),M=e.hideEdgesOnViewport&&R,F=[];if(F[e.NODE]=!h[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,F[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),F[e.DRAG]=!h[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,F[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),h[e.NODE]||i||o||F[e.NODE]){var P=p&&!F[e.NODE]&&f!==1;D($=n||(P?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),p&&!P?"motionBlur":void 0),M?e.drawCachedNodes($,A.nondrag,l,B):e.drawLayeredElements($,A.nondrag,l,B),e.debug&&e.drawDebugPoints($,A.nondrag),i||p||(h[e.NODE]=!1)}if(!o&&(h[e.DRAG]||i||F[e.DRAG])&&(P=p&&!F[e.DRAG]&&f!==1,D($=n||(P?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]),p&&!P?"motionBlur":void 0),M?e.drawCachedNodes($,A.drag,l,B):e.drawCachedElements($,A.drag,l,B),e.debug&&e.drawDebugPoints($,A.drag),i||p||(h[e.DRAG]=!1)),this.drawSelectionRectangle(t,D),p&&f!==1){var U=u.contexts[e.NODE],W=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],Q=u.contexts[e.DRAG],K=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],G=function(V,rt,tt){V.setTransform(1,0,0,1,0,0),tt||!v?V.clearRect(0,0,e.canvasWidth,e.canvasHeight):C(V,0,0,e.canvasWidth,e.canvasHeight);var at=f;V.drawImage(rt,0,0,e.canvasWidth*at,e.canvasHeight*at,0,0,e.canvasWidth,e.canvasHeight)};(h[e.NODE]||F[e.NODE])&&(G(U,W,F[e.NODE]),h[e.NODE]=!1),(h[e.DRAG]||F[e.DRAG])&&(G(Q,K,F[e.DRAG]),h[e.DRAG]=!1)}e.prevViewport=S,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!d,e.mbFrames=0,h[e.NODE]=!0,h[e.DRAG]=!0,e.redraw()},100)),n||r.emit("render")},Ho.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,o=n.style(),a=t.drawOnlyNodeLayer,s=t.drawAllLayers,l=i.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!a&&l[r.SELECT_BOX]&&!s){var h=u||i.contexts[r.SELECT_BOX];if(e(h),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var d=r.cy.zoom(),p=o.core("selection-box-border-width").value/d;h.lineWidth=p,h.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",h.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),p>0&&(h.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",h.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){d=r.cy.zoom();var f=i.bgActivePosistion;h.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",h.beginPath(),h.arc(f.x,f.y,o.core("active-bg-size").pfValue/d,0,2*Math.PI),h.fill()}var g=r.lastRedrawTime;if(r.showFps&&g){g=Math.round(g);var m=Math.round(1e3/g),y="1 frame = "+g+" ms = "+m+" fps";if(h.setTransform(1,0,0,1,0,0),h.fillStyle="rgba(255, 0, 0, 0.75)",h.strokeStyle="rgba(255, 0, 0, 0.75)",h.font="30px Arial",!b1){var v=h.measureText(y);b1=v.actualBoundingBoxAscent}h.fillText(y,0,b1),h.strokeRect(0,b1+10,250,20),h.fillRect(0,b1+10,250*Math.min(m/60,1),20)}s||(l[r.SELECT_BOX]=!1)}};var IH=typeof Float32Array<"u"?Float32Array:Array;function zb(){var t=new IH(9);return IH!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function dlt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function q5(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],d=e[8],p=r[0],f=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+u,t[7]=p*i+f*s+h,t[8]=p*o+f*l+d,t}function plt(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],d=e[8],p=Math.sin(r),f=Math.cos(r);return t[0]=f*n+p*a,t[1]=f*i+p*s,t[2]=f*o+p*l,t[3]=f*a-p*n,t[4]=f*s-p*i,t[5]=f*l-p*o,t[6]=u,t[7]=h,t[8]=d,t}function j$(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var ym={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},LH=Li({texRows:24}),Bp=Li({collection:"default",getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:function(){return!0},getPadding:0}),sXt=function(){return xh(function t(e,r,n,i){bh(this,t),this.debugID=Math.floor(1e4*Math.random()),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,r,r),this.scratch=i(e,r,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var e=t.w,r=t.h,n=this.texHeight,i=this.texSize,o=n/r,a=e*o,s=r*o;return a>i&&(a=e*(o=i/e),s=r*o),{scale:o,texW:a,texH:s}}},{key:"draw",value:function(t,e,r){var n=this;if(this.locked)throw new Error("can't draw, atlas is locked");var i=this.texSize,o=this.texRows,a=this.texHeight,s=this.getScale(e),l=s.scale,u=s.texW,h=s.texH,d=[null,null],p=function(m,y){if(r&&y){var v=y.context,x=m.x,b=m.row,k=x,N=a*b;v.save(),v.translate(k,N),v.scale(l,l),r(v,e),v.restore()}},f=function(){p(n.freePointer,n.canvas),d[0]={x:n.freePointer.x,y:n.freePointer.row*a,w:u,h},d[1]={x:n.freePointer.x+u,y:n.freePointer.row*a,w:0,h},n.freePointer.x+=u,n.freePointer.x==i&&(n.freePointer.x=0,n.freePointer.row++)},g=function(){n.freePointer.x=0,n.freePointer.row++};if(this.freePointer.x+u<=i)f();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===i?(g(),f()):this.enableWrapping?function(){var m=n.scratch,y=n.canvas;m.clear(),p({x:0,row:0},m);var v=i-n.freePointer.x,x=u-v,b=a,k=n.freePointer.x,N=n.freePointer.row*a,_=v;y.context.drawImage(m,0,0,_,b,k,N,_,b),d[0]={x:k,y:N,w:_,h};var S=v,T=(n.freePointer.row+1)*a,A=x;y&&y.context.drawImage(m,S,0,A,b,0,T,A,b),d[1]={x:0,y:T,w:A,h},n.freePointer.x=x,n.freePointer.row++}():(g(),f())}return this.keyToLocation.set(t,d),this.needsBuffer=!0,d}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var e=this.texSize,r=this.texRows,n=this.getScale(t).texW;return!(this.freePointer.x+n>e)||this.freePointer.row<r-1}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=function(e){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),lXt=function(){return xh(function t(e,r,n,i){bh(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,e=this.texSize,r=this.texRows,n=this.createTextureCanvas;return new sXt(t,e,r,n)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,e=this.texSize,r=this.texRows,n=this.createTextureCanvas,i=Math.floor(e/r);this.scratch=n(t,e,i,"scratch")}return this.scratch}},{key:"draw",value:function(t,e,r){var n=this.styleKeyToAtlas.get(t);return n||((n=this.atlases[this.atlases.length-1])&&n.canFit(e)||(n&&n.lock(),n=this._createAtlas(),this.atlases.push(n)),n.draw(t,e,r),this.styleKeyToAtlas.set(t,n)),n}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,e=this.markedKeys;if(e.size!==0){var r,n=[],i=new Map,o=null,a=Xs(this.atlases);try{var s=function(){var l,u,h=r.value,d=h.getKeys(),p=(u=d,(l=e).intersection?l.intersection(u):new Set(qat(l).filter(function(b){return u.has(b)})));if(p.size===0)return n.push(h),d.forEach(function(b){return i.set(b,h)}),1;o||(o=t._createAtlas(),n.push(o));var f,g=Xs(d);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(!p.has(m)){var y=ji(h.getOffsets(m),2),v=y[0],x=y[1];o.canFit({w:v.w+x.w,h:v.h})||(o.lock(),o=t._createAtlas(),n.push(o)),t._copyTextureToNewAtlas(m,h,o),i.set(m,o)}}}catch(b){g.e(b)}finally{g.f()}h.dispose()};for(a.s();!(r=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}this.atlases=n,this.styleKeyToAtlas=i,this.markedKeys=new Set}else console.log("nothing to garbage collect")}},{key:"_copyTextureToNewAtlas",value:function(t,e,r){var n=ji(e.getOffsets(t),2),i=n[0],o=n[1];if(o.w===0)r.draw(t,i,function(u){u.drawImage(e.canvas,i.x,i.y,i.w,i.h,0,0,i.w,i.h)});else{var a=this._getScratchCanvas();a.clear(),a.context.drawImage(e.canvas,i.x,i.y,i.w,i.h,0,0,i.w,i.h),a.context.drawImage(e.canvas,o.x,o.y,o.w,o.h,i.w,0,o.w,o.h);var s=i.w+o.w,l=i.h;r.draw(t,{w:s,h:l},function(u){u.drawImage(a,0,0,s,l,0,0,s,l)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}(),cXt=function(){return xh(function t(e,r){bh(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map,this.batchAtlases=[]},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"addAtlasCollection",value:function(t,e){var r=this.globalOptions,n=r.webglTexSize,i=r.createTextureCanvas,o=e.texRows,a=this._cacheScratchCanvas(i),s=new lXt(this.r,n,o,a);this.collections.set(t,s)}},{key:"addRenderType",value:function(t,e){var r=e.collection;if(!this.collections.has(r))throw new Error("invalid atlas collection name '".concat(r,"'"));var n=this.collections.get(r),i=rr({type:t,atlasCollection:n},e);this.renderTypes.set(t,i)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var e=-1,r=-1,n=null;return function(i,o,a,s){return s?(n&&o==e&&a==r||(e=o,r=a,n=t(i,o,a)),n):t(i,o,a)}}},{key:"_key",value:function(t,e){return"".concat(t,"-").concat(e)}},{key:"invalidate",value:function(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.forceRedraw,i=n!==void 0&&n,o=r.filterEle,a=o===void 0?function(){return!0}:o,s=r.filterType,l=s===void 0?function(){return!0}:s,u=!1,h=!1,d=Xs(t);try{for(d.s();!(e=d.n()).done;){var p=e.value;if(a(p)){var f,g=Xs(this.renderTypes.values());try{for(g.s();!(f=g.n()).done;){var m=f.value,y=m.type;if(l(y)){var v=m.getKey(p),x=this.collections.get(m.collection);if(i)x.markKeyForGC(v),h=!0;else{var b=m.getID?m.getID(p):p.id(),k=this._key(y,b),N=this.typeAndIdToKey.get(k);N!==void 0&&N!==v&&(this.typeAndIdToKey.delete(k),x.markKeyForGC(N),u=!0)}}}}catch(_){g.e(_)}finally{g.f()}}}}catch(_){d.e(_)}finally{d.f()}return h&&(this.gc(),u=!1),u}},{key:"gc",value:function(){var t,e=Xs(this.collections.values());try{for(e.s();!(t=e.n()).done;)t.value.gc()}catch(r){e.e(r)}finally{e.f()}}},{key:"getOrCreateAtlas",value:function(t,e,r){var n=this.renderTypes.get(e),i=n.getKey(t);r||(r=n.getBoundingBox(t));var o=this.collections.get(n.collection),a=!1,s=o.draw(i,r,function(h){n.drawElement(h,t,r,!0,!0),a=!0});if(a){var l=n.getID?n.getID(t):t.id(),u=this._key(e,l);this.typeAndIdToKey.set(u,i)}return s}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t,e){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var r=this.renderTypes.get(e),n=r.getKey(t),i=this.collections.get(r.collection).getAtlas(n);return!!i&&this.batchAtlases.includes(i)}return!0}},{key:"getAtlasIndexForBatch",value:function(t){var e=this.batchAtlases.indexOf(t);if(e<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(t),e=this.batchAtlases.length-1}return e}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,e){return e})}},{key:"getAtlasInfo",value:function(t,e){var r=this.renderTypes.get(e),n=r.getBoundingBox(t),i=this.getOrCreateAtlas(t,e,n),o=this.getAtlasIndexForBatch(i);if(o!==void 0){var a=r.getKey(t),s=ji(i.getOffsets(a),2);return{index:o,tex1:s[0],tex2:s[1],bb:n}}}},{key:"setTransformMatrix",value:function(t,e,r,n){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.getRenderTypeOpts(r),a=o.getPadding?o.getPadding(t):0;if(n){var s=n.bb,l=n.tex1,u=n.tex2,h=l.w/(l.w+u.w);i||(h=1-h);var d=this.getAdjustedBB(s,a,i,h);this._applyTransformMatrix(e,d,o,t)}else{var p=o.getBoundingBox(t),f=this.getAdjustedBB(p,a,!0,1);this._applyTransformMatrix(e,f,o,t)}}},{key:"_applyTransformMatrix",value:function(t,e,r,n){var i,o;dlt(t);var a=r.getRotation?r.getRotation(n):0;if(a!==0){var s=r.getRotationPoint(n);q5(t,t,[s.x,s.y]),plt(t,t,a);var l=r.getRotationOffset(n);i=l.x+e.xOffset,o=l.y}else i=e.x1,o=e.y1;q5(t,t,[i,o]),j$(t,t,[e.w,e.h])}},{key:"getAdjustedBB",value:function(t,e,r,n){var i=t.x1,o=t.y1,a=t.w,s=t.h;e&&(i-=e,o-=e,a+=2*e,s+=2*e);var l=0,u=a*n;return r&&n<1?a=u:!r&&n<1&&(i+=l=a-u,a=u),{x1:i,y1:o,w:a,h:s,xOffset:l}}},{key:"getDebugInfo",value:function(){var t,e=[],r=Xs(this.collections);try{for(r.s();!(t=r.n()).done;){var n=ji(t.value,2),i=n[0],o=n[1].getCounts(),a=o.keyCount,s=o.atlasCount;e.push({type:i,keyCount:a,atlasCount:s})}}catch(l){r.e(l)}finally{r.f()}return e}}])}(),uXt=function(){return xh(function t(e,r,n){bh(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=iXt,this.atlasManager=new cXt(e,n),this.program=this.createShaderProgram(ym.SCREEN),this.pickingProgram=this.createShaderProgram(ym.PICKING),this.vao=this.createVAO()},[{key:"addAtlasCollection",value:function(t,e){this.atlasManager.addAtlasCollection(t,e)}},{key:"addAtlasRenderType",value:function(t,e){this.atlasManager.addRenderType(t,e)}},{key:"invalidate",value:function(t){var e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).type,r=this.atlasManager;return e?r.invalidate(t,{filterType:function(n){return n===e},forceRedraw:!0}):r.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(t){var e=this.gl,r=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      in mat3 aTransform;

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aColor;

      out vec2 vTexCoord;
      out vec4 vColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(0,`) {
          float texX = aTex.x;
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          int vid = gl_VertexID;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(4,`) {
          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else if(aVertType == `).concat(1,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(2,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(3,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),n=this.atlasManager.getIndexArray(),i=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(n.map(function(s){return"uniform sampler2D uTexture".concat(s,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(0,`) {
          `).concat(n.map(function(s){return"if(vAtlasId == ".concat(s,") outColor = texture(uTexture").concat(s,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(3,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vColor.rgb + (uBGColor.rgb * (1.0 - vColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=function(s,l,u){var h=NH(s,s.VERTEX_SHADER,l),d=NH(s,s.FRAGMENT_SHADER,u),p=s.createProgram();if(s.attachShader(p,h),s.attachShader(p,d),s.linkProgram(p),!s.getProgramParameter(p,s.LINK_STATUS))throw new Error("Could not initialize shaders");return p}(e,r,i);o.aPosition=e.getAttribLocation(o,"aPosition"),o.aIndex=e.getAttribLocation(o,"aIndex"),o.aVertType=e.getAttribLocation(o,"aVertType"),o.aTransform=e.getAttribLocation(o,"aTransform"),o.aAtlasId=e.getAttribLocation(o,"aAtlasId"),o.aTex=e.getAttribLocation(o,"aTex"),o.aPointAPointB=e.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=e.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=e.getAttribLocation(o,"aLineWidth"),o.aColor=e.getAttribLocation(o,"aColor"),o.uPanZoomMatrix=e.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=e.getUniformLocation(o,"uAtlasSize"),o.uBGColor=e.getUniformLocation(o,"uBGColor"),o.uTextures=[];for(var a=0;a<this.atlasManager.getMaxAtlasesPerBatch();a++)o.uTextures.push(e.getUniformLocation(o,"uTexture".concat(a)));return o}},{key:"createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var e=this.maxInstances,r=this.gl,n=this.program,i=r.createVertexArray();return r.bindVertexArray(i),function(o,a,s,l){var u=ji(ult(o,a),2),h=u[0],d=u[1],p=hlt(o,d,l),f=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,f),o.bufferData(o.ARRAY_BUFFER,p,o.STATIC_DRAW),d===o.FLOAT?o.vertexAttribPointer(s,h,d,!1,0,0):d===o.INT&&o.vertexAttribIPointer(s,h,d,0,0),o.enableVertexAttribArray(s),o.bindBuffer(o.ARRAY_BUFFER,null)}(r,"vec2",n.aPosition,t),this.transformBuffer=function(o,a,s){for(var l=new Float32Array(9*a),u=new Array(a),h=0;h<a;h++){var d=9*h*4;u[h]=new Float32Array(l.buffer,d,9)}var p=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,p),o.bufferData(o.ARRAY_BUFFER,l.byteLength,o.DYNAMIC_DRAW);for(var f=0;f<3;f++){var g=s+f;o.enableVertexAttribArray(g),o.vertexAttribPointer(g,3,o.FLOAT,!1,36,12*f),o.vertexAttribDivisor(g,1)}return o.bindBuffer(o.ARRAY_BUFFER,null),p.getMatrixView=function(m){return u[m]},p.setData=function(m,y){u[y].set(m,0)},p.bufferSubData=function(){o.bindBuffer(o.ARRAY_BUFFER,p),o.bufferSubData(o.ARRAY_BUFFER,0,l)},p}(r,e,n.aTransform),this.indexBuffer=cu(r,e,"vec4",n.aIndex),this.vertTypeBuffer=cu(r,e,"int",n.aVertType),this.atlasIdBuffer=cu(r,e,"int",n.aAtlasId),this.texBuffer=cu(r,e,"vec4",n.aTex),this.pointAPointBBuffer=cu(r,e,"vec4",n.aPointAPointB),this.pointCPointDBuffer=cu(r,e,"vec4",n.aPointCPointD),this.lineWidthBuffer=cu(r,e,"float",n.aLineWidth),this.colorBuffer=cu(r,e,"vec4",n.aColor),r.bindVertexArray(null),i}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return e.endsWith("Buffer")}).map(function(e){return t[e]})),this._buffers}},{key:"startFrame",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ym.SCREEN;this.panZoomMatrix=t,this.renderTarget=e,this.batchDebugInfo=[],this.wrappedCount=0,this.rectangleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||zb()}},{key:"drawTexture",value:function(t,e,r){var n=this.atlasManager;if(t.visible()&&n.getRenderTypeOpts(r).isVisible(t)){n.canAddToCurrentBatch(t,r)||this.endBatch(),this.instanceCount+1>=this.maxInstances&&this.endBatch();var i=this.instanceCount;this.vertTypeBuffer.getView(i)[0]=0,Mp(e,this.indexBuffer.getView(i));var o=n.getAtlasInfo(t,r),a=o.index,s=o.tex1,l=o.tex2;l.w>0&&this.wrappedCount++;for(var u=!0,h=0,d=[s,l];h<d.length;h++){var p=d[h];if(p.w!=0){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=0,Mp(e,this.indexBuffer.getView(f)),this.atlasIdBuffer.getView(f)[0]=a;var g=this.texBuffer.getView(f);g[0]=p.x,g[1]=p.y,g[2]=p.w,g[3]=p.h;var m=this.transformBuffer.getMatrixView(f);n.setTransformMatrix(t,m,r,o,u),this.instanceCount++}u=!1}this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawSimpleRectangle",value:function(t,e,r){if(t.visible()){var n=this.atlasManager,i=this.instanceCount;this.vertTypeBuffer.getView(i)[0]=4,Mp(e,this.indexBuffer.getView(i)),x1(t.pstyle("background-color").value,t.pstyle("background-opacity").value,this.colorBuffer.getView(i));var o=this.transformBuffer.getMatrixView(i);n.setTransformMatrix(t,o,r),this.rectangleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(t,e,r){if(t.visible()){var n,i,o,a=t._private.rscratch;if(r==="source"?(n=a.arrowStartX,i=a.arrowStartY,o=a.srcArrowAngle):(n=a.arrowEndX,i=a.arrowEndY,o=a.tgtArrowAngle),!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)&&t.pstyle(r+"-arrow-shape").value!=="none"){var s=t.pstyle(r+"-arrow-color").value,l=t.pstyle("opacity").value*t.pstyle("line-opacity").value,u=t.pstyle("width").pfValue,h=t.pstyle("arrow-scale").value,d=this.r.getArrowWidth(u,h),p=this.instanceCount,f=this.transformBuffer.getMatrixView(p);dlt(f),q5(f,f,[n,i]),j$(f,f,[d,d]),plt(f,f,o),this.vertTypeBuffer.getView(p)[0]=3,Mp(e,this.indexBuffer.getView(p)),x1(s,l,this.colorBuffer.getView(p)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(t,e){if(t.visible()){var r=this.getEdgePoints(t);if(r){var n=t.pstyle("opacity").value,i=t.pstyle("line-opacity").value,o=t.pstyle("width").pfValue,a=t.pstyle("line-color").value,s=n*i;if(r.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),r.length==4){var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=1,Mp(e,this.indexBuffer.getView(l)),x1(a,s,this.colorBuffer.getView(l)),this.lineWidthBuffer.getView(l)[0]=o;var u=this.pointAPointBBuffer.getView(l);u[0]=r[0],u[1]=r[1],u[2]=r[2],u[3]=r[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var h=0;h<r.length-2;h+=2){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=2,Mp(e,this.indexBuffer.getView(d)),x1(a,s,this.colorBuffer.getView(d)),this.lineWidthBuffer.getView(d)[0]=o;var p=r[h-2],f=r[h-1],g=r[h],m=r[h+1],y=r[h+2],v=r[h+3],x=r[h+4],b=r[h+5];h==0&&(p=2*g-y+.001,f=2*m-v+.001),h==r.length-4&&(x=2*y-g+.001,b=2*v-m+.001);var k=this.pointAPointBBuffer.getView(d);k[0]=p,k[1]=f,k[2]=g,k[3]=m;var N=this.pointCPointDBuffer.getView(d);N[0]=y,N[1]=v,N[2]=x,N[3]=b,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"getEdgePoints",value:function(t){var e=t._private.rscratch;if(!e.badLine&&e.allpts!=null&&!isNaN(e.allpts[0])){var r=e.allpts;if(r.length==4)return r;var n=this.getNumSegments(t);return this.getCurveSegmentPoints(r,n)}}},{key:"getNumSegments",value:function(t){return Math.min(Math.max(15,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(t,e){if(t.length==4)return t;for(var r=Array(2*(e+1)),n=0;n<=e;n++)if(n==0)r[0]=t[0],r[1]=t[1];else if(n==e)r[2*n]=t[t.length-2],r[2*n+1]=t[t.length-1];else{var i=n/e;this.setCurvePoint(t,i,r,2*n)}return r}},{key:"setCurvePoint",value:function(t,e,r,n){if(!(t.length<=2)){for(var i=Array(t.length-2),o=0;o<i.length;o+=2){var a=(1-e)*t[o]+e*t[o+2],s=(1-e)*t[o+1]+e*t[o+3];i[o]=a,i[o+1]=s}return this.setCurvePoint(i,e,r,n)}r[n]=t[0],r[n+1]=t[1]}},{key:"endBatch",value:function(){var t=this.gl,e=this.vao,r=this.vertexCount,n=this.instanceCount;if(n!==0){var i=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(i),t.bindVertexArray(e);var o,a=Xs(this.buffers);try{for(a.s();!(o=a.n()).done;)o.value.bufferSubData(n)}catch(d){a.e(d)}finally{a.f()}for(var s=this.atlasManager.getAtlases(),l=0;l<s.length;l++)s[l].bufferIfNeeded(t);for(var u=0;u<s.length;u++)t.activeTexture(t.TEXTURE0+u),t.bindTexture(t.TEXTURE_2D,s[u].texture),t.uniform1i(i.uTextures[u],u);t.uniformMatrix3fv(i.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(i.uAtlasSize,this.atlasManager.getAtlasSize());var h=x1(this.bgColor,1);t.uniform4fv(i.uBGColor,h),t.drawArraysInstanced(t.TRIANGLES,0,r,n),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:n,atlasCount:s.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),e=t.reduce(function(i,o){return i+o.atlasCount},0),r=this.batchDebugInfo,n=r.reduce(function(i,o){return i+o.count},0);return{atlasInfo:t,totalAtlases:e,wrappedCount:this.wrappedCount,rectangleCount:this.rectangleCount,batchCount:r.length,batchInfo:r,totalInstances:n}}}])}();function RH(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var hXt=function(){return xh(function t(e){bh(this,t),this.r=e},[{key:"getStyleKey",value:function(t,e){var r=this.getStyle(t,e),n=r.shape,i=r.opacity,o=r.color;if(!n)return null;var a=e.width(),s=e.height(),l=RH(o,i);return ch("".concat(n,"-").concat(a,"-").concat(s,"-").concat(l))}},{key:"isVisible",value:function(t,e){return e.pstyle("".concat(t,"-opacity")).value>0}},{key:"getStyle",value:function(t,e){return{opacity:e.pstyle("".concat(t,"-opacity")).value,color:e.pstyle("".concat(t,"-color")).value,shape:e.pstyle("".concat(t,"-shape")).value}}},{key:"getPadding",value:function(t,e){return e.pstyle("".concat(t,"-padding")).pfValue}},{key:"draw",value:function(t,e,r,n){if(this.isVisible(t,r)){var i=this.r,o=n.w,a=n.h,s=o/2,l=a/2,u=this.getStyle(t,r),h=u.shape,d=u.color,p=u.opacity;e.save(),e.fillStyle=RH(d,p),h==="round-rectangle"||h==="roundrectangle"?i.drawRoundRectanglePath(e,s,l,o,a,"auto"):h==="ellipse"&&i.drawEllipsePath(e,s,l,o,a),e.fill(),e.restore()}}}])}(),flt={};function DH(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=z$(t),o=i.pan,a=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(o.x,o.y),e.scale(a,a)}function vE(t,e,r){var n,i=t.drawing;e+=1,r.isNode()?(i.drawTexture(r,e,"node-underlay"),(n=r).pstyle("shape").value==="rectangle"&&n.pstyle("background-fill").value==="solid"&&n.pstyle("border-width").pfValue===0&&n.pstyle("background-image").strValue==="none"?i.drawSimpleRectangle(r,e,"node-body"):i.drawTexture(r,e,"node-body"),i.drawTexture(r,e,"label"),i.drawTexture(r,e,"node-overlay")):(i.drawEdgeLine(r,e),i.drawEdgeArrow(r,e,"source"),i.drawEdgeArrow(r,e,"target"),i.drawTexture(r,e,"label"),i.drawTexture(r,e,"edge-source-label"),i.drawTexture(r,e,"edge-target-label"))}function OH(t,e,r){var n;t.webglDebug&&(n=performance.now());var i=t.drawing,o=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&function(b,k){b.drawSelectionRectangle(k,function(N){return DH(b,N)})}(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var a=t.data.contexts[t.WEBGL];r.screen?(a.clearColor(0,0,0,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)):a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.canvas.width,a.canvas.height);var s=function(b){var k=b.canvasWidth,N=b.canvasHeight,_=z$(b),S=_.pan,T=_.zoom,A=zb();q5(A,A,[S.x,S.y]),j$(A,A,[T,T]);var C=zb();(function(_t,X,Et){_t[0]=2/X,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=-2/Et,_t[5]=0,_t[6]=-1,_t[7]=1,_t[8]=1})(C,k,N);var D,E,$,I,L,O,B,R,M,F,P,U,W,Q,K,G,V,rt,tt,at,ut,st=zb();return D=st,$=A,I=(E=C)[0],L=E[1],O=E[2],B=E[3],R=E[4],M=E[5],F=E[6],P=E[7],U=E[8],W=$[0],Q=$[1],K=$[2],G=$[3],V=$[4],rt=$[5],tt=$[6],at=$[7],ut=$[8],D[0]=W*I+Q*B+K*F,D[1]=W*L+Q*R+K*P,D[2]=W*O+Q*M+K*U,D[3]=G*I+V*B+rt*F,D[4]=G*L+V*R+rt*P,D[5]=G*O+V*M+rt*U,D[6]=tt*I+at*B+ut*F,D[7]=tt*L+at*R+ut*P,D[8]=tt*O+at*M+ut*U,st}(t),l=t.getCachedZSortedEles();if(o=l.length,i.startFrame(s,r),r.screen){for(var u=0;u<l.nondrag.length;u++)vE(t,u,l.nondrag[u]);for(var h=0;h<l.drag.length;h++)vE(t,h,l.drag[h])}else if(r.picking)for(var d=0;d<l.length;d++)vE(t,d,l[d]);i.endFrame(),r.screen&&t.webglDebugShowAtlases&&(function(b){var k=b.data.contexts[b.NODE];k.save(),DH(b,k),k.strokeStyle="rgba(0, 0, 0, 0.3)",k.beginPath(),k.moveTo(-1e3,0),k.lineTo(1e3,0),k.stroke(),k.beginPath(),k.moveTo(0,-1e3),k.lineTo(0,1e3),k.stroke(),k.restore()}(t),function(b){var k=function(_,S,T){for(var A=_.atlasManager.getAtlasCollection(S),C=b.data.contexts[b.NODE],D=A.atlases,E=0;E<D.length;E++){var $=D[E].canvas;if($){var I=$.width,L=$.height,O=I*E,B=$.height*T;C.save(),C.scale(.125,.125),C.drawImage($,O,B),C.strokeStyle="black",C.rect(O,B,I,L),C.stroke(),C.restore()}}},N=0;k(b.drawing,"node",N++),k(b.drawing,"label",N++)}(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var p=performance.now(),f=Math.ceil(p-n),g=i.getDebugInfo(),m=["".concat(o," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.rectangleCount," simple rectangles")].join(", ");console.log("WebGL (".concat(r.name,") - frame time ").concat(f,"ms")),console.log("Totals:"),console.log("  ".concat(m)),console.log("Texture Atlases Used:");var y,v=Xs(g.atlasInfo);try{for(v.s();!(y=v.n()).done;){var x=y.value;console.log("  ".concat(x.type,": ").concat(x.keyCount," keys, ").concat(x.atlasCount," atlases"))}}catch(b){v.e(b)}finally{v.f()}console.log("")}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}flt.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=function(l){var u=l.cy.container(),h=u&&u.style&&u.style.backgroundColor||"white";return Zat(h)}(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=function(l){var u=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,u);var h=l.createTexture();return l.bindTexture(l.TEXTURE_2D,h),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,h,0),l.bindFramebuffer(l.FRAMEBUFFER,null),u.setFramebufferAttachmentSizes=function(d,p){l.bindTexture(l.TEXTURE_2D,h),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,d,p,0,l.RGBA,l.UNSIGNED_BYTE,null)},u}(n),r.pickingFrameBuffer.needsDraw=!0;var i=function(l){return function(u){return r.getTextAngle(u,l)}},o=function(l){return function(u){var h=u.pstyle(l);return h&&h.value}};r.drawing=new uXt(r,n,t);var a=new hXt(r);r.drawing.addAtlasCollection("node",LH({texRows:t.webglTexRowsNodes})),r.drawing.addAtlasCollection("label",LH({texRows:t.webglTexRows})),r.drawing.addAtlasRenderType("node-body",Bp({collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement})),r.drawing.addAtlasRenderType("label",Bp({collection:"label",getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:o("label")})),r.drawing.addAtlasRenderType("node-overlay",Bp({collection:"node",getBoundingBox:e.getElementBox,getKey:function(l){return a.getStyleKey("overlay",l)},drawElement:function(l,u,h){return a.draw("overlay",l,u,h)},isVisible:function(l){return a.isVisible("overlay",l)},getPadding:function(l){return a.getPadding("overlay",l)}})),r.drawing.addAtlasRenderType("node-underlay",Bp({collection:"node",getBoundingBox:e.getElementBox,getKey:function(l){return a.getStyleKey("underlay",l)},drawElement:function(l,u,h){return a.draw("underlay",l,u,h)},isVisible:function(l){return a.isVisible("underlay",l)},getPadding:function(l){return a.getPadding("underlay",l)}})),r.drawing.addAtlasRenderType("edge-source-label",Bp({collection:"label",getKey:e.getSourceLabelKey,getBoundingBox:e.getSourceLabelBox,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:o("source-label")})),r.drawing.addAtlasRenderType("edge-target-label",Bp({collection:"label",getKey:e.getTargetLabelKey,getBoundingBox:e.getTargetLabelBox,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:o("target-label")}));var s=av(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(l,u){var h=!1;u&&u.length>0&&(h|=r.drawing.invalidate(u)),h&&s()}),function(l){var u=l.render;l.render=function(f){f=f||{};var g=l.cy;l.webgl&&(g.zoom()>GYt?(function(m){var y=m.data.contexts[m.WEBGL];y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT)}(l),u.call(l,f)):(function(m){var y=function(v){v.save(),v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,m.canvasWidth,m.canvasHeight),v.restore()};y(m.data.contexts[m.NODE]),y(m.data.contexts[m.DRAG])}(l),OH(l,f,ym.SCREEN)))};var h=l.matchCanvasSize;l.matchCanvasSize=function(f){h.call(l,f),l.pickingFrameBuffer.setFramebufferAttachmentSizes(l.canvasWidth,l.canvasHeight),l.pickingFrameBuffer.needsDraw=!0},l.findNearestElements=function(f,g,m,y){return function(v,x,b){var k,N,_,S=function(D,E,$){var I,L,O,B,R=z$(D),M=R.pan,F=R.zoom,P=function(st,_t,X,Et,H){var ct=Et*X+_t.x,dt=H*X+_t.y;return[ct,dt=Math.round(st.canvasHeight-dt)]}(D,M,F,E,$),U=ji(P,2),W=U[0],Q=U[1],K=6;if(I=W-K/2,L=Q-K/2,B=K,(O=K)===0||B===0)return[];var G=D.data.contexts[D.WEBGL];G.bindFramebuffer(G.FRAMEBUFFER,D.pickingFrameBuffer),D.pickingFrameBuffer.needsDraw&&(G.viewport(0,0,G.canvas.width,G.canvas.height),OH(D,null,ym.PICKING),D.pickingFrameBuffer.needsDraw=!1);var V=O*B,rt=new Uint8Array(4*V);G.readPixels(I,L,O,B,G.RGBA,G.UNSIGNED_BYTE,rt),G.bindFramebuffer(G.FRAMEBUFFER,null);for(var tt=new Set,at=0;at<V;at++){var ut=oXt(rt.slice(4*at,4*at+4))-1;ut>=0&&tt.add(ut)}return tt}(v,x,b),T=v.getCachedZSortedEles(),A=Xs(S);try{for(A.s();!(_=A.n()).done;){var C=T[_.value];if(!k&&C.isNode()&&(k=C),!N&&C.isEdge()&&(N=C),k&&N)break}}catch(D){A.e(D)}finally{A.f()}return[k,N].filter(Boolean)}(l,f,g)};var d=l.invalidateCachedZSortedEles;l.invalidateCachedZSortedEles=function(){d.call(l),l.pickingFrameBuffer.needsDraw=!0};var p=l.notify;l.notify=function(f,g){p.call(l,f,g),f==="viewport"||f==="bounds"?l.pickingFrameBuffer.needsDraw=!0:f==="background"&&l.drawing.invalidate(g,{type:"node-body"})}}(r)};for(var glt={drawPolygonPath:function(t,e,r,n,i,o){var a=n/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],r+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],r+s*o[2*l+1]);t.closePath()},drawRoundPolygonPath:function(t,e,r,n,i,o,a){a.forEach(function(s){return elt(t,s)}),t.closePath()},drawRoundRectanglePath:function(t,e,r,n,i,o){var a=n/2,s=i/2,l=o==="auto"?Kd(n,i):Math.min(o,s,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+a,r-s,e+a,r,l),t.arcTo(e+a,r+s,e,r+s,l),t.arcTo(e-a,r+s,e-a,r,l),t.arcTo(e-a,r-s,e,r-s,l),t.lineTo(e,r-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,r,n,i,o){var a=n/2,s=i/2,l=o==="auto"?Kd(n,i):o;t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+a,r-s),t.lineTo(e+a,r),t.arcTo(e+a,r+s,e,r+s,l),t.arcTo(e-a,r+s,e-a,r,l),t.lineTo(e-a,r-s),t.lineTo(e,r-s),t.closePath()},drawCutRectanglePath:function(t,e,r,n,i,o,a){var s=n/2,l=i/2,u=a==="auto"?8:a;t.beginPath&&t.beginPath(),t.moveTo(e-s+u,r-l),t.lineTo(e+s-u,r-l),t.lineTo(e+s,r-l+u),t.lineTo(e+s,r+l-u),t.lineTo(e+s-u,r+l),t.lineTo(e-s+u,r+l),t.lineTo(e-s,r+l-u),t.lineTo(e-s,r-l+u),t.closePath()},drawBarrelPath:function(t,e,r,n,i){var o=n/2,a=i/2,s=e-o,l=e+o,u=r-a,h=r+a,d=HS(n,i),p=d.widthOffset,f=d.heightOffset,g=d.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,u+f),t.lineTo(s,h-f),t.quadraticCurveTo(s+g,h,s+p,h),t.lineTo(l-p,h),t.quadraticCurveTo(l-g,h,l,h-f),t.lineTo(l,u+f),t.quadraticCurveTo(l-g,u,l-p,u),t.lineTo(s+p,u),t.quadraticCurveTo(s+g,u,s,u+f),t.closePath()}},MH=Math.sin(0),BH=Math.cos(0),cA={},uA={},mlt=Math.PI/40,Pp=0*Math.PI;Pp<2*Math.PI;Pp+=mlt)cA[Pp]=Math.sin(Pp),uA[Pp]=Math.cos(Pp);glt.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var o,a,s=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=mlt)o=e-s*cA[u]*MH+s*uA[u]*BH,a=r+l*uA[u]*MH+l*cA[u]*BH,u===0?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var X1={};function PH(t){var e=t.indexOf(",");return t.substr(e+1)}function FH(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ag(function(i,o){try{e.toBlob(function(a){a!=null?i(a):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(a){o(a)}});case"blob":return function(i,o){for(var a=atob(i),s=new ArrayBuffer(a.length),l=new Uint8Array(s),u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return new Blob([s],{type:o})}(PH(n()),r);case"base64":return PH(n());default:return n()}}X1.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]},X1.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements().boundingBox(),n=this.findContainerClientCoords(),i=t.full?Math.ceil(r.w):n[2],o=t.full?Math.ceil(r.h):n[3],a=we(t.maxWidth)||we(t.maxHeight),s=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,l=t.scale;else if(a){var u=1/0,h=1/0;we(t.maxWidth)&&(u=l*t.maxWidth/i),we(t.maxHeight)&&(h=l*t.maxHeight/o),i*=l=Math.min(u,h),o*=l}a||(i*=s,o*=s,l*=s);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var p=d.getContext("2d");if(i>0&&o>0){p.clearRect(0,0,i,o),p.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(t.full)p.translate(-r.x1*l,-r.y1*l),p.scale(l,l),this.drawElements(p,f),p.scale(1/l,1/l),p.translate(r.x1*l,r.y1*l);else{var g=e.pan(),m={x:g.x*l,y:g.y*l};l*=e.zoom(),p.translate(m.x,m.y),p.scale(l,l),this.drawElements(p,f),p.scale(1/l,1/l),p.translate(-m.x,-m.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,i,o),p.fill())}return d},X1.png=function(t){return FH(t,this.bufferCanvasImage(t),"image/png")},X1.jpg=function(t){return FH(t,this.bufferCanvasImage(t),"image/jpeg")};var dXt={nodeShapeImpl:function(t,e,r,n,i,o,a,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,o);case"polygon":return this.drawPolygonPath(e,r,n,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,o,a,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,o,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,o,a,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,o,s);case"barrel":return this.drawBarrelPath(e,r,n,i,o)}}},pXt=ylt,xr=ylt.prototype;function ylt(t){var e=this,r=e.cy.window().document;t.webgl&&(xr.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(xr.CANVAS_LAYERS),contexts:new Array(xr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(xr.CANVAS_LAYERS),bufferCanvases:new Array(xr.BUFFER_COUNT),bufferContexts:new Array(xr.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[n]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var a=t.cy.container();a.appendChild(e.data.canvasContainer),a.style[n]=i;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};vF&&vF.userAgent.match(/msie|trident|edge/i)&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<xr.CANVAS_LAYERS;l++){var u=e.data.canvases[l]=r.createElement("canvas"),h=xr.CANVAS_TYPES[l];e.data.contexts[l]=u.getContext(h),e.data.contexts[l]||Mn("Could not create canvas of type "+h),Object.keys(s).forEach(function(G){u.style[G]=s[G]}),u.style.position="absolute",u.setAttribute("data-id","layer"+l),u.style.zIndex=String(xr.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[l]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[xr.NODE].setAttribute("data-id","layer"+xr.NODE+"-node"),e.data.canvases[xr.SELECT_BOX].setAttribute("data-id","layer"+xr.SELECT_BOX+"-selectbox"),e.data.canvases[xr.DRAG].setAttribute("data-id","layer"+xr.DRAG+"-drag"),e.data.canvases[xr.WEBGL]&&e.data.canvases[xr.WEBGL].setAttribute("data-id","layer"+xr.WEBGL+"-webgl"),l=0;l<xr.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=r.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var d=Sa(),p=function(G){return{x:-G.w/2,y:-G.h/2}},f=function(G){return G[0]._private.nodeKey},g=function(G){return G[0]._private.labelStyleKey},m=function(G){return G[0]._private.sourceLabelStyleKey},y=function(G){return G[0]._private.targetLabelStyleKey},v=function(G,V,rt,tt,at){return e.drawElement(G,V,rt,!1,!1,at)},x=function(G,V,rt,tt,at){return e.drawElementText(G,V,rt,tt,"main",at)},b=function(G,V,rt,tt,at){return e.drawElementText(G,V,rt,tt,"source",at)},k=function(G,V,rt,tt,at){return e.drawElementText(G,V,rt,tt,"target",at)},N=function(G){return G.boundingBox(),G[0]._private.bodyBounds},_=function(G){return G.boundingBox(),G[0]._private.labelBounds.main||d},S=function(G){return G.boundingBox(),G[0]._private.labelBounds.source||d},T=function(G){return G.boundingBox(),G[0]._private.labelBounds.target||d},A=function(G,V){return V},C=function(G){return{x:((V=N(G)).x1+V.x2)/2,y:(V.y1+V.y2)/2};var V},D=function(G,V,rt){var tt=G?G+"-":"";return{x:V.x+rt.pstyle(tt+"text-margin-x").pfValue,y:V.y+rt.pstyle(tt+"text-margin-y").pfValue}},E=function(G,V,rt){var tt=G[0]._private.rscratch;return{x:tt[V],y:tt[rt]}},$=function(G){return D("",E(G,"labelX","labelY"),G)},I=function(G){return D("source",E(G,"sourceLabelX","sourceLabelY"),G)},L=function(G){return D("target",E(G,"targetLabelX","targetLabelY"),G)},O=function(G){return p(N(G))},B=function(G){return p(S(G))},R=function(G){return p(T(G))},M=function(G){var V=_(G),rt=p(_(G));if(G.isNode()){switch(G.pstyle("text-halign").value){case"left":rt.x=-V.w-(V.leftPad||0);break;case"right":rt.x=-(V.rightPad||0)}switch(G.pstyle("text-valign").value){case"top":rt.y=-V.h-(V.topPad||0);break;case"bottom":rt.y=-(V.botPad||0)}}return rt},F=e.data.eleTxrCache=new V1(e,{getKey:f,doesEleInvalidateKey:function(G){var V=G[0]._private;return V.oldBackgroundTimestamp!==V.backgroundTimestamp},drawElement:v,getBoundingBox:N,getRotationPoint:C,getRotationOffset:O,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),P=e.data.lblTxrCache=new V1(e,{getKey:g,drawElement:x,getBoundingBox:_,getRotationPoint:$,getRotationOffset:M,isVisible:A}),U=e.data.slbTxrCache=new V1(e,{getKey:m,drawElement:b,getBoundingBox:S,getRotationPoint:I,getRotationOffset:B,isVisible:A}),W=e.data.tlbTxrCache=new V1(e,{getKey:y,drawElement:k,getBoundingBox:T,getRotationPoint:L,getRotationOffset:R,isVisible:A}),Q=e.data.lyrTxrCache=new llt(e);e.onUpdateEleCalcs(function(G,V){F.invalidateElements(V),P.invalidateElements(V),U.invalidateElements(V),W.invalidateElements(V),Q.invalidateElements(V);for(var rt=0;rt<V.length;rt++){var tt=V[rt]._private;tt.oldBackgroundTimestamp=tt.backgroundTimestamp}});var K=function(G){for(var V=0;V<G.length;V++)Q.enqueueElementRefinement(G[V].ele)};F.onDequeue(K),P.onDequeue(K),U.onDequeue(K),W.onDequeue(K),t.webgl&&e.initWebgl(t,{getStyleKey:f,getLabelKey:g,getSourceLabelKey:m,getTargetLabelKey:y,drawElement:v,drawLabel:x,drawSourceLabel:b,drawTargetLabel:k,getElementBox:N,getLabelBox:_,getSourceLabelBox:S,getTargetLabelBox:T,getElementRotationPoint:C,getElementRotationOffset:O,getLabelRotationPoint:$,getSourceLabelRotationPoint:I,getTargetLabelRotationPoint:L,getLabelRotationOffset:M,getSourceLabelRotationOffset:B,getTargetLabelRotationOffset:R})}xr.CANVAS_LAYERS=3,xr.SELECT_BOX=0,xr.DRAG=1,xr.NODE=2,xr.WEBGL=3,xr.CANVAS_TYPES=["2d","2d","2d","webgl2"],xr.BUFFER_COUNT=3,xr.TEXTURE_BUFFER=0,xr.MOTIONBLUR_BUFFER_NODE=1,xr.MOTIONBLUR_BUFFER_DRAG=2,xr.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[xr.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[xr.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[xr.SELECT_BOX]=e;break;case"gc":r.data.gc=!0}};var fXt=typeof Path2D<"u";xr.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t},xr.usePaths=function(){return fXt&&this.pathsEnabled},xr.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},xr.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},xr.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":Ni(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):((r=this.cy.window().document.createElement("canvas")).width=t,r.height=e),r},[clt,Kp,xu,nXt,Zh,Y1,Ho,flt,glt,X1,dXt].forEach(function(t){rr(xr,t)});var gXt=[{type:"layout",extensions:OYt},{type:"renderer",extensions:[{name:"null",impl:Qst},{name:"base",impl:alt},{name:"canvas",impl:pXt}]}],vlt={},blt={};function xlt(t,e,r){var n=r,i=function(_){Kr("Can not register `"+e+"` for `"+t+"` since `"+_+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(gy.prototype[e])return i(e);gy.prototype[e]=r}else if(t==="collection"){if(no.prototype[e])return i(e);no.prototype[e]=r}else if(t==="layout"){for(var o=function(_){this.options=_,r.call(this,_),Br(this._private)||(this._private={}),this._private.cy=_.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var h=r.prototype.stop;a.stop=function(){var _=this.options;if(_&&_.animate){var S=this.animations;if(S)for(var T=0;T<S.length;T++)S[T].stop()}return h?h.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var d=function(_){return _._private.cy},p={addEventFields:function(_,S){S.layout=_,S.cy=d(_),S.target=_},bubble:function(){return!0},parent:function(_){return d(_)}};rr(a,{createEmitter:function(){return this._private.emitter=new V3(p,this),this},emitter:function(){return this._private.emitter},on:function(_,S){return this.emitter().on(_,S),this},one:function(_,S){return this.emitter().one(_,S),this},once:function(_,S){return this.emitter().one(_,S),this},removeListener:function(_,S){return this.emitter().removeListener(_,S),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(_,S){return this.emitter().emit(_,S),this}}),Yr.eventAliasesOn(a),n=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var f=wlt("renderer","base"),g=f.prototype,m=r,y=r.prototype,v=function(){f.apply(this,arguments),m.apply(this,arguments)},x=v.prototype;for(var b in g){var k=g[b];if(y[b]!=null)return i(b);x[b]=k}for(var N in y)x[N]=y[N];g.clientFunctions.forEach(function(_){x[_]=x[_]||function(){Mn("Renderer does not implement `renderer."+_+"()` on its prototype")}}),n=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Mn(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Qat({map:vlt,keys:[t,e],value:n})}function wlt(t,e){return Jat({map:vlt,keys:[t,e]})}function mXt(t,e,r,n,i){return Qat({map:blt,keys:[t,e,r,n],value:i})}function yXt(t,e,r,n){return Jat({map:blt,keys:[t,e,r,n]})}var hA=function(){return arguments.length===2?wlt.apply(null,arguments):arguments.length===3?xlt.apply(null,arguments):arguments.length===4?yXt.apply(null,arguments):arguments.length===5?mXt.apply(null,arguments):void Mn("Invalid extension access syntax")};gy.prototype.extension=hA,gXt.forEach(function(t){t.extensions.forEach(function(e){xlt(t.type,e.name,e.impl)})});var G5=function(){if(!(this instanceof G5))return new G5;this.length=0},Dh=G5.prototype;Dh.instanceString=function(){return"stylesheet"},Dh.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Dh.css=function(t,e){var r=this.length-1;if(We(t))this[r].properties.push({name:t,value:e});else if(Br(t))for(var n=t,i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a];if(s!=null){var l=Fi.properties[a]||Fi.properties[H3(a)];if(l!=null){var u=l.name,h=s;this[r].properties.push({name:u,value:h})}}}return this},Dh.style=Dh.css,Dh.generateStyle=function(t){var e=new Fi(t);return this.appendToStyle(e)},Dh.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var Al=function(t){return t===void 0&&(t={}),Br(t)?new gy(t):We(t)?hA.apply(hA,arguments):void 0};Al.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Al),t.apply(null,e),this},Al.warnings=function(t){return ost(t)},Al.version="3.31.1",Al.stylesheet=Al.Stylesheet=G5;var klt={exports:{}},zH={exports:{}},jH={exports:{}},HH;function vXt(){return HH||(HH=1,t=function(){return function(e){var r={};function n(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.i=function(i){return i},n.d=function(i,o,a){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=26)}([function(e,r,n){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,e.exports=i},function(e,r,n){var i=n(2),o=n(8),a=n(9);function s(u,h,d){i.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=u,this.target=h}for(var l in s.prototype=Object.create(i.prototype),i)s[l]=i[l];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(u){if(this.source===u)return this.target;if(this.target===u)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(u,h){for(var d=this.getOtherEnd(u),p=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},s.prototype.updateLength=function(){var u=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),u),this.isOverlapingSourceAndTarget||(this.lengthX=u[0]-u[2],this.lengthY=u[1]-u[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=s},function(e,r,n){e.exports=function(i){this.vGraphObject=i}},function(e,r,n){var i=n(2),o=n(10),a=n(13),s=n(0),l=n(16),u=n(4);function h(p,f,g,m){g==null&&m==null&&(m=f),i.call(this,m),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=p,this.rect=g!=null&&f!=null?new a(f.x,f.y,g.width,g.height):new a}for(var d in h.prototype=Object.create(i.prototype),i)h[d]=i[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(p){this.rect.width=p},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(p){this.rect.height=p},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(p,f){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=f.width,this.rect.height=f.height},h.prototype.setCenter=function(p,f){this.rect.x=p-this.rect.width/2,this.rect.y=f-this.rect.height/2},h.prototype.setLocation=function(p,f){this.rect.x=p,this.rect.y=f},h.prototype.moveBy=function(p,f){this.rect.x+=p,this.rect.y+=f},h.prototype.getEdgeListToNode=function(p){var f=[],g=this;return g.edges.forEach(function(m){if(m.target==p){if(m.source!=g)throw"Incorrect edge source!";f.push(m)}}),f},h.prototype.getEdgesBetween=function(p){var f=[],g=this;return g.edges.forEach(function(m){if(m.source!=g&&m.target!=g)throw"Incorrect edge source and/or target";m.target!=p&&m.source!=p||f.push(m)}),f},h.prototype.getNeighborsList=function(){var p=new Set,f=this;return f.edges.forEach(function(g){if(g.source==f)p.add(g.target);else{if(g.target!=f)throw"Incorrect incidency!";p.add(g.source)}}),p},h.prototype.withChildren=function(){var p=new Set;if(p.add(this),this.child!=null)for(var f=this.child.getNodes(),g=0;g<f.length;g++)f[g].withChildren().forEach(function(m){p.add(m)});return p},h.prototype.getNoOfChildren=function(){var p=0;if(this.child==null)p=1;else for(var f=this.child.getNodes(),g=0;g<f.length;g++)p+=f[g].getNoOfChildren();return p==0&&(p=1),p},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var p,f,g=-s.INITIAL_WORLD_BOUNDARY,m=s.INITIAL_WORLD_BOUNDARY;p=s.WORLD_CENTER_X+l.nextDouble()*(m-g)+g;var y=-s.INITIAL_WORLD_BOUNDARY,v=s.INITIAL_WORLD_BOUNDARY;f=s.WORLD_CENTER_Y+l.nextDouble()*(v-y)+y,this.rect.x=p,this.rect.y=f},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var f=p.getRight()-p.getLeft(),g=p.getBottom()-p.getTop();this.labelWidth>f&&(this.rect.x-=(this.labelWidth-f)/2,this.setWidth(this.labelWidth)),this.labelHeight>g&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-g)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-g),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(p){var f=this.rect.x;f>s.WORLD_BOUNDARY?f=s.WORLD_BOUNDARY:f<-s.WORLD_BOUNDARY&&(f=-s.WORLD_BOUNDARY);var g=this.rect.y;g>s.WORLD_BOUNDARY?g=s.WORLD_BOUNDARY:g<-s.WORLD_BOUNDARY&&(g=-s.WORLD_BOUNDARY);var m=new u(f,g),y=p.inverseTransformPoint(m);this.setLocation(y.x,y.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},e.exports=h},function(e,r,n){function i(o,a){o==null&&a==null?(this.x=0,this.y=0):(this.x=o,this.y=a)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},e.exports=i},function(e,r,n){var i=n(2),o=n(10),a=n(0),s=n(6),l=n(3),u=n(1),h=n(13),d=n(12),p=n(11);function f(m,y,v){i.call(this,v),this.estimatedSize=o.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,y!=null&&y instanceof s?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}for(var g in f.prototype=Object.create(i.prototype),i)f[g]=i[g];f.prototype.getNodes=function(){return this.nodes},f.prototype.getEdges=function(){return this.edges},f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getParent=function(){return this.parent},f.prototype.getLeft=function(){return this.left},f.prototype.getRight=function(){return this.right},f.prototype.getTop=function(){return this.top},f.prototype.getBottom=function(){return this.bottom},f.prototype.isConnected=function(){return this.isConnected},f.prototype.add=function(m,y,v){if(y==null&&v==null){var x=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}var b=m;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(y.owner!=v.owner||y.owner!=this)throw"Both owners must be this graph!";return y.owner!=v.owner?null:(b.source=y,b.target=v,b.isInterGraph=!1,this.getEdges().push(b),y.edges.push(b),v!=y&&v.edges.push(b),b)},f.prototype.remove=function(m){var y=m;if(m instanceof l){if(y==null)throw"Node is null!";if(y.owner==null||y.owner!=this)throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=y.edges.slice(),x=v.length,b=0;b<x;b++)(k=v[b]).isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);if((N=this.nodes.indexOf(y))==-1)throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(m instanceof u){var k;if((k=m)==null)throw"Edge is null!";if(k.source==null||k.target==null)throw"Source and/or target is null!";if(k.source.owner==null||k.target.owner==null||k.source.owner!=this||k.target.owner!=this)throw"Source and/or target owner is invalid!";var N,_=k.source.edges.indexOf(k),S=k.target.edges.indexOf(k);if(!(_>-1&&S>-1))throw"Source and/or target doesn't know this edge!";if(k.source.edges.splice(_,1),k.target!=k.source&&k.target.edges.splice(S,1),(N=k.source.owner.getEdges().indexOf(k))==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(N,1)}},f.prototype.updateLeftTop=function(){for(var m,y,v,x=o.MAX_VALUE,b=o.MAX_VALUE,k=this.getNodes(),N=k.length,_=0;_<N;_++){var S=k[_];x>(m=S.getTop())&&(x=m),b>(y=S.getLeft())&&(b=y)}return x==o.MAX_VALUE?null:(v=k[0].getParent().paddingLeft!=null?k[0].getParent().paddingLeft:this.margin,this.left=b-v,this.top=x-v,new d(this.left,this.top))},f.prototype.updateBounds=function(m){for(var y,v,x,b,k,N=o.MAX_VALUE,_=-o.MAX_VALUE,S=o.MAX_VALUE,T=-o.MAX_VALUE,A=this.nodes,C=A.length,D=0;D<C;D++){var E=A[D];m&&E.child!=null&&E.updateBounds(),N>(y=E.getLeft())&&(N=y),_<(v=E.getRight())&&(_=v),S>(x=E.getTop())&&(S=x),T<(b=E.getBottom())&&(T=b)}var $=new h(N,S,_-N,T-S);N==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),k=A[0].getParent().paddingLeft!=null?A[0].getParent().paddingLeft:this.margin,this.left=$.x-k,this.right=$.x+$.width+k,this.top=$.y-k,this.bottom=$.y+$.height+k},f.calculateBounds=function(m){for(var y,v,x,b,k=o.MAX_VALUE,N=-o.MAX_VALUE,_=o.MAX_VALUE,S=-o.MAX_VALUE,T=m.length,A=0;A<T;A++){var C=m[A];k>(y=C.getLeft())&&(k=y),N<(v=C.getRight())&&(N=v),_>(x=C.getTop())&&(_=x),S<(b=C.getBottom())&&(S=b)}return new h(k,_,N-k,S-_)},f.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){for(var m=0,y=this.nodes,v=y.length,x=0;x<v;x++)m+=y[x].calcEstimatedSize();return this.estimatedSize=m==0?a.EMPTY_COMPOUND_NODE_SIZE:m/Math.sqrt(this.nodes.length),this.estimatedSize},f.prototype.updateConnected=function(){var m=this;if(this.nodes.length!=0){var y,v,x=new p,b=new Set,k=this.nodes[0];for(k.withChildren().forEach(function(T){x.push(T),b.add(T)});x.length!==0;)for(var N=(y=(k=x.shift()).getEdges()).length,_=0;_<N;_++)(v=y[_].getOtherEndInGraph(k,this))==null||b.has(v)||v.withChildren().forEach(function(T){x.push(T),b.add(T)});if(this.isConnected=!1,b.size>=this.nodes.length){var S=0;b.forEach(function(T){T.owner==m&&S++}),S==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=f},function(e,r,n){var i,o=n(1);function a(s){i=n(5),this.layout=s,this.graphs=[],this.edges=[]}a.prototype.addRoot=function(){var s=this.layout.newGraph(),l=this.layout.newNode(null),u=this.add(s,l);return this.setRootGraph(u),this.rootGraph},a.prototype.add=function(s,l,u,h,d){if(u==null&&h==null&&d==null){if(s==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(s)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(s),s.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return s.parent=l,l.child=s,s}d=u,u=s;var p=(h=l).getOwner(),f=d.getOwner();if(p==null||p.getGraphManager()!=this)throw"Source not in this graph mgr!";if(f==null||f.getGraphManager()!=this)throw"Target not in this graph mgr!";if(p==f)return u.isInterGraph=!1,p.add(u,h,d);if(u.isInterGraph=!0,u.source=h,u.target=d,this.edges.indexOf(u)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(u),u.source==null||u.target==null)throw"Edge source and/or target is null!";if(u.source.edges.indexOf(u)!=-1||u.target.edges.indexOf(u)!=-1)throw"Edge already in source and/or target incidency list!";return u.source.edges.push(u),u.target.edges.push(u),u},a.prototype.remove=function(s){if(s instanceof i){var l=s;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(l!=this.rootGraph&&(l.parent==null||l.parent.graphManager!=this))throw"Invalid parent node!";for(var u,h=[],d=(h=h.concat(l.getEdges())).length,p=0;p<d;p++)u=h[p],l.remove(u);var f,g=[];for(d=(g=g.concat(l.getNodes())).length,p=0;p<d;p++)f=g[p],l.remove(f);l==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(l);this.graphs.splice(m,1),l.parent=null}else if(s instanceof o){if((u=s)==null)throw"Edge is null!";if(!u.isInterGraph)throw"Not an inter-graph edge!";if(u.source==null||u.target==null)throw"Source and/or target is null!";if(u.source.edges.indexOf(u)==-1||u.target.edges.indexOf(u)==-1)throw"Source and/or target doesn't know this edge!";if(m=u.source.edges.indexOf(u),u.source.edges.splice(m,1),m=u.target.edges.indexOf(u),u.target.edges.splice(m,1),u.source.owner==null||u.source.owner.getGraphManager()==null)throw"Edge owner graph or owner graph manager is null!";if(u.source.owner.getGraphManager().edges.indexOf(u)==-1)throw"Not in owner graph manager's edge list!";m=u.source.owner.getGraphManager().edges.indexOf(u),u.source.owner.getGraphManager().edges.splice(m,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(this.allNodes==null){for(var s=[],l=this.getGraphs(),u=l.length,h=0;h<u;h++)s=s.concat(l[h].getNodes());this.allNodes=s}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(this.allEdges==null){var s=[],l=this.getGraphs();l.length;for(var u=0;u<l.length;u++)s=s.concat(l[u].getEdges());s=s.concat(this.edges),this.allEdges=s}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(s){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=s},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(s){if(s.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=s,s.parent==null&&(s.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(s,l){if(s==null||l==null)throw"assert failed";if(s==l)return!0;for(var u,h=s.getOwner();(u=h.getParent())!=null;){if(u==l)return!0;if((h=u.getOwner())==null)break}for(h=l.getOwner();(u=h.getParent())!=null;){if(u==s)return!0;if((h=u.getOwner())==null)break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var s,l,u,h,d,p=this.getAllEdges(),f=p.length,g=0;g<f;g++)if(l=(s=p[g]).source,u=s.target,s.lca=null,s.sourceInLca=l,s.targetInLca=u,l!=u){for(h=l.getOwner();s.lca==null;){for(s.targetInLca=u,d=u.getOwner();s.lca==null;){if(d==h){s.lca=d;break}if(d==this.rootGraph)break;if(s.lca!=null)throw"assert failed";s.targetInLca=d.getParent(),d=s.targetInLca.getOwner()}if(h==this.rootGraph)break;s.lca==null&&(s.sourceInLca=h.getParent(),h=s.sourceInLca.getOwner())}if(s.lca==null)throw"assert failed"}else s.lca=l.getOwner()},a.prototype.calcLowestCommonAncestor=function(s,l){if(s==l)return s.getOwner();for(var u=s.getOwner();u!=null;){for(var h=l.getOwner();h!=null;){if(h==u)return h;h=h.getParent().getOwner()}u=u.getParent().getOwner()}return u},a.prototype.calcInclusionTreeDepths=function(s,l){var u;s==null&&l==null&&(s=this.rootGraph,l=1);for(var h=s.getNodes(),d=h.length,p=0;p<d;p++)(u=h[p]).inclusionTreeDepth=l,u.child!=null&&this.calcInclusionTreeDepths(u.child,l+1)},a.prototype.includesInvalidEdge=function(){for(var s,l=this.edges.length,u=0;u<l;u++)if(s=this.edges[u],this.isOneAncestorOfOther(s.source,s.target))return!0;return!1},e.exports=a},function(e,r,n){var i=n(0);function o(){}for(var a in i)o[a]=i[a];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=3*o.MAX_NODE_DISPLACEMENT_INCREMENTAL,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=o},function(e,r,n){var i=n(12);function o(){}o.calcSeparationAmount=function(a,s,l,u){if(!a.intersects(s))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(a,s,h),l[0]=Math.min(a.getRight(),s.getRight())-Math.max(a.x,s.x),l[1]=Math.min(a.getBottom(),s.getBottom())-Math.max(a.y,s.y),a.getX()<=s.getX()&&a.getRight()>=s.getRight()?l[0]+=Math.min(s.getX()-a.getX(),a.getRight()-s.getRight()):s.getX()<=a.getX()&&s.getRight()>=a.getRight()&&(l[0]+=Math.min(a.getX()-s.getX(),s.getRight()-a.getRight())),a.getY()<=s.getY()&&a.getBottom()>=s.getBottom()?l[1]+=Math.min(s.getY()-a.getY(),a.getBottom()-s.getBottom()):s.getY()<=a.getY()&&s.getBottom()>=a.getBottom()&&(l[1]+=Math.min(a.getY()-s.getY(),s.getBottom()-a.getBottom()));var d=Math.abs((s.getCenterY()-a.getCenterY())/(s.getCenterX()-a.getCenterX()));s.getCenterY()===a.getCenterY()&&s.getCenterX()===a.getCenterX()&&(d=1);var p=d*l[0],f=l[1]/d;l[0]<f?f=l[0]:p=l[1],l[0]=-1*h[0]*(f/2+u),l[1]=-1*h[1]*(p/2+u)},o.decideDirectionsForOverlappingNodes=function(a,s,l){a.getCenterX()<s.getCenterX()?l[0]=-1:l[0]=1,a.getCenterY()<s.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(a,s,l){var u=a.getCenterX(),h=a.getCenterY(),d=s.getCenterX(),p=s.getCenterY();if(a.intersects(s))return l[0]=u,l[1]=h,l[2]=d,l[3]=p,!0;var f=a.getX(),g=a.getY(),m=a.getRight(),y=a.getX(),v=a.getBottom(),x=a.getRight(),b=a.getWidthHalf(),k=a.getHeightHalf(),N=s.getX(),_=s.getY(),S=s.getRight(),T=s.getX(),A=s.getBottom(),C=s.getRight(),D=s.getWidthHalf(),E=s.getHeightHalf(),$=!1,I=!1;if(u===d){if(h>p)return l[0]=u,l[1]=g,l[2]=d,l[3]=A,!1;if(h<p)return l[0]=u,l[1]=v,l[2]=d,l[3]=_,!1}else if(h===p){if(u>d)return l[0]=f,l[1]=h,l[2]=S,l[3]=p,!1;if(u<d)return l[0]=m,l[1]=h,l[2]=N,l[3]=p,!1}else{var L=a.height/a.width,O=s.height/s.width,B=(p-h)/(d-u),R=void 0,M=void 0,F=void 0,P=void 0,U=void 0,W=void 0;if(-L===B?u>d?(l[0]=y,l[1]=v,$=!0):(l[0]=m,l[1]=g,$=!0):L===B&&(u>d?(l[0]=f,l[1]=g,$=!0):(l[0]=x,l[1]=v,$=!0)),-O===B?d>u?(l[2]=T,l[3]=A,I=!0):(l[2]=S,l[3]=_,I=!0):O===B&&(d>u?(l[2]=N,l[3]=_,I=!0):(l[2]=C,l[3]=A,I=!0)),$&&I)return!1;if(u>d?h>p?(R=this.getCardinalDirection(L,B,4),M=this.getCardinalDirection(O,B,2)):(R=this.getCardinalDirection(-L,B,3),M=this.getCardinalDirection(-O,B,1)):h>p?(R=this.getCardinalDirection(-L,B,1),M=this.getCardinalDirection(-O,B,3)):(R=this.getCardinalDirection(L,B,2),M=this.getCardinalDirection(O,B,4)),!$)switch(R){case 1:P=g,F=u+-k/B,l[0]=F,l[1]=P;break;case 2:F=x,P=h+b*B,l[0]=F,l[1]=P;break;case 3:P=v,F=u+k/B,l[0]=F,l[1]=P;break;case 4:F=y,P=h+-b*B,l[0]=F,l[1]=P}if(!I)switch(M){case 1:W=_,U=d+-E/B,l[2]=U,l[3]=W;break;case 2:U=C,W=p+D*B,l[2]=U,l[3]=W;break;case 3:W=A,U=d+E/B,l[2]=U,l[3]=W;break;case 4:U=T,W=p+-D*B,l[2]=U,l[3]=W}}return!1},o.getCardinalDirection=function(a,s,l){return a>s?l:1+l%4},o.getIntersection=function(a,s,l,u){if(u==null)return this.getIntersection2(a,s,l);var h,d,p,f,g,m,y,v=a.x,x=a.y,b=s.x,k=s.y,N=l.x,_=l.y,S=u.x,T=u.y;return(y=(h=k-x)*(f=N-S)-(d=T-_)*(p=v-b))==0?null:new i((p*(m=S*_-N*T)-f*(g=b*x-v*k))/y,(d*g-h*m)/y)},o.angleOfVector=function(a,s,l,u){var h=void 0;return a!==l?(h=Math.atan((u-s)/(l-a)),l<a?h+=Math.PI:u<s&&(h+=this.TWO_PI)):h=u<s?this.ONE_AND_HALF_PI:this.HALF_PI,h},o.doIntersect=function(a,s,l,u){var h=a.x,d=a.y,p=s.x,f=s.y,g=l.x,m=l.y,y=u.x,v=u.y,x=(p-h)*(v-m)-(y-g)*(f-d);if(x===0)return!1;var b=((v-m)*(y-h)+(g-y)*(v-d))/x,k=((d-f)*(y-h)+(p-h)*(v-d))/x;return 0<b&&b<1&&0<k&&k<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,e.exports=o},function(e,r,n){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},e.exports=i},function(e,r,n){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,e.exports=i},function(e,r,n){var i=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}(),o=function(u){return{value:u,next:null,prev:null}},a=function(u,h,d,p){return u!==null?u.next=h:p.head=h,d!==null?d.prev=h:p.tail=h,h.prev=u,h.next=d,p.length++,h},s=function(u,h){var d=u.prev,p=u.next;return d!==null?d.next=p:h.head=p,p!==null?p.prev=d:h.tail=d,u.prev=u.next=null,h.length--,u},l=function(){function u(h){var d=this;(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(p){return d.push(p)})}return i(u,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(h,d){return a(d.prev,o(h),d,this)}},{key:"insertAfter",value:function(h,d){return a(d,o(h),d.next,this)}},{key:"insertNodeBefore",value:function(h,d){return a(d.prev,h,d,this)}},{key:"insertNodeAfter",value:function(h,d){return a(d,h,d.next,this)}},{key:"push",value:function(h){return a(this.tail,o(h),null,this)}},{key:"unshift",value:function(h){return a(null,o(h),this.head,this)}},{key:"remove",value:function(h){return s(h,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(h){if(h<=this.length()){for(var d=1,p=this.head;d<h;)p=p.next,d++;return p.value}}},{key:"set_object_at",value:function(h,d){if(h<=this.length()){for(var p=1,f=this.head;p<h;)f=f.next,p++;f.value=d}}}]),u}();e.exports=l},function(e,r,n){function i(o,a,s){this.x=null,this.y=null,o==null&&a==null&&s==null?(this.x=0,this.y=0):typeof o=="number"&&typeof a=="number"&&s==null?(this.x=o,this.y=a):o.constructor.name=="Point"&&a==null&&s==null&&(s=o,this.x=s.x,this.y=s.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,a,s){o.constructor.name=="Point"&&a==null&&s==null?(s=o,this.setLocation(s.x,s.y)):typeof o=="number"&&typeof a=="number"&&s==null&&(parseInt(o)==o&&parseInt(a)==a?this.move(o,a):(this.x=Math.floor(o+.5),this.y=Math.floor(a+.5)))},i.prototype.move=function(o,a){this.x=o,this.y=a},i.prototype.translate=function(o,a){this.x+=o,this.y+=a},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var a=o;return this.x==a.x&&this.y==a.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=i},function(e,r,n){function i(o,a,s,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&a!=null&&s!=null&&l!=null&&(this.x=o,this.y=a,this.width=s,this.height=l)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},e.exports=i},function(e,r,n){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function o(){}o.lastID=0,o.createID=function(a){return o.isPrimitive(a)?a:(a.uniqueID!=null||(a.uniqueID=o.getString(),o.lastID++),a.uniqueID)},o.getString=function(a){return a==null&&(a=o.lastID),"Object#"+a},o.isPrimitive=function(a){var s=a===void 0?"undefined":i(a);return a==null||s!="object"&&s!="function"},e.exports=o},function(e,r,n){function i(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}return Array.from(g)}var o=n(0),a=n(6),s=n(3),l=n(1),u=n(5),h=n(4),d=n(17),p=n(27);function f(g){p.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}f.RANDOM_SEED=1,f.prototype=Object.create(p.prototype),f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},f.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},f.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},f.prototype.newGraphManager=function(){var g=new a(this);return this.graphManager=g,g},f.prototype.newGraph=function(g){return new u(null,this.graphManager,g)},f.prototype.newNode=function(g){return new s(this.graphManager,g)},f.prototype.newEdge=function(g){return new l(null,null,g)},f.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},f.prototype.runLayout=function(){var g;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),g=!this.checkLayoutSuccess()&&this.layout(),o.ANIMATE!=="during"&&(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},f.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},f.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),m=0;m<g.length;m++)g[m];var y=this.graphManager.getRoot().getNodes();for(m=0;m<y.length;m++)y[m];this.update(this.graphManager.getRoot())}},f.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof s){var m=g;if(m.getChild()!=null)for(var y=m.getChild().getNodes(),v=0;v<y.length;v++)update(y[v]);m.vGraphObject!=null&&m.vGraphObject.update(m)}else if(g instanceof l){var x=g;x.vGraphObject!=null&&x.vGraphObject.update(x)}else if(g instanceof u){var b=g;b.vGraphObject!=null&&b.vGraphObject.update(b)}},f.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},f.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var m=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){m.setWorldOrgX(g.x),m.setWorldOrgY(g.y),m.setDeviceOrgX(y.x),m.setDeviceOrgY(y.y);for(var v=this.getAllNodes(),x=0;x<v.length;x++)v[x].transform(m)}}},f.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,y,v=g.getNodes(),x=0;x<v.length;x++)(y=(m=v[x]).getChild())==null||y.getNodes().length==0?m.scatter():(this.positionNodesRandomly(y),m.updateBounds())},f.prototype.getFlatForest=function(){for(var g=[],m=!0,y=this.graphManager.getRoot().getNodes(),v=!0,x=0;x<y.length;x++)y[x].getChild()!=null&&(v=!1);if(!v)return g;var b=new Set,k=[],N=new Map,_=[];for(_=_.concat(y);_.length>0&&m;){for(k.push(_[0]);k.length>0&&m;){var S=k[0];k.splice(0,1),b.add(S);var T=S.getEdges();for(x=0;x<T.length;x++){var A=T[x].getOtherEnd(S);if(N.get(S)!=A){if(b.has(A)){m=!1;break}k.push(A),N.set(A,S)}}}if(m){var C=[].concat(i(b));for(g.push(C),x=0;x<C.length;x++){var D=C[x],E=_.indexOf(D);E>-1&&_.splice(E,1)}b=new Set,N=new Map}else g=[]}return g},f.prototype.createDummyNodesForBendpoints=function(g){for(var m=[],y=g.source,v=this.graphManager.calcLowestCommonAncestor(g.source,g.target),x=0;x<g.bendpoints.length;x++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),v.add(b);var k=this.newEdge(null);this.graphManager.add(k,y,b),m.add(b),y=b}return k=this.newEdge(null),this.graphManager.add(k,y,g.target),this.edgeToDummyNodes.set(g,m),g.isInterGraph()?this.graphManager.remove(g):v.remove(g),m},f.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(i(this.edgeToDummyNodes.keys())).concat(g);for(var m=0;m<g.length;m++){var y=g[m];if(y.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(y),x=0;x<v.length;x++){var b=v[x],k=new h(b.getCenterX(),b.getCenterY()),N=y.bendpoints.get(x);N.x=k.x,N.y=k.y,b.getOwner().remove(b)}this.graphManager.add(y,y.source,y.target)}}},f.transform=function(g,m,y,v){if(y!=null&&v!=null){var x=m;return g<=50?x-=(m-m/y)/50*(50-g):x+=(m*v-m)/50*(g-50),x}var b,k;return g<=50?(b=9*m/500,k=m/10):(b=9*m/50,k=-8*m),b*g+k},f.findCenterOfTree=function(g){var m=[];m=m.concat(g);var y=[],v=new Map,x=!1,b=null;m.length!=1&&m.length!=2||(x=!0,b=m[0]);for(var k=0;k<m.length;k++){var N=(T=m[k]).getNeighborsList().size;v.set(T,T.getNeighborsList().size),N==1&&y.push(T)}var _=[];for(_=_.concat(y);!x;){var S=[];for(S=S.concat(_),_=[],k=0;k<m.length;k++){var T=m[k],A=m.indexOf(T);A>=0&&m.splice(A,1),T.getNeighborsList().forEach(function(C){if(y.indexOf(C)<0){var D=v.get(C)-1;D==1&&_.push(C),v.set(C,D)}})}y=y.concat(_),m.length!=1&&m.length!=2||(x=!0,b=m[0])}return b},f.prototype.setGraphManager=function(g){this.graphManager=g},e.exports=f},function(e,r,n){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=1e4*Math.sin(i.seed++),i.x-Math.floor(i.x)},e.exports=i},function(e,r,n){var i=n(4);function o(a,s){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(a){this.lworldOrgX=a},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(a){this.lworldOrgY=a},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(a){this.lworldExtX=a},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(a){this.lworldExtY=a},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(a){this.ldeviceOrgX=a},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(a){this.ldeviceOrgY=a},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(a){this.ldeviceExtX=a},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(a){this.ldeviceExtY=a},o.prototype.transformX=function(a){var s=0,l=this.lworldExtX;return l!=0&&(s=this.ldeviceOrgX+(a-this.lworldOrgX)*this.ldeviceExtX/l),s},o.prototype.transformY=function(a){var s=0,l=this.lworldExtY;return l!=0&&(s=this.ldeviceOrgY+(a-this.lworldOrgY)*this.ldeviceExtY/l),s},o.prototype.inverseTransformX=function(a){var s=0,l=this.ldeviceExtX;return l!=0&&(s=this.lworldOrgX+(a-this.ldeviceOrgX)*this.lworldExtX/l),s},o.prototype.inverseTransformY=function(a){var s=0,l=this.ldeviceExtY;return l!=0&&(s=this.lworldOrgY+(a-this.ldeviceOrgY)*this.lworldExtY/l),s},o.prototype.inverseTransformPoint=function(a){return new i(this.inverseTransformX(a.x),this.inverseTransformY(a.y))},e.exports=o},function(e,r,n){var i=n(15),o=n(7),a=n(0),s=n(8),l=n(9);function u(){i.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var h in u.prototype=Object.create(i.prototype),i)u[h]=i[h];u.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var d,p,f,g,m,y,v=this.getGraphManager().getAllEdges(),x=0;x<v.length;x++)(d=v[x]).idealLength=this.idealEdgeLength,d.isInterGraph&&(f=d.getSource(),g=d.getTarget(),m=d.getSourceInLca().getEstimatedSize(),y=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=m+y-2*a.SIMPLE_NODE_SIZE),p=d.getLca().getInclusionTreeDepth(),d.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(f.getInclusionTreeDepth()+g.getInclusionTreeDepth()-2*p))},u.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var d,p=this.getAllEdges(),f=0;f<p.length;f++)d=p[f],this.calcSpringForce(d,d.idealLength)},u.prototype.calcRepulsionForces=function(){var d,p,f,g,m,y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],v=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y&&this.updateGrid(),m=new Set,d=0;d<x.length;d++)f=x[d],this.calculateRepulsionForceOfANode(f,m,y,v),m.add(f);else for(d=0;d<x.length;d++)for(f=x[d],p=d+1;p<x.length;p++)g=x[p],f.getOwner()==g.getOwner()&&this.calcRepulsionForce(f,g)},u.prototype.calcGravitationalForces=function(){for(var d,p=this.getAllNodesToApplyGravitation(),f=0;f<p.length;f++)d=p[f],this.calcGravitationalForce(d)},u.prototype.moveNodes=function(){for(var d=this.getAllNodes(),p=0;p<d.length;p++)d[p].move()},u.prototype.calcSpringForce=function(d,p){var f,g,m,y,v=d.getSource(),x=d.getTarget();if(this.uniformLeafNodeSizes&&v.getChild()==null&&x.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;(f=d.getLength())!=0&&(m=(g=this.springConstant*(f-p))*(d.lengthX/f),y=g*(d.lengthY/f),v.springForceX+=m,v.springForceY+=y,x.springForceX-=m,x.springForceY-=y)},u.prototype.calcRepulsionForce=function(d,p){var f,g,m,y,v,x,b,k=d.getRect(),N=p.getRect(),_=new Array(2),S=new Array(4);if(k.intersects(N)){s.calcSeparationAmount(k,N,_,o.DEFAULT_EDGE_LENGTH/2),x=2*_[0],b=2*_[1];var T=d.noOfChildren*p.noOfChildren/(d.noOfChildren+p.noOfChildren);d.repulsionForceX-=T*x,d.repulsionForceY-=T*b,p.repulsionForceX+=T*x,p.repulsionForceY+=T*b}else this.uniformLeafNodeSizes&&d.getChild()==null&&p.getChild()==null?(f=N.getCenterX()-k.getCenterX(),g=N.getCenterY()-k.getCenterY()):(s.getIntersection(k,N,S),f=S[2]-S[0],g=S[3]-S[1]),Math.abs(f)<o.MIN_REPULSION_DIST&&(f=l.sign(f)*o.MIN_REPULSION_DIST),Math.abs(g)<o.MIN_REPULSION_DIST&&(g=l.sign(g)*o.MIN_REPULSION_DIST),m=f*f+g*g,y=Math.sqrt(m),x=(v=this.repulsionConstant*d.noOfChildren*p.noOfChildren/m)*f/y,b=v*g/y,d.repulsionForceX-=x,d.repulsionForceY-=b,p.repulsionForceX+=x,p.repulsionForceY+=b},u.prototype.calcGravitationalForce=function(d){var p,f,g,m,y,v,x,b;f=((p=d.getOwner()).getRight()+p.getLeft())/2,g=(p.getTop()+p.getBottom())/2,m=d.getCenterX()-f,y=d.getCenterY()-g,v=Math.abs(m)+d.getWidth()/2,x=Math.abs(y)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(v>(b=p.getEstimatedSize()*this.gravityRangeFactor)||x>b)&&(d.gravitationForceX=-this.gravityConstant*m,d.gravitationForceY=-this.gravityConstant*y):(v>(b=p.getEstimatedSize()*this.compoundGravityRangeFactor)||x>b)&&(d.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant)},u.prototype.isConverged=function(){var d,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||p},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,p=this.graphManager.getAllNodes(),f=0;f<p.length;f++)(d=p[f]).noOfChildren=d.getNoOfChildren()},u.prototype.calcGrid=function(d){var p,f;p=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),f=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var g=new Array(p),m=0;m<p;m++)g[m]=new Array(f);for(m=0;m<p;m++)for(var y=0;y<f;y++)g[m][y]=new Array;return g},u.prototype.addNodeToGrid=function(d,p,f){var g,m,y,v;g=parseInt(Math.floor((d.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((d.getRect().width+d.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((d.getRect().y-f)/this.repulsionRange)),v=parseInt(Math.floor((d.getRect().height+d.getRect().y-f)/this.repulsionRange));for(var x=g;x<=m;x++)for(var b=y;b<=v;b++)this.grid[x][b].push(d),d.setGridCoordinates(g,m,y,v)},u.prototype.updateGrid=function(){var d,p,f=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<f.length;d++)p=f[d],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(d,p,f,g){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f||g){var m,y=new Set;d.surrounding=new Array;for(var v=this.grid,x=d.startX-1;x<d.finishX+2;x++)for(var b=d.startY-1;b<d.finishY+2;b++)if(!(x<0||b<0||x>=v.length||b>=v[0].length)){for(var k=0;k<v[x][b].length;k++)if(m=v[x][b][k],d.getOwner()==m.getOwner()&&d!=m&&!p.has(m)&&!y.has(m)){var N=Math.abs(d.getCenterX()-m.getCenterX())-(d.getWidth()/2+m.getWidth()/2),_=Math.abs(d.getCenterY()-m.getCenterY())-(d.getHeight()/2+m.getHeight()/2);N<=this.repulsionRange&&_<=this.repulsionRange&&y.add(m)}}d.surrounding=[].concat(function(S){if(Array.isArray(S)){for(var T=0,A=Array(S.length);T<S.length;T++)A[T]=S[T];return A}return Array.from(S)}(y))}for(x=0;x<d.surrounding.length;x++)this.calcRepulsionForce(d,d.surrounding[x])},u.prototype.calcRepulsionRange=function(){return 0},e.exports=u},function(e,r,n){var i=n(1),o=n(7);function a(l,u,h){i.call(this,l,u,h),this.idealLength=o.DEFAULT_EDGE_LENGTH}for(var s in a.prototype=Object.create(i.prototype),i)a[s]=i[s];e.exports=a},function(e,r,n){var i=n(3);function o(s,l,u,h){i.call(this,s,l,u,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var a in o.prototype=Object.create(i.prototype),i)o[a]=i[a];o.prototype.setGridCoordinates=function(s,l,u,h){this.startX=s,this.finishX=l,this.startY=u,this.finishY=h},e.exports=o},function(e,r,n){function i(o,a){this.width=0,this.height=0,o!==null&&a!==null&&(this.height=a,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},e.exports=i},function(e,r,n){var i=n(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(a,s){var l=i.createID(a);this.contains(l)||(this.map[l]=s,this.keys.push(a))},o.prototype.contains=function(a){return i.createID(a),this.map[a]!=null},o.prototype.get=function(a){var s=i.createID(a);return this.map[s]},o.prototype.keySet=function(){return this.keys},e.exports=o},function(e,r,n){var i=n(14);function o(){this.set={}}o.prototype.add=function(a){var s=i.createID(a);this.contains(s)||(this.set[s]=a)},o.prototype.remove=function(a){delete this.set[i.createID(a)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(a){return this.set[i.createID(a)]==a},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(a){for(var s=Object.keys(this.set),l=s.length,u=0;u<l;u++)a.push(this.set[s[u]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(a){for(var s=a.length,l=0;l<s;l++){var u=a[l];this.add(u)}},e.exports=o},function(e,r,n){var i=function(){function s(l,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,h){return u&&s(l.prototype,u),h&&s(l,h),l}}(),o=n(11),a=function(){function s(l,u){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),u===null&&u===void 0||(this.compareFunction=this._defaultCompareFunction);var h=void 0;h=l instanceof o?l.size():l.length,this._quicksort(l,0,h-1)}return i(s,[{key:"_quicksort",value:function(l,u,h){if(u<h){var d=this._partition(l,u,h);this._quicksort(l,u,d),this._quicksort(l,d+1,h)}}},{key:"_partition",value:function(l,u,h){for(var d=this._get(l,u),p=u,f=h;;){for(;this.compareFunction(d,this._get(l,f));)f--;for(;this.compareFunction(this._get(l,p),d);)p++;if(!(p<f))return f;this._swap(l,p,f),p++,f--}}},{key:"_get",value:function(l,u){return l instanceof o?l.get_object_at(u):l[u]}},{key:"_set",value:function(l,u,h){l instanceof o?l.set_object_at(u,h):l[u]=h}},{key:"_swap",value:function(l,u,h){var d=this._get(l,u);this._set(l,u,this._get(l,h)),this._set(l,h,d)}},{key:"_defaultCompareFunction",value:function(l,u){return u>l}}]),s}();e.exports=a},function(e,r,n){var i=function(){function a(s,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}return function(s,l,u){return l&&a(s.prototype,l),u&&a(s,u),s}}(),o=function(){function a(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a),this.sequence1=s,this.sequence2=l,this.match_score=u,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var f=0;f<this.jMax;f++)this.grid[p][f]=0}this.tracebackGrid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.tracebackGrid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[g][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(a,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var s=1;s<this.jMax;s++)this.grid[0][s]=this.grid[0][s-1]+this.gap_penalty,this.tracebackGrid[0][s]=[!1,!1,!0];for(var l=1;l<this.iMax;l++)this.grid[l][0]=this.grid[l-1][0]+this.gap_penalty,this.tracebackGrid[l][0]=[!1,!0,!1];for(var u=1;u<this.iMax;u++)for(var h=1;h<this.jMax;h++){var d=[this.sequence1[u-1]===this.sequence2[h-1]?this.grid[u-1][h-1]+this.match_score:this.grid[u-1][h-1]+this.mismatch_penalty,this.grid[u-1][h]+this.gap_penalty,this.grid[u][h-1]+this.gap_penalty],p=this.arrayAllMaxIndexes(d);this.grid[u][h]=d[p[0]],this.tracebackGrid[u][h]=[p.includes(0),p.includes(1),p.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var s=[];for(s.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});s[0];){var l=s[0],u=this.tracebackGrid[l.pos[0]][l.pos[1]];u[0]&&s.push({pos:[l.pos[0]-1,l.pos[1]-1],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),u[1]&&s.push({pos:[l.pos[0]-1,l.pos[1]],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:"-"+l.seq2}),u[2]&&s.push({pos:[l.pos[0],l.pos[1]-1],seq1:"-"+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),l.pos[0]===0&&l.pos[1]===0&&this.alignments.push({sequence1:l.seq1,sequence2:l.seq2}),s.shift()}return this.alignments}},{key:"getAllIndexes",value:function(s,l){for(var u=[],h=-1;(h=s.indexOf(l,h+1))!==-1;)u.push(h);return u}},{key:"arrayAllMaxIndexes",value:function(s){return this.getAllIndexes(s,Math.max.apply(null,s))}}]),a}();e.exports=o},function(e,r,n){var i=function(){};i.FDLayout=n(18),i.FDLayoutConstants=n(7),i.FDLayoutEdge=n(19),i.FDLayoutNode=n(20),i.DimensionD=n(21),i.HashMap=n(22),i.HashSet=n(23),i.IGeometry=n(8),i.IMath=n(9),i.Integer=n(10),i.Point=n(12),i.PointD=n(4),i.RandomSeed=n(16),i.RectangleD=n(13),i.Transform=n(17),i.UniqueIDGeneretor=n(14),i.Quicksort=n(24),i.LinkedList=n(11),i.LGraphObject=n(2),i.LGraph=n(5),i.LEdge=n(1),i.LGraphManager=n(6),i.LNode=n(3),i.Layout=n(15),i.LayoutConstants=n(0),i.NeedlemanWunsch=n(25),e.exports=i},function(e,r,n){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(a,s){this.listeners.push({event:a,callback:s})},o.removeListener=function(a,s){for(var l=this.listeners.length;l>=0;l--){var u=this.listeners[l];u.event===a&&u.callback===s&&this.listeners.splice(l,1)}},o.emit=function(a,s){for(var l=0;l<this.listeners.length;l++){var u=this.listeners[l];a===u.event&&u.callback(s)}},e.exports=i}])},jH.exports=t()),jH.exports;var t}var UH;function bXt(){return UH||(UH=1,t=function(e){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(o){return o},i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=7)}([function(r,n){r.exports=e},function(r,n,i){var o=i(0).FDLayoutConstants;function a(){}for(var s in o)a[s]=o[s];a.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,a.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,a.DEFAULT_COMPONENT_SEPERATION=60,a.TILE=!0,a.TILING_PADDING_VERTICAL=10,a.TILING_PADDING_HORIZONTAL=10,a.TREE_REDUCTION_ON_INCREMENTAL=!1,r.exports=a},function(r,n,i){var o=i(0).FDLayoutEdge;function a(l,u,h){o.call(this,l,u,h)}for(var s in a.prototype=Object.create(o.prototype),o)a[s]=o[s];r.exports=a},function(r,n,i){var o=i(0).LGraph;function a(l,u,h){o.call(this,l,u,h)}for(var s in a.prototype=Object.create(o.prototype),o)a[s]=o[s];r.exports=a},function(r,n,i){var o=i(0).LGraphManager;function a(l){o.call(this,l)}for(var s in a.prototype=Object.create(o.prototype),o)a[s]=o[s];r.exports=a},function(r,n,i){var o=i(0).FDLayoutNode,a=i(0).IMath;function s(u,h,d,p){o.call(this,u,h,d,p)}for(var l in s.prototype=Object.create(o.prototype),o)s[l]=o[l];s.prototype.move=function(){var u=this.graphManager.getLayout();this.displacementX=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementX=u.coolingFactor*u.maxNodeDisplacement*a.sign(this.displacementX)),Math.abs(this.displacementY)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementY=u.coolingFactor*u.maxNodeDisplacement*a.sign(this.displacementY)),this.child==null||this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),u.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},s.prototype.propogateDisplacementToChildren=function(u,h){for(var d,p=this.getChild().getNodes(),f=0;f<p.length;f++)(d=p[f]).getChild()==null?(d.moveBy(u,h),d.displacementX+=u,d.displacementY+=h):d.propogateDisplacementToChildren(u,h)},s.prototype.setPred1=function(u){this.pred1=u},s.prototype.getPred1=function(){return pred1},s.prototype.getPred2=function(){return pred2},s.prototype.setNext=function(u){this.next=u},s.prototype.getNext=function(){return next},s.prototype.setProcessed=function(u){this.processed=u},s.prototype.isProcessed=function(){return processed},r.exports=s},function(r,n,i){var o=i(0).FDLayout,a=i(4),s=i(3),l=i(5),u=i(2),h=i(1),d=i(0).FDLayoutConstants,p=i(0).LayoutConstants,f=i(0).Point,g=i(0).PointD,m=i(0).Layout,y=i(0).Integer,v=i(0).IGeometry,x=i(0).LGraph,b=i(0).Transform;function k(){o.call(this),this.toBeTiled={}}for(var N in k.prototype=Object.create(o.prototype),o)k[N]=o[N];k.prototype.newGraphManager=function(){var _=new a(this);return this.graphManager=_,_},k.prototype.newGraph=function(_){return new s(null,this.graphManager,_)},k.prototype.newNode=function(_){return new l(this.graphManager,_)},k.prototype.newEdge=function(_){return new u(null,null,_)},k.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},k.prototype.layout=function(){return p.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},k.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)h.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),S=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(A){return S.has(A)}),this.graphManager.setAllNodesToApplyGravitation(T));else{var _=this.getFlatForest();if(_.length>0)this.positionNodesRadially(_);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(A){return S.has(A)});this.graphManager.setAllNodesToApplyGravitation(T),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},k.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(C){return _.has(C)});this.graphManager.setAllNodesToApplyGravitation(S),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var T=!this.isTreeGrowing&&!this.isGrowthFinished,A=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(T,A),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},k.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),S={},T=0;T<_.length;T++){var A=_[T].rect,C=_[T].id;S[C]={id:C,x:A.getCenterX(),y:A.getCenterY(),w:A.width,h:A.height}}return S},k.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},k.prototype.calculateNodesToApplyGravitationTo=function(){var _,S,T=[],A=this.graphManager.getGraphs(),C=A.length;for(S=0;S<C;S++)(_=A[S]).updateConnected(),_.isConnected||(T=T.concat(_.getNodes()));return T},k.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var S,T=new Set;for(S=0;S<_.length;S++){var A=_[S];if(!T.has(A)){var C=A.getSource(),D=A.getTarget();if(C==D)A.getBendpoints().push(new g),A.getBendpoints().push(new g),this.createDummyNodesForBendpoints(A),T.add(A);else{var E=[];if(E=(E=E.concat(C.getEdgeListToNode(D))).concat(D.getEdgeListToNode(C)),!T.has(E[0])){var $;if(E.length>1)for($=0;$<E.length;$++){var I=E[$];I.getBendpoints().push(new g),this.createDummyNodesForBendpoints(I)}E.forEach(function(L){T.add(L)})}}}if(T.size==_.length)break}},k.prototype.positionNodesRadially=function(_){for(var S=new f(0,0),T=Math.ceil(Math.sqrt(_.length)),A=0,C=0,D=0,E=new g(0,0),$=0;$<_.length;$++){$%T==0&&(D=0,C=A,$!=0&&(C+=h.DEFAULT_COMPONENT_SEPERATION),A=0);var I=_[$],L=m.findCenterOfTree(I);S.x=D,S.y=C,(E=k.radialLayout(I,L,S)).y>A&&(A=Math.floor(E.y)),D=Math.floor(E.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(p.WORLD_CENTER_X-E.x/2,p.WORLD_CENTER_Y-E.y/2))},k.radialLayout=function(_,S,T){var A=Math.max(this.maxDiagonalInTree(_),h.DEFAULT_RADIAL_SEPARATION);k.branchRadialLayout(S,null,0,359,0,A);var C=x.calculateBounds(_),D=new b;D.setDeviceOrgX(C.getMinX()),D.setDeviceOrgY(C.getMinY()),D.setWorldOrgX(T.x),D.setWorldOrgY(T.y);for(var E=0;E<_.length;E++)_[E].transform(D);var $=new g(C.getMaxX(),C.getMaxY());return D.inverseTransformPoint($)},k.branchRadialLayout=function(_,S,T,A,C,D){var E=(A-T+1)/2;E<0&&(E+=180);var $=(E+T)%360*v.TWO_PI/360,I=C*Math.cos($),L=C*Math.sin($);_.setCenter(I,L);var O=[],B=(O=O.concat(_.getEdges())).length;S!=null&&B--;for(var R,M=0,F=O.length,P=_.getEdgesBetween(S);P.length>1;){var U=P[0];P.splice(0,1);var W=O.indexOf(U);W>=0&&O.splice(W,1),F--,B--}R=S!=null?(O.indexOf(P[0])+1)%F:0;for(var Q=Math.abs(A-T)/B,K=R;M!=B;K=++K%F){var G=O[K].getOtherEnd(_);if(G!=S){var V=(T+M*Q)%360,rt=(V+Q)%360;k.branchRadialLayout(G,_,V,rt,C+D,D),M++}}},k.maxDiagonalInTree=function(_){for(var S=y.MIN_VALUE,T=0;T<_.length;T++){var A=_[T].getDiagonal();A>S&&(S=A)}return S},k.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},k.prototype.groupZeroDegreeMembers=function(){var _=this,S={};this.memberGroups={},this.idToDummyNode={};for(var T=[],A=this.graphManager.getAllNodes(),C=0;C<A.length;C++){var D=(E=A[C]).getParent();this.getNodeDegreeWithChildren(E)!==0||D.id!=null&&this.getToBeTiled(D)||T.push(E)}for(C=0;C<T.length;C++){var E,$=(E=T[C]).getParent().id;S[$]===void 0&&(S[$]=[]),S[$]=S[$].concat(E)}Object.keys(S).forEach(function(I){if(S[I].length>1){var L="DummyCompound_"+I;_.memberGroups[L]=S[I];var O=S[I][0].getParent(),B=new l(_.graphManager);B.id=L,B.paddingLeft=O.paddingLeft||0,B.paddingRight=O.paddingRight||0,B.paddingBottom=O.paddingBottom||0,B.paddingTop=O.paddingTop||0,_.idToDummyNode[L]=B;var R=_.getGraphManager().add(_.newGraph(),B),M=O.getChild();M.add(B);for(var F=0;F<S[I].length;F++){var P=S[I][F];M.remove(P),R.add(P)}}})},k.prototype.clearCompounds=function(){var _={},S={};this.performDFSOnCompounds();for(var T=0;T<this.compoundOrder.length;T++)S[this.compoundOrder[T].id]=this.compoundOrder[T],_[this.compoundOrder[T].id]=[].concat(this.compoundOrder[T].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[T].getChild()),this.compoundOrder[T].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,S)},k.prototype.clearZeroDegreeMembers=function(){var _=this,S=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(T){var A=_.idToDummyNode[T];S[T]=_.tileNodes(_.memberGroups[T],A.paddingLeft+A.paddingRight),A.rect.width=S[T].width,A.rect.height=S[T].height})},k.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var S=this.compoundOrder[_],T=S.id,A=S.paddingLeft,C=S.paddingTop;this.adjustLocations(this.tiledMemberPack[T],S.rect.x,S.rect.y,A,C)}},k.prototype.repopulateZeroDegreeMembers=function(){var _=this,S=this.tiledZeroDegreePack;Object.keys(S).forEach(function(T){var A=_.idToDummyNode[T],C=A.paddingLeft,D=A.paddingTop;_.adjustLocations(S[T],A.rect.x,A.rect.y,C,D)})},k.prototype.getToBeTiled=function(_){var S=_.id;if(this.toBeTiled[S]!=null)return this.toBeTiled[S];var T=_.getChild();if(T==null)return this.toBeTiled[S]=!1,!1;for(var A=T.getNodes(),C=0;C<A.length;C++){var D=A[C];if(this.getNodeDegree(D)>0)return this.toBeTiled[S]=!1,!1;if(D.getChild()!=null){if(!this.getToBeTiled(D))return this.toBeTiled[S]=!1,!1}else this.toBeTiled[D.id]=!1}return this.toBeTiled[S]=!0,!0},k.prototype.getNodeDegree=function(_){_.id;for(var S=_.getEdges(),T=0,A=0;A<S.length;A++){var C=S[A];C.getSource().id!==C.getTarget().id&&(T+=1)}return T},k.prototype.getNodeDegreeWithChildren=function(_){var S=this.getNodeDegree(_);if(_.getChild()==null)return S;for(var T=_.getChild().getNodes(),A=0;A<T.length;A++){var C=T[A];S+=this.getNodeDegreeWithChildren(C)}return S},k.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},k.prototype.fillCompexOrderByDFS=function(_){for(var S=0;S<_.length;S++){var T=_[S];T.getChild()!=null&&this.fillCompexOrderByDFS(T.getChild().getNodes()),this.getToBeTiled(T)&&this.compoundOrder.push(T)}},k.prototype.adjustLocations=function(_,S,T,A,C){T+=C;for(var D=S+=A,E=0;E<_.rows.length;E++){var $=_.rows[E];S=D;for(var I=0,L=0;L<$.length;L++){var O=$[L];O.rect.x=S,O.rect.y=T,S+=O.rect.width+_.horizontalPadding,O.rect.height>I&&(I=O.rect.height)}T+=I+_.verticalPadding}},k.prototype.tileCompoundMembers=function(_,S){var T=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(A){var C=S[A];T.tiledMemberPack[A]=T.tileNodes(_[A],C.paddingLeft+C.paddingRight),C.rect.width=T.tiledMemberPack[A].width,C.rect.height=T.tiledMemberPack[A].height})},k.prototype.tileNodes=function(_,S){var T={rows:[],rowWidth:[],rowHeight:[],width:0,height:S,verticalPadding:h.TILING_PADDING_VERTICAL,horizontalPadding:h.TILING_PADDING_HORIZONTAL};_.sort(function(D,E){return D.rect.width*D.rect.height>E.rect.width*E.rect.height?-1:D.rect.width*D.rect.height<E.rect.width*E.rect.height?1:0});for(var A=0;A<_.length;A++){var C=_[A];T.rows.length==0?this.insertNodeToRow(T,C,0,S):this.canAddHorizontal(T,C.rect.width,C.rect.height)?this.insertNodeToRow(T,C,this.getShortestRowIndex(T),S):this.insertNodeToRow(T,C,T.rows.length,S),this.shiftToLastRow(T)}return T},k.prototype.insertNodeToRow=function(_,S,T,A){var C=A;T==_.rows.length&&(_.rows.push([]),_.rowWidth.push(C),_.rowHeight.push(0));var D=_.rowWidth[T]+S.rect.width;_.rows[T].length>0&&(D+=_.horizontalPadding),_.rowWidth[T]=D,_.width<D&&(_.width=D);var E=S.rect.height;T>0&&(E+=_.verticalPadding);var $=0;E>_.rowHeight[T]&&($=_.rowHeight[T],_.rowHeight[T]=E,$=_.rowHeight[T]-$),_.height+=$,_.rows[T].push(S)},k.prototype.getShortestRowIndex=function(_){for(var S=-1,T=Number.MAX_VALUE,A=0;A<_.rows.length;A++)_.rowWidth[A]<T&&(S=A,T=_.rowWidth[A]);return S},k.prototype.getLongestRowIndex=function(_){for(var S=-1,T=Number.MIN_VALUE,A=0;A<_.rows.length;A++)_.rowWidth[A]>T&&(S=A,T=_.rowWidth[A]);return S},k.prototype.canAddHorizontal=function(_,S,T){var A=this.getShortestRowIndex(_);if(A<0)return!0;var C=_.rowWidth[A];if(C+_.horizontalPadding+S<=_.width)return!0;var D,E,$=0;return _.rowHeight[A]<T&&A>0&&($=T+_.verticalPadding-_.rowHeight[A]),D=_.width-C>=S+_.horizontalPadding?(_.height+$)/(C+S+_.horizontalPadding):(_.height+$)/_.width,$=T+_.verticalPadding,(E=_.width<S?(_.height+$)/S:(_.height+$)/_.width)<1&&(E=1/E),D<1&&(D=1/D),D<E},k.prototype.shiftToLastRow=function(_){var S=this.getLongestRowIndex(_),T=_.rowWidth.length-1,A=_.rows[S],C=A[A.length-1],D=C.width+_.horizontalPadding;if(_.width-_.rowWidth[T]>D&&S!=T){A.splice(-1,1),_.rows[T].push(C),_.rowWidth[S]=_.rowWidth[S]-D,_.rowWidth[T]=_.rowWidth[T]+D,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var E=Number.MIN_VALUE,$=0;$<A.length;$++)A[$].height>E&&(E=A[$].height);S>0&&(E+=_.verticalPadding);var I=_.rowHeight[S]+_.rowHeight[T];_.rowHeight[S]=E,_.rowHeight[T]<C.height+_.verticalPadding&&(_.rowHeight[T]=C.height+_.verticalPadding);var L=_.rowHeight[S]+_.rowHeight[T];_.height+=L-I,this.shiftToLastRow(_)}},k.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},k.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},k.prototype.reduceTrees=function(){for(var _,S=[],T=!0;T;){var A=this.graphManager.getAllNodes(),C=[];T=!1;for(var D=0;D<A.length;D++)(_=A[D]).getEdges().length!=1||_.getEdges()[0].isInterGraph||_.getChild()!=null||(C.push([_,_.getEdges()[0],_.getOwner()]),T=!0);if(T==1){for(var E=[],$=0;$<C.length;$++)C[$][0].getEdges().length==1&&(E.push(C[$]),C[$][0].getOwner().remove(C[$][0]));S.push(E),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=S},k.prototype.growTree=function(_){for(var S,T=_[_.length-1],A=0;A<T.length;A++)S=T[A],this.findPlaceforPrunedNode(S),S[2].add(S[0]),S[2].add(S[1],S[1].source,S[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},k.prototype.findPlaceforPrunedNode=function(_){var S,T,A=_[0],C=(T=A==_[1].source?_[1].target:_[1].source).startX,D=T.finishX,E=T.startY,$=T.finishY,I=[0,0,0,0];if(E>0)for(var L=C;L<=D;L++)I[0]+=this.grid[L][E-1].length+this.grid[L][E].length-1;if(D<this.grid.length-1)for(L=E;L<=$;L++)I[1]+=this.grid[D+1][L].length+this.grid[D][L].length-1;if($<this.grid[0].length-1)for(L=C;L<=D;L++)I[2]+=this.grid[L][$+1].length+this.grid[L][$].length-1;if(C>0)for(L=E;L<=$;L++)I[3]+=this.grid[C-1][L].length+this.grid[C][L].length-1;for(var O,B,R=y.MAX_VALUE,M=0;M<I.length;M++)I[M]<R?(R=I[M],O=1,B=M):I[M]==R&&O++;if(O==3&&R==0)I[0]==0&&I[1]==0&&I[2]==0?S=1:I[0]==0&&I[1]==0&&I[3]==0?S=0:I[0]==0&&I[2]==0&&I[3]==0?S=3:I[1]==0&&I[2]==0&&I[3]==0&&(S=2);else if(O==2&&R==0){var F=Math.floor(2*Math.random());S=I[0]==0&&I[1]==0?F==0?0:1:I[0]==0&&I[2]==0?F==0?0:2:I[0]==0&&I[3]==0?F==0?0:3:I[1]==0&&I[2]==0?F==0?1:2:I[1]==0&&I[3]==0?F==0?1:3:F==0?2:3}else S=O==4&&R==0?F=Math.floor(4*Math.random()):B;S==0?A.setCenter(T.getCenterX(),T.getCenterY()-T.getHeight()/2-d.DEFAULT_EDGE_LENGTH-A.getHeight()/2):S==1?A.setCenter(T.getCenterX()+T.getWidth()/2+d.DEFAULT_EDGE_LENGTH+A.getWidth()/2,T.getCenterY()):S==2?A.setCenter(T.getCenterX(),T.getCenterY()+T.getHeight()/2+d.DEFAULT_EDGE_LENGTH+A.getHeight()/2):A.setCenter(T.getCenterX()-T.getWidth()/2-d.DEFAULT_EDGE_LENGTH-A.getWidth()/2,T.getCenterY())},r.exports=k},function(r,n,i){var o={};o.layoutBase=i(0),o.CoSEConstants=i(1),o.CoSEEdge=i(2),o.CoSEGraph=i(3),o.CoSEGraphManager=i(4),o.CoSELayout=i(6),o.CoSENode=i(5),r.exports=o}])},zH.exports=t(vXt())),zH.exports;var t}var qH;qH=function(t){return function(e){var r={};function n(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.i=function(i){return i},n.d=function(i,o,a){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=1)}([function(e,r){e.exports=t},function(e,r,n){var i=n(0).layoutBase.LayoutConstants,o=n(0).layoutBase.FDLayoutConstants,a=n(0).CoSEConstants,s=n(0).CoSELayout,l=n(0).CoSENode,u=n(0).layoutBase.PointD,h=n(0).layoutBase.DimensionD,d={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function p(m){this.options=function(y,v){var x={};for(var b in y)x[b]=y[b];for(var b in v)x[b]=v[b];return x}(d,m),f(this.options)}var f=function(m){m.nodeRepulsion!=null&&(a.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=m.nodeRepulsion),m.idealEdgeLength!=null&&(a.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=m.idealEdgeLength),m.edgeElasticity!=null&&(a.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=m.edgeElasticity),m.nestingFactor!=null&&(a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=m.nestingFactor),m.gravity!=null&&(a.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=m.gravity),m.numIter!=null&&(a.MAX_ITERATIONS=o.MAX_ITERATIONS=m.numIter),m.gravityRange!=null&&(a.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=m.gravityRange),m.gravityCompound!=null&&(a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=m.gravityCompound),m.gravityRangeCompound!=null&&(a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=m.gravityRangeCompound),m.initialEnergyOnIncremental!=null&&(a.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=m.initialEnergyOnIncremental),m.quality=="draft"?i.QUALITY=0:m.quality=="proof"?i.QUALITY=2:i.QUALITY=1,a.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=m.nodeDimensionsIncludeLabels,a.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!m.randomize,a.ANIMATE=o.ANIMATE=i.ANIMATE=m.animate,a.TILE=m.tile,a.TILING_PADDING_VERTICAL=typeof m.tilingPaddingVertical=="function"?m.tilingPaddingVertical.call():m.tilingPaddingVertical,a.TILING_PADDING_HORIZONTAL=typeof m.tilingPaddingHorizontal=="function"?m.tilingPaddingHorizontal.call():m.tilingPaddingHorizontal};p.prototype.run=function(){var m,y,v=this.options;this.idToLNode={};var x=this.layout=new s,b=this;b.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var k=x.newGraphManager();this.gm=k;var N=this.options.eles.nodes(),_=this.options.eles.edges();this.root=k.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(N),x);for(var S=0;S<_.length;S++){var T=_[S],A=this.idToLNode[T.data("source")],C=this.idToLNode[T.data("target")];A!==C&&A.getEdgesBetween(C).length==0&&(k.add(x.newEdge(),A,C).id=T.id())}var D=function($,I){typeof $=="number"&&($=I);var L=$.data("id"),O=b.idToLNode[L];return{x:O.getRect().getCenterX(),y:O.getRect().getCenterY()}},E=function $(){for(var I,L=function(){v.fit&&v.cy.fit(v.eles,v.padding),m||(m=!0,b.cy.one("layoutready",v.ready),b.cy.trigger({type:"layoutready",layout:b}))},O=b.options.refresh,B=0;B<O&&!I;B++)I=b.stopped||b.layout.tick();if(I)return x.checkLayoutSuccess()&&!x.isSubLayout&&x.doPostLayout(),x.tilingPostLayout&&x.tilingPostLayout(),x.isLayoutFinished=!0,b.options.eles.nodes().positions(D),L(),b.cy.one("layoutstop",b.options.stop),b.cy.trigger({type:"layoutstop",layout:b}),y&&cancelAnimationFrame(y),void(m=!1);var R=b.layout.getPositionsData();v.eles.nodes().positions(function(M,F){if(typeof M=="number"&&(M=F),!M.isParent()){for(var P=M.id(),U=R[P],W=M;U==null&&(U=R[W.data("parent")]||R["DummyCompound_"+W.data("parent")],R[P]=U,(W=W.parent()[0])!=null););return U!=null?{x:U.x,y:U.y}:{x:M.position("x"),y:M.position("y")}}}),L(),y=requestAnimationFrame($)};return x.addListener("layoutstarted",function(){b.options.animate==="during"&&(y=requestAnimationFrame(E))}),x.runLayout(),this.options.animate!=="during"&&(b.options.eles.nodes().not(":parent").layoutPositions(b,b.options,D),m=!1),this},p.prototype.getTopMostNodes=function(m){for(var y={},v=0;v<m.length;v++)y[m[v].id()]=!0;var x=m.filter(function(b,k){typeof b=="number"&&(b=k);for(var N=b.parent()[0];N!=null;){if(y[N.id()])return!1;N=N.parent()[0]}return!0});return x},p.prototype.processChildrenList=function(m,y,v){for(var x=y.length,b=0;b<x;b++){var k,N,_=y[b],S=_.children(),T=_.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((k=_.outerWidth()!=null&&_.outerHeight()!=null?m.add(new l(v.graphManager,new u(_.position("x")-T.w/2,_.position("y")-T.h/2),new h(parseFloat(T.w),parseFloat(T.h)))):m.add(new l(this.graphManager))).id=_.data("id"),k.paddingLeft=parseInt(_.css("padding")),k.paddingTop=parseInt(_.css("padding")),k.paddingRight=parseInt(_.css("padding")),k.paddingBottom=parseInt(_.css("padding")),this.options.nodeDimensionsIncludeLabels&&_.isParent()){var A=_.boundingBox({includeLabels:!0,includeNodes:!1}).w,C=_.boundingBox({includeLabels:!0,includeNodes:!1}).h,D=_.css("text-halign");k.labelWidth=A,k.labelHeight=C,k.labelPos=D}this.idToLNode[_.data("id")]=k,isNaN(k.rect.x)&&(k.rect.x=0),isNaN(k.rect.y)&&(k.rect.y=0),S!=null&&S.length>0&&(N=v.getGraphManager().add(v.newGraph(),k),this.processChildrenList(N,S,v))}},p.prototype.stop=function(){return this.stopped=!0,this};var g=function(m){m("layout","cose-bilkent",p)};typeof cytoscape<"u"&&g(cytoscape),e.exports=g}])},klt.exports=qH(bXt());var xXt=dh(klt.exports),dA=function(){var t=w(function(k,N,_,S){for(_=_||{},S=k.length;S--;_[k[S]]=N);return _},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],o=[1,16],a=[1,20],s=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],p=[6,7,11],f=[1,6,13,15,16,19,22],g=[1,33],m=[1,34],y=[1,6,7,11,13,15,16,19,22],v={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:w(function(k,N,_,S,T,A,C){var D=A.length-1;switch(T){case 6:case 7:return S;case 8:S.getLogger().trace("Stop NL ");break;case 9:S.getLogger().trace("Stop EOF ");break;case 11:S.getLogger().trace("Stop NL2 ");break;case 12:S.getLogger().trace("Stop EOF2 ");break;case 15:S.getLogger().info("Node: ",A[D].id),S.addNode(A[D-1].length,A[D].id,A[D].descr,A[D].type);break;case 16:S.getLogger().trace("Icon: ",A[D]),S.decorateNode({icon:A[D]});break;case 17:case 21:S.decorateNode({class:A[D]});break;case 18:S.getLogger().trace("SPACELIST");break;case 19:S.getLogger().trace("Node: ",A[D].id),S.addNode(0,A[D].id,A[D].descr,A[D].type);break;case 20:S.decorateNode({icon:A[D]});break;case 25:S.getLogger().trace("node found ..",A[D-2]),this.$={id:A[D-1],descr:A[D-1],type:S.getType(A[D-2],A[D])};break;case 26:this.$={id:A[D],descr:A[D],type:S.nodeType.DEFAULT};break;case 27:S.getLogger().trace("node found ..",A[D-3]),this.$={id:A[D-3],descr:A[D-1],type:S.getType(A[D-2],A[D])}}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:o,17:17,18:18,19:a,22:s},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:o,17:17,18:18,19:a,22:s},{6:r,9:22,12:11,13:n,14:14,15:i,16:o,17:17,18:18,19:a,22:s},{6:u,7:h,10:23,11:d},t(p,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:a,22:s}),t(p,[2,18]),t(p,[2,19]),t(p,[2,20]),t(p,[2,21]),t(p,[2,23]),t(p,[2,24]),t(p,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:h,10:32,11:d},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:o,17:17,18:18,19:a,22:s},t(f,[2,14],{7:g,11:m}),t(y,[2,8]),t(y,[2,9]),t(y,[2,10]),t(p,[2,15]),t(p,[2,16]),t(p,[2,17]),{20:[1,35]},{21:[1,36]},t(f,[2,13],{7:g,11:m}),t(y,[2,11]),t(y,[2,12]),{21:[1,37]},t(p,[2,25]),t(p,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:w(function(k,N){if(!N.recoverable){var _=new Error(k);throw _.hash=N,_}this.trace(k)},"parseError"),parse:w(function(k){var N=this,_=[0],S=[],T=[null],A=[],C=this.table,D="",E=0,$=0,I=A.slice.call(arguments,1),L=Object.create(this.lexer),O={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(O.yy[B]=this.yy[B]);L.setInput(k,O.yy),O.yy.lexer=L,O.yy.parser=this,L.yylloc===void 0&&(L.yylloc={});var R=L.yylloc;A.push(R);var M=L.options&&L.options.ranges;function F(){var ut;return typeof(ut=S.pop()||L.lex()||1)!="number"&&(ut instanceof Array&&(ut=(S=ut).pop()),ut=N.symbols_[ut]||ut),ut}typeof O.yy.parseError=="function"?this.parseError=O.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(ut){_.length=_.length-2*ut,T.length=T.length-ut,A.length=A.length-ut},"popStack"),w(F,"lex");for(var P,U,W,Q,K,G,V,rt,tt={};;){if(U=_[_.length-1],this.defaultActions[U]?W=this.defaultActions[U]:(P==null&&(P=F()),W=C[U]&&C[U][P]),W===void 0||!W.length||!W[0]){var at="";for(K in rt=[],C[U])this.terminals_[K]&&K>2&&rt.push("'"+this.terminals_[K]+"'");at=L.showPosition?"Parse error on line "+(E+1)+`:
`+L.showPosition()+`
Expecting `+rt.join(", ")+", got '"+(this.terminals_[P]||P)+"'":"Parse error on line "+(E+1)+": Unexpected "+(P==1?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(at,{text:L.match,token:this.terminals_[P]||P,line:L.yylineno,loc:R,expected:rt})}if(W[0]instanceof Array&&W.length>1)throw new Error("Parse Error: multiple actions possible at state: "+U+", token: "+P);switch(W[0]){case 1:_.push(P),T.push(L.yytext),A.push(L.yylloc),_.push(W[1]),P=null,$=L.yyleng,D=L.yytext,E=L.yylineno,R=L.yylloc;break;case 2:if(G=this.productions_[W[1]][1],tt.$=T[T.length-G],tt._$={first_line:A[A.length-(G||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(G||1)].first_column,last_column:A[A.length-1].last_column},M&&(tt._$.range=[A[A.length-(G||1)].range[0],A[A.length-1].range[1]]),(Q=this.performAction.apply(tt,[D,$,E,O.yy,W[1],T,A].concat(I)))!==void 0)return Q;G&&(_=_.slice(0,-1*G*2),T=T.slice(0,-1*G),A=A.slice(0,-1*G)),_.push(this.productions_[W[1]][0]),T.push(tt.$),A.push(tt._$),V=C[_[_.length-2]][_[_.length-1]],_.push(V);break;case 3:return!0}}return!0},"parse")},x=function(){return{EOF:1,parseError:w(function(k,N){if(!this.yy.parser)throw new Error(k);this.yy.parser.parseError(k,N)},"parseError"),setInput:w(function(k,N){return this.yy=N||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var k=this._input[0];return this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k,k.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:w(function(k){var N=k.length,_=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var S=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var T=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===S.length?this.yylloc.first_column:0)+S[S.length-_.length].length-_[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[T[0],T[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(k){this.unput(this.match.slice(k))},"less"),pastInput:w(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var k=this.pastInput(),N=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:w(function(k,N){var _,S,T;if(this.options.backtrack_lexer&&(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(T.yylloc.range=this.yylloc.range.slice(0))),(S=k[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=S.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],_=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var A in T)this[A]=T[A];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var k,N,_,S;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var T=this._currentRules(),A=0;A<T.length;A++)if((_=this._input.match(this.rules[T[A]]))&&(!N||_[0].length>N[0].length)){if(N=_,S=A,this.options.backtrack_lexer){if((k=this.test_match(_,T[A]))!==!1)return k;if(this._backtrack){N=!1;continue}return!1}if(!this.options.flex)break}return N?(k=this.test_match(N,T[S]))!==!1&&k:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var k=this.next();return k||this.lex()},"lex"),begin:w(function(k){this.conditionStack.push(k)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(k){return(k=this.conditionStack.length-1-Math.abs(k||0))>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:w(function(k){this.begin(k)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(k,N,_,S){switch(_){case 0:return k.getLogger().trace("Found comment",N.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:k.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return k.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:k.getLogger().trace("end icon"),this.popState();break;case 10:return k.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return k.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return k.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return k.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:k.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return k.getLogger().trace("description:",N.yytext),"NODE_DESCR";case 27:return this.popState(),k.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),k.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),k.getLogger().trace("node end ...",N.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),k.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),k.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return k.getLogger().trace("Long description:",N.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}}}();function b(){this.yy={}}return v.lexer=x,w(b,"Parser"),b.prototype=v,v.Parser=b,new b}();dA.parser=dA;var wXt=dA,ol=[],Tlt=0,pA={},kXt=w(()=>{ol=[],Tlt=0,pA={}},"clear"),TXt=w(function(t){for(let e=ol.length-1;e>=0;e--)if(ol[e].level<t)return ol[e];return null},"getParent"),EXt=w(()=>ol.length>0?ol[0]:null,"getMindmap"),_Xt=w((t,e,r,n)=>{var l,u;et.info("addNode",t,e,r,n);const i=Tt();let o=((l=i.mindmap)==null?void 0:l.padding)??Mr.mindmap.padding;switch(n){case gi.ROUNDED_RECT:case gi.RECT:case gi.HEXAGON:o*=2}const a={id:Tlt++,nodeId:nn(e,i),level:t,descr:nn(r,i),type:n,children:[],width:((u=i.mindmap)==null?void 0:u.maxNodeWidth)??Mr.mindmap.maxNodeWidth,padding:o},s=TXt(t);if(s)s.children.push(a),ol.push(a);else{if(ol.length!==0)throw new Error('There can be only one root. No parent could be found for ("'+a.descr+'")');ol.push(a)}},"addNode"),gi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},SXt={clear:kXt,addNode:_Xt,getMindmap:EXt,nodeType:gi,getType:w((t,e)=>{switch(et.debug("In get type",t,e),t){case"[":return gi.RECT;case"(":return e===")"?gi.ROUNDED_RECT:gi.CLOUD;case"((":return gi.CIRCLE;case")":return gi.CLOUD;case"))":return gi.BANG;case"{{":return gi.HEXAGON;default:return gi.DEFAULT}},"getType"),setElementForId:w((t,e)=>{pA[t]=e},"setElementForId"),decorateNode:w(t=>{if(!t)return;const e=Tt(),r=ol[ol.length-1];t.icon&&(r.icon=nn(t.icon,e)),t.class&&(r.class=nn(t.class,e))},"decorateNode"),type2Str:w(t=>{switch(t){case gi.DEFAULT:return"no-border";case gi.RECT:return"rect";case gi.ROUNDED_RECT:return"rounded-rect";case gi.CIRCLE:return"circle";case gi.CLOUD:return"cloud";case gi.BANG:return"bang";case gi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),getLogger:w(()=>et,"getLogger"),getElementById:w(t=>pA[t],"getElementById")},AXt=w(function(t,e,r,n){e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${10-r.height} q0,-5 5,-5 h${r.width-10} q5,0 5,5 v${r.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),CXt=w(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),$Xt=w(function(t,e,r){const n=r.width,i=r.height,o=.15*n,a=.25*n,s=.35*n,l=.2*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${o},${o} 0 0,1 ${.25*n},${-1*n*.1}
      a${s},${s} 1 0,1 ${.4*n},${-1*n*.1}
      a${a},${a} 1 0,1 ${.35*n},${1*n*.2}

      a${o},${o} 1 0,1 ${.15*n},${1*i*.35}
      a${l},${l} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${a},${o} 1 0,1 ${-1*n*.25},${.15*n}
      a${s},${s} 1 0,1 ${-1*n*.5},0
      a${o},${o} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${o},${o} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${l},${l} 1 0,1 ${.1*n},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),NXt=w(function(t,e,r){const n=r.width,i=r.height,o=.15*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${o},${o} 1 0,0 ${.25*n},${-1*i*.1}
      a${o},${o} 1 0,0 ${.25*n},0
      a${o},${o} 1 0,0 ${.25*n},0
      a${o},${o} 1 0,0 ${.25*n},${1*i*.1}

      a${o},${o} 1 0,0 ${.15*n},${1*i*.33}
      a${.8*o},${.8*o} 1 0,0 0,${1*i*.34}
      a${o},${o} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${o},${o} 1 0,0 ${-1*n*.25},${.15*i}
      a${o},${o} 1 0,0 ${-1*n*.25},0
      a${o},${o} 1 0,0 ${-1*n*.25},0
      a${o},${o} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${o},${o} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${.8*o},${.8*o} 1 0,0 0,${-1*i*.34}
      a${o},${o} 1 0,0 ${.1*n},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),IXt=w(function(t,e,r){e.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function Elt(t,e,r,n,i){return t.insert("polygon",":first-child").attr("points",n.map(function(o){return o.x+","+o.y}).join(" ")).attr("transform","translate("+(i.width-e)/2+", "+r+")")}w(Elt,"insertPolygonShape");var LXt=w(function(t,e,r){const n=r.height,i=n/4,o=r.width-r.padding+2*i;Elt(e,o,n,[{x:i,y:0},{x:o-i,y:0},{x:o,y:-n/2},{x:o-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}],r)},"hexagonBkg"),RXt=w(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),DXt=w(async function(t,e,r,n,i){const o=i.htmlLabels,a=n%11,s=e.append("g");r.section=a;let l="section-"+a;a<0&&(l+=" section-root"),s.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+l);const u=s.append("g"),h=s.append("g"),d=r.descr.replace(/(<br\/*>)/g,`
`);await $s(h,d,{useHtmlLabels:o,width:r.width,classes:"mindmap-node-label"},i),o||h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const p=h.node().getBBox(),[f]=gh(i.fontSize);if(r.height=p.height+1.1*f*.5+r.padding,r.width=p.width+2*r.padding,r.icon)if(r.type===t.nodeType.CIRCLE)r.height+=50,r.width+=50,s.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+a+" "+r.icon),h.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const g=r.height;r.height=Math.max(g,60);const m=Math.abs(r.height-g);s.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+m/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+a+" "+r.icon),h.attr("transform","translate("+(25+r.width/2)+", "+(m/2+r.padding/2)+")")}else if(o){const g=(r.width-p.width)/2,m=(r.height-p.height)/2;h.attr("transform","translate("+g+", "+m+")")}else{const g=r.width/2,m=r.padding/2;h.attr("transform","translate("+g+", "+m+")")}switch(r.type){case t.nodeType.DEFAULT:AXt(t,u,r,a);break;case t.nodeType.ROUNDED_RECT:RXt(t,u,r,a);break;case t.nodeType.RECT:CXt(t,u,r,a);break;case t.nodeType.CIRCLE:u.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),IXt(t,u,r,a);break;case t.nodeType.CLOUD:$Xt(t,u,r,a);break;case t.nodeType.BANG:NXt(t,u,r,a);break;case t.nodeType.HEXAGON:LXt(t,u,r,a)}return t.setElementForId(r.id,s),r.height},"drawNode"),OXt=w(function(t,e){const r=t.getElementById(e.id),n=e.x||0,i=e.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode");async function H$(t,e,r,n,i){await DXt(t,e,r,n,i),r.children&&await Promise.all(r.children.map((o,a)=>H$(t,e,o,n<0?a:n,i)))}function _lt(t,e){e.edges().map((r,n)=>{const i=r.data();if(r[0]._private.bodyBounds){const o=r[0]._private.rscratch;et.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${o.startX},${o.startY} L ${o.midX},${o.midY} L${o.endX},${o.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function U$(t,e,r,n){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(i=>{U$(i,e,r,n+1),e.add({group:"edges",data:{id:`${t.id}_${i.id}`,source:t.id,target:i.id,depth:n,section:i.section}})})}function Slt(t,e){return new Promise(r=>{const n=he("body").append("div").attr("id","cy").attr("style","display:none"),i=Al({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),U$(t,i,e,0),i.nodes().forEach(function(o){o.layoutDimensions=()=>{const a=o.data();return{w:a.width,h:a.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(o=>{et.info("Ready",o),r(i)})})}function Alt(t,e){e.nodes().map((r,n)=>{const i=r.data();i.x=r.position().x,i.y=r.position().y,OXt(t,i);const o=t.getElementById(i.nodeId);et.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),o.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),o.attr("attr",`apa-${n})`)})}Al.use(xXt),w(H$,"drawNodes"),w(_lt,"drawEdges"),w(U$,"addNodes"),w(Slt,"layoutMindmap"),w(Alt,"positionNodes");var MXt={draw:w(async(t,e,r,n)=>{var d,p;et.debug(`Rendering mindmap diagram
`+t);const i=n.db,o=i.getMindmap();if(!o)return;const a=Tt();a.htmlLabels=!1;const s=mh(e),l=s.append("g");l.attr("class","mindmap-edges");const u=s.append("g");u.attr("class","mindmap-nodes"),await H$(i,u,o,-1,a);const h=await Slt(o,a);_lt(l,h),Alt(i,h),ag(void 0,s,((d=a.mindmap)==null?void 0:d.padding)??Mr.mindmap.padding,((p=a.mindmap)==null?void 0:p.useMaxWidth)??Mr.mindmap.useMaxWidth)},"draw")},BXt=w(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],ph(t["lineColor"+r])?t["lineColor"+r]=Be(t["lineColor"+r],20):t["lineColor"+r]=Ge(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),PXt={db:SXt,renderer:MXt,parser:wXt,styles:w(t=>`
  .edge {
    stroke-width: 3;
  }
  ${BXt(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles")};const FXt=Object.freeze(Object.defineProperty({__proto__:null,diagram:PXt},Symbol.toStringTag,{value:"Module"}));var fA=function(){var t=w(function(S,T,A,C){for(A=A||{},C=S.length;C--;A[S[C]]=T);return A},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],o=[1,16],a=[1,20],s=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],p=[6,7,11],f=[1,31],g=[6,7,11,24],m=[1,6,13,16,17,20,23],y=[1,35],v=[1,36],x=[1,6,7,11,13,16,17,20,23],b=[1,38],k={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:w(function(S,T,A,C,D,E,$){var I=E.length-1;switch(D){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",E[I-1].id),C.addNode(E[I-2].length,E[I-1].id,E[I-1].descr,E[I-1].type,E[I]);break;case 16:C.getLogger().info("Node: ",E[I].id),C.addNode(E[I-1].length,E[I].id,E[I].descr,E[I].type);break;case 17:C.getLogger().trace("Icon: ",E[I]),C.decorateNode({icon:E[I]});break;case 18:case 23:C.decorateNode({class:E[I]});break;case 19:C.getLogger().trace("SPACELIST");break;case 20:C.getLogger().trace("Node: ",E[I-1].id),C.addNode(0,E[I-1].id,E[I-1].descr,E[I-1].type,E[I]);break;case 21:C.getLogger().trace("Node: ",E[I].id),C.addNode(0,E[I].id,E[I].descr,E[I].type);break;case 22:C.decorateNode({icon:E[I]});break;case 27:C.getLogger().trace("node found ..",E[I-2]),this.$={id:E[I-1],descr:E[I-1],type:C.getType(E[I-2],E[I])};break;case 28:this.$={id:E[I],descr:E[I],type:0};break;case 29:C.getLogger().trace("node found ..",E[I-3]),this.$={id:E[I-3],descr:E[I-1],type:C.getType(E[I-2],E[I])};break;case 30:this.$=E[I-1]+E[I];break;case 31:this.$=E[I]}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:o,18:17,19:18,20:a,23:s},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:o,18:17,19:18,20:a,23:s},{6:r,9:22,12:11,13:n,14:14,16:i,17:o,18:17,19:18,20:a,23:s},{6:u,7:h,10:23,11:d},t(p,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:a,23:s}),t(p,[2,19]),t(p,[2,21],{15:30,24:f}),t(p,[2,22]),t(p,[2,23]),t(g,[2,25]),t(g,[2,26]),t(g,[2,28],{20:[1,32]}),{21:[1,33]},{6:u,7:h,10:34,11:d},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:o,18:17,19:18,20:a,23:s},t(m,[2,14],{7:y,11:v}),t(x,[2,8]),t(x,[2,9]),t(x,[2,10]),t(p,[2,16],{15:37,24:f}),t(p,[2,17]),t(p,[2,18]),t(p,[2,20],{24:b}),t(g,[2,31]),{21:[1,39]},{22:[1,40]},t(m,[2,13],{7:y,11:v}),t(x,[2,11]),t(x,[2,12]),t(p,[2,15],{24:b}),t(g,[2,30]),{22:[1,41]},t(g,[2,27]),t(g,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:w(function(S,T){if(!T.recoverable){var A=new Error(S);throw A.hash=T,A}this.trace(S)},"parseError"),parse:w(function(S){var T=this,A=[0],C=[],D=[null],E=[],$=this.table,I="",L=0,O=0,B=E.slice.call(arguments,1),R=Object.create(this.lexer),M={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&(M.yy[F]=this.yy[F]);R.setInput(S,M.yy),M.yy.lexer=R,M.yy.parser=this,R.yylloc===void 0&&(R.yylloc={});var P=R.yylloc;E.push(P);var U=R.options&&R.options.ranges;function W(){var X;return typeof(X=C.pop()||R.lex()||1)!="number"&&(X instanceof Array&&(X=(C=X).pop()),X=T.symbols_[X]||X),X}typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(X){A.length=A.length-2*X,D.length=D.length-X,E.length=E.length-X},"popStack"),w(W,"lex");for(var Q,K,G,V,rt,tt,at,ut,st={};;){if(K=A[A.length-1],this.defaultActions[K]?G=this.defaultActions[K]:(Q==null&&(Q=W()),G=$[K]&&$[K][Q]),G===void 0||!G.length||!G[0]){var _t="";for(rt in ut=[],$[K])this.terminals_[rt]&&rt>2&&ut.push("'"+this.terminals_[rt]+"'");_t=R.showPosition?"Parse error on line "+(L+1)+`:
`+R.showPosition()+`
Expecting `+ut.join(", ")+", got '"+(this.terminals_[Q]||Q)+"'":"Parse error on line "+(L+1)+": Unexpected "+(Q==1?"end of input":"'"+(this.terminals_[Q]||Q)+"'"),this.parseError(_t,{text:R.match,token:this.terminals_[Q]||Q,line:R.yylineno,loc:P,expected:ut})}if(G[0]instanceof Array&&G.length>1)throw new Error("Parse Error: multiple actions possible at state: "+K+", token: "+Q);switch(G[0]){case 1:A.push(Q),D.push(R.yytext),E.push(R.yylloc),A.push(G[1]),Q=null,O=R.yyleng,I=R.yytext,L=R.yylineno,P=R.yylloc;break;case 2:if(tt=this.productions_[G[1]][1],st.$=D[D.length-tt],st._$={first_line:E[E.length-(tt||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(tt||1)].first_column,last_column:E[E.length-1].last_column},U&&(st._$.range=[E[E.length-(tt||1)].range[0],E[E.length-1].range[1]]),(V=this.performAction.apply(st,[I,O,L,M.yy,G[1],D,E].concat(B)))!==void 0)return V;tt&&(A=A.slice(0,-1*tt*2),D=D.slice(0,-1*tt),E=E.slice(0,-1*tt)),A.push(this.productions_[G[1]][0]),D.push(st.$),E.push(st._$),at=$[A[A.length-2]][A[A.length-1]],A.push(at);break;case 3:return!0}}return!0},"parse")},N=function(){return{EOF:1,parseError:w(function(S,T){if(!this.yy.parser)throw new Error(S);this.yy.parser.parseError(S,T)},"parseError"),setInput:w(function(S,T){return this.yy=T||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var S=this._input[0];return this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S,S.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},"input"),unput:w(function(S){var T=S.length,A=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===C.length?this.yylloc.first_column:0)+C[C.length-A.length].length-A[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(S){this.unput(this.match.slice(S))},"less"),pastInput:w(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var S=this.pastInput(),T=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+T+"^"},"showPosition"),test_match:w(function(S,T){var A,C,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),(C=S[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],A=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var E in D)this[E]=D[E];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var S,T,A,C;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),E=0;E<D.length;E++)if((A=this._input.match(this.rules[D[E]]))&&(!T||A[0].length>T[0].length)){if(T=A,C=E,this.options.backtrack_lexer){if((S=this.test_match(A,D[E]))!==!1)return S;if(this._backtrack){T=!1;continue}return!1}if(!this.options.flex)break}return T?(S=this.test_match(T,D[C]))!==!1&&S:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var S=this.next();return S||this.lex()},"lex"),begin:w(function(S){this.conditionStack.push(S)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(S){return(S=this.conditionStack.length-1-Math.abs(S||0))>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:w(function(S){this.begin(S)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(S,T,A,C){switch(A){case 0:return this.pushState("shapeData"),T.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const D=/\n\s*/g;return T.yytext=T.yytext.replace(D,"<br/>"),24;case 4:return 24;case 5:case 10:case 29:case 32:this.popState();break;case 6:return S.getLogger().trace("Found comment",T.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 11:S.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return S.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:S.getLogger().trace("end icon"),this.popState();break;case 16:return S.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return S.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return S.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return S.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:case 21:case 22:case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 30:S.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return S.getLogger().trace("description:",T.yytext),"NODE_DESCR";case 33:return this.popState(),S.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),S.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),S.getLogger().trace("node end ...",T.yytext),"NODE_DEND";case 36:case 39:case 40:return this.popState(),S.getLogger().trace("node end (("),"NODE_DEND";case 37:case 38:return this.popState(),S.getLogger().trace("node end (-"),"NODE_DEND";case 41:case 42:return S.getLogger().trace("Long description:",T.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}}}();function _(){this.yy={}}return k.lexer=N,w(_,"Parser"),_.prototype=k,k.Parser=_,new _}();fA.parser=fA;var zXt=fA,ls=[],q$=[],gA=0,mA={},jXt=w(()=>{ls=[],q$=[],gA=0,mA={}},"clear"),HXt=w(t=>{if(ls.length===0)return null;const e=ls[0].level;let r=null;for(let n=ls.length-1;n>=0;n--)if(ls[n].level!==e||r||(r=ls[n]),ls[n].level<e)throw new Error('Items without section detected, found section ("'+ls[n].label+'")');return t===(r==null?void 0:r.level)?null:r},"getSection"),Clt=w(function(){return q$},"getSections"),UXt=w(function(){const t=[],e=Clt(),r=Tt();for(const n of e){const i={id:n.id,label:nn(n.label??"",r),isGroup:!0,ticket:n.ticket,shape:"kanbanSection",level:n.level,look:r.look};t.push(i);const o=ls.filter(a=>a.parentId===n.id);for(const a of o){const s={id:a.id,parentId:n.id,label:nn(a.label??"",r),isGroup:!1,ticket:a==null?void 0:a.ticket,priority:a==null?void 0:a.priority,assigned:a==null?void 0:a.assigned,icon:a==null?void 0:a.icon,shape:"kanbanItem",level:a.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(s)}}return{nodes:t,edges:[],other:{},config:Tt()}},"getData"),qXt=w((t,e,r,n,i)=>{var u,h;const o=Tt();let a=((u=o.mindmap)==null?void 0:u.padding)??Mr.mindmap.padding;switch(n){case mi.ROUNDED_RECT:case mi.RECT:case mi.HEXAGON:a*=2}const s={id:nn(e,o)||"kbn"+gA++,level:t,label:nn(r,o),width:((h=o.mindmap)==null?void 0:h.maxNodeWidth)??Mr.mindmap.maxNodeWidth,padding:a,isGroup:!1};if(i!==void 0){let d;d=i.includes(`
`)?i+`
`:`{
`+i+`
}`;const p=qA(d,{schema:UA});if(p.shape&&(p.shape!==p.shape.toLowerCase()||p.shape.includes("_")))throw new Error(`No such shape: ${p.shape}. Shape names should be lowercase.`);p!=null&&p.shape&&p.shape==="kanbanItem"&&(s.shape=p==null?void 0:p.shape),p!=null&&p.label&&(s.label=p==null?void 0:p.label),p!=null&&p.icon&&(s.icon=p==null?void 0:p.icon.toString()),p!=null&&p.assigned&&(s.assigned=p==null?void 0:p.assigned.toString()),p!=null&&p.ticket&&(s.ticket=p==null?void 0:p.ticket.toString()),p!=null&&p.priority&&(s.priority=p==null?void 0:p.priority)}const l=HXt(t);l?s.parentId=l.id||"kbn"+gA++:q$.push(s),ls.push(s)},"addNode"),mi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},GXt={clear:jXt,addNode:qXt,getSections:Clt,getData:UXt,nodeType:mi,getType:w((t,e)=>{switch(et.debug("In get type",t,e),t){case"[":return mi.RECT;case"(":return e===")"?mi.ROUNDED_RECT:mi.CLOUD;case"((":return mi.CIRCLE;case")":return mi.CLOUD;case"))":return mi.BANG;case"{{":return mi.HEXAGON;default:return mi.DEFAULT}},"getType"),setElementForId:w((t,e)=>{mA[t]=e},"setElementForId"),decorateNode:w(t=>{if(!t)return;const e=Tt(),r=ls[ls.length-1];t.icon&&(r.icon=nn(t.icon,e)),t.class&&(r.cssClasses=nn(t.class,e))},"decorateNode"),type2Str:w(t=>{switch(t){case mi.DEFAULT:return"no-border";case mi.RECT:return"rect";case mi.ROUNDED_RECT:return"rounded-rect";case mi.CIRCLE:return"circle";case mi.CLOUD:return"cloud";case mi.BANG:return"bang";case mi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),getLogger:w(()=>et,"getLogger"),getElementById:w(t=>mA[t],"getElementById")},WXt={draw:w(async(t,e,r,n)=>{var g,m,y,v,x;et.debug(`Rendering kanban diagram
`+t);const i=n.db.getData(),o=Tt();o.htmlLabels=!1;const a=mh(e),s=a.append("g");s.attr("class","sections");const l=a.append("g");l.attr("class","items");const u=i.nodes.filter(b=>b.isGroup);let h=0;const d=[];let p=25;for(const b of u){const k=((g=o==null?void 0:o.kanban)==null?void 0:g.sectionWidth)||200;h+=1,b.x=k*h+10*(h-1)/2,b.width=k,b.y=0,b.height=3*k,b.rx=5,b.ry=5,b.cssClasses=b.cssClasses+" section-"+h;const N=await kC(s,b);p=Math.max(p,(m=N==null?void 0:N.labelBBox)==null?void 0:m.height),d.push(N)}let f=0;for(const b of u){const k=d[f];f+=1;const N=((y=o==null?void 0:o.kanban)==null?void 0:y.sectionWidth)||200,_=3*-N/2+p;let S=_;const T=i.nodes.filter(D=>D.parentId===b.id);for(const D of T){if(D.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");D.x=b.x,D.width=N-15;const E=(await x4(l,D,{config:o})).node().getBBox();D.y=S+E.height/2,await a_(D),S=D.y+E.height/2+5}const A=k.cluster.select("rect"),C=Math.max(S-_+30,50)+(p-25);A.attr("height",C)}ag(void 0,a,((v=o.mindmap)==null?void 0:v.padding)??Mr.kanban.padding,((x=o.mindmap)==null?void 0:x.useMaxWidth)??Mr.kanban.useMaxWidth)},"draw")},VXt=w(t=>{let e="";for(let n=0;n<t.THEME_COLOR_LIMIT;n++)t["lineColor"+n]=t["lineColor"+n]||t["cScaleInv"+n],ph(t["lineColor"+n])?t["lineColor"+n]=Be(t["lineColor"+n],20):t["lineColor"+n]=Ge(t["lineColor"+n],20);const r=w((n,i)=>t.darkMode?Ge(n,i):Be(n,i),"adjuster");for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);e+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(t["cScale"+n],10)};
      stroke: ${r(t["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${t["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${t["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${t["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    text-decoration: underline;
  }
    `}return e},"genSections"),YXt={db:GXt,renderer:WXt,parser:zXt,styles:w(t=>`
  .edge {
    stroke-width: 3;
  }
  ${VXt(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${t.textColor};
    fill: ${t.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles")};const XXt=Object.freeze(Object.defineProperty({__proto__:null,diagram:YXt},Symbol.toStringTag,{value:"Module"}));function $lt(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function KXt(t){return t.target.depth}function ZXt(t){return t.depth}function QXt(t,e){return e-1-t.height}function Nlt(t,e){return t.sourceLinks.length?t.depth:e-1}function JXt(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?$lt(t.sourceLinks,KXt)-1:0}function O2(t){return function(){return t}}function bE(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function GH(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function WH(t,e){return W5(t.source,e.source)||t.index-e.index}function VH(t,e){return W5(t.target,e.target)||t.index-e.index}function W5(t,e){return t.y0-e.y0}function xE(t){return t.value}function tKt(t){return t.index}function eKt(t){return t.nodes}function rKt(t){return t.links}function YH(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function XH({nodes:t}){for(const e of t){let r=e.y0,n=r;for(const i of e.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of e.targetLinks)i.y1=n+i.width/2,n+=i.width}}function nKt(){let t,e,r,n=0,i=0,o=1,a=1,s=24,l=8,u=tKt,h=Nlt,d=eKt,p=rKt,f=6;function g(){const T={nodes:d.apply(null,arguments),links:p.apply(null,arguments)};return function({nodes:A,links:C}){for(const[E,$]of A.entries())$.index=E,$.sourceLinks=[],$.targetLinks=[];const D=new Map(A.map((E,$)=>[u(E,$,A),E]));for(const[E,$]of C.entries()){$.index=E;let{source:I,target:L}=$;typeof I!="object"&&(I=$.source=YH(D,I)),typeof L!="object"&&(L=$.target=YH(D,L)),I.sourceLinks.push($),L.targetLinks.push($)}if(r!=null)for(const{sourceLinks:E,targetLinks:$}of A)E.sort(r),$.sort(r)}(T),function({nodes:A}){for(const C of A)C.value=C.fixedValue===void 0?Math.max(bE(C.sourceLinks,xE),bE(C.targetLinks,xE)):C.fixedValue}(T),function({nodes:A}){const C=A.length;let D=new Set(A),E=new Set,$=0;for(;D.size;){for(const I of D){I.depth=$;for(const{target:L}of I.sourceLinks)E.add(L)}if(++$>C)throw new Error("circular link");D=E,E=new Set}}(T),function({nodes:A}){const C=A.length;let D=new Set(A),E=new Set,$=0;for(;D.size;){for(const I of D){I.height=$;for(const{source:L}of I.targetLinks)E.add(L)}if(++$>C)throw new Error("circular link");D=E,E=new Set}}(T),function(A){const C=function({nodes:D}){const E=GH(D,L=>L.depth)+1,$=(o-n-s)/(E-1),I=new Array(E);for(const L of D){const O=Math.max(0,Math.min(E-1,Math.floor(h.call(null,L,E))));L.layer=O,L.x0=n+O*$,L.x1=L.x0+s,I[O]?I[O].push(L):I[O]=[L]}if(e)for(const L of I)L.sort(e);return I}(A);t=Math.min(l,(a-i)/(GH(C,D=>D.length)-1)),function(D){const E=$lt(D,$=>(a-i-($.length-1)*t)/bE($,xE));for(const $ of D){let I=i;for(const L of $){L.y0=I,L.y1=I+L.value*E,I=L.y1+t;for(const O of L.sourceLinks)O.width=O.value*E}I=(a-I+t)/($.length+1);for(let L=0;L<$.length;++L){const O=$[L];O.y0+=I*(L+1),O.y1+=I*(L+1)}N($)}}(C);for(let D=0;D<f;++D){const E=Math.pow(.99,D),$=Math.max(1-E,(D+1)/f);y(C,E,$),m(C,E,$)}}(T),XH(T),T}function m(T,A,C){for(let D=1,E=T.length;D<E;++D){const $=T[D];for(const I of $){let L=0,O=0;for(const{source:R,value:M}of I.targetLinks){let F=M*(I.layer-R.layer);L+=_(R,I)*F,O+=F}if(!(O>0))continue;let B=(L/O-I.y0)*A;I.y0+=B,I.y1+=B,k(I)}e===void 0&&$.sort(W5),v($,C)}}function y(T,A,C){for(let D=T.length-2;D>=0;--D){const E=T[D];for(const $ of E){let I=0,L=0;for(const{target:B,value:R}of $.sourceLinks){let M=R*(B.layer-$.layer);I+=S($,B)*M,L+=M}if(!(L>0))continue;let O=(I/L-$.y0)*A;$.y0+=O,$.y1+=O,k($)}e===void 0&&E.sort(W5),v(E,C)}}function v(T,A){const C=T.length>>1,D=T[C];b(T,D.y0-t,C-1,A),x(T,D.y1+t,C+1,A),b(T,a,T.length-1,A),x(T,i,0,A)}function x(T,A,C,D){for(;C<T.length;++C){const E=T[C],$=(A-E.y0)*D;$>1e-6&&(E.y0+=$,E.y1+=$),A=E.y1+t}}function b(T,A,C,D){for(;C>=0;--C){const E=T[C],$=(E.y1-A)*D;$>1e-6&&(E.y0-=$,E.y1-=$),A=E.y0-t}}function k({sourceLinks:T,targetLinks:A}){if(r===void 0){for(const{source:{sourceLinks:C}}of A)C.sort(VH);for(const{target:{targetLinks:C}}of T)C.sort(WH)}}function N(T){if(r===void 0)for(const{sourceLinks:A,targetLinks:C}of T)A.sort(VH),C.sort(WH)}function _(T,A){let C=T.y0-(T.sourceLinks.length-1)*t/2;for(const{target:D,width:E}of T.sourceLinks){if(D===A)break;C+=E+t}for(const{source:D,width:E}of A.targetLinks){if(D===T)break;C-=E}return C}function S(T,A){let C=A.y0-(A.targetLinks.length-1)*t/2;for(const{source:D,width:E}of A.targetLinks){if(D===T)break;C+=E+t}for(const{target:D,width:E}of T.sourceLinks){if(D===A)break;C-=E}return C}return g.update=function(T){return XH(T),T},g.nodeId=function(T){return arguments.length?(u=typeof T=="function"?T:O2(T),g):u},g.nodeAlign=function(T){return arguments.length?(h=typeof T=="function"?T:O2(T),g):h},g.nodeSort=function(T){return arguments.length?(e=T,g):e},g.nodeWidth=function(T){return arguments.length?(s=+T,g):s},g.nodePadding=function(T){return arguments.length?(l=t=+T,g):l},g.nodes=function(T){return arguments.length?(d=typeof T=="function"?T:O2(T),g):d},g.links=function(T){return arguments.length?(p=typeof T=="function"?T:O2(T),g):p},g.linkSort=function(T){return arguments.length?(r=T,g):r},g.size=function(T){return arguments.length?(n=i=0,o=+T[0],a=+T[1],g):[o-n,a-i]},g.extent=function(T){return arguments.length?(n=+T[0][0],o=+T[1][0],i=+T[0][1],a=+T[1][1],g):[[n,i],[o,a]]},g.iterations=function(T){return arguments.length?(f=+T,g):f},g}var iKt=Array.prototype.slice;function KH(t){return function(){return t}}function oKt(t){return t[0]}function aKt(t){return t[1]}var yA=Math.PI,vA=2*yA,Qh=1e-6,sKt=vA-Qh;function bA(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ilt(){return new bA}bA.prototype=Ilt.prototype={constructor:bA,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,o){this._+="C"+ +t+","+ +e+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,r,n,i){t=+t,e=+e,r=+r,n=+n,i=+i;var o=this._x1,a=this._y1,s=r-t,l=n-e,u=o-t,h=a-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Qh)if(Math.abs(h*s-l*u)>Qh&&i){var p=r-o,f=n-a,g=s*s+l*l,m=p*p+f*f,y=Math.sqrt(g),v=Math.sqrt(d),x=i*Math.tan((yA-Math.acos((g+d-m)/(2*y*v)))/2),b=x/v,k=x/y;Math.abs(b-1)>Qh&&(this._+="L"+(t+b*u)+","+(e+b*h)),this._+="A"+i+","+i+",0,0,"+ +(h*p>u*f)+","+(this._x1=t+k*s)+","+(this._y1=e+k*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,r,n,i,o){t=+t,e=+e,o=!!o;var a=(r=+r)*Math.cos(n),s=r*Math.sin(n),l=t+a,u=e+s,h=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Qh||Math.abs(this._y1-u)>Qh)&&(this._+="L"+l+","+u),r&&(d<0&&(d=d%vA+vA),d>sKt?this._+="A"+r+","+r+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):d>Qh&&(this._+="A"+r+","+r+",0,"+ +(d>=yA)+","+h+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=e+r*Math.sin(i))))},rect:function(t,e,r,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function lKt(t){return t.source}function cKt(t){return t.target}function uKt(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e=(e+n)/2,r,e,i,n,i)}function hKt(){return function(t){var e=lKt,r=cKt,n=oKt,i=aKt,o=null;function a(){var s,l=iKt.call(arguments),u=e.apply(this,l),h=r.apply(this,l);if(o||(o=s=Ilt()),t(o,+n.apply(this,(l[0]=u,l)),+i.apply(this,l),+n.apply(this,(l[0]=h,l)),+i.apply(this,l)),s)return o=null,s+""||null}return a.source=function(s){return arguments.length?(e=s,a):e},a.target=function(s){return arguments.length?(r=s,a):r},a.x=function(s){return arguments.length?(n=typeof s=="function"?s:KH(+s),a):n},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:KH(+s),a):i},a.context=function(s){return arguments.length?(o=s??null,a):o},a}(uKt)}function dKt(t){return[t.source.x1,t.y0]}function pKt(t){return[t.target.x0,t.y1]}function fKt(){return hKt().source(dKt).target(pKt)}function gKt(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(6*n,6*++n);return r}var mKt=gKt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),xA=function(){var t=w(function(s,l,u,h){for(u=u||{},h=s.length;h--;u[s[h]]=l);return u},"o"),e=[1,9],r=[1,10],n=[1,5,10,12],i={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:w(function(s,l,u,h,d,p,f){var g=p.length-1;switch(d){case 7:const m=h.findOrCreateNode(p[g-4].trim().replaceAll('""','"')),y=h.findOrCreateNode(p[g-2].trim().replaceAll('""','"')),v=parseFloat(p[g].trim());h.addLink(m,y,v);break;case 8:case 9:case 11:this.$=p[g];break;case 10:this.$=p[g-1]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:r},{1:[2,6],7:11,10:[1,12]},t(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(n,[2,8]),t(n,[2,9]),{19:[1,16]},t(n,[2,11]),{1:[2,1]},{1:[2,5]},t(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:r},{15:18,16:7,17:8,18:e,20:r},{18:[1,19]},t(r,[2,3]),{12:[1,20]},t(n,[2,10]),{15:21,16:7,17:8,18:e,20:r},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:w(function(s,l){if(!l.recoverable){var u=new Error(s);throw u.hash=l,u}this.trace(s)},"parseError"),parse:w(function(s){var l=this,u=[0],h=[],d=[null],p=[],f=this.table,g="",m=0,y=0,v=p.slice.call(arguments,1),x=Object.create(this.lexer),b={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(b.yy[k]=this.yy[k]);x.setInput(s,b.yy),b.yy.lexer=x,b.yy.parser=this,x.yylloc===void 0&&(x.yylloc={});var N=x.yylloc;p.push(N);var _=x.options&&x.options.ranges;function S(){var R;return typeof(R=h.pop()||x.lex()||1)!="number"&&(R instanceof Array&&(R=(h=R).pop()),R=l.symbols_[R]||R),R}typeof b.yy.parseError=="function"?this.parseError=b.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(R){u.length=u.length-2*R,d.length=d.length-R,p.length=p.length-R},"popStack"),w(S,"lex");for(var T,A,C,D,E,$,I,L,O={};;){if(A=u[u.length-1],this.defaultActions[A]?C=this.defaultActions[A]:(T==null&&(T=S()),C=f[A]&&f[A][T]),C===void 0||!C.length||!C[0]){var B="";for(E in L=[],f[A])this.terminals_[E]&&E>2&&L.push("'"+this.terminals_[E]+"'");B=x.showPosition?"Parse error on line "+(m+1)+`:
`+x.showPosition()+`
Expecting `+L.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(m+1)+": Unexpected "+(T==1?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(B,{text:x.match,token:this.terminals_[T]||T,line:x.yylineno,loc:N,expected:L})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+A+", token: "+T);switch(C[0]){case 1:u.push(T),d.push(x.yytext),p.push(x.yylloc),u.push(C[1]),T=null,y=x.yyleng,g=x.yytext,m=x.yylineno,N=x.yylloc;break;case 2:if($=this.productions_[C[1]][1],O.$=d[d.length-$],O._$={first_line:p[p.length-($||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-($||1)].first_column,last_column:p[p.length-1].last_column},_&&(O._$.range=[p[p.length-($||1)].range[0],p[p.length-1].range[1]]),(D=this.performAction.apply(O,[g,y,m,b.yy,C[1],d,p].concat(v)))!==void 0)return D;$&&(u=u.slice(0,-1*$*2),d=d.slice(0,-1*$),p=p.slice(0,-1*$)),u.push(this.productions_[C[1]][0]),d.push(O.$),p.push(O._$),I=f[u[u.length-2]][u[u.length-1]],u.push(I);break;case 3:return!0}}return!0},"parse")},o=function(){return{EOF:1,parseError:w(function(s,l){if(!this.yy.parser)throw new Error(s);this.yy.parser.parseError(s,l)},"parseError"),setInput:w(function(s,l){return this.yy=l||this.yy||{},this._input=s,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var s=this._input[0];return this.yytext+=s,this.yyleng++,this.offset++,this.match+=s,this.matched+=s,s.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),s},"input"),unput:w(function(s){var l=s.length,u=s.split(/(?:\r\n?|\n)/g);this._input=s+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-l),this.offset-=l;var h=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),u.length-1&&(this.yylineno-=u.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:u?(u.length===h.length?this.yylloc.first_column:0)+h[h.length-u.length].length-u[0].length:this.yylloc.first_column-l},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-l]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(s){this.unput(this.match.slice(s))},"less"),pastInput:w(function(){var s=this.matched.substr(0,this.matched.length-this.match.length);return(s.length>20?"...":"")+s.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var s=this.match;return s.length<20&&(s+=this._input.substr(0,20-s.length)),(s.substr(0,20)+(s.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var s=this.pastInput(),l=new Array(s.length+1).join("-");return s+this.upcomingInput()+`
`+l+"^"},"showPosition"),test_match:w(function(s,l){var u,h,d;if(this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0))),(h=s[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=h.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:h?h[h.length-1].length-h[h.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.matches=s,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],u=this.performAction.call(this,this.yy,this,l,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),u)return u;if(this._backtrack){for(var p in d)this[p]=d[p];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var s,l,u,h;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),p=0;p<d.length;p++)if((u=this._input.match(this.rules[d[p]]))&&(!l||u[0].length>l[0].length)){if(l=u,h=p,this.options.backtrack_lexer){if((s=this.test_match(u,d[p]))!==!1)return s;if(this._backtrack){l=!1;continue}return!1}if(!this.options.flex)break}return l?(s=this.test_match(l,d[h]))!==!1&&s:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var s=this.next();return s||this.lex()},"lex"),begin:w(function(s){this.conditionStack.push(s)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(s){return(s=this.conditionStack.length-1-Math.abs(s||0))>=0?this.conditionStack[s]:"INITIAL"},"topState"),pushState:w(function(s){this.begin(s)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:w(function(s,l,u,h){switch(u){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}}}();function a(){this.yy={}}return i.lexer=o,w(a,"Parser"),a.prototype=i,i.Parser=a,new a}();xA.parser=xA;var V5=xA,X3=[],K3=[],Y5=new Map,yKt=w(()=>{X3=[],K3=[],Y5=new Map,Gi()},"clear"),g0,vKt=(g0=class{constructor(e,r,n=0){this.source=e,this.target=r,this.value=n}},w(g0,"SankeyLink"),g0),bKt=w((t,e,r)=>{X3.push(new vKt(t,e,r))},"addLink"),m0,xKt=(m0=class{constructor(e){this.ID=e}},w(m0,"SankeyNode"),m0),wKt=w(t=>{t=ne.sanitizeText(t,Tt());let e=Y5.get(t);return e===void 0&&(e=new xKt(t),Y5.set(t,e),K3.push(e)),e},"findOrCreateNode"),kKt=w(()=>K3,"getNodes"),TKt=w(()=>X3,"getLinks"),EKt=w(()=>({nodes:K3.map(t=>({id:t.ID})),links:X3.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),_Kt={nodesMap:Y5,getConfig:w(()=>Tt().sankey,"getConfig"),getNodes:kKt,getLinks:TKt,getGraph:EKt,addLink:bKt,findOrCreateNode:wKt,getAccTitle:so,setAccTitle:Wi,getAccDescription:co,setAccDescription:lo,getDiagramTitle:uo,setDiagramTitle:ta,clear:yKt},Sc,ZH=(Sc=class{static next(e){return new Sc(e+ ++Sc.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},w(Sc,"Uid"),Sc.count=0,Sc),SKt={left:ZXt,right:QXt,center:JXt,justify:Nlt},AKt={draw:w(function(t,e,r,n){const{securityLevel:i,sankey:o}=Tt(),a=XU.sankey;let s;i==="sandbox"&&(s=he("#i"+e));const l=he(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):he(`[id="${e}"]`),h=(o==null?void 0:o.width)??a.width,d=(o==null?void 0:o.height)??a.width,p=(o==null?void 0:o.useMaxWidth)??a.useMaxWidth,f=(o==null?void 0:o.nodeAlignment)??a.nodeAlignment,g=(o==null?void 0:o.prefix)??a.prefix,m=(o==null?void 0:o.suffix)??a.suffix,y=(o==null?void 0:o.showValues)??a.showValues,v=n.db.getGraph(),x=SKt[f];nKt().nodeId(T=>T.id).nodeWidth(10).nodePadding(10+(y?15:0)).nodeAlign(x).extent([[0,0],[h,d]])(v);const b=N3(mKt);u.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",T=>(T.uid=ZH.next("node-")).id).attr("transform",function(T){return"translate("+T.x0+","+T.y0+")"}).attr("x",T=>T.x0).attr("y",T=>T.y0).append("rect").attr("height",T=>T.y1-T.y0).attr("width",T=>T.x1-T.x0).attr("fill",T=>b(T.id));const k=w(({id:T,value:A})=>y?`${T}
${g}${Math.round(100*A)/100}${m}`:T,"getText");u.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",T=>T.x0<h/2?T.x1+6:T.x0-6).attr("y",T=>(T.y1+T.y0)/2).attr("dy",(y?"0":"0.35")+"em").attr("text-anchor",T=>T.x0<h/2?"start":"end").text(k);const N=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),_=(o==null?void 0:o.linkColor)??"gradient";if(_==="gradient"){const T=N.append("linearGradient").attr("id",A=>(A.uid=ZH.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",A=>A.source.x1).attr("x2",A=>A.target.x0);T.append("stop").attr("offset","0%").attr("stop-color",A=>b(A.source.id)),T.append("stop").attr("offset","100%").attr("stop-color",A=>b(A.target.id))}let S;switch(_){case"gradient":S=w(T=>T.uid,"coloring");break;case"source":S=w(T=>b(T.source.id),"coloring");break;case"target":S=w(T=>b(T.target.id),"coloring");break;default:S=_}N.append("path").attr("d",fKt()).attr("stroke",S).attr("stroke-width",T=>Math.max(1,T.width)),ag(void 0,u,0,p)},"draw")},CKt=w(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),$Kt=V5.parse.bind(V5);V5.parse=t=>$Kt(CKt(t));var NKt={parser:V5,db:_Kt,renderer:AKt};const IKt=Object.freeze(Object.defineProperty({__proto__:null,diagram:NKt},Symbol.toStringTag,{value:"Module"}));var Llt={packet:[]},wA=structuredClone(Llt),LKt=Mr.packet,RKt=w(()=>{const t=Xc({...LKt,...Nn().packet});return t.showBits&&(t.paddingY+=10),t},"getConfig"),DKt=w(()=>wA.packet,"getPacket"),Zp={pushWord:w(t=>{t.length>0&&wA.packet.push(t)},"pushWord"),getPacket:DKt,getConfig:RKt,clear:w(()=>{Gi(),wA=structuredClone(Llt)},"clear"),setAccTitle:Wi,getAccTitle:so,setDiagramTitle:ta,getDiagramTitle:uo,getAccDescription:co,setAccDescription:lo},OKt=w(t=>{jy(t,Zp);let e=-1,r=[],n=1;const{bitsPerRow:i}=Zp.getConfig();for(let{start:o,end:a,label:s}of t.blocks){if(a&&a<o)throw new Error(`Packet block ${o} - ${a} is invalid. End must be greater than start.`);if(o!==e+1)throw new Error(`Packet block ${o} - ${a??o} is not contiguous. It should start from ${e+1}.`);for(e=a??o,et.debug(`Packet block ${o} - ${e} with label ${s}`);r.length<=i+1&&Zp.getPacket().length<1e4;){const[l,u]=MKt({start:o,end:a,label:s},n,i);if(r.push(l),l.end+1===n*i&&(Zp.pushWord(r),r=[],n++),!u)break;({start:o,end:a,label:s}=u)}}Zp.pushWord(r)},"populate"),MKt=w((t,e,r)=>{if(t.end===void 0&&(t.end=t.start),t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);return t.end+1<=e*r?[t,void 0]:[{start:t.start,end:e*r-1,label:t.label},{start:e*r,end:t.end,label:t.label}]},"getNextFittingBlock"),BKt={parse:w(async t=>{const e=await _g("packet",t);et.debug(e),OKt(e)},"parse")},PKt=w((t,e,r,n)=>{const i=n.db,o=i.getConfig(),{rowHeight:a,paddingY:s,bitWidth:l,bitsPerRow:u}=o,h=i.getPacket(),d=i.getDiagramTitle(),p=a+s,f=p*(h.length+1)-(d?0:a),g=l*u+2,m=mh(e);m.attr("viewbox",`0 0 ${g} ${f}`),Ro(m,f,g,o.useMaxWidth);for(const[y,v]of h.entries())FKt(m,v,y,o);m.append("text").text(d).attr("x",g/2).attr("y",f-p/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),FKt=w((t,e,r,{rowHeight:n,paddingX:i,paddingY:o,bitWidth:a,bitsPerRow:s,showBits:l})=>{const u=t.append("g"),h=r*(n+o)+o;for(const d of e){const p=d.start%s*a+1,f=(d.end-d.start+1)*a-i;if(u.append("rect").attr("x",p).attr("y",h).attr("width",f).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",p+f/2).attr("y",h+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(d.label),!l)continue;const g=d.end===d.start,m=h-2;u.append("text").attr("x",p+(g?f/2:0)).attr("y",m).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",g?"middle":"start").text(d.start),g||u.append("text").attr("x",p+f).attr("y",m).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(d.end)}},"drawWord"),zKt={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},jKt={parser:BKt,db:Zp,renderer:{draw:PKt},styles:w(({packet:t}={})=>{const e=Xc(zKt,t);return`
	.packetByte {
		font-size: ${e.byteFontSize};
	}
	.packetByte.start {
		fill: ${e.startByteColor};
	}
	.packetByte.end {
		fill: ${e.endByteColor};
	}
	.packetLabel {
		fill: ${e.labelColor};
		font-size: ${e.labelFontSize};
	}
	.packetTitle {
		fill: ${e.titleColor};
		font-size: ${e.titleFontSize};
	}
	.packetBlock {
		stroke: ${e.blockStrokeColor};
		stroke-width: ${e.blockStrokeWidth};
		fill: ${e.blockFillColor};
	}
	`},"styles")};const HKt=Object.freeze(Object.defineProperty({__proto__:null,diagram:jKt},Symbol.toStringTag,{value:"Module"}));var kA=function(){var t=w(function(b,k,N,_){for(N=N||{},_=b.length;_--;N[b[_]]=k);return N},"o"),e=[1,7],r=[1,13],n=[1,14],i=[1,15],o=[1,19],a=[1,16],s=[1,17],l=[1,18],u=[8,30],h=[8,21,28,29,30,31,32,40,44,47],d=[1,23],p=[1,24],f=[8,15,16,21,28,29,30,31,32,40,44,47],g=[8,15,16,21,27,28,29,30,31,32,40,44,47],m=[1,49],y={trace:w(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:w(function(b,k,N,_,S,T,A){var C=T.length-1;switch(S){case 4:_.getLogger().debug("Rule: separator (NL) ");break;case 5:_.getLogger().debug("Rule: separator (Space) ");break;case 6:_.getLogger().debug("Rule: separator (EOF) ");break;case 7:_.getLogger().debug("Rule: hierarchy: ",T[C-1]),_.setHierarchy(T[C-1]);break;case 8:_.getLogger().debug("Stop NL ");break;case 9:_.getLogger().debug("Stop EOF ");break;case 10:_.getLogger().debug("Stop NL2 ");break;case 11:_.getLogger().debug("Stop EOF2 ");break;case 12:_.getLogger().debug("Rule: statement: ",T[C]),typeof T[C].length=="number"?this.$=T[C]:this.$=[T[C]];break;case 13:_.getLogger().debug("Rule: statement #2: ",T[C-1]),this.$=[T[C-1]].concat(T[C]);break;case 14:_.getLogger().debug("Rule: link: ",T[C],b),this.$={edgeTypeStr:T[C],label:""};break;case 15:_.getLogger().debug("Rule: LABEL link: ",T[C-3],T[C-1],T[C]),this.$={edgeTypeStr:T[C],label:T[C-1]};break;case 18:const D=parseInt(T[C]),E=_.generateId();this.$={id:E,type:"space",label:"",width:D,children:[]};break;case 23:_.getLogger().debug("Rule: (nodeStatement link node) ",T[C-2],T[C-1],T[C]," typestr: ",T[C-1].edgeTypeStr);const $=_.edgeStrToEdgeData(T[C-1].edgeTypeStr);this.$=[{id:T[C-2].id,label:T[C-2].label,type:T[C-2].type,directions:T[C-2].directions},{id:T[C-2].id+"-"+T[C].id,start:T[C-2].id,end:T[C].id,label:T[C-1].label,type:"edge",directions:T[C].directions,arrowTypeEnd:$,arrowTypeStart:"arrow_open"},{id:T[C].id,label:T[C].label,type:_.typeStr2Type(T[C].typeStr),directions:T[C].directions}];break;case 24:_.getLogger().debug("Rule: nodeStatement (abc88 node size) ",T[C-1],T[C]),this.$={id:T[C-1].id,label:T[C-1].label,type:_.typeStr2Type(T[C-1].typeStr),directions:T[C-1].directions,widthInColumns:parseInt(T[C],10)};break;case 25:_.getLogger().debug("Rule: nodeStatement (node) ",T[C]),this.$={id:T[C].id,label:T[C].label,type:_.typeStr2Type(T[C].typeStr),directions:T[C].directions,widthInColumns:1};break;case 26:_.getLogger().debug("APA123",this?this:"na"),_.getLogger().debug("COLUMNS: ",T[C]),this.$={type:"column-setting",columns:T[C]==="auto"?-1:parseInt(T[C])};break;case 27:_.getLogger().debug("Rule: id-block statement : ",T[C-2],T[C-1]),_.generateId(),this.$={...T[C-2],type:"composite",children:T[C-1]};break;case 28:_.getLogger().debug("Rule: blockStatement : ",T[C-2],T[C-1],T[C]);const I=_.generateId();this.$={id:I,type:"composite",label:"",children:T[C-1]};break;case 29:_.getLogger().debug("Rule: node (NODE_ID separator): ",T[C]),this.$={id:T[C]};break;case 30:_.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",T[C-1],T[C]),this.$={id:T[C-1],label:T[C].label,typeStr:T[C].typeStr,directions:T[C].directions};break;case 31:_.getLogger().debug("Rule: dirList: ",T[C]),this.$=[T[C]];break;case 32:_.getLogger().debug("Rule: dirList: ",T[C-1],T[C]),this.$=[T[C-1]].concat(T[C]);break;case 33:_.getLogger().debug("Rule: nodeShapeNLabel: ",T[C-2],T[C-1],T[C]),this.$={typeStr:T[C-2]+T[C],label:T[C-1]};break;case 34:_.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",T[C-3],T[C-2]," #3:",T[C-1],T[C]),this.$={typeStr:T[C-3]+T[C],label:T[C-2],directions:T[C-1]};break;case 35:case 36:this.$={type:"classDef",id:T[C-1].trim(),css:T[C].trim()};break;case 37:this.$={type:"applyClass",id:T[C-1].trim(),styleClass:T[C].trim()};break;case 38:this.$={type:"applyStyles",id:T[C-1].trim(),stylesStr:T[C].trim()}}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:o,40:a,44:s,47:l},{8:[1,20]},t(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:e,28:r,29:n,31:i,32:o,40:a,44:s,47:l}),t(h,[2,16],{14:22,15:d,16:p}),t(h,[2,17]),t(h,[2,18]),t(h,[2,19]),t(h,[2,20]),t(h,[2,21]),t(h,[2,22]),t(f,[2,25],{27:[1,25]}),t(h,[2,26]),{19:26,26:12,32:o},{11:27,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:o,40:a,44:s,47:l},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},t(g,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},t(u,[2,13]),{26:35,32:o},{32:[2,14]},{17:[1,36]},t(f,[2,24]),{11:37,13:4,14:22,15:d,16:p,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:o,40:a,44:s,47:l},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},t(g,[2,30]),{18:[1,43]},{18:[1,44]},t(f,[2,23]),{18:[1,45]},{30:[1,46]},t(h,[2,28]),t(h,[2,35]),t(h,[2,36]),t(h,[2,37]),t(h,[2,38]),{37:[1,47]},{34:48,35:m},{15:[1,50]},t(h,[2,27]),t(g,[2,33]),{39:[1,51]},{34:52,35:m,39:[2,31]},{32:[2,15]},t(g,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:w(function(b,k){if(!k.recoverable){var N=new Error(b);throw N.hash=k,N}this.trace(b)},"parseError"),parse:w(function(b){var k=this,N=[0],_=[],S=[null],T=[],A=this.table,C="",D=0,E=0,$=T.slice.call(arguments,1),I=Object.create(this.lexer),L={yy:{}};for(var O in this.yy)Object.prototype.hasOwnProperty.call(this.yy,O)&&(L.yy[O]=this.yy[O]);I.setInput(b,L.yy),L.yy.lexer=I,L.yy.parser=this,I.yylloc===void 0&&(I.yylloc={});var B=I.yylloc;T.push(B);var R=I.options&&I.options.ranges;function M(){var at;return typeof(at=_.pop()||I.lex()||1)!="number"&&(at instanceof Array&&(at=(_=at).pop()),at=k.symbols_[at]||at),at}typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,w(function(at){N.length=N.length-2*at,S.length=S.length-at,T.length=T.length-at},"popStack"),w(M,"lex");for(var F,P,U,W,Q,K,G,V,rt={};;){if(P=N[N.length-1],this.defaultActions[P]?U=this.defaultActions[P]:(F==null&&(F=M()),U=A[P]&&A[P][F]),U===void 0||!U.length||!U[0]){var tt="";for(Q in V=[],A[P])this.terminals_[Q]&&Q>2&&V.push("'"+this.terminals_[Q]+"'");tt=I.showPosition?"Parse error on line "+(D+1)+`:
`+I.showPosition()+`
Expecting `+V.join(", ")+", got '"+(this.terminals_[F]||F)+"'":"Parse error on line "+(D+1)+": Unexpected "+(F==1?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(tt,{text:I.match,token:this.terminals_[F]||F,line:I.yylineno,loc:B,expected:V})}if(U[0]instanceof Array&&U.length>1)throw new Error("Parse Error: multiple actions possible at state: "+P+", token: "+F);switch(U[0]){case 1:N.push(F),S.push(I.yytext),T.push(I.yylloc),N.push(U[1]),F=null,E=I.yyleng,C=I.yytext,D=I.yylineno,B=I.yylloc;break;case 2:if(K=this.productions_[U[1]][1],rt.$=S[S.length-K],rt._$={first_line:T[T.length-(K||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(K||1)].first_column,last_column:T[T.length-1].last_column},R&&(rt._$.range=[T[T.length-(K||1)].range[0],T[T.length-1].range[1]]),(W=this.performAction.apply(rt,[C,E,D,L.yy,U[1],S,T].concat($)))!==void 0)return W;K&&(N=N.slice(0,-1*K*2),S=S.slice(0,-1*K),T=T.slice(0,-1*K)),N.push(this.productions_[U[1]][0]),S.push(rt.$),T.push(rt._$),G=A[N[N.length-2]][N[N.length-1]],N.push(G);break;case 3:return!0}}return!0},"parse")},v=function(){return{EOF:1,parseError:w(function(b,k){if(!this.yy.parser)throw new Error(b);this.yy.parser.parseError(b,k)},"parseError"),setInput:w(function(b,k){return this.yy=k||this.yy||{},this._input=b,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:w(function(){var b=this._input[0];return this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b,b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},"input"),unput:w(function(b){var k=b.length,N=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-k),this.offset-=k;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var S=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===_.length?this.yylloc.first_column:0)+_[_.length-N.length].length-N[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[S[0],S[0]+this.yyleng-k]),this.yyleng=this.yytext.length,this},"unput"),more:w(function(){return this._more=!0,this},"more"),reject:w(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:w(function(b){this.unput(this.match.slice(b))},"less"),pastInput:w(function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(b.length>20?"...":"")+b.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:w(function(){var b=this.match;return b.length<20&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(b.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:w(function(){var b=this.pastInput(),k=new Array(b.length+1).join("-");return b+this.upcomingInput()+`
`+k+"^"},"showPosition"),test_match:w(function(b,k){var N,_,S;if(this.options.backtrack_lexer&&(S={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(S.yylloc.range=this.yylloc.range.slice(0))),(_=b[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],N=this.performAction.call(this,this.yy,this,k,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var T in S)this[T]=S[T];return!1}return!1},"test_match"),next:w(function(){if(this.done)return this.EOF;var b,k,N,_;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var S=this._currentRules(),T=0;T<S.length;T++)if((N=this._input.match(this.rules[S[T]]))&&(!k||N[0].length>k[0].length)){if(k=N,_=T,this.options.backtrack_lexer){if((b=this.test_match(N,S[T]))!==!1)return b;if(this._backtrack){k=!1;continue}return!1}if(!this.options.flex)break}return k?(b=this.test_match(k,S[_]))!==!1&&b:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:w(function(){var b=this.next();return b||this.lex()},"lex"),begin:w(function(b){this.conditionStack.push(b)},"begin"),popState:w(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:w(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:w(function(b){return(b=this.conditionStack.length-1-Math.abs(b||0))>=0?this.conditionStack[b]:"INITIAL"},"topState"),pushState:w(function(b){this.begin(b)},"pushState"),stateStackSize:w(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:w(function(b,k,N,_){switch(N){case 0:return 10;case 1:return b.getLogger().debug("Found space-block"),31;case 2:return b.getLogger().debug("Found nl-block"),31;case 3:return b.getLogger().debug("Found space-block"),29;case 4:b.getLogger().debug(".",k.yytext);break;case 5:b.getLogger().debug("_",k.yytext);break;case 6:return 5;case 7:return k.yytext=-1,28;case 8:return k.yytext=k.yytext.replace(/columns\s+/,""),b.getLogger().debug("COLUMNS (LEX)",k.yytext),28;case 9:case 77:case 78:case 100:this.pushState("md_string");break;case 10:return"MD_STR";case 11:case 35:case 80:this.popState();break;case 12:this.pushState("string");break;case 13:b.getLogger().debug("LEX: POPPING STR:",k.yytext),this.popState();break;case 14:return b.getLogger().debug("LEX: STR end:",k.yytext),"STR";case 15:return k.yytext=k.yytext.replace(/space\:/,""),b.getLogger().debug("SPACE NUM (LEX)",k.yytext),21;case 16:return k.yytext="1",b.getLogger().debug("COLUMNS (LEX)",k.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:case 39:case 41:case 42:case 45:return this.popState(),b.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),b.getLogger().debug("Lex: ))"),"NODE_DEND";case 43:return this.popState(),b.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),b.getLogger().debug("Lex: -)"),"NODE_DEND";case 46:return this.popState(),b.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),b.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),b.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:case 50:return this.popState(),b.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),b.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),b.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),b.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),b.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return b.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return b.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return b.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:case 60:case 61:case 62:case 65:return b.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return b.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 63:return b.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return b.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 66:case 67:case 68:case 69:case 70:case 71:case 72:return this.pushState("NODE"),36;case 73:return b.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),b.getLogger().debug("LEX ARR START"),38;case 75:return b.getLogger().debug("Lex: NODE_ID",k.yytext),32;case 76:return b.getLogger().debug("Lex: EOF",k.yytext),8;case 79:return"NODE_DESCR";case 81:b.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:b.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return b.getLogger().debug("LEX: NODE_DESCR:",k.yytext),"NODE_DESCR";case 84:b.getLogger().debug("LEX POPPING"),this.popState();break;case 85:b.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return k.yytext=k.yytext.replace(/^,\s*/,""),b.getLogger().debug("Lex (right): dir:",k.yytext),"DIR";case 87:return k.yytext=k.yytext.replace(/^,\s*/,""),b.getLogger().debug("Lex (left):",k.yytext),"DIR";case 88:return k.yytext=k.yytext.replace(/^,\s*/,""),b.getLogger().debug("Lex (x):",k.yytext),"DIR";case 89:return k.yytext=k.yytext.replace(/^,\s*/,""),b.getLogger().debug("Lex (y):",k.yytext),"DIR";case 90:return k.yytext=k.yytext.replace(/^,\s*/,""),b.getLogger().debug("Lex (up):",k.yytext),"DIR";case 91:return k.yytext=k.yytext.replace(/^,\s*/,""),b.getLogger().debug("Lex (down):",k.yytext),"DIR";case 92:return k.yytext="]>",b.getLogger().debug("Lex (ARROW_DIR end):",k.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return b.getLogger().debug("Lex: LINK","#"+k.yytext+"#"),15;case 94:case 95:case 96:return b.getLogger().debug("Lex: LINK",k.yytext),15;case 97:case 98:case 99:return b.getLogger().debug("Lex: START_LINK",k.yytext),this.pushState("LLABEL"),16;case 101:return b.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),b.getLogger().debug("Lex: LINK","#"+k.yytext+"#"),15;case 103:case 104:return this.popState(),b.getLogger().debug("Lex: LINK",k.yytext),15;case 105:return b.getLogger().debug("Lex: COLON",k.yytext),k.yytext=k.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}}}();function x(){this.yy={}}return y.lexer=v,w(x,"Parser"),x.prototype=y,y.Parser=x,new x}();kA.parser=kA;var UKt=kA,al=new Map,G$=[],TA=new Map,QH="color",JH="fill",qKt=Tt(),X5=new Map,GKt=w(t=>ne.sanitizeText(t,qKt),"sanitizeText"),WKt=w(function(t,e=""){let r=X5.get(t);r||(r={id:t,styles:[],textStyles:[]},X5.set(t,r)),e!=null&&e.split(",").forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(QH).exec(n)){const o=i.replace(JH,"bgFill").replace(QH,JH);r.textStyles.push(o)}r.styles.push(i)})},"addStyleClass"),VKt=w(function(t,e=""){const r=al.get(t);e!=null&&(r.styles=e.split(","))},"addStyle2Node"),YKt=w(function(t,e){t.split(",").forEach(function(r){let n=al.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},al.set(i,n)}n.classes||(n.classes=[]),n.classes.push(e)})},"setCssClass"),Rlt=w((t,e)=>{const r=t.flat(),n=[];for(const i of r)if(i.label&&(i.label=GKt(i.label)),i.type!=="classDef")if(i.type!=="applyClass")if(i.type!=="applyStyles")if(i.type==="column-setting")e.columns=i.columns??-1;else if(i.type==="edge"){const o=(TA.get(i.id)??0)+1;TA.set(i.id,o),i.id=o+"-"+i.id,G$.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);const o=al.get(i.id);if(o===void 0?al.set(i.id,i):(i.type!=="na"&&(o.type=i.type),i.label!==i.id&&(o.label=i.label)),i.children&&Rlt(i.children,i),i.type==="space"){const a=i.width??1;for(let s=0;s<a;s++){const l=$i(i);l.id=l.id+"-"+s,al.set(l.id,l),n.push(l)}}else o===void 0&&n.push(i)}else i!=null&&i.stylesStr&&VKt(i.id,i==null?void 0:i.stylesStr);else YKt(i.id,(i==null?void 0:i.styleClass)??"");else WKt(i.id,i.css);e.children=n},"populateBlockDatabase"),W$=[],vm={id:"root",type:"composite",children:[],columns:-1},XKt=w(()=>{et.debug("Clear called"),Gi(),vm={id:"root",type:"composite",children:[],columns:-1},al=new Map([["root",vm]]),W$=[],X5=new Map,G$=[],TA=new Map},"clear");function Dlt(t){switch(et.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return et.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function Olt(t){return et.debug("typeStr2Type",t),t==="=="?"thick":"normal"}function Mlt(t){switch(t.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}w(Dlt,"typeStr2Type"),w(Olt,"edgeTypeStr2Type"),w(Mlt,"edgeStrToEdgeData");var tU=0,KKt=w(()=>(tU++,"id-"+Math.random().toString(36).substr(2,12)+"-"+tU),"generateId"),ZKt=w(t=>{vm.children=t,Rlt(t,vm),W$=vm.children},"setHierarchy"),QKt=w(t=>{const e=al.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),JKt=w(()=>[...al.values()],"getBlocksFlat"),tZt=w(()=>W$||[],"getBlocks"),eZt=w(()=>G$,"getEdges"),rZt=w(t=>al.get(t),"getBlock"),nZt=w(t=>{al.set(t.id,t)},"setBlock"),iZt=w(()=>console,"getLogger"),oZt=w(function(){return X5},"getClasses"),aZt={getConfig:w(()=>Nn().block,"getConfig"),typeStr2Type:Dlt,edgeTypeStr2Type:Olt,edgeStrToEdgeData:Mlt,getLogger:iZt,getBlocksFlat:JKt,getBlocks:tZt,getEdges:eZt,setHierarchy:ZKt,getBlock:rZt,setBlock:nZt,getColumns:QKt,getClasses:oZt,clear:XKt,generateId:KKt},M2=w((t,e)=>{const r=Tet,n=r(t,"r"),i=r(t,"g"),o=r(t,"b");return yd(n,i,o,e)},"fade"),sZt=w(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span,p {
    color: ${t.titleColor};
  }



  .label text,span,p {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${M2(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${M2(t.mainBkg,.5)};
    fill: ${M2(t.clusterBkg,.5)};
    stroke: ${M2(t.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span,p {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),lZt=w((t,e,r,n)=>{e.forEach(i=>{cZt[i](t,r,n)})},"insertMarkers"),cZt={extension:w((t,e,r)=>{et.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point:w((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle:w((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross:w((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb:w((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb")},uZt=lZt,mU,yU,Xn=((yU=(mU=Tt())==null?void 0:mU.block)==null?void 0:yU.padding)??8;function Blt(t,e){if(t===0||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);return t<0?{px:e,py:0}:t===1?{px:0,py:e}:{px:e%t,py:Math.floor(e/t)}}w(Blt,"calculateBlockPosition");var hZt=w(t=>{let e=0,r=0;for(const n of t.children){const{width:i,height:o,x:a,y:s}=n.size??{width:0,height:0,x:0,y:0};et.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",o,"x:",a,"y:",s,n.type),n.type!=="space"&&(i>e&&(e=i/(t.widthInColumns??1)),o>r&&(r=o))}return{width:e,height:r}},"getMaxChildSize");function K5(t,e,r=0,n=0){var a,s,l,u,h,d,p,f,g,m,y;et.debug("setBlockSizes abc95 (start)",t.id,(a=t==null?void 0:t.size)==null?void 0:a.x,"block width =",t==null?void 0:t.size,"sieblingWidth",r),(s=t==null?void 0:t.size)!=null&&s.width||(t.size={width:r,height:n,x:0,y:0});let i=0,o=0;if(((l=t.children)==null?void 0:l.length)>0){for(const T of t.children)K5(T,e);const v=hZt(t);i=v.width,o=v.height,et.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",i,o);for(const T of t.children)T.size&&(et.debug(`abc95 Setting size of children of ${t.id} id=${T.id} ${i} ${o} ${JSON.stringify(T.size)}`),T.size.width=i*(T.widthInColumns??1)+Xn*((T.widthInColumns??1)-1),T.size.height=o,T.size.x=0,T.size.y=0,et.debug(`abc95 updating size of ${t.id} children child:${T.id} maxWidth:${i} maxHeight:${o}`));for(const T of t.children)K5(T,e,i,o);const x=t.columns??-1;let b=0;for(const T of t.children)b+=T.widthInColumns??1;let k=t.children.length;x>0&&x<b&&(k=x);const N=Math.ceil(b/k);let _=k*(i+Xn)+Xn,S=N*(o+Xn)+Xn;if(_<r){et.debug(`Detected to small siebling: abc95 ${t.id} sieblingWidth ${r} sieblingHeight ${n} width ${_}`),_=r,S=n;const T=(r-k*Xn-Xn)/k,A=(n-N*Xn-Xn)/N;et.debug("Size indata abc88",t.id,"childWidth",T,"maxWidth",i),et.debug("Size indata abc88",t.id,"childHeight",A,"maxHeight",o),et.debug("Size indata abc88 xSize",k,"padding",Xn);for(const C of t.children)C.size&&(C.size.width=T,C.size.height=A,C.size.x=0,C.size.y=0)}if(et.debug(`abc95 (finale calc) ${t.id} xSize ${k} ySize ${N} columns ${x}${t.children.length} width=${Math.max(_,((u=t.size)==null?void 0:u.width)||0)}`),_<(((h=t==null?void 0:t.size)==null?void 0:h.width)||0)){_=((d=t==null?void 0:t.size)==null?void 0:d.width)||0;const T=x>0?Math.min(t.children.length,x):t.children.length;if(T>0){const A=(_-T*Xn-Xn)/T;et.debug("abc95 (growing to fit) width",t.id,_,(p=t.size)==null?void 0:p.width,A);for(const C of t.children)C.size&&(C.size.width=A)}}t.size={width:_,height:S,x:0,y:0}}et.debug("setBlockSizes abc94 (done)",t.id,(f=t==null?void 0:t.size)==null?void 0:f.x,(g=t==null?void 0:t.size)==null?void 0:g.width,(m=t==null?void 0:t.size)==null?void 0:m.y,(y=t==null?void 0:t.size)==null?void 0:y.height)}function V$(t,e){var n,i,o,a,s,l,u,h,d,p,f,g,m,y,v,x,b;et.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${(n=t==null?void 0:t.size)==null?void 0:n.x} y: ${(i=t==null?void 0:t.size)==null?void 0:i.y} width: ${(o=t==null?void 0:t.size)==null?void 0:o.width}`);const r=t.columns??-1;if(et.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){const k=((s=(a=t==null?void 0:t.children[0])==null?void 0:a.size)==null?void 0:s.width)??0,N=t.children.length*k+(t.children.length-1)*Xn;et.debug("widthOfChildren 88",N,"posX");let _=0;et.debug("abc91 block?.size?.x",t.id,(l=t==null?void 0:t.size)==null?void 0:l.x);let S=(u=t==null?void 0:t.size)!=null&&u.x?((h=t==null?void 0:t.size)==null?void 0:h.x)+(-((d=t==null?void 0:t.size)==null?void 0:d.width)/2||0):-Xn,T=0;for(const A of t.children){const C=t;if(!A.size)continue;const{width:D,height:E}=A.size,{px:$,py:I}=Blt(r,_);if(I!=T&&(T=I,S=(p=t==null?void 0:t.size)!=null&&p.x?((f=t==null?void 0:t.size)==null?void 0:f.x)+(-((g=t==null?void 0:t.size)==null?void 0:g.width)/2||0):-Xn,et.debug("New row in layout for block",t.id," and child ",A.id,T)),et.debug(`abc89 layout blocks (child) id: ${A.id} Pos: ${_} (px, py) ${$},${I} (${(m=C==null?void 0:C.size)==null?void 0:m.x},${(y=C==null?void 0:C.size)==null?void 0:y.y}) parent: ${C.id} width: ${D}${Xn}`),C.size){const L=D/2;A.size.x=S+Xn+L,et.debug(`abc91 layout blocks (calc) px, pyid:${A.id} startingPos=X${S} new startingPosX${A.size.x} ${L} padding=${Xn} width=${D} halfWidth=${L} => x:${A.size.x} y:${A.size.y} ${A.widthInColumns} (width * (child?.w || 1)) / 2 ${D*((A==null?void 0:A.widthInColumns)??1)/2}`),S=A.size.x+L,A.size.y=C.size.y-C.size.height/2+I*(E+Xn)+E/2+Xn,et.debug(`abc88 layout blocks (calc) px, pyid:${A.id}startingPosX${S}${Xn}${L}=>x:${A.size.x}y:${A.size.y}${A.widthInColumns}(width * (child?.w || 1)) / 2${D*((A==null?void 0:A.widthInColumns)??1)/2}`)}A.children&&V$(A),_+=(A==null?void 0:A.widthInColumns)??1,et.debug("abc88 columnsPos",A,_)}}et.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${(v=t==null?void 0:t.size)==null?void 0:v.x} y: ${(x=t==null?void 0:t.size)==null?void 0:x.y} width: ${(b=t==null?void 0:t.size)==null?void 0:b.width}`)}function Y$(t,{minX:e,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&t.id!=="root"){const{x:o,y:a,width:s,height:l}=t.size;o-s/2<e&&(e=o-s/2),a-l/2<r&&(r=a-l/2),o+s/2>n&&(n=o+s/2),a+l/2>i&&(i=a+l/2)}if(t.children)for(const o of t.children)({minX:e,minY:r,maxX:n,maxY:i}=Y$(o,{minX:e,minY:r,maxX:n,maxY:i}));return{minX:e,minY:r,maxX:n,maxY:i}}function Plt(t){const e=t.getBlock("root");if(!e)return;K5(e,t,0,0),V$(e),et.debug("getBlocks",JSON.stringify(e,null,2));const{minX:r,minY:n,maxX:i,maxY:o}=Y$(e);return{x:r,y:n,width:i-r,height:o-n}}function EA(t,e){e&&t.attr("style",e)}function Flt(t){const e=he(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=t.label,i=t.isNode?"nodeLabel":"edgeLabel",o=r.append("span");return o.html(n),EA(o,t.labelStyle),o.attr("class",i),EA(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}w(K5,"setBlockSizes"),w(V$,"layoutBlocks"),w(Y$,"findBounds"),w(Plt,"layout"),w(EA,"applyStyle"),w(Flt,"addHtmlLabel");var vs=w((t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),sn(Tt().flowchart.htmlLabels))return i=i.replace(/\\n|\n/g,"<br />"),et.debug("vertexText"+i),Flt({isNode:n,label:vC(Dc(i)),labelStyle:e.replace("fill:","color:")});{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",e.replace("color:","fill:"));let a=[];a=typeof i=="string"?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const s of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=s.trim(),o.appendChild(l)}return o}},"createLabel"),dZt=w((t,e,r,n,i)=>{e.arrowTypeStart&&eU(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&eU(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),pZt={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},eU=w((t,e,r,n,i,o)=>{const a=pZt[r];if(!a)return void et.warn(`Unknown arrow type: ${r}`);const s=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${o}-${a}${s})`)},"addEdgeMarker"),_A={},Eo={},fZt=w((t,e)=>{const r=Tt(),n=sn(r.flowchart.htmlLabels),i=e.labelType==="markdown"?$s(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):vs(e.label,e.labelStyle),o=t.insert("g").attr("class","edgeLabel"),a=o.insert("g").attr("class","label");a.node().appendChild(i);let s,l=i.getBBox();if(n){const u=i.children[0],h=he(i);l=u.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}if(a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),_A[e.id]=o,e.width=l.width,e.height=l.height,e.startLabelLeft){const u=vs(e.startLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Eo[e.id]||(Eo[e.id]={}),Eo[e.id].startLeft=h,K1(s,e.startLabelLeft)}if(e.startLabelRight){const u=vs(e.startLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=h.node().appendChild(u),d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Eo[e.id]||(Eo[e.id]={}),Eo[e.id].startRight=h,K1(s,e.startLabelRight)}if(e.endLabelLeft){const u=vs(e.endLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),Eo[e.id]||(Eo[e.id]={}),Eo[e.id].endLeft=h,K1(s,e.endLabelLeft)}if(e.endLabelRight){const u=vs(e.endLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");s=d.node().appendChild(u);const p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),Eo[e.id]||(Eo[e.id]={}),Eo[e.id].endRight=h,K1(s,e.endLabelRight)}return i},"insertEdgeLabel");function K1(t,e){Tt().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}w(K1,"setTerminalWidth");var gZt=w((t,e)=>{et.debug("Moving label abc88 ",t.id,t.label,_A[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Tt(),{subGraphTitleTotalMargin:i}=xy(n);if(t.label){const o=_A[t.id];let a=t.x,s=t.y;if(r){const l=dr.calcLabelPosition(r);et.debug("Moving label "+t.label+" from (",a,",",s,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(a=l.x,s=l.y)}o.attr("transform",`translate(${a}, ${s+i/2})`)}if(t.startLabelLeft){const o=Eo[t.id].startLeft;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}if(t.startLabelRight){const o=Eo[t.id].startRight;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelLeft){const o=Eo[t.id].endLeft;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelRight){const o=Eo[t.id].endRight;let a=t.x,s=t.y;if(r){const l=dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);a=l.x,s=l.y}o.attr("transform",`translate(${a}, ${s})`)}},"positionEdgeLabel"),mZt=w((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),o=Math.abs(e.y-n),a=t.width/2,s=t.height/2;return i>=a||o>=s},"outsideNode"),yZt=w((t,e,r)=>{et.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,o=Math.abs(n-r.x),a=t.width/2;let s=r.x<e.x?a-o:a+o;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*a>Math.abs(n-e.x)*l){let d=r.y<e.y?e.y-l-i:i-l-e.y;s=h*d/u;const p={x:r.x<e.x?r.x+s:r.x-h+s,y:r.y<e.y?r.y+u-d:r.y-u+d};return s===0&&(p.x=e.x,p.y=e.y),h===0&&(p.x=e.x),u===0&&(p.y=e.y),et.debug(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${s}`,p),p}{s=r.x<e.x?e.x-a-n:n-a-e.x;let d=u*s/h,p=r.x<e.x?r.x+h-s:r.x-h+s,f=r.y<e.y?r.y+d:r.y-d;return et.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${s}`,{_x:p,_y:f}),s===0&&(p=e.x,f=e.y),h===0&&(p=e.x),u===0&&(f=e.y),{x:p,y:f}}},"intersection"),rU=w((t,e)=>{et.debug("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(o=>{if(mZt(e,o)||i)n=o,i||r.push(o);else{const a=yZt(e,n,o);let s=!1;r.forEach(l=>{s=s||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)||r.push(a),i=!0}}),r},"cutPathAtIntersect"),vZt=w(function(t,e,r,n,i,o,a){let s=r.points;et.debug("abc88 InsertEdge: edge=",r,"e=",e);let l=!1;const u=o.node(e.v);var h=o.node(e.w);h!=null&&h.intersect&&(u!=null&&u.intersect)&&(s=s.slice(1,r.points.length-1),s.unshift(u.intersect(s[0])),s.push(h.intersect(s[s.length-1]))),r.toCluster&&(et.debug("to cluster abc88",n[r.toCluster]),s=rU(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(et.debug("from cluster abc88",n[r.fromCluster]),s=rU(s.reverse(),n[r.fromCluster].node).reverse(),l=!0);const d=s.filter(k=>!Number.isNaN(k.y));let p=Sy;!r.curve||i!=="graph"&&i!=="flowchart"||(p=r.curve);const{x:f,y:g}=TY(r),m=Nd().x(f).y(g).curve(p);let y;switch(r.thickness){case"normal":y="edge-thickness-normal";break;case"thick":case"invisible":y="edge-thickness-thick";break;default:y=""}switch(r.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed"}const v=t.append("path").attr("d",m(d)).attr("id",r.id).attr("class"," "+y+(r.classes?" "+r.classes:"")).attr("style",r.style);let x="";(Tt().flowchart.arrowMarkerAbsolute||Tt().state.arrowMarkerAbsolute)&&(x=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,x=x.replace(/\(/g,"\\("),x=x.replace(/\)/g,"\\)")),dZt(v,r,x,a,i);let b={};return l&&(b.updatedPath=s),b.originalPath=r.points,b},"insertEdge"),bZt=w(t=>{const e=new Set;for(const r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r)}return e},"expandAndDeduplicateDirections"),xZt=w((t,e,r)=>{const n=bZt(t),i=e.height+2*r.padding,o=i/2,a=e.width+2*o+r.padding,s=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:a/2,y:2*s},{x:a-o,y:0},{x:a,y:0},{x:a,y:-i/3},{x:a+2*s,y:-i/2},{x:a,y:-2*i/3},{x:a,y:-i},{x:a-o,y:-i},{x:a/2,y:-i-2*s},{x:o,y:-i},{x:0,y:-i},{x:0,y:-2*i/3},{x:-2*s,y:-i/2},{x:0,y:-i/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:o,y:0},{x:a-o,y:0},{x:a,y:-i/2},{x:a-o,y:-i},{x:o,y:-i},{x:0,y:-i/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:o,y:-i},{x:a-o,y:-i},{x:a,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:a,y:-o},{x:a,y:-i+o},{x:0,y:-i}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:a,y:0},{x:0,y:-o},{x:0,y:-i+o},{x:a,y:-i}]:n.has("right")&&n.has("left")?[{x:o,y:0},{x:o,y:-s},{x:a-o,y:-s},{x:a-o,y:0},{x:a,y:-i/2},{x:a-o,y:-i},{x:a-o,y:-i+s},{x:o,y:-i+s},{x:o,y:-i},{x:0,y:-i/2}]:n.has("up")&&n.has("down")?[{x:a/2,y:0},{x:0,y:-s},{x:o,y:-s},{x:o,y:-i+s},{x:0,y:-i+s},{x:a/2,y:-i},{x:a,y:-i+s},{x:a-o,y:-i+s},{x:a-o,y:-s},{x:a,y:-s}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:a,y:-o},{x:0,y:-i}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:a,y:0},{x:0,y:-i}]:n.has("left")&&n.has("up")?[{x:a,y:0},{x:0,y:-o},{x:a,y:-i}]:n.has("left")&&n.has("down")?[{x:a,y:0},{x:0,y:0},{x:a,y:-i}]:n.has("right")?[{x:o,y:-s},{x:o,y:-s},{x:a-o,y:-s},{x:a-o,y:0},{x:a,y:-i/2},{x:a-o,y:-i},{x:a-o,y:-i+s},{x:o,y:-i+s},{x:o,y:-i+s}]:n.has("left")?[{x:o,y:0},{x:o,y:-s},{x:a-o,y:-s},{x:a-o,y:-i+s},{x:o,y:-i+s},{x:o,y:-i},{x:0,y:-i/2}]:n.has("up")?[{x:o,y:-s},{x:o,y:-i+s},{x:0,y:-i+s},{x:a/2,y:-i},{x:a,y:-i+s},{x:a-o,y:-i+s},{x:a-o,y:-s}]:n.has("down")?[{x:a/2,y:0},{x:0,y:-s},{x:o,y:-s},{x:o,y:-i+s},{x:a-o,y:-i+s},{x:a-o,y:-s},{x:a,y:-s}]:[{x:0,y:0}]},"getArrowPoints");function zlt(t,e){return t.intersect(e)}w(zlt,"intersectNode");var wZt=zlt;function jlt(t,e,r,n){var i=t.x,o=t.y,a=i-n.x,s=o-n.y,l=Math.sqrt(e*e*s*s+r*r*a*a),u=Math.abs(e*r*a/l);n.x<i&&(u=-u);var h=Math.abs(e*r*s/l);return n.y<o&&(h=-h),{x:i+u,y:o+h}}w(jlt,"intersectEllipse");var Hlt=jlt;function Ult(t,e,r){return Hlt(t,e,e,r)}w(Ult,"intersectCircle");var kZt=Ult;function qlt(t,e,r,n){var i,o,a,s,l,u,h,d,p,f,g,m,y;if(i=e.y-t.y,a=t.x-e.x,l=e.x*t.y-t.x*e.y,p=i*r.x+a*r.y+l,f=i*n.x+a*n.y+l,!(p!==0&&f!==0&&SA(p,f)||(o=n.y-r.y,s=r.x-n.x,u=n.x*r.y-r.x*n.y,h=o*t.x+s*t.y+u,d=o*e.x+s*e.y+u,h!==0&&d!==0&&SA(h,d)||(g=i*s-o*a)==0)))return m=Math.abs(g/2),{x:(y=a*u-s*l)<0?(y-m)/g:(y+m)/g,y:(y=o*l-i*u)<0?(y-m)/g:(y+m)/g}}function SA(t,e){return t*e>0}w(qlt,"intersectLine"),w(SA,"sameSign");var TZt=qlt,EZt=Glt;function Glt(t,e,r){var n=t.x,i=t.y,o=[],a=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(g){a=Math.min(a,g.x),s=Math.min(s,g.y)}):(a=Math.min(a,e.x),s=Math.min(s,e.y));for(var l=n-t.width/2-a,u=i-t.height/2-s,h=0;h<e.length;h++){var d=e[h],p=e[h<e.length-1?h+1:0],f=TZt(t,r,{x:l+d.x,y:u+d.y},{x:l+p.x,y:u+p.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort(function(g,m){var y=g.x-r.x,v=g.y-r.y,x=Math.sqrt(y*y+v*v),b=m.x-r.x,k=m.y-r.y,N=Math.sqrt(b*b+k*k);return x<N?-1:x===N?0:1}),o[0]):t}w(Glt,"intersectPolygon");var In={node:wZt,circle:kZt,ellipse:Hlt,polygon:EZt,rect:w((t,e)=>{var r,n,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,u=t.height/2;return Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),r=s===0?0:u*a/s,n=u):(a<0&&(l=-l),r=l,n=a===0?0:l*s/a),{x:i+r,y:o+n}},"intersectRect")},Yi=w(async(t,e,r,n)=>{const i=Tt();let o;const a=e.useHtmlLabels||sn(i.flowchart.htmlLabels);o=r||"node default";const s=t.insert("g").attr("class",o).attr("id",e.domId||e.id),l=s.insert("g").attr("class","label").attr("style",e.labelStyle);let u;u=e.labelText===void 0?"":typeof e.labelText=="string"?e.labelText:e.labelText[0];const h=l.node();let d;d=e.labelType==="markdown"?$s(l,nn(Dc(u),i),{useHtmlLabels:a,width:e.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):h.appendChild(vs(nn(Dc(u),i),e.labelStyle,!1,n));let p=d.getBBox();const f=e.padding/2;if(sn(i.flowchart.htmlLabels)){const g=d.children[0],m=he(d),y=g.getElementsByTagName("img");if(y){const v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(x=>new Promise(b=>{function k(){if(x.style.display="flex",x.style.flexDirection="column",v){const N=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,_=5,S=parseInt(N,10)*_+"px";x.style.minWidth=S,x.style.maxWidth=S}else x.style.width="100%";b(x)}w(k,"setupImage"),setTimeout(()=>{x.complete&&k()}),x.addEventListener("error",k),x.addEventListener("load",k)})))}p=g.getBoundingClientRect(),m.attr("width",p.width),m.attr("height",p.height)}return a?l.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):l.attr("transform","translate(0, "+-p.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:s,bbox:p,halfPadding:f,label:l}},"labelHelper"),qn=w((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");function gl(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}w(gl,"insertPolygonShape");var _Zt=w(async(t,e)=>{e.useHtmlLabels||Tt().flowchart.htmlLabels||(e.centerLabel=!0);const{shapeSvg:r,bbox:n,halfPadding:i}=await Yi(t,e,"node "+e.classes,!0);et.info("Classes = ",e.classes);const o=r.insert("rect",":first-child");return o.attr("rx",e.rx).attr("ry",e.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),qn(e,o),e.intersect=function(a){return In.rect(e,a)},r},"note"),nU=w(t=>t?" "+t:"","formatClass"),Ka=w((t,e)=>`${e||"node default"}${nU(t.classes)} ${nU(t.class)}`,"getClassesFromNode"),iU=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding+(n.height+e.padding),o=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];et.info("Question main (Circle)");const a=gl(r,i,i,o);return a.attr("style",e.style),qn(e,a),e.intersect=function(s){return et.warn("Intersect called"),In.polygon(e,o,s)},r},"question"),SZt=w((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return r.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(i){return In.circle(e,14,i)},r},"choice"),AZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.height+e.padding,o=i/4,a=n.width+2*o+e.padding,s=[{x:o,y:0},{x:a-o,y:0},{x:a,y:-i/2},{x:a-o,y:-i},{x:o,y:-i},{x:0,y:-i/2}],l=gl(r,a,i,s);return l.attr("style",e.style),qn(e,l),e.intersect=function(u){return In.polygon(e,s,u)},r},"hexagon"),CZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,void 0,!0),i=n.height+2*e.padding,o=i/2,a=n.width+2*o+e.padding,s=xZt(e.directions,n,e),l=gl(r,a,i,s);return l.attr("style",e.style),qn(e,l),e.intersect=function(u){return In.polygon(e,s,u)},r},"block_arrow"),$Zt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:-o/2,y:0},{x:i,y:0},{x:i,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return gl(r,i,o,a).attr("style",e.style),e.width=i+o,e.height=o,e.intersect=function(s){return In.polygon(e,a,s)},r},"rect_left_inv_arrow"),NZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:-2*o/6,y:0},{x:i-o/6,y:0},{x:i+2*o/6,y:-o},{x:o/6,y:-o}],s=gl(r,i,o,a);return s.attr("style",e.style),qn(e,s),e.intersect=function(l){return In.polygon(e,a,l)},r},"lean_right"),IZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:2*o/6,y:0},{x:i+o/6,y:0},{x:i-2*o/6,y:-o},{x:-o/6,y:-o}],s=gl(r,i,o,a);return s.attr("style",e.style),qn(e,s),e.intersect=function(l){return In.polygon(e,a,l)},r},"lean_left"),LZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:-2*o/6,y:0},{x:i+2*o/6,y:0},{x:i-o/6,y:-o},{x:o/6,y:-o}],s=gl(r,i,o,a);return s.attr("style",e.style),qn(e,s),e.intersect=function(l){return In.polygon(e,a,l)},r},"trapezoid"),RZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:o/6,y:0},{x:i-o/6,y:0},{x:i+2*o/6,y:-o},{x:-2*o/6,y:-o}],s=gl(r,i,o,a);return s.attr("style",e.style),qn(e,s),e.intersect=function(l){return In.polygon(e,a,l)},r},"inv_trapezoid"),DZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:0,y:0},{x:i+o/2,y:0},{x:i,y:-o/2},{x:i+o/2,y:-o},{x:0,y:-o}],s=gl(r,i,o,a);return s.attr("style",e.style),qn(e,s),e.intersect=function(l){return In.polygon(e,a,l)},r},"rect_right_inv_arrow"),OZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=i/2,a=o/(2.5+i/50),s=n.height+a+e.padding,l="M 0,"+a+" a "+o+","+a+" 0,0,0 "+i+" 0 a "+o+","+a+" 0,0,0 "+-i+" 0 l 0,"+s+" a "+o+","+a+" 0,0,0 "+i+" 0 l 0,"+-s,u=r.attr("label-offset-y",a).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(s/2+a)+")");return qn(e,u),e.intersect=function(h){const d=In.rect(e,h),p=d.x-e.x;if(o!=0&&(Math.abs(p)<e.width/2||Math.abs(p)==e.width/2&&Math.abs(d.y-e.y)>e.height/2-a)){let f=a*a*(1-p*p/(o*o));f!=0&&(f=Math.sqrt(f)),f=a-f,h.y-e.y>0&&(f=-f),d.y+=f}return d},r},"cylinder"),MZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Yi(t,e,"node "+e.classes+" "+e.class,!0),o=r.insert("rect",":first-child"),a=e.positioned?e.width:n.width+e.padding,s=e.positioned?e.height:n.height+e.padding,l=e.positioned?-a/2:-n.width/2-i,u=e.positioned?-s/2:-n.height/2-i;if(o.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",a).attr("height",s),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(Z3(o,e.props.borders,a,s),h.delete("borders")),h.forEach(d=>{et.warn(`Unknown node property ${d}`)})}return qn(e,o),e.intersect=function(h){return In.rect(e,h)},r},"rect"),BZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Yi(t,e,"node "+e.classes,!0),o=r.insert("rect",":first-child"),a=e.positioned?e.width:n.width+e.padding,s=e.positioned?e.height:n.height+e.padding,l=e.positioned?-a/2:-n.width/2-i,u=e.positioned?-s/2:-n.height/2-i;if(o.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",a).attr("height",s),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(Z3(o,e.props.borders,a,s),h.delete("borders")),h.forEach(d=>{et.warn(`Unknown node property ${d}`)})}return qn(e,o),e.intersect=function(h){return In.rect(e,h)},r},"composite"),PZt=w(async(t,e)=>{const{shapeSvg:r}=await Yi(t,e,"label",!0);et.trace("Classes = ",e.class);const n=r.insert("rect",":first-child");if(n.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),e.props){const i=new Set(Object.keys(e.props));e.props.borders&&(Z3(n,e.props.borders,0,0),i.delete("borders")),i.forEach(o=>{et.warn(`Unknown node property ${o}`)})}return qn(e,n),e.intersect=function(i){return In.rect(e,i)},r},"labelRect");function Z3(t,e,r,n){const i=[],o=w(s=>{i.push(s,0)},"addBorder"),a=w(s=>{i.push(0,s)},"skipBorder");e.includes("t")?(et.debug("add top border"),o(r)):a(r),e.includes("r")?(et.debug("add right border"),o(n)):a(n),e.includes("b")?(et.debug("add bottom border"),o(r)):a(r),e.includes("l")?(et.debug("add left border"),o(n)):a(n),t.attr("stroke-dasharray",i.join(" "))}w(Z3,"applyNodePropertyBorders");var FZt=w((t,e)=>{let r;r=e.classes?"node "+e.classes:"node default";const n=t.insert("g").attr("class",r).attr("id",e.domId||e.id),i=n.insert("rect",":first-child"),o=n.insert("line"),a=n.insert("g").attr("class","label"),s=e.labelText.flat?e.labelText.flat():e.labelText;let l="";l=typeof s=="object"?s[0]:s,et.info("Label text abc79",l,s,typeof s=="object");const u=a.node().appendChild(vs(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(sn(Tt().flowchart.htmlLabels)){const m=u.children[0],y=he(u);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}et.info("Text 2",s);const d=s.slice(1,s.length);let p=u.getBBox();const f=a.node().appendChild(vs(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(sn(Tt().flowchart.htmlLabels)){const m=f.children[0],y=he(f);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}const g=e.padding/2;return he(f).attr("transform","translate( "+(h.width>p.width?0:(p.width-h.width)/2)+", "+(p.height+g+5)+")"),he(u).attr("transform","translate( "+(h.width<p.width?0:-(p.width-h.width)/2)+", 0)"),h=a.node().getBBox(),a.attr("transform","translate("+-h.width/2+", "+(-h.height/2-g+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-g).attr("y",-h.height/2-g).attr("width",h.width+e.padding).attr("height",h.height+e.padding),o.attr("class","divider").attr("x1",-h.width/2-g).attr("x2",h.width/2+g).attr("y1",-h.height/2-g+p.height+g).attr("y2",-h.height/2-g+p.height+g),qn(e,i),e.intersect=function(m){return In.rect(e,m)},n},"rectWithTitle"),zZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.height+e.padding,o=n.width+i/4+e.padding,a=r.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-o/2).attr("y",-i/2).attr("width",o).attr("height",i);return qn(e,a),e.intersect=function(s){return In.rect(e,s)},r},"stadium"),jZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Yi(t,e,Ka(e,void 0),!0),o=r.insert("circle",":first-child");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),et.info("Circle main"),qn(e,o),e.intersect=function(a){return et.info("Circle intersect",e,n.width/2+i,a),In.circle(e,n.width/2+i,a)},r},"circle"),HZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Yi(t,e,Ka(e,void 0),!0),o=r.insert("g",":first-child"),a=o.insert("circle"),s=o.insert("circle");return o.attr("class",e.class),a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i+5).attr("width",n.width+e.padding+10).attr("height",n.height+e.padding+10),s.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),et.info("DoubleCircle main"),qn(e,a),e.intersect=function(l){return et.info("DoubleCircle intersect",e,n.width/2+i+5,l),In.circle(e,n.width/2+i+5,l)},r},"doublecircle"),UZt=w(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Yi(t,e,Ka(e,void 0),!0),i=n.width+e.padding,o=n.height+e.padding,a=[{x:0,y:0},{x:i,y:0},{x:i,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],s=gl(r,i,o,a);return s.attr("style",e.style),qn(e,s),e.intersect=function(l){return In.polygon(e,a,l)},r},"subroutine"),qZt=w((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),qn(e,n),e.intersect=function(i){return In.circle(e,7,i)},r},"start"),oU=w((t,e,r)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,o=10;r==="LR"&&(i=10,o=70);const a=n.append("rect").attr("x",-1*i/2).attr("y",-1*o/2).attr("width",i).attr("height",o).attr("class","fork-join");return qn(e,a),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(s){return In.rect(e,s)},n},"forkJoin"),aU={rhombus:iU,composite:BZt,question:iU,rect:MZt,labelRect:PZt,rectWithTitle:FZt,choice:SZt,circle:jZt,doublecircle:HZt,stadium:zZt,hexagon:AZt,block_arrow:CZt,rect_left_inv_arrow:$Zt,lean_right:NZt,lean_left:IZt,trapezoid:LZt,inv_trapezoid:RZt,rect_right_inv_arrow:DZt,cylinder:OZt,start:qZt,end:w((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),qn(e,i),e.intersect=function(o){return In.circle(e,7,o)},r},"end"),note:_Zt,subroutine:UZt,fork:oU,join:oU,class_box:w((t,e)=>{var _;const r=e.padding/2;let n;n=e.classes?"node "+e.classes:"node default";const i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),o=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("line");let l=0,u=4;const h=i.insert("g").attr("class","label");let d=0;const p=(_=e.classData.annotations)==null?void 0:_[0],f=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",g=h.node().appendChild(vs(f,e.labelStyle,!0,!0));let m=g.getBBox();if(sn(Tt().flowchart.htmlLabels)){const S=g.children[0],T=he(g);m=S.getBoundingClientRect(),T.attr("width",m.width),T.attr("height",m.height)}e.classData.annotations[0]&&(u+=m.height+4,l+=m.width);let y=e.classData.label;e.classData.type!==void 0&&e.classData.type!==""&&(Tt().flowchart.htmlLabels?y+="&lt;"+e.classData.type+"&gt;":y+="<"+e.classData.type+">");const v=h.node().appendChild(vs(y,e.labelStyle,!0,!0));he(v).attr("class","classTitle");let x=v.getBBox();if(sn(Tt().flowchart.htmlLabels)){const S=v.children[0],T=he(v);x=S.getBoundingClientRect(),T.attr("width",x.width),T.attr("height",x.height)}u+=x.height+4,x.width>l&&(l=x.width);const b=[];e.classData.members.forEach(S=>{const T=S.getDisplayDetails();let A=T.displayText;Tt().flowchart.htmlLabels&&(A=A.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const C=h.node().appendChild(vs(A,T.cssStyle?T.cssStyle:e.labelStyle,!0,!0));let D=C.getBBox();if(sn(Tt().flowchart.htmlLabels)){const E=C.children[0],$=he(C);D=E.getBoundingClientRect(),$.attr("width",D.width),$.attr("height",D.height)}D.width>l&&(l=D.width),u+=D.height+4,b.push(C)}),u+=8;const k=[];if(e.classData.methods.forEach(S=>{const T=S.getDisplayDetails();let A=T.displayText;Tt().flowchart.htmlLabels&&(A=A.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const C=h.node().appendChild(vs(A,T.cssStyle?T.cssStyle:e.labelStyle,!0,!0));let D=C.getBBox();if(sn(Tt().flowchart.htmlLabels)){const E=C.children[0],$=he(C);D=E.getBoundingClientRect(),$.attr("width",D.width),$.attr("height",D.height)}D.width>l&&(l=D.width),u+=D.height+4,k.push(C)}),u+=8,p){let S=(l-m.width)/2;he(g).attr("transform","translate( "+(-1*l/2+S)+", "+-1*u/2+")"),d=m.height+4}let N=(l-x.width)/2;return he(v).attr("transform","translate( "+(-1*l/2+N)+", "+(-1*u/2+d)+")"),d+=x.height+4,a.attr("class","divider").attr("x1",-l/2-r).attr("x2",l/2+r).attr("y1",-u/2-r+8+d).attr("y2",-u/2-r+8+d),d+=8,b.forEach(S=>{he(S).attr("transform","translate( "+-l/2+", "+(-1*u/2+d+4)+")");const T=S==null?void 0:S.getBBox();d+=((T==null?void 0:T.height)??0)+4}),d+=8,s.attr("class","divider").attr("x1",-l/2-r).attr("x2",l/2+r).attr("y1",-u/2-r+8+d).attr("y2",-u/2-r+8+d),d+=8,k.forEach(S=>{he(S).attr("transform","translate( "+-l/2+", "+(-1*u/2+d)+")");const T=S==null?void 0:S.getBBox();d+=((T==null?void 0:T.height)??0)+4}),o.attr("style",e.style).attr("class","outer title-state").attr("x",-l/2-r).attr("y",-u/2-r).attr("width",l+e.padding).attr("height",u+e.padding),qn(e,o),e.intersect=function(S){return In.rect(e,S)},i},"class_box")},jb={},Wlt=w(async(t,e,r)=>{let n,i;if(e.link){let o;Tt().securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),i=await aU[e.shape](n,e,r)}else i=await aU[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),jb[e.id]=n,e.haveCallback&&jb[e.id].attr("class",jb[e.id].attr("class")+" clickable"),n},"insertNode"),GZt=w(t=>{const e=jb[t.id];et.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode");function X$(t,e,r=!1){var d,p,f;const n=t;let i="default";(((d=n==null?void 0:n.classes)==null?void 0:d.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i+=" flowchart-label";let o,a=0,s="";switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":case"group":default:s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"doublecircle":s="doublecircle"}const l=lC((n==null?void 0:n.styles)??[]),u=n.label,h=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:s,labelText:u,rx:a,ry:a,class:i,style:l.style,id:n.id,directions:n.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:r,intersect:void 0,type:n.type,padding:o??((f=(p=Nn())==null?void 0:p.block)==null?void 0:f.padding)??0}}async function Vlt(t,e,r){const n=X$(e,0,!1);if(n.type==="group")return;const i=Nn(),o=await Wlt(t,n,{config:i}),a=o.node().getBBox(),s=r.getBlock(n.id);s.size={width:a.width,height:a.height,x:0,y:0,node:o},r.setBlock(s),o.remove()}async function Ylt(t,e,r){const n=X$(e,0,!0);if(r.getBlock(n.id).type!=="space"){const i=Nn();await Wlt(t,n,{config:i}),e.intersect=n==null?void 0:n.intersect,GZt(n)}}async function Q3(t,e,r,n){for(const i of e)await n(t,i,r),i.children&&await Q3(t,i.children,r,n)}async function Xlt(t,e,r){await Q3(t,e,r,Vlt)}async function Klt(t,e,r){await Q3(t,e,r,Ylt)}async function Zlt(t,e,r,n,i){const o=new Lo({multigraph:!0,compound:!0});o.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const a of r)a.size&&o.setNode(a.id,{width:a.size.width,height:a.size.height,intersect:a.intersect});for(const a of e)if(a.start&&a.end){const s=n.getBlock(a.start),l=n.getBlock(a.end);if(s!=null&&s.size&&(l!=null&&l.size)){const u=s.size,h=l.size,d=[{x:u.x,y:u.y},{x:u.x+(h.x-u.x)/2,y:u.y+(h.y-u.y)/2},{x:h.x,y:h.y}];vZt(t,{v:a.start,w:a.end,name:a.id},{...a,arrowTypeEnd:a.arrowTypeEnd,arrowTypeStart:a.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",o,i),a.label&&(await fZt(t,{...a,label:a.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:a.arrowTypeEnd,arrowTypeStart:a.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),gZt({...a,x:d[1].x,y:d[1].y},{originalPath:d}))}}}w(X$,"getNodeFromBlock"),w(Vlt,"calculateBlockSize"),w(Ylt,"insertBlockPositioned"),w(Q3,"performOperations"),w(Xlt,"calculateBlockSizes"),w(Klt,"insertBlocks"),w(Zlt,"insertEdges");var WZt=w(function(t,e){return e.db.getClasses()},"getClasses"),VZt={parser:UKt,db:aZt,renderer:{draw:w(async function(t,e,r,n){const{securityLevel:i,block:o}=Nn(),a=n.db;let s;i==="sandbox"&&(s=he("#i"+e));const l=he(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):he(`[id="${e}"]`);uZt(u,["point","circle","cross"],n.type,e);const h=a.getBlocks(),d=a.getBlocksFlat(),p=a.getEdges(),f=u.insert("g").attr("class","block");await Xlt(f,h,a);const g=Plt(a);if(await Klt(f,h,a),await Zlt(f,p,d,a,e),g){const m=g,y=Math.max(1,Math.round(m.width/m.height*.125)),v=m.height+y+10,x=m.width+10,{useMaxWidth:b}=o;Ro(u,v,x,!!b),et.debug("Here Bounds",g,m),u.attr("viewBox",`${m.x-5} ${m.y-5} ${m.width+10} ${m.height+10}`)}},"draw"),getClasses:WZt},styles:sZt};const YZt=Object.freeze(Object.defineProperty({__proto__:null,diagram:VZt},Symbol.toStringTag,{value:"Module"}));var Qlt={exports:{}},sU={exports:{}},lU={exports:{}},cU;function XZt(){return cU||(cU=1,t=function(){return function(e){var r={};function n(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.i=function(i){return i},n.d=function(i,o,a){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=28)}([function(e,r,n){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,e.exports=i},function(e,r,n){var i=n(2),o=n(8),a=n(9);function s(u,h,d){i.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=u,this.target=h}for(var l in s.prototype=Object.create(i.prototype),i)s[l]=i[l];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(u){if(this.source===u)return this.target;if(this.target===u)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(u,h){for(var d=this.getOtherEnd(u),p=h.getGraphManager().getRoot();;){if(d.getOwner()==h)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},s.prototype.updateLength=function(){var u=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),u),this.isOverlapingSourceAndTarget||(this.lengthX=u[0]-u[2],this.lengthY=u[1]-u[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=s},function(e,r,n){e.exports=function(i){this.vGraphObject=i}},function(e,r,n){var i=n(2),o=n(10),a=n(13),s=n(0),l=n(16),u=n(5);function h(p,f,g,m){g==null&&m==null&&(m=f),i.call(this,m),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=p,this.rect=g!=null&&f!=null?new a(f.x,f.y,g.width,g.height):new a}for(var d in h.prototype=Object.create(i.prototype),i)h[d]=i[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(p){this.rect.width=p},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(p){this.rect.height=p},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(p,f){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=f.width,this.rect.height=f.height},h.prototype.setCenter=function(p,f){this.rect.x=p-this.rect.width/2,this.rect.y=f-this.rect.height/2},h.prototype.setLocation=function(p,f){this.rect.x=p,this.rect.y=f},h.prototype.moveBy=function(p,f){this.rect.x+=p,this.rect.y+=f},h.prototype.getEdgeListToNode=function(p){var f=[],g=this;return g.edges.forEach(function(m){if(m.target==p){if(m.source!=g)throw"Incorrect edge source!";f.push(m)}}),f},h.prototype.getEdgesBetween=function(p){var f=[],g=this;return g.edges.forEach(function(m){if(m.source!=g&&m.target!=g)throw"Incorrect edge source and/or target";m.target!=p&&m.source!=p||f.push(m)}),f},h.prototype.getNeighborsList=function(){var p=new Set,f=this;return f.edges.forEach(function(g){if(g.source==f)p.add(g.target);else{if(g.target!=f)throw"Incorrect incidency!";p.add(g.source)}}),p},h.prototype.withChildren=function(){var p=new Set;if(p.add(this),this.child!=null)for(var f=this.child.getNodes(),g=0;g<f.length;g++)f[g].withChildren().forEach(function(m){p.add(m)});return p},h.prototype.getNoOfChildren=function(){var p=0;if(this.child==null)p=1;else for(var f=this.child.getNodes(),g=0;g<f.length;g++)p+=f[g].getNoOfChildren();return p==0&&(p=1),p},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var p,f,g=-s.INITIAL_WORLD_BOUNDARY,m=s.INITIAL_WORLD_BOUNDARY;p=s.WORLD_CENTER_X+l.nextDouble()*(m-g)+g;var y=-s.INITIAL_WORLD_BOUNDARY,v=s.INITIAL_WORLD_BOUNDARY;f=s.WORLD_CENTER_Y+l.nextDouble()*(v-y)+y,this.rect.x=p,this.rect.y=f},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var f=p.getRight()-p.getLeft(),g=p.getBottom()-p.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(f+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>f?(this.rect.x-=(this.labelWidth-f)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(f+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(p){var f=this.rect.x;f>s.WORLD_BOUNDARY?f=s.WORLD_BOUNDARY:f<-s.WORLD_BOUNDARY&&(f=-s.WORLD_BOUNDARY);var g=this.rect.y;g>s.WORLD_BOUNDARY?g=s.WORLD_BOUNDARY:g<-s.WORLD_BOUNDARY&&(g=-s.WORLD_BOUNDARY);var m=new u(f,g),y=p.inverseTransformPoint(m);this.setLocation(y.x,y.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},e.exports=h},function(e,r,n){var i=n(0);function o(){}for(var a in i)o[a]=i[a];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=3*o.MAX_NODE_DISPLACEMENT_INCREMENTAL,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=o},function(e,r,n){function i(o,a){o==null&&a==null?(this.x=0,this.y=0):(this.x=o,this.y=a)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},e.exports=i},function(e,r,n){var i=n(2),o=n(10),a=n(0),s=n(7),l=n(3),u=n(1),h=n(13),d=n(12),p=n(11);function f(m,y,v){i.call(this,v),this.estimatedSize=o.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,y!=null&&y instanceof s?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}for(var g in f.prototype=Object.create(i.prototype),i)f[g]=i[g];f.prototype.getNodes=function(){return this.nodes},f.prototype.getEdges=function(){return this.edges},f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getParent=function(){return this.parent},f.prototype.getLeft=function(){return this.left},f.prototype.getRight=function(){return this.right},f.prototype.getTop=function(){return this.top},f.prototype.getBottom=function(){return this.bottom},f.prototype.isConnected=function(){return this.isConnected},f.prototype.add=function(m,y,v){if(y==null&&v==null){var x=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}var b=m;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(y.owner!=v.owner||y.owner!=this)throw"Both owners must be this graph!";return y.owner!=v.owner?null:(b.source=y,b.target=v,b.isInterGraph=!1,this.getEdges().push(b),y.edges.push(b),v!=y&&v.edges.push(b),b)},f.prototype.remove=function(m){var y=m;if(m instanceof l){if(y==null)throw"Node is null!";if(y.owner==null||y.owner!=this)throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=y.edges.slice(),x=v.length,b=0;b<x;b++)(k=v[b]).isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);if((N=this.nodes.indexOf(y))==-1)throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(m instanceof u){var k;if((k=m)==null)throw"Edge is null!";if(k.source==null||k.target==null)throw"Source and/or target is null!";if(k.source.owner==null||k.target.owner==null||k.source.owner!=this||k.target.owner!=this)throw"Source and/or target owner is invalid!";var N,_=k.source.edges.indexOf(k),S=k.target.edges.indexOf(k);if(!(_>-1&&S>-1))throw"Source and/or target doesn't know this edge!";if(k.source.edges.splice(_,1),k.target!=k.source&&k.target.edges.splice(S,1),(N=k.source.owner.getEdges().indexOf(k))==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(N,1)}},f.prototype.updateLeftTop=function(){for(var m,y,v,x=o.MAX_VALUE,b=o.MAX_VALUE,k=this.getNodes(),N=k.length,_=0;_<N;_++){var S=k[_];x>(m=S.getTop())&&(x=m),b>(y=S.getLeft())&&(b=y)}return x==o.MAX_VALUE?null:(v=k[0].getParent().paddingLeft!=null?k[0].getParent().paddingLeft:this.margin,this.left=b-v,this.top=x-v,new d(this.left,this.top))},f.prototype.updateBounds=function(m){for(var y,v,x,b,k,N=o.MAX_VALUE,_=-o.MAX_VALUE,S=o.MAX_VALUE,T=-o.MAX_VALUE,A=this.nodes,C=A.length,D=0;D<C;D++){var E=A[D];m&&E.child!=null&&E.updateBounds(),N>(y=E.getLeft())&&(N=y),_<(v=E.getRight())&&(_=v),S>(x=E.getTop())&&(S=x),T<(b=E.getBottom())&&(T=b)}var $=new h(N,S,_-N,T-S);N==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),k=A[0].getParent().paddingLeft!=null?A[0].getParent().paddingLeft:this.margin,this.left=$.x-k,this.right=$.x+$.width+k,this.top=$.y-k,this.bottom=$.y+$.height+k},f.calculateBounds=function(m){for(var y,v,x,b,k=o.MAX_VALUE,N=-o.MAX_VALUE,_=o.MAX_VALUE,S=-o.MAX_VALUE,T=m.length,A=0;A<T;A++){var C=m[A];k>(y=C.getLeft())&&(k=y),N<(v=C.getRight())&&(N=v),_>(x=C.getTop())&&(_=x),S<(b=C.getBottom())&&(S=b)}return new h(k,_,N-k,S-_)},f.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){for(var m=0,y=this.nodes,v=y.length,x=0;x<v;x++)m+=y[x].calcEstimatedSize();return this.estimatedSize=m==0?a.EMPTY_COMPOUND_NODE_SIZE:m/Math.sqrt(this.nodes.length),this.estimatedSize},f.prototype.updateConnected=function(){var m=this;if(this.nodes.length!=0){var y,v,x=new p,b=new Set,k=this.nodes[0];for(k.withChildren().forEach(function(T){x.push(T),b.add(T)});x.length!==0;)for(var N=(y=(k=x.shift()).getEdges()).length,_=0;_<N;_++)(v=y[_].getOtherEndInGraph(k,this))==null||b.has(v)||v.withChildren().forEach(function(T){x.push(T),b.add(T)});if(this.isConnected=!1,b.size>=this.nodes.length){var S=0;b.forEach(function(T){T.owner==m&&S++}),S==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=f},function(e,r,n){var i,o=n(1);function a(s){i=n(6),this.layout=s,this.graphs=[],this.edges=[]}a.prototype.addRoot=function(){var s=this.layout.newGraph(),l=this.layout.newNode(null),u=this.add(s,l);return this.setRootGraph(u),this.rootGraph},a.prototype.add=function(s,l,u,h,d){if(u==null&&h==null&&d==null){if(s==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(s)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(s),s.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return s.parent=l,l.child=s,s}d=u,u=s;var p=(h=l).getOwner(),f=d.getOwner();if(p==null||p.getGraphManager()!=this)throw"Source not in this graph mgr!";if(f==null||f.getGraphManager()!=this)throw"Target not in this graph mgr!";if(p==f)return u.isInterGraph=!1,p.add(u,h,d);if(u.isInterGraph=!0,u.source=h,u.target=d,this.edges.indexOf(u)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(u),u.source==null||u.target==null)throw"Edge source and/or target is null!";if(u.source.edges.indexOf(u)!=-1||u.target.edges.indexOf(u)!=-1)throw"Edge already in source and/or target incidency list!";return u.source.edges.push(u),u.target.edges.push(u),u},a.prototype.remove=function(s){if(s instanceof i){var l=s;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(l!=this.rootGraph&&(l.parent==null||l.parent.graphManager!=this))throw"Invalid parent node!";for(var u,h=[],d=(h=h.concat(l.getEdges())).length,p=0;p<d;p++)u=h[p],l.remove(u);var f,g=[];for(d=(g=g.concat(l.getNodes())).length,p=0;p<d;p++)f=g[p],l.remove(f);l==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(l);this.graphs.splice(m,1),l.parent=null}else if(s instanceof o){if((u=s)==null)throw"Edge is null!";if(!u.isInterGraph)throw"Not an inter-graph edge!";if(u.source==null||u.target==null)throw"Source and/or target is null!";if(u.source.edges.indexOf(u)==-1||u.target.edges.indexOf(u)==-1)throw"Source and/or target doesn't know this edge!";if(m=u.source.edges.indexOf(u),u.source.edges.splice(m,1),m=u.target.edges.indexOf(u),u.target.edges.splice(m,1),u.source.owner==null||u.source.owner.getGraphManager()==null)throw"Edge owner graph or owner graph manager is null!";if(u.source.owner.getGraphManager().edges.indexOf(u)==-1)throw"Not in owner graph manager's edge list!";m=u.source.owner.getGraphManager().edges.indexOf(u),u.source.owner.getGraphManager().edges.splice(m,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(this.allNodes==null){for(var s=[],l=this.getGraphs(),u=l.length,h=0;h<u;h++)s=s.concat(l[h].getNodes());this.allNodes=s}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(this.allEdges==null){var s=[],l=this.getGraphs();l.length;for(var u=0;u<l.length;u++)s=s.concat(l[u].getEdges());s=s.concat(this.edges),this.allEdges=s}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(s){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=s},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(s){if(s.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=s,s.parent==null&&(s.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(s,l){if(s==null||l==null)throw"assert failed";if(s==l)return!0;for(var u,h=s.getOwner();(u=h.getParent())!=null;){if(u==l)return!0;if((h=u.getOwner())==null)break}for(h=l.getOwner();(u=h.getParent())!=null;){if(u==s)return!0;if((h=u.getOwner())==null)break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var s,l,u,h,d,p=this.getAllEdges(),f=p.length,g=0;g<f;g++)if(l=(s=p[g]).source,u=s.target,s.lca=null,s.sourceInLca=l,s.targetInLca=u,l!=u){for(h=l.getOwner();s.lca==null;){for(s.targetInLca=u,d=u.getOwner();s.lca==null;){if(d==h){s.lca=d;break}if(d==this.rootGraph)break;if(s.lca!=null)throw"assert failed";s.targetInLca=d.getParent(),d=s.targetInLca.getOwner()}if(h==this.rootGraph)break;s.lca==null&&(s.sourceInLca=h.getParent(),h=s.sourceInLca.getOwner())}if(s.lca==null)throw"assert failed"}else s.lca=l.getOwner()},a.prototype.calcLowestCommonAncestor=function(s,l){if(s==l)return s.getOwner();for(var u=s.getOwner();u!=null;){for(var h=l.getOwner();h!=null;){if(h==u)return h;h=h.getParent().getOwner()}u=u.getParent().getOwner()}return u},a.prototype.calcInclusionTreeDepths=function(s,l){var u;s==null&&l==null&&(s=this.rootGraph,l=1);for(var h=s.getNodes(),d=h.length,p=0;p<d;p++)(u=h[p]).inclusionTreeDepth=l,u.child!=null&&this.calcInclusionTreeDepths(u.child,l+1)},a.prototype.includesInvalidEdge=function(){for(var s,l=[],u=this.edges.length,h=0;h<u;h++)s=this.edges[h],this.isOneAncestorOfOther(s.source,s.target)&&l.push(s);for(h=0;h<l.length;h++)this.remove(l[h]);return!1},e.exports=a},function(e,r,n){var i=n(12);function o(){}o.calcSeparationAmount=function(a,s,l,u){if(!a.intersects(s))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(a,s,h),l[0]=Math.min(a.getRight(),s.getRight())-Math.max(a.x,s.x),l[1]=Math.min(a.getBottom(),s.getBottom())-Math.max(a.y,s.y),a.getX()<=s.getX()&&a.getRight()>=s.getRight()?l[0]+=Math.min(s.getX()-a.getX(),a.getRight()-s.getRight()):s.getX()<=a.getX()&&s.getRight()>=a.getRight()&&(l[0]+=Math.min(a.getX()-s.getX(),s.getRight()-a.getRight())),a.getY()<=s.getY()&&a.getBottom()>=s.getBottom()?l[1]+=Math.min(s.getY()-a.getY(),a.getBottom()-s.getBottom()):s.getY()<=a.getY()&&s.getBottom()>=a.getBottom()&&(l[1]+=Math.min(a.getY()-s.getY(),s.getBottom()-a.getBottom()));var d=Math.abs((s.getCenterY()-a.getCenterY())/(s.getCenterX()-a.getCenterX()));s.getCenterY()===a.getCenterY()&&s.getCenterX()===a.getCenterX()&&(d=1);var p=d*l[0],f=l[1]/d;l[0]<f?f=l[0]:p=l[1],l[0]=-1*h[0]*(f/2+u),l[1]=-1*h[1]*(p/2+u)},o.decideDirectionsForOverlappingNodes=function(a,s,l){a.getCenterX()<s.getCenterX()?l[0]=-1:l[0]=1,a.getCenterY()<s.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(a,s,l){var u=a.getCenterX(),h=a.getCenterY(),d=s.getCenterX(),p=s.getCenterY();if(a.intersects(s))return l[0]=u,l[1]=h,l[2]=d,l[3]=p,!0;var f=a.getX(),g=a.getY(),m=a.getRight(),y=a.getX(),v=a.getBottom(),x=a.getRight(),b=a.getWidthHalf(),k=a.getHeightHalf(),N=s.getX(),_=s.getY(),S=s.getRight(),T=s.getX(),A=s.getBottom(),C=s.getRight(),D=s.getWidthHalf(),E=s.getHeightHalf(),$=!1,I=!1;if(u===d){if(h>p)return l[0]=u,l[1]=g,l[2]=d,l[3]=A,!1;if(h<p)return l[0]=u,l[1]=v,l[2]=d,l[3]=_,!1}else if(h===p){if(u>d)return l[0]=f,l[1]=h,l[2]=S,l[3]=p,!1;if(u<d)return l[0]=m,l[1]=h,l[2]=N,l[3]=p,!1}else{var L=a.height/a.width,O=s.height/s.width,B=(p-h)/(d-u),R=void 0,M=void 0,F=void 0,P=void 0,U=void 0,W=void 0;if(-L===B?u>d?(l[0]=y,l[1]=v,$=!0):(l[0]=m,l[1]=g,$=!0):L===B&&(u>d?(l[0]=f,l[1]=g,$=!0):(l[0]=x,l[1]=v,$=!0)),-O===B?d>u?(l[2]=T,l[3]=A,I=!0):(l[2]=S,l[3]=_,I=!0):O===B&&(d>u?(l[2]=N,l[3]=_,I=!0):(l[2]=C,l[3]=A,I=!0)),$&&I)return!1;if(u>d?h>p?(R=this.getCardinalDirection(L,B,4),M=this.getCardinalDirection(O,B,2)):(R=this.getCardinalDirection(-L,B,3),M=this.getCardinalDirection(-O,B,1)):h>p?(R=this.getCardinalDirection(-L,B,1),M=this.getCardinalDirection(-O,B,3)):(R=this.getCardinalDirection(L,B,2),M=this.getCardinalDirection(O,B,4)),!$)switch(R){case 1:P=g,F=u+-k/B,l[0]=F,l[1]=P;break;case 2:F=x,P=h+b*B,l[0]=F,l[1]=P;break;case 3:P=v,F=u+k/B,l[0]=F,l[1]=P;break;case 4:F=y,P=h+-b*B,l[0]=F,l[1]=P}if(!I)switch(M){case 1:W=_,U=d+-E/B,l[2]=U,l[3]=W;break;case 2:U=C,W=p+D*B,l[2]=U,l[3]=W;break;case 3:W=A,U=d+E/B,l[2]=U,l[3]=W;break;case 4:U=T,W=p+-D*B,l[2]=U,l[3]=W}}return!1},o.getCardinalDirection=function(a,s,l){return a>s?l:1+l%4},o.getIntersection=function(a,s,l,u){if(u==null)return this.getIntersection2(a,s,l);var h,d,p,f,g,m,y,v=a.x,x=a.y,b=s.x,k=s.y,N=l.x,_=l.y,S=u.x,T=u.y;return(y=(h=k-x)*(f=N-S)-(d=T-_)*(p=v-b))==0?null:new i((p*(m=S*_-N*T)-f*(g=b*x-v*k))/y,(d*g-h*m)/y)},o.angleOfVector=function(a,s,l,u){var h=void 0;return a!==l?(h=Math.atan((u-s)/(l-a)),l<a?h+=Math.PI:u<s&&(h+=this.TWO_PI)):h=u<s?this.ONE_AND_HALF_PI:this.HALF_PI,h},o.doIntersect=function(a,s,l,u){var h=a.x,d=a.y,p=s.x,f=s.y,g=l.x,m=l.y,y=u.x,v=u.y,x=(p-h)*(v-m)-(y-g)*(f-d);if(x===0)return!1;var b=((v-m)*(y-h)+(g-y)*(v-d))/x,k=((d-f)*(y-h)+(p-h)*(v-d))/x;return 0<b&&b<1&&0<k&&k<1},o.findCircleLineIntersections=function(a,s,l,u,h,d,p){var f=(l-a)*(l-a)+(u-s)*(u-s),g=2*((a-h)*(l-a)+(s-d)*(u-s)),m=(a-h)*(a-h)+(s-d)*(s-d)-p*p;if(g*g-4*f*m>=0){var y=(-g+Math.sqrt(g*g-4*f*m))/(2*f),v=(-g-Math.sqrt(g*g-4*f*m))/(2*f);return y>=0&&y<=1?[y]:v>=0&&v<=1?[v]:null}return null},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,e.exports=o},function(e,r,n){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},e.exports=i},function(e,r,n){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,e.exports=i},function(e,r,n){var i=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}(),o=function(u){return{value:u,next:null,prev:null}},a=function(u,h,d,p){return u!==null?u.next=h:p.head=h,d!==null?d.prev=h:p.tail=h,h.prev=u,h.next=d,p.length++,h},s=function(u,h){var d=u.prev,p=u.next;return d!==null?d.next=p:h.head=p,p!==null?p.prev=d:h.tail=d,u.prev=u.next=null,h.length--,u},l=function(){function u(h){var d=this;(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(p){return d.push(p)})}return i(u,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(h,d){return a(d.prev,o(h),d,this)}},{key:"insertAfter",value:function(h,d){return a(d,o(h),d.next,this)}},{key:"insertNodeBefore",value:function(h,d){return a(d.prev,h,d,this)}},{key:"insertNodeAfter",value:function(h,d){return a(d,h,d.next,this)}},{key:"push",value:function(h){return a(this.tail,o(h),null,this)}},{key:"unshift",value:function(h){return a(null,o(h),this.head,this)}},{key:"remove",value:function(h){return s(h,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(h){if(h<=this.length()){for(var d=1,p=this.head;d<h;)p=p.next,d++;return p.value}}},{key:"set_object_at",value:function(h,d){if(h<=this.length()){for(var p=1,f=this.head;p<h;)f=f.next,p++;f.value=d}}}]),u}();e.exports=l},function(e,r,n){function i(o,a,s){this.x=null,this.y=null,o==null&&a==null&&s==null?(this.x=0,this.y=0):typeof o=="number"&&typeof a=="number"&&s==null?(this.x=o,this.y=a):o.constructor.name=="Point"&&a==null&&s==null&&(s=o,this.x=s.x,this.y=s.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,a,s){o.constructor.name=="Point"&&a==null&&s==null?(s=o,this.setLocation(s.x,s.y)):typeof o=="number"&&typeof a=="number"&&s==null&&(parseInt(o)==o&&parseInt(a)==a?this.move(o,a):(this.x=Math.floor(o+.5),this.y=Math.floor(a+.5)))},i.prototype.move=function(o,a){this.x=o,this.y=a},i.prototype.translate=function(o,a){this.x+=o,this.y+=a},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var a=o;return this.x==a.x&&this.y==a.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=i},function(e,r,n){function i(o,a,s,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&a!=null&&s!=null&&l!=null&&(this.x=o,this.y=a,this.width=s,this.height=l)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},e.exports=i},function(e,r,n){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function o(){}o.lastID=0,o.createID=function(a){return o.isPrimitive(a)?a:(a.uniqueID!=null||(a.uniqueID=o.getString(),o.lastID++),a.uniqueID)},o.getString=function(a){return a==null&&(a=o.lastID),"Object#"+a},o.isPrimitive=function(a){var s=a===void 0?"undefined":i(a);return a==null||s!="object"&&s!="function"},e.exports=o},function(e,r,n){function i(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}return Array.from(g)}var o=n(0),a=n(7),s=n(3),l=n(1),u=n(6),h=n(5),d=n(17),p=n(29);function f(g){p.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}f.RANDOM_SEED=1,f.prototype=Object.create(p.prototype),f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},f.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},f.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},f.prototype.newGraphManager=function(){var g=new a(this);return this.graphManager=g,g},f.prototype.newGraph=function(g){return new u(null,this.graphManager,g)},f.prototype.newNode=function(g){return new s(this.graphManager,g)},f.prototype.newEdge=function(g){return new l(null,null,g)},f.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},f.prototype.runLayout=function(){var g;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),g=!this.checkLayoutSuccess()&&this.layout(),o.ANIMATE!=="during"&&(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},f.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},f.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),m=0;m<g.length;m++)g[m];var y=this.graphManager.getRoot().getNodes();for(m=0;m<y.length;m++)y[m];this.update(this.graphManager.getRoot())}},f.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof s){var m=g;if(m.getChild()!=null)for(var y=m.getChild().getNodes(),v=0;v<y.length;v++)update(y[v]);m.vGraphObject!=null&&m.vGraphObject.update(m)}else if(g instanceof l){var x=g;x.vGraphObject!=null&&x.vGraphObject.update(x)}else if(g instanceof u){var b=g;b.vGraphObject!=null&&b.vGraphObject.update(b)}},f.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},f.prototype.transform=function(g){if(g==null)this.transform(new h(0,0));else{var m=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){m.setWorldOrgX(g.x),m.setWorldOrgY(g.y),m.setDeviceOrgX(y.x),m.setDeviceOrgY(y.y);for(var v=this.getAllNodes(),x=0;x<v.length;x++)v[x].transform(m)}}},f.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,y,v=g.getNodes(),x=0;x<v.length;x++)(y=(m=v[x]).getChild())==null||y.getNodes().length==0?m.scatter():(this.positionNodesRandomly(y),m.updateBounds())},f.prototype.getFlatForest=function(){for(var g=[],m=!0,y=this.graphManager.getRoot().getNodes(),v=!0,x=0;x<y.length;x++)y[x].getChild()!=null&&(v=!1);if(!v)return g;var b=new Set,k=[],N=new Map,_=[];for(_=_.concat(y);_.length>0&&m;){for(k.push(_[0]);k.length>0&&m;){var S=k[0];k.splice(0,1),b.add(S);var T=S.getEdges();for(x=0;x<T.length;x++){var A=T[x].getOtherEnd(S);if(N.get(S)!=A){if(b.has(A)){m=!1;break}k.push(A),N.set(A,S)}}}if(m){var C=[].concat(i(b));for(g.push(C),x=0;x<C.length;x++){var D=C[x],E=_.indexOf(D);E>-1&&_.splice(E,1)}b=new Set,N=new Map}else g=[]}return g},f.prototype.createDummyNodesForBendpoints=function(g){for(var m=[],y=g.source,v=this.graphManager.calcLowestCommonAncestor(g.source,g.target),x=0;x<g.bendpoints.length;x++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),v.add(b);var k=this.newEdge(null);this.graphManager.add(k,y,b),m.add(b),y=b}return k=this.newEdge(null),this.graphManager.add(k,y,g.target),this.edgeToDummyNodes.set(g,m),g.isInterGraph()?this.graphManager.remove(g):v.remove(g),m},f.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(i(this.edgeToDummyNodes.keys())).concat(g);for(var m=0;m<g.length;m++){var y=g[m];if(y.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(y),x=0;x<v.length;x++){var b=v[x],k=new h(b.getCenterX(),b.getCenterY()),N=y.bendpoints.get(x);N.x=k.x,N.y=k.y,b.getOwner().remove(b)}this.graphManager.add(y,y.source,y.target)}}},f.transform=function(g,m,y,v){if(y!=null&&v!=null){var x=m;return g<=50?x-=(m-m/y)/50*(50-g):x+=(m*v-m)/50*(g-50),x}var b,k;return g<=50?(b=9*m/500,k=m/10):(b=9*m/50,k=-8*m),b*g+k},f.findCenterOfTree=function(g){var m=[];m=m.concat(g);var y=[],v=new Map,x=!1,b=null;m.length!=1&&m.length!=2||(x=!0,b=m[0]);for(var k=0;k<m.length;k++){var N=(T=m[k]).getNeighborsList().size;v.set(T,T.getNeighborsList().size),N==1&&y.push(T)}var _=[];for(_=_.concat(y);!x;){var S=[];for(S=S.concat(_),_=[],k=0;k<m.length;k++){var T=m[k],A=m.indexOf(T);A>=0&&m.splice(A,1),T.getNeighborsList().forEach(function(C){if(y.indexOf(C)<0){var D=v.get(C)-1;D==1&&_.push(C),v.set(C,D)}})}y=y.concat(_),m.length!=1&&m.length!=2||(x=!0,b=m[0])}return b},f.prototype.setGraphManager=function(g){this.graphManager=g},e.exports=f},function(e,r,n){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=1e4*Math.sin(i.seed++),i.x-Math.floor(i.x)},e.exports=i},function(e,r,n){var i=n(5);function o(a,s){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(a){this.lworldOrgX=a},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(a){this.lworldOrgY=a},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(a){this.lworldExtX=a},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(a){this.lworldExtY=a},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(a){this.ldeviceOrgX=a},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(a){this.ldeviceOrgY=a},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(a){this.ldeviceExtX=a},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(a){this.ldeviceExtY=a},o.prototype.transformX=function(a){var s=0,l=this.lworldExtX;return l!=0&&(s=this.ldeviceOrgX+(a-this.lworldOrgX)*this.ldeviceExtX/l),s},o.prototype.transformY=function(a){var s=0,l=this.lworldExtY;return l!=0&&(s=this.ldeviceOrgY+(a-this.lworldOrgY)*this.ldeviceExtY/l),s},o.prototype.inverseTransformX=function(a){var s=0,l=this.ldeviceExtX;return l!=0&&(s=this.lworldOrgX+(a-this.ldeviceOrgX)*this.lworldExtX/l),s},o.prototype.inverseTransformY=function(a){var s=0,l=this.ldeviceExtY;return l!=0&&(s=this.lworldOrgY+(a-this.ldeviceOrgY)*this.lworldExtY/l),s},o.prototype.inverseTransformPoint=function(a){return new i(this.inverseTransformX(a.x),this.inverseTransformY(a.y))},e.exports=o},function(e,r,n){var i=n(15),o=n(4),a=n(0),s=n(8),l=n(9);function u(){i.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}for(var h in u.prototype=Object.create(i.prototype),i)u[h]=i[h];u.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var d,p,f,g,m,y,v,x=this.getGraphManager().getAllEdges(),b=0;b<x.length;b++)p=(d=x[b]).idealLength,d.isInterGraph&&(g=d.getSource(),m=d.getTarget(),y=d.getSourceInLca().getEstimatedSize(),v=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=y+v-2*a.SIMPLE_NODE_SIZE),f=d.getLca().getInclusionTreeDepth(),d.idealLength+=p*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*f))},u.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var d,p=this.getAllEdges(),f=0;f<p.length;f++)d=p[f],this.calcSpringForce(d,d.idealLength)},u.prototype.calcRepulsionForces=function(){var d,p,f,g,m,y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],v=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y&&this.updateGrid(),m=new Set,d=0;d<x.length;d++)f=x[d],this.calculateRepulsionForceOfANode(f,m,y,v),m.add(f);else for(d=0;d<x.length;d++)for(f=x[d],p=d+1;p<x.length;p++)g=x[p],f.getOwner()==g.getOwner()&&this.calcRepulsionForce(f,g)},u.prototype.calcGravitationalForces=function(){for(var d,p=this.getAllNodesToApplyGravitation(),f=0;f<p.length;f++)d=p[f],this.calcGravitationalForce(d)},u.prototype.moveNodes=function(){for(var d=this.getAllNodes(),p=0;p<d.length;p++)d[p].move()},u.prototype.calcSpringForce=function(d,p){var f,g,m,y,v=d.getSource(),x=d.getTarget();if(this.uniformLeafNodeSizes&&v.getChild()==null&&x.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;(f=d.getLength())!=0&&(m=(g=d.edgeElasticity*(f-p))*(d.lengthX/f),y=g*(d.lengthY/f),v.springForceX+=m,v.springForceY+=y,x.springForceX-=m,x.springForceY-=y)},u.prototype.calcRepulsionForce=function(d,p){var f,g,m,y,v,x,b,k=d.getRect(),N=p.getRect(),_=new Array(2),S=new Array(4);if(k.intersects(N)){s.calcSeparationAmount(k,N,_,o.DEFAULT_EDGE_LENGTH/2),x=2*_[0],b=2*_[1];var T=d.noOfChildren*p.noOfChildren/(d.noOfChildren+p.noOfChildren);d.repulsionForceX-=T*x,d.repulsionForceY-=T*b,p.repulsionForceX+=T*x,p.repulsionForceY+=T*b}else this.uniformLeafNodeSizes&&d.getChild()==null&&p.getChild()==null?(f=N.getCenterX()-k.getCenterX(),g=N.getCenterY()-k.getCenterY()):(s.getIntersection(k,N,S),f=S[2]-S[0],g=S[3]-S[1]),Math.abs(f)<o.MIN_REPULSION_DIST&&(f=l.sign(f)*o.MIN_REPULSION_DIST),Math.abs(g)<o.MIN_REPULSION_DIST&&(g=l.sign(g)*o.MIN_REPULSION_DIST),m=f*f+g*g,y=Math.sqrt(m),x=(v=(d.nodeRepulsion/2+p.nodeRepulsion/2)*d.noOfChildren*p.noOfChildren/m)*f/y,b=v*g/y,d.repulsionForceX-=x,d.repulsionForceY-=b,p.repulsionForceX+=x,p.repulsionForceY+=b},u.prototype.calcGravitationalForce=function(d){var p,f,g,m,y,v,x,b;f=((p=d.getOwner()).getRight()+p.getLeft())/2,g=(p.getTop()+p.getBottom())/2,m=d.getCenterX()-f,y=d.getCenterY()-g,v=Math.abs(m)+d.getWidth()/2,x=Math.abs(y)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(v>(b=p.getEstimatedSize()*this.gravityRangeFactor)||x>b)&&(d.gravitationForceX=-this.gravityConstant*m,d.gravitationForceY=-this.gravityConstant*y):(v>(b=p.getEstimatedSize()*this.compoundGravityRangeFactor)||x>b)&&(d.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant)},u.prototype.isConverged=function(){var d,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||p},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,p=this.graphManager.getAllNodes(),f=0;f<p.length;f++)(d=p[f]).noOfChildren=d.getNoOfChildren()},u.prototype.calcGrid=function(d){var p,f;p=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),f=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var g=new Array(p),m=0;m<p;m++)g[m]=new Array(f);for(m=0;m<p;m++)for(var y=0;y<f;y++)g[m][y]=new Array;return g},u.prototype.addNodeToGrid=function(d,p,f){var g,m,y,v;g=parseInt(Math.floor((d.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((d.getRect().width+d.getRect().x-p)/this.repulsionRange)),y=parseInt(Math.floor((d.getRect().y-f)/this.repulsionRange)),v=parseInt(Math.floor((d.getRect().height+d.getRect().y-f)/this.repulsionRange));for(var x=g;x<=m;x++)for(var b=y;b<=v;b++)this.grid[x][b].push(d),d.setGridCoordinates(g,m,y,v)},u.prototype.updateGrid=function(){var d,p,f=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<f.length;d++)p=f[d],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(d,p,f,g){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f||g){var m,y=new Set;d.surrounding=new Array;for(var v=this.grid,x=d.startX-1;x<d.finishX+2;x++)for(var b=d.startY-1;b<d.finishY+2;b++)if(!(x<0||b<0||x>=v.length||b>=v[0].length)){for(var k=0;k<v[x][b].length;k++)if(m=v[x][b][k],d.getOwner()==m.getOwner()&&d!=m&&!p.has(m)&&!y.has(m)){var N=Math.abs(d.getCenterX()-m.getCenterX())-(d.getWidth()/2+m.getWidth()/2),_=Math.abs(d.getCenterY()-m.getCenterY())-(d.getHeight()/2+m.getHeight()/2);N<=this.repulsionRange&&_<=this.repulsionRange&&y.add(m)}}d.surrounding=[].concat(function(S){if(Array.isArray(S)){for(var T=0,A=Array(S.length);T<S.length;T++)A[T]=S[T];return A}return Array.from(S)}(y))}for(x=0;x<d.surrounding.length;x++)this.calcRepulsionForce(d,d.surrounding[x])},u.prototype.calcRepulsionRange=function(){return 0},e.exports=u},function(e,r,n){var i=n(1),o=n(4);function a(l,u,h){i.call(this,l,u,h),this.idealLength=o.DEFAULT_EDGE_LENGTH,this.edgeElasticity=o.DEFAULT_SPRING_STRENGTH}for(var s in a.prototype=Object.create(i.prototype),i)a[s]=i[s];e.exports=a},function(e,r,n){var i=n(3),o=n(4);function a(l,u,h,d){i.call(this,l,u,h,d),this.nodeRepulsion=o.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var s in a.prototype=Object.create(i.prototype),i)a[s]=i[s];a.prototype.setGridCoordinates=function(l,u,h,d){this.startX=l,this.finishX=u,this.startY=h,this.finishY=d},e.exports=a},function(e,r,n){function i(o,a){this.width=0,this.height=0,o!==null&&a!==null&&(this.height=a,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},e.exports=i},function(e,r,n){var i=n(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(a,s){var l=i.createID(a);this.contains(l)||(this.map[l]=s,this.keys.push(a))},o.prototype.contains=function(a){return i.createID(a),this.map[a]!=null},o.prototype.get=function(a){var s=i.createID(a);return this.map[s]},o.prototype.keySet=function(){return this.keys},e.exports=o},function(e,r,n){var i=n(14);function o(){this.set={}}o.prototype.add=function(a){var s=i.createID(a);this.contains(s)||(this.set[s]=a)},o.prototype.remove=function(a){delete this.set[i.createID(a)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(a){return this.set[i.createID(a)]==a},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(a){for(var s=Object.keys(this.set),l=s.length,u=0;u<l;u++)a.push(this.set[s[u]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(a){for(var s=a.length,l=0;l<s;l++){var u=a[l];this.add(u)}},e.exports=o},function(e,r,n){function i(){}i.multMat=function(o,a){for(var s=[],l=0;l<o.length;l++){s[l]=[];for(var u=0;u<a[0].length;u++){s[l][u]=0;for(var h=0;h<o[0].length;h++)s[l][u]+=o[l][h]*a[h][u]}}return s},i.transpose=function(o){for(var a=[],s=0;s<o[0].length;s++){a[s]=[];for(var l=0;l<o.length;l++)a[s][l]=o[l][s]}return a},i.multCons=function(o,a){for(var s=[],l=0;l<o.length;l++)s[l]=o[l]*a;return s},i.minusOp=function(o,a){for(var s=[],l=0;l<o.length;l++)s[l]=o[l]-a[l];return s},i.dotProduct=function(o,a){for(var s=0,l=0;l<o.length;l++)s+=o[l]*a[l];return s},i.mag=function(o){return Math.sqrt(this.dotProduct(o,o))},i.normalize=function(o){for(var a=[],s=this.mag(o),l=0;l<o.length;l++)a[l]=o[l]/s;return a},i.multGamma=function(o){for(var a=[],s=0,l=0;l<o.length;l++)s+=o[l];s*=-1/o.length;for(var u=0;u<o.length;u++)a[u]=s+o[u];return a},i.multL=function(o,a,s){for(var l=[],u=[],h=[],d=0;d<a[0].length;d++){for(var p=0,f=0;f<a.length;f++)p+=-.5*a[f][d]*o[f];u[d]=p}for(var g=0;g<s.length;g++){for(var m=0,y=0;y<s.length;y++)m+=s[g][y]*u[y];h[g]=m}for(var v=0;v<a.length;v++){for(var x=0,b=0;b<a[0].length;b++)x+=a[v][b]*h[b];l[v]=x}return l},e.exports=i},function(e,r,n){var i=function(){function s(l,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,h){return u&&s(l.prototype,u),h&&s(l,h),l}}(),o=n(11),a=function(){function s(l,u){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),u===null&&u===void 0||(this.compareFunction=this._defaultCompareFunction);var h=void 0;h=l instanceof o?l.size():l.length,this._quicksort(l,0,h-1)}return i(s,[{key:"_quicksort",value:function(l,u,h){if(u<h){var d=this._partition(l,u,h);this._quicksort(l,u,d),this._quicksort(l,d+1,h)}}},{key:"_partition",value:function(l,u,h){for(var d=this._get(l,u),p=u,f=h;;){for(;this.compareFunction(d,this._get(l,f));)f--;for(;this.compareFunction(this._get(l,p),d);)p++;if(!(p<f))return f;this._swap(l,p,f),p++,f--}}},{key:"_get",value:function(l,u){return l instanceof o?l.get_object_at(u):l[u]}},{key:"_set",value:function(l,u,h){l instanceof o?l.set_object_at(u,h):l[u]=h}},{key:"_swap",value:function(l,u,h){var d=this._get(l,u);this._set(l,u,this._get(l,h)),this._set(l,h,d)}},{key:"_defaultCompareFunction",value:function(l,u){return u>l}}]),s}();e.exports=a},function(e,r,n){function i(){}i.svd=function(o){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=o.length,this.n=o[0].length;var a=Math.min(this.m,this.n);this.s=function(be){for(var Zt=[];be-- >0;)Zt.push(0);return Zt}(Math.min(this.m+1,this.n)),this.U=function be(Zt){if(Zt.length==0)return 0;for(var Le=[],Re=0;Re<Zt[0];Re++)Le.push(be(Zt.slice(1)));return Le}([this.m,a]),this.V=function(be){return function Zt(Le){if(Le.length==0)return 0;for(var Re=[],hn=0;hn<Le[0];hn++)Re.push(Zt(Le.slice(1)));return Re}(be)}([this.n,this.n]);for(var s,l,u=function(be){for(var Zt=[];be-- >0;)Zt.push(0);return Zt}(this.n),h=function(be){for(var Zt=[];be-- >0;)Zt.push(0);return Zt}(this.m),d=Math.min(this.m-1,this.n),p=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(d,p);f++){if(f<d){this.s[f]=0;for(var g=f;g<this.m;g++)this.s[f]=i.hypot(this.s[f],o[g][f]);if(this.s[f]!==0){o[f][f]<0&&(this.s[f]=-this.s[f]);for(var m=f;m<this.m;m++)o[m][f]/=this.s[f];o[f][f]+=1}this.s[f]=-this.s[f]}for(var y=f+1;y<this.n;y++){if(s=f<d,l=this.s[f]!==0,s&&l){for(var v=0,x=f;x<this.m;x++)v+=o[x][f]*o[x][y];v=-v/o[f][f];for(var b=f;b<this.m;b++)o[b][y]+=v*o[b][f]}u[y]=o[f][y]}if(function(be,Zt){return Zt}(0,f<d))for(var k=f;k<this.m;k++)this.U[k][f]=o[k][f];if(f<p){u[f]=0;for(var N=f+1;N<this.n;N++)u[f]=i.hypot(u[f],u[N]);if(u[f]!==0){u[f+1]<0&&(u[f]=-u[f]);for(var _=f+1;_<this.n;_++)u[_]/=u[f];u[f+1]+=1}if(u[f]=-u[f],function(be,Zt){return be&&Zt}(f+1<this.m,u[f]!==0)){for(var S=f+1;S<this.m;S++)h[S]=0;for(var T=f+1;T<this.n;T++)for(var A=f+1;A<this.m;A++)h[A]+=u[T]*o[A][T];for(var C=f+1;C<this.n;C++)for(var D=-u[C]/u[f+1],E=f+1;E<this.m;E++)o[E][C]+=D*h[E]}for(var $=f+1;$<this.n;$++)this.V[$][f]=u[$]}}var I=Math.min(this.n,this.m+1);d<this.n&&(this.s[d]=o[d][d]),this.m<I&&(this.s[I-1]=0),p+1<I&&(u[p]=o[p][I-1]),u[I-1]=0;for(var L=d;L<a;L++){for(var O=0;O<this.m;O++)this.U[O][L]=0;this.U[L][L]=1}for(var B=d-1;B>=0;B--)if(this.s[B]!==0){for(var R=B+1;R<a;R++){for(var M=0,F=B;F<this.m;F++)M+=this.U[F][B]*this.U[F][R];M=-M/this.U[B][B];for(var P=B;P<this.m;P++)this.U[P][R]+=M*this.U[P][B]}for(var U=B;U<this.m;U++)this.U[U][B]=-this.U[U][B];this.U[B][B]=1+this.U[B][B];for(var W=0;W<B-1;W++)this.U[W][B]=0}else{for(var Q=0;Q<this.m;Q++)this.U[Q][B]=0;this.U[B][B]=1}for(var K=this.n-1;K>=0;K--){if(function(be,Zt){return be&&Zt}(K<p,u[K]!==0))for(var G=K+1;G<a;G++){for(var V=0,rt=K+1;rt<this.n;rt++)V+=this.V[rt][K]*this.V[rt][G];V=-V/this.V[K+1][K];for(var tt=K+1;tt<this.n;tt++)this.V[tt][G]+=V*this.V[tt][K]}for(var at=0;at<this.n;at++)this.V[at][K]=0;this.V[K][K]=1}for(var ut=I-1,st=Math.pow(2,-52),_t=Math.pow(2,-966);I>0;){var X=void 0,Et=void 0;for(X=I-2;X>=-1&&X!==-1;X--)if(Math.abs(u[X])<=_t+st*(Math.abs(this.s[X])+Math.abs(this.s[X+1]))){u[X]=0;break}if(X===I-2)Et=4;else{var H=void 0;for(H=I-1;H>=X&&H!==X;H--){var ct=(H!==I?Math.abs(u[H]):0)+(H!==X+1?Math.abs(u[H-1]):0);if(Math.abs(this.s[H])<=_t+st*ct){this.s[H]=0;break}}H===X?Et=3:H===I-1?Et=1:(Et=2,X=H)}switch(X++,Et){case 1:var dt=u[I-2];u[I-2]=0;for(var Nt=I-2;Nt>=X;Nt--){var ft=i.hypot(this.s[Nt],dt),Dt=this.s[Nt]/ft,$t=dt/ft;this.s[Nt]=ft,Nt!==X&&(dt=-$t*u[Nt-1],u[Nt-1]=Dt*u[Nt-1]);for(var mt=0;mt<this.n;mt++)ft=Dt*this.V[mt][Nt]+$t*this.V[mt][I-1],this.V[mt][I-1]=-$t*this.V[mt][Nt]+Dt*this.V[mt][I-1],this.V[mt][Nt]=ft}break;case 2:var It=u[X-1];u[X-1]=0;for(var gt=X;gt<I;gt++){var xt=i.hypot(this.s[gt],It),Ct=this.s[gt]/xt,lt=It/xt;this.s[gt]=xt,It=-lt*u[gt],u[gt]=Ct*u[gt];for(var ot=0;ot<this.m;ot++)xt=Ct*this.U[ot][gt]+lt*this.U[ot][X-1],this.U[ot][X-1]=-lt*this.U[ot][gt]+Ct*this.U[ot][X-1],this.U[ot][gt]=xt}break;case 3:var Y=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[I-1]),Math.abs(this.s[I-2])),Math.abs(u[I-2])),Math.abs(this.s[X])),Math.abs(u[X])),Ot=this.s[I-1]/Y,nt=this.s[I-2]/Y,Ut=u[I-2]/Y,Ft=this.s[X]/Y,qt=u[X]/Y,Wt=((nt+Ot)*(nt-Ot)+Ut*Ut)/2,Ht=Ot*Ut*(Ot*Ut),Xe=0;(function(be,Zt){return be||Zt})(Wt!==0,Ht!==0)&&(Xe=Math.sqrt(Wt*Wt+Ht),Wt<0&&(Xe=-Xe),Xe=Ht/(Wt+Xe));for(var Vt=(Ft+Ot)*(Ft-Ot)+Xe,xe=Ft*qt,Kt=X;Kt<I-1;Kt++){var Xt=i.hypot(Vt,xe),pe=Vt/Xt,de=xe/Xt;Kt!==X&&(u[Kt-1]=Xt),Vt=pe*this.s[Kt]+de*u[Kt],u[Kt]=pe*u[Kt]-de*this.s[Kt],xe=de*this.s[Kt+1],this.s[Kt+1]=pe*this.s[Kt+1];for(var ge=0;ge<this.n;ge++)Xt=pe*this.V[ge][Kt]+de*this.V[ge][Kt+1],this.V[ge][Kt+1]=-de*this.V[ge][Kt]+pe*this.V[ge][Kt+1],this.V[ge][Kt]=Xt;if(pe=Vt/(Xt=i.hypot(Vt,xe)),de=xe/Xt,this.s[Kt]=Xt,Vt=pe*u[Kt]+de*this.s[Kt+1],this.s[Kt+1]=-de*u[Kt]+pe*this.s[Kt+1],xe=de*u[Kt+1],u[Kt+1]=pe*u[Kt+1],Kt<this.m-1)for(var pr=0;pr<this.m;pr++)Xt=pe*this.U[pr][Kt]+de*this.U[pr][Kt+1],this.U[pr][Kt+1]=-de*this.U[pr][Kt]+pe*this.U[pr][Kt+1],this.U[pr][Kt]=Xt}u[I-2]=Vt;break;case 4:if(this.s[X]<=0){this.s[X]=this.s[X]<0?-this.s[X]:0;for(var Ne=0;Ne<=ut;Ne++)this.V[Ne][X]=-this.V[Ne][X]}for(;X<ut&&!(this.s[X]>=this.s[X+1]);){var Ze=this.s[X];if(this.s[X]=this.s[X+1],this.s[X+1]=Ze,X<this.n-1)for(var ke=0;ke<this.n;ke++)Ze=this.V[ke][X+1],this.V[ke][X+1]=this.V[ke][X],this.V[ke][X]=Ze;if(X<this.m-1)for(var Ce=0;Ce<this.m;Ce++)Ze=this.U[Ce][X+1],this.U[Ce][X+1]=this.U[Ce][X],this.U[Ce][X]=Ze;X++}I--}}return{U:this.U,V:this.V,S:this.s}},i.hypot=function(o,a){var s=void 0;return Math.abs(o)>Math.abs(a)?(s=a/o,s=Math.abs(o)*Math.sqrt(1+s*s)):a!=0?(s=o/a,s=Math.abs(a)*Math.sqrt(1+s*s)):s=0,s},e.exports=i},function(e,r,n){var i=function(){function a(s,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}return function(s,l,u){return l&&a(s.prototype,l),u&&a(s,u),s}}(),o=function(){function a(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a),this.sequence1=s,this.sequence2=l,this.match_score=u,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var f=0;f<this.jMax;f++)this.grid[p][f]=0}this.tracebackGrid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.tracebackGrid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[g][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(a,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var s=1;s<this.jMax;s++)this.grid[0][s]=this.grid[0][s-1]+this.gap_penalty,this.tracebackGrid[0][s]=[!1,!1,!0];for(var l=1;l<this.iMax;l++)this.grid[l][0]=this.grid[l-1][0]+this.gap_penalty,this.tracebackGrid[l][0]=[!1,!0,!1];for(var u=1;u<this.iMax;u++)for(var h=1;h<this.jMax;h++){var d=[this.sequence1[u-1]===this.sequence2[h-1]?this.grid[u-1][h-1]+this.match_score:this.grid[u-1][h-1]+this.mismatch_penalty,this.grid[u-1][h]+this.gap_penalty,this.grid[u][h-1]+this.gap_penalty],p=this.arrayAllMaxIndexes(d);this.grid[u][h]=d[p[0]],this.tracebackGrid[u][h]=[p.includes(0),p.includes(1),p.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var s=[];for(s.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});s[0];){var l=s[0],u=this.tracebackGrid[l.pos[0]][l.pos[1]];u[0]&&s.push({pos:[l.pos[0]-1,l.pos[1]-1],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),u[1]&&s.push({pos:[l.pos[0]-1,l.pos[1]],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:"-"+l.seq2}),u[2]&&s.push({pos:[l.pos[0],l.pos[1]-1],seq1:"-"+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),l.pos[0]===0&&l.pos[1]===0&&this.alignments.push({sequence1:l.seq1,sequence2:l.seq2}),s.shift()}return this.alignments}},{key:"getAllIndexes",value:function(s,l){for(var u=[],h=-1;(h=s.indexOf(l,h+1))!==-1;)u.push(h);return u}},{key:"arrayAllMaxIndexes",value:function(s){return this.getAllIndexes(s,Math.max.apply(null,s))}}]),a}();e.exports=o},function(e,r,n){var i=function(){};i.FDLayout=n(18),i.FDLayoutConstants=n(4),i.FDLayoutEdge=n(19),i.FDLayoutNode=n(20),i.DimensionD=n(21),i.HashMap=n(22),i.HashSet=n(23),i.IGeometry=n(8),i.IMath=n(9),i.Integer=n(10),i.Point=n(12),i.PointD=n(5),i.RandomSeed=n(16),i.RectangleD=n(13),i.Transform=n(17),i.UniqueIDGeneretor=n(14),i.Quicksort=n(25),i.LinkedList=n(11),i.LGraphObject=n(2),i.LGraph=n(6),i.LEdge=n(1),i.LGraphManager=n(7),i.LNode=n(3),i.Layout=n(15),i.LayoutConstants=n(0),i.NeedlemanWunsch=n(27),i.Matrix=n(24),i.SVD=n(26),e.exports=i},function(e,r,n){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(a,s){this.listeners.push({event:a,callback:s})},o.removeListener=function(a,s){for(var l=this.listeners.length;l>=0;l--){var u=this.listeners[l];u.event===a&&u.callback===s&&this.listeners.splice(l,1)}},o.emit=function(a,s){for(var l=0;l<this.listeners.length;l++){var u=this.listeners[l];a===u.event&&u.callback(s)}},e.exports=i}])},lU.exports=t()),lU.exports;var t}var uU;function KZt(){return uU||(uU=1,t=function(e){return r={45:(o,a,s)=>{var l={};l.layoutBase=s(551),l.CoSEConstants=s(806),l.CoSEEdge=s(767),l.CoSEGraph=s(880),l.CoSEGraphManager=s(578),l.CoSELayout=s(765),l.CoSENode=s(991),l.ConstraintHandler=s(902),o.exports=l},806:(o,a,s)=>{var l=s(551).FDLayoutConstants;function u(){}for(var h in l)u[h]=l[h];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,u.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,u.DEFAULT_COMPONENT_SEPERATION=60,u.TILE=!0,u.TILING_PADDING_VERTICAL=10,u.TILING_PADDING_HORIZONTAL=10,u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!0,u.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,u.TREE_REDUCTION_ON_INCREMENTAL=!0,u.PURE_INCREMENTAL=u.DEFAULT_INCREMENTAL,o.exports=u},767:(o,a,s)=>{var l=s(551).FDLayoutEdge;function u(d,p,f){l.call(this,d,p,f)}for(var h in u.prototype=Object.create(l.prototype),l)u[h]=l[h];o.exports=u},880:(o,a,s)=>{var l=s(551).LGraph;function u(d,p,f){l.call(this,d,p,f)}for(var h in u.prototype=Object.create(l.prototype),l)u[h]=l[h];o.exports=u},578:(o,a,s)=>{var l=s(551).LGraphManager;function u(d){l.call(this,d)}for(var h in u.prototype=Object.create(l.prototype),l)u[h]=l[h];o.exports=u},765:(o,a,s)=>{var l=s(551).FDLayout,u=s(578),h=s(880),d=s(991),p=s(767),f=s(806),g=s(902),m=s(551).FDLayoutConstants,y=s(551).LayoutConstants,v=s(551).Point,x=s(551).PointD,b=s(551).DimensionD,k=s(551).Layout,N=s(551).Integer,_=s(551).IGeometry,S=s(551).LGraph,T=s(551).Transform,A=s(551).LinkedList;function C(){l.call(this),this.toBeTiled={},this.constraints={}}for(var D in C.prototype=Object.create(l.prototype),l)C[D]=l[D];C.prototype.newGraphManager=function(){var E=new u(this);return this.graphManager=E,E},C.prototype.newGraph=function(E){return new h(null,this.graphManager,E)},C.prototype.newNode=function(E){return new d(this.graphManager,E)},C.prototype.newEdge=function(E){return new p(null,null,E)},C.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(f.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=m.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=m.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=m.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},C.prototype.initSpringEmbedder=function(){l.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/m.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},C.prototype.layout=function(){return y.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},C.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)f.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),$=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(L){return $.has(L)}),this.graphManager.setAllNodesToApplyGravitation(I));else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var $=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(L){return $.has(L)});this.graphManager.setAllNodesToApplyGravitation(I),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(g.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),f.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},C.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%m.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),$=this.nodesWithGravity.filter(function(O){return E.has(O)});this.graphManager.setAllNodesToApplyGravitation($),this.graphManager.updateBounds(),this.updateGrid(),f.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),f.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var I=!this.isTreeGrowing&&!this.isGrowthFinished,L=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(I,L),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},C.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),$={},I=0;I<E.length;I++){var L=E[I].rect,O=E[I].id;$[O]={id:O,x:L.getCenterX(),y:L.getCenterY(),w:L.width,h:L.height}}return $},C.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(m.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},C.prototype.moveNodes=function(){for(var E=this.getAllNodes(),$=0;$<E.length;$++)E[$].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),$=0;$<E.length;$++)E[$].move()},C.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var $=this.graphManager.getAllNodes(),I=0;I<$.length;I++){var L=$[I];this.idToNodeMap.set(L.id,L)}var O=function V(rt){for(var tt,at=rt.getChild().getNodes(),ut=0,st=0;st<at.length;st++)(tt=at[st]).getChild()==null?E.fixedNodeSet.has(tt.id)&&(ut+=100):ut+=V(tt);return ut};if(this.constraints.fixedNodeConstraint){for(this.constraints.fixedNodeConstraint.forEach(function(V){E.fixedNodeSet.add(V.nodeId)}),$=this.graphManager.getAllNodes(),I=0;I<$.length;I++)if((L=$[I]).getChild()!=null){var B=O(L);B>0&&(L.fixedNodeWeight=B)}}if(this.constraints.relativePlacementConstraint){var R=new Map,M=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(V){E.fixedNodesOnHorizontal.add(V),E.fixedNodesOnVertical.add(V)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var F=this.constraints.alignmentConstraint.vertical;for(I=0;I<F.length;I++)this.dummyToNodeForVerticalAlignment.set("dummy"+I,[]),F[I].forEach(function(V){R.set(V,"dummy"+I),E.dummyToNodeForVerticalAlignment.get("dummy"+I).push(V),E.fixedNodeSet.has(V)&&E.fixedNodesOnHorizontal.add("dummy"+I)})}if(this.constraints.alignmentConstraint.horizontal){var P=this.constraints.alignmentConstraint.horizontal;for(I=0;I<P.length;I++)this.dummyToNodeForHorizontalAlignment.set("dummy"+I,[]),P[I].forEach(function(V){M.set(V,"dummy"+I),E.dummyToNodeForHorizontalAlignment.get("dummy"+I).push(V),E.fixedNodeSet.has(V)&&E.fixedNodesOnVertical.add("dummy"+I)})}}if(f.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(V){var rt,tt,at;for(at=V.length-1;at>=2*V.length/3;at--)rt=Math.floor(Math.random()*(at+1)),tt=V[at],V[at]=V[rt],V[rt]=tt;return V},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(V){if(V.left){var rt=R.has(V.left)?R.get(V.left):V.left,tt=R.has(V.right)?R.get(V.right):V.right;E.nodesInRelativeHorizontal.includes(rt)||(E.nodesInRelativeHorizontal.push(rt),E.nodeToRelativeConstraintMapHorizontal.set(rt,[]),E.dummyToNodeForVerticalAlignment.has(rt)?E.nodeToTempPositionMapHorizontal.set(rt,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(rt)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(rt,E.idToNodeMap.get(rt).getCenterX())),E.nodesInRelativeHorizontal.includes(tt)||(E.nodesInRelativeHorizontal.push(tt),E.nodeToRelativeConstraintMapHorizontal.set(tt,[]),E.dummyToNodeForVerticalAlignment.has(tt)?E.nodeToTempPositionMapHorizontal.set(tt,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(tt)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(tt,E.idToNodeMap.get(tt).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(rt).push({right:tt,gap:V.gap}),E.nodeToRelativeConstraintMapHorizontal.get(tt).push({left:rt,gap:V.gap})}else{var at=M.has(V.top)?M.get(V.top):V.top,ut=M.has(V.bottom)?M.get(V.bottom):V.bottom;E.nodesInRelativeVertical.includes(at)||(E.nodesInRelativeVertical.push(at),E.nodeToRelativeConstraintMapVertical.set(at,[]),E.dummyToNodeForHorizontalAlignment.has(at)?E.nodeToTempPositionMapVertical.set(at,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(at)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(at,E.idToNodeMap.get(at).getCenterY())),E.nodesInRelativeVertical.includes(ut)||(E.nodesInRelativeVertical.push(ut),E.nodeToRelativeConstraintMapVertical.set(ut,[]),E.dummyToNodeForHorizontalAlignment.has(ut)?E.nodeToTempPositionMapVertical.set(ut,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(ut)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(ut,E.idToNodeMap.get(ut).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(at).push({bottom:ut,gap:V.gap}),E.nodeToRelativeConstraintMapVertical.get(ut).push({top:at,gap:V.gap})}});else{var U=new Map,W=new Map;this.constraints.relativePlacementConstraint.forEach(function(V){if(V.left){var rt=R.has(V.left)?R.get(V.left):V.left,tt=R.has(V.right)?R.get(V.right):V.right;U.has(rt)?U.get(rt).push(tt):U.set(rt,[tt]),U.has(tt)?U.get(tt).push(rt):U.set(tt,[rt])}else{var at=M.has(V.top)?M.get(V.top):V.top,ut=M.has(V.bottom)?M.get(V.bottom):V.bottom;W.has(at)?W.get(at).push(ut):W.set(at,[ut]),W.has(ut)?W.get(ut).push(at):W.set(ut,[at])}});var Q=function(V,rt){var tt=[],at=[],ut=new A,st=new Set,_t=0;return V.forEach(function(X,Et){if(!st.has(Et)){tt[_t]=[],at[_t]=!1;var H=Et;for(ut.push(H),st.add(H),tt[_t].push(H);ut.length!=0;)H=ut.shift(),rt.has(H)&&(at[_t]=!0),V.get(H).forEach(function(ct){st.has(ct)||(ut.push(ct),st.add(ct),tt[_t].push(ct))});_t++}}),{components:tt,isFixed:at}},K=Q(U,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=K.components,this.fixedComponentsOnHorizontal=K.isFixed;var G=Q(W,E.fixedNodesOnVertical);this.componentsOnVertical=G.components,this.fixedComponentsOnVertical=G.isFixed}}},C.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(G){var V=E.idToNodeMap.get(G.nodeId);V.displacementX=0,V.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var $=this.constraints.alignmentConstraint.vertical,I=0;I<$.length;I++){for(var L=0,O=0;O<$[I].length;O++){if(this.fixedNodeSet.has($[I][O])){L=0;break}L+=this.idToNodeMap.get($[I][O]).displacementX}var B=L/$[I].length;for(O=0;O<$[I].length;O++)this.idToNodeMap.get($[I][O]).displacementX=B}if(this.constraints.alignmentConstraint.horizontal){var R=this.constraints.alignmentConstraint.horizontal;for(I=0;I<R.length;I++){var M=0;for(O=0;O<R[I].length;O++){if(this.fixedNodeSet.has(R[I][O])){M=0;break}M+=this.idToNodeMap.get(R[I][O]).displacementY}var F=M/R[I].length;for(O=0;O<R[I].length;O++)this.idToNodeMap.get(R[I][O]).displacementY=F}}}if(this.constraints.relativePlacementConstraint)if(f.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(G){if(!E.fixedNodesOnHorizontal.has(G)){var V=0;V=E.dummyToNodeForVerticalAlignment.has(G)?E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(G)[0]).displacementX:E.idToNodeMap.get(G).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(G).forEach(function(rt){var tt;rt.right?(tt=E.nodeToTempPositionMapHorizontal.get(rt.right)-E.nodeToTempPositionMapHorizontal.get(G)-V)<rt.gap&&(V-=rt.gap-tt):(tt=E.nodeToTempPositionMapHorizontal.get(G)-E.nodeToTempPositionMapHorizontal.get(rt.left)+V)<rt.gap&&(V+=rt.gap-tt)}),E.nodeToTempPositionMapHorizontal.set(G,E.nodeToTempPositionMapHorizontal.get(G)+V),E.dummyToNodeForVerticalAlignment.has(G)?E.dummyToNodeForVerticalAlignment.get(G).forEach(function(rt){E.idToNodeMap.get(rt).displacementX=V}):E.idToNodeMap.get(G).displacementX=V}}),this.nodesInRelativeVertical.forEach(function(G){if(!E.fixedNodesOnHorizontal.has(G)){var V=0;V=E.dummyToNodeForHorizontalAlignment.has(G)?E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(G)[0]).displacementY:E.idToNodeMap.get(G).displacementY,E.nodeToRelativeConstraintMapVertical.get(G).forEach(function(rt){var tt;rt.bottom?(tt=E.nodeToTempPositionMapVertical.get(rt.bottom)-E.nodeToTempPositionMapVertical.get(G)-V)<rt.gap&&(V-=rt.gap-tt):(tt=E.nodeToTempPositionMapVertical.get(G)-E.nodeToTempPositionMapVertical.get(rt.top)+V)<rt.gap&&(V+=rt.gap-tt)}),E.nodeToTempPositionMapVertical.set(G,E.nodeToTempPositionMapVertical.get(G)+V),E.dummyToNodeForHorizontalAlignment.has(G)?E.dummyToNodeForHorizontalAlignment.get(G).forEach(function(rt){E.idToNodeMap.get(rt).displacementY=V}):E.idToNodeMap.get(G).displacementY=V}});else{for(I=0;I<this.componentsOnHorizontal.length;I++){var P=this.componentsOnHorizontal[I];if(this.fixedComponentsOnHorizontal[I])for(O=0;O<P.length;O++)this.dummyToNodeForVerticalAlignment.has(P[O])?this.dummyToNodeForVerticalAlignment.get(P[O]).forEach(function(G){E.idToNodeMap.get(G).displacementX=0}):this.idToNodeMap.get(P[O]).displacementX=0;else{var U=0,W=0;for(O=0;O<P.length;O++)this.dummyToNodeForVerticalAlignment.has(P[O])?(U+=(K=this.dummyToNodeForVerticalAlignment.get(P[O])).length*this.idToNodeMap.get(K[0]).displacementX,W+=K.length):(U+=this.idToNodeMap.get(P[O]).displacementX,W++);var Q=U/W;for(O=0;O<P.length;O++)this.dummyToNodeForVerticalAlignment.has(P[O])?this.dummyToNodeForVerticalAlignment.get(P[O]).forEach(function(G){E.idToNodeMap.get(G).displacementX=Q}):this.idToNodeMap.get(P[O]).displacementX=Q}}for(I=0;I<this.componentsOnVertical.length;I++)if(P=this.componentsOnVertical[I],this.fixedComponentsOnVertical[I])for(O=0;O<P.length;O++)this.dummyToNodeForHorizontalAlignment.has(P[O])?this.dummyToNodeForHorizontalAlignment.get(P[O]).forEach(function(G){E.idToNodeMap.get(G).displacementY=0}):this.idToNodeMap.get(P[O]).displacementY=0;else{for(U=0,W=0,O=0;O<P.length;O++){var K;this.dummyToNodeForHorizontalAlignment.has(P[O])?(U+=(K=this.dummyToNodeForHorizontalAlignment.get(P[O])).length*this.idToNodeMap.get(K[0]).displacementY,W+=K.length):(U+=this.idToNodeMap.get(P[O]).displacementY,W++)}for(Q=U/W,O=0;O<P.length;O++)this.dummyToNodeForHorizontalAlignment.has(P[O])?this.dummyToNodeForHorizontalAlignment.get(P[O]).forEach(function(G){E.idToNodeMap.get(G).displacementY=Q}):this.idToNodeMap.get(P[O]).displacementY=Q}}},C.prototype.calculateNodesToApplyGravitationTo=function(){var E,$,I=[],L=this.graphManager.getGraphs(),O=L.length;for($=0;$<O;$++)(E=L[$]).updateConnected(),E.isConnected||(I=I.concat(E.getNodes()));return I},C.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var $,I=new Set;for($=0;$<E.length;$++){var L=E[$];if(!I.has(L)){var O=L.getSource(),B=L.getTarget();if(O==B)L.getBendpoints().push(new x),L.getBendpoints().push(new x),this.createDummyNodesForBendpoints(L),I.add(L);else{var R=[];if(R=(R=R.concat(O.getEdgeListToNode(B))).concat(B.getEdgeListToNode(O)),!I.has(R[0])){var M;if(R.length>1)for(M=0;M<R.length;M++){var F=R[M];F.getBendpoints().push(new x),this.createDummyNodesForBendpoints(F)}R.forEach(function(P){I.add(P)})}}}if(I.size==E.length)break}},C.prototype.positionNodesRadially=function(E){for(var $=new v(0,0),I=Math.ceil(Math.sqrt(E.length)),L=0,O=0,B=0,R=new x(0,0),M=0;M<E.length;M++){M%I==0&&(B=0,O=L,M!=0&&(O+=f.DEFAULT_COMPONENT_SEPERATION),L=0);var F=E[M],P=k.findCenterOfTree(F);$.x=B,$.y=O,(R=C.radialLayout(F,P,$)).y>L&&(L=Math.floor(R.y)),B=Math.floor(R.x+f.DEFAULT_COMPONENT_SEPERATION)}this.transform(new x(y.WORLD_CENTER_X-R.x/2,y.WORLD_CENTER_Y-R.y/2))},C.radialLayout=function(E,$,I){var L=Math.max(this.maxDiagonalInTree(E),f.DEFAULT_RADIAL_SEPARATION);C.branchRadialLayout($,null,0,359,0,L);var O=S.calculateBounds(E),B=new T;B.setDeviceOrgX(O.getMinX()),B.setDeviceOrgY(O.getMinY()),B.setWorldOrgX(I.x),B.setWorldOrgY(I.y);for(var R=0;R<E.length;R++)E[R].transform(B);var M=new x(O.getMaxX(),O.getMaxY());return B.inverseTransformPoint(M)},C.branchRadialLayout=function(E,$,I,L,O,B){var R=(L-I+1)/2;R<0&&(R+=180);var M=(R+I)%360*_.TWO_PI/360,F=O*Math.cos(M),P=O*Math.sin(M);E.setCenter(F,P);var U=[],W=(U=U.concat(E.getEdges())).length;$!=null&&W--;for(var Q,K=0,G=U.length,V=E.getEdgesBetween($);V.length>1;){var rt=V[0];V.splice(0,1);var tt=U.indexOf(rt);tt>=0&&U.splice(tt,1),G--,W--}Q=$!=null?(U.indexOf(V[0])+1)%G:0;for(var at=Math.abs(L-I)/W,ut=Q;K!=W;ut=++ut%G){var st=U[ut].getOtherEnd(E);if(st!=$){var _t=(I+K*at)%360,X=(_t+at)%360;C.branchRadialLayout(st,E,_t,X,O+B,B),K++}}},C.maxDiagonalInTree=function(E){for(var $=N.MIN_VALUE,I=0;I<E.length;I++){var L=E[I].getDiagonal();L>$&&($=L)}return $},C.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},C.prototype.groupZeroDegreeMembers=function(){var E=this,$={};this.memberGroups={},this.idToDummyNode={};for(var I=[],L=this.graphManager.getAllNodes(),O=0;O<L.length;O++){var B=(R=L[O]).getParent();this.getNodeDegreeWithChildren(R)!==0||B.id!=null&&this.getToBeTiled(B)||I.push(R)}for(O=0;O<I.length;O++){var R,M=(R=I[O]).getParent().id;$[M]===void 0&&($[M]=[]),$[M]=$[M].concat(R)}Object.keys($).forEach(function(F){if($[F].length>1){var P="DummyCompound_"+F;E.memberGroups[P]=$[F];var U=$[F][0].getParent(),W=new d(E.graphManager);W.id=P,W.paddingLeft=U.paddingLeft||0,W.paddingRight=U.paddingRight||0,W.paddingBottom=U.paddingBottom||0,W.paddingTop=U.paddingTop||0,E.idToDummyNode[P]=W;var Q=E.getGraphManager().add(E.newGraph(),W),K=U.getChild();K.add(W);for(var G=0;G<$[F].length;G++){var V=$[F][G];K.remove(V),Q.add(V)}}})},C.prototype.clearCompounds=function(){var E={},$={};this.performDFSOnCompounds();for(var I=0;I<this.compoundOrder.length;I++)$[this.compoundOrder[I].id]=this.compoundOrder[I],E[this.compoundOrder[I].id]=[].concat(this.compoundOrder[I].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[I].getChild()),this.compoundOrder[I].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,$)},C.prototype.clearZeroDegreeMembers=function(){var E=this,$=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(I){var L=E.idToDummyNode[I];if($[I]=E.tileNodes(E.memberGroups[I],L.paddingLeft+L.paddingRight),L.rect.width=$[I].width,L.rect.height=$[I].height,L.setCenter($[I].centerX,$[I].centerY),L.labelMarginLeft=0,L.labelMarginTop=0,f.NODE_DIMENSIONS_INCLUDE_LABELS){var O=L.rect.width,B=L.rect.height;L.labelWidth&&(L.labelPosHorizontal=="left"?(L.rect.x-=L.labelWidth,L.setWidth(O+L.labelWidth),L.labelMarginLeft=L.labelWidth):L.labelPosHorizontal=="center"&&L.labelWidth>O?(L.rect.x-=(L.labelWidth-O)/2,L.setWidth(L.labelWidth),L.labelMarginLeft=(L.labelWidth-O)/2):L.labelPosHorizontal=="right"&&L.setWidth(O+L.labelWidth)),L.labelHeight&&(L.labelPosVertical=="top"?(L.rect.y-=L.labelHeight,L.setHeight(B+L.labelHeight),L.labelMarginTop=L.labelHeight):L.labelPosVertical=="center"&&L.labelHeight>B?(L.rect.y-=(L.labelHeight-B)/2,L.setHeight(L.labelHeight),L.labelMarginTop=(L.labelHeight-B)/2):L.labelPosVertical=="bottom"&&L.setHeight(B+L.labelHeight))}})},C.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var $=this.compoundOrder[E],I=$.id,L=$.paddingLeft,O=$.paddingTop,B=$.labelMarginLeft,R=$.labelMarginTop;this.adjustLocations(this.tiledMemberPack[I],$.rect.x,$.rect.y,L,O,B,R)}},C.prototype.repopulateZeroDegreeMembers=function(){var E=this,$=this.tiledZeroDegreePack;Object.keys($).forEach(function(I){var L=E.idToDummyNode[I],O=L.paddingLeft,B=L.paddingTop,R=L.labelMarginLeft,M=L.labelMarginTop;E.adjustLocations($[I],L.rect.x,L.rect.y,O,B,R,M)})},C.prototype.getToBeTiled=function(E){var $=E.id;if(this.toBeTiled[$]!=null)return this.toBeTiled[$];var I=E.getChild();if(I==null)return this.toBeTiled[$]=!1,!1;for(var L=I.getNodes(),O=0;O<L.length;O++){var B=L[O];if(this.getNodeDegree(B)>0)return this.toBeTiled[$]=!1,!1;if(B.getChild()!=null){if(!this.getToBeTiled(B))return this.toBeTiled[$]=!1,!1}else this.toBeTiled[B.id]=!1}return this.toBeTiled[$]=!0,!0},C.prototype.getNodeDegree=function(E){E.id;for(var $=E.getEdges(),I=0,L=0;L<$.length;L++){var O=$[L];O.getSource().id!==O.getTarget().id&&(I+=1)}return I},C.prototype.getNodeDegreeWithChildren=function(E){var $=this.getNodeDegree(E);if(E.getChild()==null)return $;for(var I=E.getChild().getNodes(),L=0;L<I.length;L++){var O=I[L];$+=this.getNodeDegreeWithChildren(O)}return $},C.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},C.prototype.fillCompexOrderByDFS=function(E){for(var $=0;$<E.length;$++){var I=E[$];I.getChild()!=null&&this.fillCompexOrderByDFS(I.getChild().getNodes()),this.getToBeTiled(I)&&this.compoundOrder.push(I)}},C.prototype.adjustLocations=function(E,$,I,L,O,B,R){I+=O+R;for(var M=$+=L+B,F=0;F<E.rows.length;F++){var P=E.rows[F];$=M;for(var U=0,W=0;W<P.length;W++){var Q=P[W];Q.rect.x=$,Q.rect.y=I,$+=Q.rect.width+E.horizontalPadding,Q.rect.height>U&&(U=Q.rect.height)}I+=U+E.verticalPadding}},C.prototype.tileCompoundMembers=function(E,$){var I=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(L){var O=$[L];if(I.tiledMemberPack[L]=I.tileNodes(E[L],O.paddingLeft+O.paddingRight),O.rect.width=I.tiledMemberPack[L].width,O.rect.height=I.tiledMemberPack[L].height,O.setCenter(I.tiledMemberPack[L].centerX,I.tiledMemberPack[L].centerY),O.labelMarginLeft=0,O.labelMarginTop=0,f.NODE_DIMENSIONS_INCLUDE_LABELS){var B=O.rect.width,R=O.rect.height;O.labelWidth&&(O.labelPosHorizontal=="left"?(O.rect.x-=O.labelWidth,O.setWidth(B+O.labelWidth),O.labelMarginLeft=O.labelWidth):O.labelPosHorizontal=="center"&&O.labelWidth>B?(O.rect.x-=(O.labelWidth-B)/2,O.setWidth(O.labelWidth),O.labelMarginLeft=(O.labelWidth-B)/2):O.labelPosHorizontal=="right"&&O.setWidth(B+O.labelWidth)),O.labelHeight&&(O.labelPosVertical=="top"?(O.rect.y-=O.labelHeight,O.setHeight(R+O.labelHeight),O.labelMarginTop=O.labelHeight):O.labelPosVertical=="center"&&O.labelHeight>R?(O.rect.y-=(O.labelHeight-R)/2,O.setHeight(O.labelHeight),O.labelMarginTop=(O.labelHeight-R)/2):O.labelPosVertical=="bottom"&&O.setHeight(R+O.labelHeight))}})},C.prototype.tileNodes=function(E,$){var I=this.tileNodesByFavoringDim(E,$,!0),L=this.tileNodesByFavoringDim(E,$,!1),O=this.getOrgRatio(I);return this.getOrgRatio(L)<O?L:I},C.prototype.getOrgRatio=function(E){var $=E.width/E.height;return $<1&&($=1/$),$},C.prototype.calcIdealRowWidth=function(E,$){var I=f.TILING_PADDING_VERTICAL,L=f.TILING_PADDING_HORIZONTAL,O=E.length,B=0,R=0,M=0;E.forEach(function(G){B+=G.getWidth(),R+=G.getHeight(),G.getWidth()>M&&(M=G.getWidth())});var F,P=B/O,U=R/O,W=Math.pow(I-L,2)+4*(P+L)*(U+I)*O,Q=(L-I+Math.sqrt(W))/(2*(P+L));$?(F=Math.ceil(Q))==Q&&F++:F=Math.floor(Q);var K=F*(P+L)-L;return M>K&&(K=M),K+=2*L},C.prototype.tileNodesByFavoringDim=function(E,$,I){var L=f.TILING_PADDING_VERTICAL,O=f.TILING_PADDING_HORIZONTAL,B=f.TILING_COMPARE_BY,R={rows:[],rowWidth:[],rowHeight:[],width:0,height:$,verticalPadding:L,horizontalPadding:O,centerX:0,centerY:0};B&&(R.idealRowWidth=this.calcIdealRowWidth(E,I));var M=function(G){return G.rect.width*G.rect.height},F=function(G,V){return M(V)-M(G)};E.sort(function(G,V){var rt=F;return R.idealRowWidth?(rt=B)(G.id,V.id):rt(G,V)});for(var P=0,U=0,W=0;W<E.length;W++)P+=(Q=E[W]).getCenterX(),U+=Q.getCenterY();for(R.centerX=P/E.length,R.centerY=U/E.length,W=0;W<E.length;W++){var Q=E[W];if(R.rows.length==0)this.insertNodeToRow(R,Q,0,$);else if(this.canAddHorizontal(R,Q.rect.width,Q.rect.height)){var K=R.rows.length-1;R.idealRowWidth||(K=this.getShortestRowIndex(R)),this.insertNodeToRow(R,Q,K,$)}else this.insertNodeToRow(R,Q,R.rows.length,$);this.shiftToLastRow(R)}return R},C.prototype.insertNodeToRow=function(E,$,I,L){var O=L;I==E.rows.length&&(E.rows.push([]),E.rowWidth.push(O),E.rowHeight.push(0));var B=E.rowWidth[I]+$.rect.width;E.rows[I].length>0&&(B+=E.horizontalPadding),E.rowWidth[I]=B,E.width<B&&(E.width=B);var R=$.rect.height;I>0&&(R+=E.verticalPadding);var M=0;R>E.rowHeight[I]&&(M=E.rowHeight[I],E.rowHeight[I]=R,M=E.rowHeight[I]-M),E.height+=M,E.rows[I].push($)},C.prototype.getShortestRowIndex=function(E){for(var $=-1,I=Number.MAX_VALUE,L=0;L<E.rows.length;L++)E.rowWidth[L]<I&&($=L,I=E.rowWidth[L]);return $},C.prototype.getLongestRowIndex=function(E){for(var $=-1,I=Number.MIN_VALUE,L=0;L<E.rows.length;L++)E.rowWidth[L]>I&&($=L,I=E.rowWidth[L]);return $},C.prototype.canAddHorizontal=function(E,$,I){if(E.idealRowWidth){var L=E.rows.length-1;return E.rowWidth[L]+$+E.horizontalPadding<=E.idealRowWidth}var O=this.getShortestRowIndex(E);if(O<0)return!0;var B=E.rowWidth[O];if(B+E.horizontalPadding+$<=E.width)return!0;var R,M,F=0;return E.rowHeight[O]<I&&O>0&&(F=I+E.verticalPadding-E.rowHeight[O]),R=E.width-B>=$+E.horizontalPadding?(E.height+F)/(B+$+E.horizontalPadding):(E.height+F)/E.width,F=I+E.verticalPadding,(M=E.width<$?(E.height+F)/$:(E.height+F)/E.width)<1&&(M=1/M),R<1&&(R=1/R),R<M},C.prototype.shiftToLastRow=function(E){var $=this.getLongestRowIndex(E),I=E.rowWidth.length-1,L=E.rows[$],O=L[L.length-1],B=O.width+E.horizontalPadding;if(E.width-E.rowWidth[I]>B&&$!=I){L.splice(-1,1),E.rows[I].push(O),E.rowWidth[$]=E.rowWidth[$]-B,E.rowWidth[I]=E.rowWidth[I]+B,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var R=Number.MIN_VALUE,M=0;M<L.length;M++)L[M].height>R&&(R=L[M].height);$>0&&(R+=E.verticalPadding);var F=E.rowHeight[$]+E.rowHeight[I];E.rowHeight[$]=R,E.rowHeight[I]<O.height+E.verticalPadding&&(E.rowHeight[I]=O.height+E.verticalPadding);var P=E.rowHeight[$]+E.rowHeight[I];E.height+=P-F,this.shiftToLastRow(E)}},C.prototype.tilingPreLayout=function(){f.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},C.prototype.tilingPostLayout=function(){f.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},C.prototype.reduceTrees=function(){for(var E,$=[],I=!0;I;){var L=this.graphManager.getAllNodes(),O=[];I=!1;for(var B=0;B<L.length;B++)if((E=L[B]).getEdges().length==1&&!E.getEdges()[0].isInterGraph&&E.getChild()==null){if(f.PURE_INCREMENTAL){var R=E.getEdges()[0].getOtherEnd(E),M=new b(E.getCenterX()-R.getCenterX(),E.getCenterY()-R.getCenterY());O.push([E,E.getEdges()[0],E.getOwner(),M])}else O.push([E,E.getEdges()[0],E.getOwner()]);I=!0}if(I==1){for(var F=[],P=0;P<O.length;P++)O[P][0].getEdges().length==1&&(F.push(O[P]),O[P][0].getOwner().remove(O[P][0]));$.push(F),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=$},C.prototype.growTree=function(E){for(var $,I=E[E.length-1],L=0;L<I.length;L++)$=I[L],this.findPlaceforPrunedNode($),$[2].add($[0]),$[2].add($[1],$[1].source,$[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},C.prototype.findPlaceforPrunedNode=function(E){var $,I,L=E[0];if(I=L==E[1].source?E[1].target:E[1].source,f.PURE_INCREMENTAL)L.setCenter(I.getCenterX()+E[3].getWidth(),I.getCenterY()+E[3].getHeight());else{var O=I.startX,B=I.finishX,R=I.startY,M=I.finishY,F=[0,0,0,0];if(R>0)for(var P=O;P<=B;P++)F[0]+=this.grid[P][R-1].length+this.grid[P][R].length-1;if(B<this.grid.length-1)for(P=R;P<=M;P++)F[1]+=this.grid[B+1][P].length+this.grid[B][P].length-1;if(M<this.grid[0].length-1)for(P=O;P<=B;P++)F[2]+=this.grid[P][M+1].length+this.grid[P][M].length-1;if(O>0)for(P=R;P<=M;P++)F[3]+=this.grid[O-1][P].length+this.grid[O][P].length-1;for(var U,W,Q=N.MAX_VALUE,K=0;K<F.length;K++)F[K]<Q?(Q=F[K],U=1,W=K):F[K]==Q&&U++;if(U==3&&Q==0)F[0]==0&&F[1]==0&&F[2]==0?$=1:F[0]==0&&F[1]==0&&F[3]==0?$=0:F[0]==0&&F[2]==0&&F[3]==0?$=3:F[1]==0&&F[2]==0&&F[3]==0&&($=2);else if(U==2&&Q==0){var G=Math.floor(2*Math.random());$=F[0]==0&&F[1]==0?G==0?0:1:F[0]==0&&F[2]==0?G==0?0:2:F[0]==0&&F[3]==0?G==0?0:3:F[1]==0&&F[2]==0?G==0?1:2:F[1]==0&&F[3]==0?G==0?1:3:G==0?2:3}else $=U==4&&Q==0?G=Math.floor(4*Math.random()):W;$==0?L.setCenter(I.getCenterX(),I.getCenterY()-I.getHeight()/2-m.DEFAULT_EDGE_LENGTH-L.getHeight()/2):$==1?L.setCenter(I.getCenterX()+I.getWidth()/2+m.DEFAULT_EDGE_LENGTH+L.getWidth()/2,I.getCenterY()):$==2?L.setCenter(I.getCenterX(),I.getCenterY()+I.getHeight()/2+m.DEFAULT_EDGE_LENGTH+L.getHeight()/2):L.setCenter(I.getCenterX()-I.getWidth()/2-m.DEFAULT_EDGE_LENGTH-L.getWidth()/2,I.getCenterY())}},o.exports=C},991:(o,a,s)=>{var l=s(551).FDLayoutNode,u=s(551).IMath;function h(p,f,g,m){l.call(this,p,f,g,m)}for(var d in h.prototype=Object.create(l.prototype),l)h[d]=l[d];h.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*u.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*u.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},h.prototype.propogateDisplacementToChildren=function(p,f){for(var g,m=this.getChild().getNodes(),y=0;y<m.length;y++)(g=m[y]).getChild()==null?(g.displacementX+=p,g.displacementY+=f):g.propogateDisplacementToChildren(p,f)},h.prototype.move=function(){var p=this.graphManager.getLayout();this.child!=null&&this.child.getNodes().length!=0||(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},h.prototype.setPred1=function(p){this.pred1=p},h.prototype.getPred1=function(){return pred1},h.prototype.getPred2=function(){return pred2},h.prototype.setNext=function(p){this.next=p},h.prototype.getNext=function(){return next},h.prototype.setProcessed=function(p){this.processed=p},h.prototype.isProcessed=function(){return processed},o.exports=h},902:(o,a,s)=>{function l(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}return Array.from(g)}var u=s(806),h=s(551).LinkedList,d=s(551).Matrix,p=s(551).SVD;function f(){}f.handleConstraints=function(g){var m={};m.fixedNodeConstraint=g.constraints.fixedNodeConstraint,m.alignmentConstraint=g.constraints.alignmentConstraint,m.relativePlacementConstraint=g.constraints.relativePlacementConstraint;for(var y=new Map,v=new Map,x=[],b=[],k=g.getAllNodes(),N=0,_=0;_<k.length;_++){var S=k[_];S.getChild()==null&&(v.set(S.id,N++),x.push(S.getCenterX()),b.push(S.getCenterY()),y.set(S.id,S))}m.relativePlacementConstraint&&m.relativePlacementConstraint.forEach(function(ot){ot.gap||ot.gap==0||(ot.left?ot.gap=u.DEFAULT_EDGE_LENGTH+y.get(ot.left).getWidth()/2+y.get(ot.right).getWidth()/2:ot.gap=u.DEFAULT_EDGE_LENGTH+y.get(ot.top).getHeight()/2+y.get(ot.bottom).getHeight()/2)});var T=function(ot){var Y=0,Ot=0;return ot.forEach(function(nt){Y+=x[v.get(nt)],Ot+=b[v.get(nt)]}),{x:Y/ot.size,y:Ot/ot.size}},A=function(ot,Y,Ot,nt,Ut){var Ft=new Map;ot.forEach(function(Kt,Xt){Ft.set(Xt,0)}),ot.forEach(function(Kt,Xt){Kt.forEach(function(pe){Ft.set(pe.id,Ft.get(pe.id)+1)})});var qt=new Map,Wt=new Map,Ht=new h;Ft.forEach(function(Kt,Xt){Kt==0?(Ht.push(Xt),Ot||(Y=="horizontal"?qt.set(Xt,v.has(Xt)?x[v.get(Xt)]:nt.get(Xt)):qt.set(Xt,v.has(Xt)?b[v.get(Xt)]:nt.get(Xt)))):qt.set(Xt,Number.NEGATIVE_INFINITY),Ot&&Wt.set(Xt,new Set([Xt]))}),Ot&&Ut.forEach(function(Kt){var Xt=[];if(Kt.forEach(function(ge){Ot.has(ge)&&Xt.push(ge)}),Xt.length>0){var pe=0;Xt.forEach(function(ge){Y=="horizontal"?(qt.set(ge,v.has(ge)?x[v.get(ge)]:nt.get(ge)),pe+=qt.get(ge)):(qt.set(ge,v.has(ge)?b[v.get(ge)]:nt.get(ge)),pe+=qt.get(ge))}),pe/=Xt.length,Kt.forEach(function(ge){Ot.has(ge)||qt.set(ge,pe)})}else{var de=0;Kt.forEach(function(ge){de+=Y=="horizontal"?v.has(ge)?x[v.get(ge)]:nt.get(ge):v.has(ge)?b[v.get(ge)]:nt.get(ge)}),de/=Kt.length,Kt.forEach(function(ge){qt.set(ge,de)})}});for(var Xe=function(){var Kt=Ht.shift();ot.get(Kt).forEach(function(Xt){if(qt.get(Xt.id)<qt.get(Kt)+Xt.gap)if(Ot&&Ot.has(Xt.id)){var pe=void 0;if(pe=Y=="horizontal"?v.has(Xt.id)?x[v.get(Xt.id)]:nt.get(Xt.id):v.has(Xt.id)?b[v.get(Xt.id)]:nt.get(Xt.id),qt.set(Xt.id,pe),pe<qt.get(Kt)+Xt.gap){var de=qt.get(Kt)+Xt.gap-pe;Wt.get(Kt).forEach(function(ge){qt.set(ge,qt.get(ge)-de)})}}else qt.set(Xt.id,qt.get(Kt)+Xt.gap);Ft.set(Xt.id,Ft.get(Xt.id)-1),Ft.get(Xt.id)==0&&Ht.push(Xt.id),Ot&&Wt.set(Xt.id,function(ge,pr){var Ne=new Set(ge),Ze=!0,ke=!1,Ce=void 0;try{for(var be,Zt=pr[Symbol.iterator]();!(Ze=(be=Zt.next()).done);Ze=!0){var Le=be.value;Ne.add(Le)}}catch(Re){ke=!0,Ce=Re}finally{try{!Ze&&Zt.return&&Zt.return()}finally{if(ke)throw Ce}}return Ne}(Wt.get(Kt),Wt.get(Xt.id)))})};Ht.length!=0;)Xe();if(Ot){var Vt=new Set;ot.forEach(function(Kt,Xt){Kt.length==0&&Vt.add(Xt)});var xe=[];Wt.forEach(function(Kt,Xt){if(Vt.has(Xt)){var pe=!1,de=!0,ge=!1,pr=void 0;try{for(var Ne,Ze=Kt[Symbol.iterator]();!(de=(Ne=Ze.next()).done);de=!0){var ke=Ne.value;Ot.has(ke)&&(pe=!0)}}catch(Zt){ge=!0,pr=Zt}finally{try{!de&&Ze.return&&Ze.return()}finally{if(ge)throw pr}}if(!pe){var Ce=!1,be=void 0;xe.forEach(function(Zt,Le){Zt.has([].concat(l(Kt))[0])&&(Ce=!0,be=Le)}),Ce?Kt.forEach(function(Zt){xe[be].add(Zt)}):xe.push(new Set(Kt))}}}),xe.forEach(function(Kt,Xt){var pe=Number.POSITIVE_INFINITY,de=Number.POSITIVE_INFINITY,ge=Number.NEGATIVE_INFINITY,pr=Number.NEGATIVE_INFINITY,Ne=!0,Ze=!1,ke=void 0;try{for(var Ce,be=Kt[Symbol.iterator]();!(Ne=(Ce=be.next()).done);Ne=!0){var Zt=Ce.value,Le=void 0;Le=Y=="horizontal"?v.has(Zt)?x[v.get(Zt)]:nt.get(Zt):v.has(Zt)?b[v.get(Zt)]:nt.get(Zt);var Re=qt.get(Zt);Le<pe&&(pe=Le),Le>ge&&(ge=Le),Re<de&&(de=Re),Re>pr&&(pr=Re)}}catch(pi){Ze=!0,ke=pi}finally{try{!Ne&&be.return&&be.return()}finally{if(Ze)throw ke}}var hn=(pe+ge)/2-(de+pr)/2,nr=!0,dn=!1,Wn=void 0;try{for(var zr,ri=Kt[Symbol.iterator]();!(nr=(zr=ri.next()).done);nr=!0){var Xi=zr.value;qt.set(Xi,qt.get(Xi)+hn)}}catch(pi){dn=!0,Wn=pi}finally{try{!nr&&ri.return&&ri.return()}finally{if(dn)throw Wn}}})}return qt},C=function(ot){var Y=0,Ot=0,nt=0,Ut=0;if(ot.forEach(function(Ht){Ht.left?x[v.get(Ht.left)]-x[v.get(Ht.right)]>=0?Y++:Ot++:b[v.get(Ht.top)]-b[v.get(Ht.bottom)]>=0?nt++:Ut++}),Y>Ot&&nt>Ut)for(var Ft=0;Ft<v.size;Ft++)x[Ft]=-1*x[Ft],b[Ft]=-1*b[Ft];else if(Y>Ot)for(var qt=0;qt<v.size;qt++)x[qt]=-1*x[qt];else if(nt>Ut)for(var Wt=0;Wt<v.size;Wt++)b[Wt]=-1*b[Wt]},D=function(ot){var Y=[],Ot=new h,nt=new Set,Ut=0;return ot.forEach(function(Ft,qt){if(!nt.has(qt)){Y[Ut]=[];var Wt=qt;for(Ot.push(Wt),nt.add(Wt),Y[Ut].push(Wt);Ot.length!=0;)Wt=Ot.shift(),ot.get(Wt).forEach(function(Ht){nt.has(Ht.id)||(Ot.push(Ht.id),nt.add(Ht.id),Y[Ut].push(Ht.id))});Ut++}}),Y},E=function(ot){var Y=new Map;return ot.forEach(function(Ot,nt){Y.set(nt,[])}),ot.forEach(function(Ot,nt){Ot.forEach(function(Ut){Y.get(nt).push(Ut),Y.get(Ut.id).push({id:nt,gap:Ut.gap,direction:Ut.direction})})}),Y},$=function(ot){var Y=new Map;return ot.forEach(function(Ot,nt){Y.set(nt,[])}),ot.forEach(function(Ot,nt){Ot.forEach(function(Ut){Y.get(Ut.id).push({id:nt,gap:Ut.gap,direction:Ut.direction})})}),Y},I=[],L=[],O=!1,B=!1,R=new Set,M=new Map,F=new Map,P=[];if(m.fixedNodeConstraint&&m.fixedNodeConstraint.forEach(function(ot){R.add(ot.nodeId)}),m.relativePlacementConstraint&&(m.relativePlacementConstraint.forEach(function(ot){ot.left?(M.has(ot.left)?M.get(ot.left).push({id:ot.right,gap:ot.gap,direction:"horizontal"}):M.set(ot.left,[{id:ot.right,gap:ot.gap,direction:"horizontal"}]),M.has(ot.right)||M.set(ot.right,[])):(M.has(ot.top)?M.get(ot.top).push({id:ot.bottom,gap:ot.gap,direction:"vertical"}):M.set(ot.top,[{id:ot.bottom,gap:ot.gap,direction:"vertical"}]),M.has(ot.bottom)||M.set(ot.bottom,[]))}),F=E(M),P=D(F)),u.TRANSFORM_ON_CONSTRAINT_HANDLING){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>1)m.fixedNodeConstraint.forEach(function(ot,Y){I[Y]=[ot.position.x,ot.position.y],L[Y]=[x[v.get(ot.nodeId)],b[v.get(ot.nodeId)]]}),O=!0;else if(m.alignmentConstraint)(function(){var ot=0;if(m.alignmentConstraint.vertical){for(var Y=m.alignmentConstraint.vertical,Ot=function(Wt){var Ht=new Set;Y[Wt].forEach(function(xe){Ht.add(xe)});var Xe=new Set([].concat(l(Ht)).filter(function(xe){return R.has(xe)})),Vt=void 0;Vt=Xe.size>0?x[v.get(Xe.values().next().value)]:T(Ht).x,Y[Wt].forEach(function(xe){I[ot]=[Vt,b[v.get(xe)]],L[ot]=[x[v.get(xe)],b[v.get(xe)]],ot++})},nt=0;nt<Y.length;nt++)Ot(nt);O=!0}if(m.alignmentConstraint.horizontal){for(var Ut=m.alignmentConstraint.horizontal,Ft=function(Wt){var Ht=new Set;Ut[Wt].forEach(function(xe){Ht.add(xe)});var Xe=new Set([].concat(l(Ht)).filter(function(xe){return R.has(xe)})),Vt=void 0;Vt=Xe.size>0?x[v.get(Xe.values().next().value)]:T(Ht).y,Ut[Wt].forEach(function(xe){I[ot]=[x[v.get(xe)],Vt],L[ot]=[x[v.get(xe)],b[v.get(xe)]],ot++})},qt=0;qt<Ut.length;qt++)Ft(qt);O=!0}m.relativePlacementConstraint&&(B=!0)})();else if(m.relativePlacementConstraint){for(var U=0,W=0,Q=0;Q<P.length;Q++)P[Q].length>U&&(U=P[Q].length,W=Q);if(U<F.size/2)C(m.relativePlacementConstraint),O=!1,B=!1;else{var K=new Map,G=new Map,V=[];P[W].forEach(function(ot){M.get(ot).forEach(function(Y){Y.direction=="horizontal"?(K.has(ot)?K.get(ot).push(Y):K.set(ot,[Y]),K.has(Y.id)||K.set(Y.id,[]),V.push({left:ot,right:Y.id})):(G.has(ot)?G.get(ot).push(Y):G.set(ot,[Y]),G.has(Y.id)||G.set(Y.id,[]),V.push({top:ot,bottom:Y.id}))})}),C(V),B=!1;var rt=A(K,"horizontal"),tt=A(G,"vertical");P[W].forEach(function(ot,Y){L[Y]=[x[v.get(ot)],b[v.get(ot)]],I[Y]=[],rt.has(ot)?I[Y][0]=rt.get(ot):I[Y][0]=x[v.get(ot)],tt.has(ot)?I[Y][1]=tt.get(ot):I[Y][1]=b[v.get(ot)]}),O=!0}}if(O){for(var at,ut=d.transpose(I),st=d.transpose(L),_t=0;_t<ut.length;_t++)ut[_t]=d.multGamma(ut[_t]),st[_t]=d.multGamma(st[_t]);var X=d.multMat(ut,d.transpose(st)),Et=p.svd(X);at=d.multMat(Et.V,d.transpose(Et.U));for(var H=0;H<v.size;H++){var ct=[x[H],b[H]],dt=[at[0][0],at[1][0]],Nt=[at[0][1],at[1][1]];x[H]=d.dotProduct(ct,dt),b[H]=d.dotProduct(ct,Nt)}B&&C(m.relativePlacementConstraint)}}if(u.ENFORCE_CONSTRAINTS){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>0){var ft={x:0,y:0};m.fixedNodeConstraint.forEach(function(ot,Y){var Ot,nt,Ut={x:x[v.get(ot.nodeId)],y:b[v.get(ot.nodeId)]},Ft=ot.position,qt=(nt=Ut,{x:(Ot=Ft).x-nt.x,y:Ot.y-nt.y});ft.x+=qt.x,ft.y+=qt.y}),ft.x/=m.fixedNodeConstraint.length,ft.y/=m.fixedNodeConstraint.length,x.forEach(function(ot,Y){x[Y]+=ft.x}),b.forEach(function(ot,Y){b[Y]+=ft.y}),m.fixedNodeConstraint.forEach(function(ot){x[v.get(ot.nodeId)]=ot.position.x,b[v.get(ot.nodeId)]=ot.position.y})}if(m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var Dt=m.alignmentConstraint.vertical,$t=function(ot){var Y=new Set;Dt[ot].forEach(function(Ut){Y.add(Ut)});var Ot=new Set([].concat(l(Y)).filter(function(Ut){return R.has(Ut)})),nt=void 0;nt=Ot.size>0?x[v.get(Ot.values().next().value)]:T(Y).x,Y.forEach(function(Ut){R.has(Ut)||(x[v.get(Ut)]=nt)})},mt=0;mt<Dt.length;mt++)$t(mt);if(m.alignmentConstraint.horizontal)for(var It=m.alignmentConstraint.horizontal,gt=function(ot){var Y=new Set;It[ot].forEach(function(Ut){Y.add(Ut)});var Ot=new Set([].concat(l(Y)).filter(function(Ut){return R.has(Ut)})),nt=void 0;nt=Ot.size>0?b[v.get(Ot.values().next().value)]:T(Y).y,Y.forEach(function(Ut){R.has(Ut)||(b[v.get(Ut)]=nt)})},xt=0;xt<It.length;xt++)gt(xt)}m.relativePlacementConstraint&&function(){var ot=new Map,Y=new Map,Ot=new Map,nt=new Map,Ut=new Map,Ft=new Map,qt=new Set,Wt=new Set;if(R.forEach(function(Yt){qt.add(Yt),Wt.add(Yt)}),m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var Ht=m.alignmentConstraint.vertical,Xe=function(Yt){Ot.set("dummy"+Yt,[]),Ht[Yt].forEach(function(Ie){ot.set(Ie,"dummy"+Yt),Ot.get("dummy"+Yt).push(Ie),R.has(Ie)&&qt.add("dummy"+Yt)}),Ut.set("dummy"+Yt,x[v.get(Ht[Yt][0])])},Vt=0;Vt<Ht.length;Vt++)Xe(Vt);if(m.alignmentConstraint.horizontal)for(var xe=m.alignmentConstraint.horizontal,Kt=function(Yt){nt.set("dummy"+Yt,[]),xe[Yt].forEach(function(Ie){Y.set(Ie,"dummy"+Yt),nt.get("dummy"+Yt).push(Ie),R.has(Ie)&&Wt.add("dummy"+Yt)}),Ft.set("dummy"+Yt,b[v.get(xe[Yt][0])])},Xt=0;Xt<xe.length;Xt++)Kt(Xt)}var pe=new Map,de=new Map,ge=function(Yt){M.get(Yt).forEach(function(Ie){var qe=void 0,ie=void 0;Ie.direction=="horizontal"?(qe=ot.get(Yt)?ot.get(Yt):Yt,ie=ot.get(Ie.id)?{id:ot.get(Ie.id),gap:Ie.gap,direction:Ie.direction}:Ie,pe.has(qe)?pe.get(qe).push(ie):pe.set(qe,[ie]),pe.has(ie.id)||pe.set(ie.id,[])):(qe=Y.get(Yt)?Y.get(Yt):Yt,ie=Y.get(Ie.id)?{id:Y.get(Ie.id),gap:Ie.gap,direction:Ie.direction}:Ie,de.has(qe)?de.get(qe).push(ie):de.set(qe,[ie]),de.has(ie.id)||de.set(ie.id,[]))})},pr=!0,Ne=!1,Ze=void 0;try{for(var ke,Ce=M.keys()[Symbol.iterator]();!(pr=(ke=Ce.next()).done);pr=!0)ge(ke.value)}catch(Yt){Ne=!0,Ze=Yt}finally{try{!pr&&Ce.return&&Ce.return()}finally{if(Ne)throw Ze}}var be=E(pe),Zt=E(de),Le=D(be),Re=D(Zt),hn=$(pe),nr=$(de),dn=[],Wn=[];Le.forEach(function(Yt,Ie){dn[Ie]=[],Yt.forEach(function(qe){hn.get(qe).length==0&&dn[Ie].push(qe)})}),Re.forEach(function(Yt,Ie){Wn[Ie]=[],Yt.forEach(function(qe){nr.get(qe).length==0&&Wn[Ie].push(qe)})});var zr=A(pe,"horizontal",qt,Ut,dn),ri=A(de,"vertical",Wt,Ft,Wn),Xi=function(Yt){Ot.get(Yt)?Ot.get(Yt).forEach(function(Ie){x[v.get(Ie)]=zr.get(Yt)}):x[v.get(Yt)]=zr.get(Yt)},pi=!0,At=!1,Se=void 0;try{for(var fe,ir=zr.keys()[Symbol.iterator]();!(pi=(fe=ir.next()).done);pi=!0)Xi(fe.value)}catch(Yt){At=!0,Se=Yt}finally{try{!pi&&ir.return&&ir.return()}finally{if(At)throw Se}}var br=function(Yt){nt.get(Yt)?nt.get(Yt).forEach(function(Ie){b[v.get(Ie)]=ri.get(Yt)}):b[v.get(Yt)]=ri.get(Yt)},fr=!0,Dr=!1,ho=void 0;try{for(var Do,_n=ri.keys()[Symbol.iterator]();!(fr=(Do=_n.next()).done);fr=!0)br(Do.value)}catch(Yt){Dr=!0,ho=Yt}finally{try{!fr&&_n.return&&_n.return()}finally{if(Dr)throw ho}}}()}for(var Ct=0;Ct<k.length;Ct++){var lt=k[Ct];lt.getChild()==null&&lt.setCenter(x[v.get(lt.id)],b[v.get(lt.id)])}},o.exports=f},551:o=>{o.exports=e}},n={},i=function o(a){var s=n[a];if(s!==void 0)return s.exports;var l=n[a]={exports:{}};return r[a](l,l.exports,o),l.exports}(45),i;var r,n,i},sU.exports=t(XZt())),sU.exports;var t}var hU;hU=function(t){return e={658:i=>{i.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var a=arguments.length,s=Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return s.forEach(function(u){Object.keys(u).forEach(function(h){return o[h]=u[h]})}),o}},548:(i,o,a)=>{var s=function(h,d){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return function(p,f){var g=[],m=!0,y=!1,v=void 0;try{for(var x,b=p[Symbol.iterator]();!(m=(x=b.next()).done)&&(g.push(x.value),!f||g.length!==f);m=!0);}catch(k){y=!0,v=k}finally{try{!m&&b.return&&b.return()}finally{if(y)throw v}}return g}(h,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=a(140).layoutBase.LinkedList,u={getTopMostNodes:function(h){for(var d={},p=0;p<h.length;p++)d[h[p].id()]=!0;var f=h.filter(function(g,m){typeof g=="number"&&(g=m);for(var y=g.parent()[0];y!=null;){if(d[y.id()])return!1;y=y.parent()[0]}return!0});return f},connectComponents:function(h,d,p,f){var g=new l,m=new Set,y=[],v=void 0,x=void 0,b=void 0,k=!1,N=1,_=[],S=[],T=function(){var A=h.collection();S.push(A);var C=p[0],D=h.collection();D.merge(C).merge(C.descendants().intersection(d)),y.push(C),D.forEach(function(I){g.push(I),m.add(I),A.merge(I)});for(var E=function(){C=g.shift();var I=h.collection();C.neighborhood().nodes().forEach(function(B){d.intersection(C.edgesWith(B)).length>0&&I.merge(B)});for(var L=0;L<I.length;L++){var O=I[L];(v=p.intersection(O.union(O.ancestors())))==null||m.has(v[0])||v.union(v.descendants()).forEach(function(B){g.push(B),m.add(B),A.merge(B),p.has(B)&&y.push(B)})}};g.length!=0;)E();if(A.forEach(function(I){d.intersection(I.connectedEdges()).forEach(function(L){A.has(L.source())&&A.has(L.target())&&A.merge(L)})}),y.length==p.length&&(k=!0),!k||k&&N>1){x=y[0],b=x.connectedEdges().length,y.forEach(function(I){I.connectedEdges().length<b&&(b=I.connectedEdges().length,x=I)}),_.push(x.id());var $=h.collection();$.merge(y[0]),y.forEach(function(I){$.merge(I)}),y=[],p=p.difference($),N++}};do T();while(!k);return f&&_.length>0&&f.set("dummy"+(f.size+1),_),S},relocateComponent:function(h,d,p){if(!p.fixedNodeConstraint){var f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;if(p.quality=="draft"){var v=!0,x=!1,b=void 0;try{for(var k,N=d.nodeIndexes[Symbol.iterator]();!(v=(k=N.next()).done);v=!0){var _=k.value,S=s(_,2),T=S[0],A=S[1],C=p.cy.getElementById(T);if(C){var D=C.boundingBox(),E=d.xCoords[A]-D.w/2,$=d.xCoords[A]+D.w/2,I=d.yCoords[A]-D.h/2,L=d.yCoords[A]+D.h/2;E<f&&(f=E),$>g&&(g=$),I<m&&(m=I),L>y&&(y=L)}}}catch(F){x=!0,b=F}finally{try{!v&&N.return&&N.return()}finally{if(x)throw b}}var O=h.x-(g+f)/2,B=h.y-(y+m)/2;d.xCoords=d.xCoords.map(function(F){return F+O}),d.yCoords=d.yCoords.map(function(F){return F+B})}else{Object.keys(d).forEach(function(F){var P=d[F],U=P.getRect().x,W=P.getRect().x+P.getRect().width,Q=P.getRect().y,K=P.getRect().y+P.getRect().height;U<f&&(f=U),W>g&&(g=W),Q<m&&(m=Q),K>y&&(y=K)});var R=h.x-(g+f)/2,M=h.y-(y+m)/2;Object.keys(d).forEach(function(F){var P=d[F];P.setCenter(P.getCenterX()+R,P.getCenterY()+M)})}}},calcBoundingBox:function(h,d,p,f){for(var g=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,x=void 0,b=void 0,k=void 0,N=void 0,_=h.descendants().not(":parent"),S=_.length,T=0;T<S;T++){var A=_[T];g>(x=d[f.get(A.id())]-A.width()/2)&&(g=x),m<(b=d[f.get(A.id())]+A.width()/2)&&(m=b),y>(k=p[f.get(A.id())]-A.height()/2)&&(y=k),v<(N=p[f.get(A.id())]+A.height()/2)&&(v=N)}var C={};return C.topLeftX=g,C.topLeftY=y,C.width=m-g,C.height=v-y,C},calcParentsWithoutChildren:function(h,d){var p=h.collection();return d.nodes(":parent").forEach(function(f){var g=!1;f.children().forEach(function(m){m.css("display")!="none"&&(g=!0)}),g||p.merge(f)}),p}};i.exports=u},816:(i,o,a)=>{var s=a(548),l=a(140).CoSELayout,u=a(140).CoSENode,h=a(140).layoutBase.PointD,d=a(140).layoutBase.DimensionD,p=a(140).layoutBase.LayoutConstants,f=a(140).layoutBase.FDLayoutConstants,g=a(140).CoSEConstants;i.exports={coseLayout:function(m,y){var v=m.cy,x=m.eles,b=x.nodes(),k=x.edges(),N=void 0,_=void 0,S=void 0,T={};m.randomize&&(N=y.nodeIndexes,_=y.xCoords,S=y.yCoords);var A=function(I){return typeof I=="function"},C=function(I,L){return A(I)?I(L):I},D=s.calcParentsWithoutChildren(v,x);m.nestingFactor!=null&&(g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=f.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=m.nestingFactor),m.gravity!=null&&(g.DEFAULT_GRAVITY_STRENGTH=f.DEFAULT_GRAVITY_STRENGTH=m.gravity),m.numIter!=null&&(g.MAX_ITERATIONS=f.MAX_ITERATIONS=m.numIter),m.gravityRange!=null&&(g.DEFAULT_GRAVITY_RANGE_FACTOR=f.DEFAULT_GRAVITY_RANGE_FACTOR=m.gravityRange),m.gravityCompound!=null&&(g.DEFAULT_COMPOUND_GRAVITY_STRENGTH=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH=m.gravityCompound),m.gravityRangeCompound!=null&&(g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=m.gravityRangeCompound),m.initialEnergyOnIncremental!=null&&(g.DEFAULT_COOLING_FACTOR_INCREMENTAL=f.DEFAULT_COOLING_FACTOR_INCREMENTAL=m.initialEnergyOnIncremental),m.tilingCompareBy!=null&&(g.TILING_COMPARE_BY=m.tilingCompareBy),m.quality=="proof"?p.QUALITY=2:p.QUALITY=0,g.NODE_DIMENSIONS_INCLUDE_LABELS=f.NODE_DIMENSIONS_INCLUDE_LABELS=p.NODE_DIMENSIONS_INCLUDE_LABELS=m.nodeDimensionsIncludeLabels,g.DEFAULT_INCREMENTAL=f.DEFAULT_INCREMENTAL=p.DEFAULT_INCREMENTAL=!m.randomize,g.ANIMATE=f.ANIMATE=p.ANIMATE=m.animate,g.TILE=m.tile,g.TILING_PADDING_VERTICAL=typeof m.tilingPaddingVertical=="function"?m.tilingPaddingVertical.call():m.tilingPaddingVertical,g.TILING_PADDING_HORIZONTAL=typeof m.tilingPaddingHorizontal=="function"?m.tilingPaddingHorizontal.call():m.tilingPaddingHorizontal,g.DEFAULT_INCREMENTAL=f.DEFAULT_INCREMENTAL=p.DEFAULT_INCREMENTAL=!0,g.PURE_INCREMENTAL=!m.randomize,p.DEFAULT_UNIFORM_LEAF_NODE_SIZES=m.uniformNodeDimensions,m.step=="transformed"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,g.ENFORCE_CONSTRAINTS=!1,g.APPLY_LAYOUT=!1),m.step=="enforced"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!1),m.step=="cose"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!1,g.APPLY_LAYOUT=!0),m.step=="all"&&(m.randomize?g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!0),m.fixedNodeConstraint||m.alignmentConstraint||m.relativePlacementConstraint?g.TREE_REDUCTION_ON_INCREMENTAL=!1:g.TREE_REDUCTION_ON_INCREMENTAL=!0;var E=new l,$=E.newGraphManager();return function I(L,O,B,R){for(var M=O.length,F=0;F<M;F++){var P=O[F],U=null;P.intersection(D).length==0&&(U=P.children());var W=void 0,Q=P.layoutDimensions({nodeDimensionsIncludeLabels:R.nodeDimensionsIncludeLabels});if(P.outerWidth()!=null&&P.outerHeight()!=null)if(R.randomize)if(P.isParent()){var K=s.calcBoundingBox(P,_,S,N);W=P.intersection(D).length==0?L.add(new u(B.graphManager,new h(K.topLeftX,K.topLeftY),new d(K.width,K.height))):L.add(new u(B.graphManager,new h(K.topLeftX,K.topLeftY),new d(parseFloat(Q.w),parseFloat(Q.h))))}else W=L.add(new u(B.graphManager,new h(_[N.get(P.id())]-Q.w/2,S[N.get(P.id())]-Q.h/2),new d(parseFloat(Q.w),parseFloat(Q.h))));else W=L.add(new u(B.graphManager,new h(P.position("x")-Q.w/2,P.position("y")-Q.h/2),new d(parseFloat(Q.w),parseFloat(Q.h))));else W=L.add(new u(this.graphManager));W.id=P.data("id"),W.nodeRepulsion=C(R.nodeRepulsion,P),W.paddingLeft=parseInt(P.css("padding")),W.paddingTop=parseInt(P.css("padding")),W.paddingRight=parseInt(P.css("padding")),W.paddingBottom=parseInt(P.css("padding")),R.nodeDimensionsIncludeLabels&&(W.labelWidth=P.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,W.labelHeight=P.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,W.labelPosVertical=P.css("text-valign"),W.labelPosHorizontal=P.css("text-halign")),T[P.data("id")]=W,isNaN(W.rect.x)&&(W.rect.x=0),isNaN(W.rect.y)&&(W.rect.y=0),U!=null&&U.length>0&&I(B.getGraphManager().add(B.newGraph(),W),U,B,R)}}($.addRoot(),s.getTopMostNodes(b),E,m),function(I,L,O){for(var B=0,R=0,M=0;M<O.length;M++){var F=O[M],P=T[F.data("source")],U=T[F.data("target")];if(P&&U&&P!==U&&P.getEdgesBetween(U).length==0){var W=L.add(I.newEdge(),P,U);W.id=F.id(),W.idealLength=C(m.idealEdgeLength,F),W.edgeElasticity=C(m.edgeElasticity,F),B+=W.idealLength,R++}}m.idealEdgeLength!=null&&(R>0?g.DEFAULT_EDGE_LENGTH=f.DEFAULT_EDGE_LENGTH=B/R:A(m.idealEdgeLength)?g.DEFAULT_EDGE_LENGTH=f.DEFAULT_EDGE_LENGTH=50:g.DEFAULT_EDGE_LENGTH=f.DEFAULT_EDGE_LENGTH=m.idealEdgeLength,g.MIN_REPULSION_DIST=f.MIN_REPULSION_DIST=f.DEFAULT_EDGE_LENGTH/10,g.DEFAULT_RADIAL_SEPARATION=f.DEFAULT_EDGE_LENGTH)}(E,$,k),function(I,L){L.fixedNodeConstraint&&(I.constraints.fixedNodeConstraint=L.fixedNodeConstraint),L.alignmentConstraint&&(I.constraints.alignmentConstraint=L.alignmentConstraint),L.relativePlacementConstraint&&(I.constraints.relativePlacementConstraint=L.relativePlacementConstraint)}(E,m),E.runLayout(),T}}},212:(i,o,a)=>{var s=function(){function g(m,y){for(var v=0;v<y.length;v++){var x=y[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,v){return y&&g(m.prototype,y),v&&g(m,v),m}}(),l=a(658),u=a(548),h=a(657).spectralLayout,d=a(816).coseLayout,p=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(g){return 4500},idealEdgeLength:function(g){return 50},edgeElasticity:function(g){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),f=function(){function g(m){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g),this.options=l({},p,m)}return s(g,[{key:"run",value:function(){var m=this.options,y=m.cy,v=m.eles,x=[],b=[],k=void 0,N=[];!m.fixedNodeConstraint||Array.isArray(m.fixedNodeConstraint)&&m.fixedNodeConstraint.length!=0||(m.fixedNodeConstraint=void 0),m.alignmentConstraint&&(!m.alignmentConstraint.vertical||Array.isArray(m.alignmentConstraint.vertical)&&m.alignmentConstraint.vertical.length!=0||(m.alignmentConstraint.vertical=void 0),!m.alignmentConstraint.horizontal||Array.isArray(m.alignmentConstraint.horizontal)&&m.alignmentConstraint.horizontal.length!=0||(m.alignmentConstraint.horizontal=void 0)),!m.relativePlacementConstraint||Array.isArray(m.relativePlacementConstraint)&&m.relativePlacementConstraint.length!=0||(m.relativePlacementConstraint=void 0),(m.fixedNodeConstraint||m.alignmentConstraint||m.relativePlacementConstraint)&&(m.tile=!1,m.packComponents=!1);var _=void 0,S=!1;if(y.layoutUtilities&&m.packComponents&&((_=y.layoutUtilities("get"))||(_=y.layoutUtilities()),S=!0),v.nodes().length>0)if(S){var T=u.getTopMostNodes(m.eles.nodes());if((k=u.connectComponents(y,m.eles,T)).forEach(function(G){var V=G.boundingBox();N.push({x:V.x1+V.w/2,y:V.y1+V.h/2})}),m.randomize&&k.forEach(function(G){m.eles=G,x.push(h(m))}),m.quality=="default"||m.quality=="proof"){var A=y.collection();if(m.tile){var C=new Map,D=0,E={nodeIndexes:C,xCoords:[],yCoords:[]},$=[];if(k.forEach(function(G,V){G.edges().length==0&&(G.nodes().forEach(function(rt,tt){A.merge(G.nodes()[tt]),rt.isParent()||(E.nodeIndexes.set(G.nodes()[tt].id(),D++),E.xCoords.push(G.nodes()[0].position().x),E.yCoords.push(G.nodes()[0].position().y))}),$.push(V))}),A.length>1){var I=A.boundingBox();N.push({x:I.x1+I.w/2,y:I.y1+I.h/2}),k.push(A),x.push(E);for(var L=$.length-1;L>=0;L--)k.splice($[L],1),x.splice($[L],1),N.splice($[L],1)}}k.forEach(function(G,V){m.eles=G,b.push(d(m,x[V])),u.relocateComponent(N[V],b[V],m)})}else k.forEach(function(G,V){u.relocateComponent(N[V],x[V],m)});var O=new Set;if(k.length>1){var B=[],R=v.filter(function(G){return G.css("display")=="none"});k.forEach(function(G,V){var rt=void 0;if(m.quality=="draft"&&(rt=x[V].nodeIndexes),G.nodes().not(R).length>0){var tt={edges:[],nodes:[]},at=void 0;G.nodes().not(R).forEach(function(ut){if(m.quality=="draft")if(ut.isParent()){var st=u.calcBoundingBox(ut,x[V].xCoords,x[V].yCoords,rt);tt.nodes.push({x:st.topLeftX,y:st.topLeftY,width:st.width,height:st.height})}else at=rt.get(ut.id()),tt.nodes.push({x:x[V].xCoords[at]-ut.boundingbox().w/2,y:x[V].yCoords[at]-ut.boundingbox().h/2,width:ut.boundingbox().w,height:ut.boundingbox().h});else b[V][ut.id()]&&tt.nodes.push({x:b[V][ut.id()].getLeft(),y:b[V][ut.id()].getTop(),width:b[V][ut.id()].getWidth(),height:b[V][ut.id()].getHeight()})}),G.edges().forEach(function(ut){var st=ut.source(),_t=ut.target();if(st.css("display")!="none"&&_t.css("display")!="none")if(m.quality=="draft"){var X=rt.get(st.id()),Et=rt.get(_t.id()),H=[],ct=[];if(st.isParent()){var dt=u.calcBoundingBox(st,x[V].xCoords,x[V].yCoords,rt);H.push(dt.topLeftX+dt.width/2),H.push(dt.topLeftY+dt.height/2)}else H.push(x[V].xCoords[X]),H.push(x[V].yCoords[X]);if(_t.isParent()){var Nt=u.calcBoundingBox(_t,x[V].xCoords,x[V].yCoords,rt);ct.push(Nt.topLeftX+Nt.width/2),ct.push(Nt.topLeftY+Nt.height/2)}else ct.push(x[V].xCoords[Et]),ct.push(x[V].yCoords[Et]);tt.edges.push({startX:H[0],startY:H[1],endX:ct[0],endY:ct[1]})}else b[V][st.id()]&&b[V][_t.id()]&&tt.edges.push({startX:b[V][st.id()].getCenterX(),startY:b[V][st.id()].getCenterY(),endX:b[V][_t.id()].getCenterX(),endY:b[V][_t.id()].getCenterY()})}),tt.nodes.length>0&&(B.push(tt),O.add(V))}});var M=_.packComponents(B,m.randomize).shifts;if(m.quality=="draft")x.forEach(function(G,V){var rt=G.xCoords.map(function(at){return at+M[V].dx}),tt=G.yCoords.map(function(at){return at+M[V].dy});G.xCoords=rt,G.yCoords=tt});else{var F=0;O.forEach(function(G){Object.keys(b[G]).forEach(function(V){var rt=b[G][V];rt.setCenter(rt.getCenterX()+M[F].dx,rt.getCenterY()+M[F].dy)}),F++})}}}else{var P=m.eles.boundingBox();if(N.push({x:P.x1+P.w/2,y:P.y1+P.h/2}),m.randomize){var U=h(m);x.push(U)}m.quality=="default"||m.quality=="proof"?(b.push(d(m,x[0])),u.relocateComponent(N[0],b[0],m)):u.relocateComponent(N[0],x[0],m)}var W=function(G,V){if(m.quality=="default"||m.quality=="proof"){typeof G=="number"&&(G=V);var rt=void 0,tt=void 0,at=G.data("id");return b.forEach(function(st){at in st&&(rt={x:st[at].getRect().getCenterX(),y:st[at].getRect().getCenterY()},tt=st[at])}),m.nodeDimensionsIncludeLabels&&(tt.labelWidth&&(tt.labelPosHorizontal=="left"?rt.x+=tt.labelWidth/2:tt.labelPosHorizontal=="right"&&(rt.x-=tt.labelWidth/2)),tt.labelHeight&&(tt.labelPosVertical=="top"?rt.y+=tt.labelHeight/2:tt.labelPosVertical=="bottom"&&(rt.y-=tt.labelHeight/2))),rt==null&&(rt={x:G.position("x"),y:G.position("y")}),{x:rt.x,y:rt.y}}var ut=void 0;return x.forEach(function(st){var _t=st.nodeIndexes.get(G.id());_t!=null&&(ut={x:st.xCoords[_t],y:st.yCoords[_t]})}),ut==null&&(ut={x:G.position("x"),y:G.position("y")}),{x:ut.x,y:ut.y}};if(m.quality=="default"||m.quality=="proof"||m.randomize){var Q=u.calcParentsWithoutChildren(y,v),K=v.filter(function(G){return G.css("display")=="none"});m.eles=v.not(K),v.nodes().not(":parent").not(K).layoutPositions(this,m,W),Q.length>0&&Q.forEach(function(G){G.position(W(G))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),g}();i.exports=f},657:(i,o,a)=>{var s=a(548),l=a(140).layoutBase.Matrix,u=a(140).layoutBase.SVD;i.exports={spectralLayout:function(h){var d=h.cy,p=h.eles,f=p.nodes(),g=p.nodes(":parent"),m=new Map,y=new Map,v=new Map,x=[],b=[],k=[],N=[],_=[],S=[],T=[],A=[],C=void 0,D=1e8,E=1e-9,$=h.piTol,I=h.samplingType,L=h.nodeSeparation,O=void 0,B=function(Dt,$t,mt){for(var It=[],gt=0,xt=0,Ct=0,lt=void 0,ot=[],Y=0,Ot=1,nt=0;nt<C;nt++)ot[nt]=D;for(It[xt]=Dt,ot[Dt]=0;xt>=gt;){Ct=It[gt++];for(var Ut=x[Ct],Ft=0;Ft<Ut.length;Ft++)ot[lt=y.get(Ut[Ft])]==D&&(ot[lt]=ot[Ct]+1,It[++xt]=lt);S[Ct][$t]=ot[Ct]*L}if(mt){for(var qt=0;qt<C;qt++)S[qt][$t]<_[qt]&&(_[qt]=S[qt][$t]);for(var Wt=0;Wt<C;Wt++)_[Wt]>Y&&(Y=_[Wt],Ot=Wt)}return Ot};s.connectComponents(d,p,s.getTopMostNodes(f),m),g.forEach(function(Dt){s.connectComponents(d,p,s.getTopMostNodes(Dt.descendants().intersection(p)),m)});for(var R=0,M=0;M<f.length;M++)f[M].isParent()||y.set(f[M].id(),R++);var F=!0,P=!1,U=void 0;try{for(var W,Q=m.keys()[Symbol.iterator]();!(F=(W=Q.next()).done);F=!0){var K=W.value;y.set(K,R++)}}catch(Dt){P=!0,U=Dt}finally{try{!F&&Q.return&&Q.return()}finally{if(P)throw U}}for(var G=0;G<y.size;G++)x[G]=[];g.forEach(function(Dt){for(var $t=Dt.children().intersection(p);$t.nodes(":childless").length==0;)$t=$t.nodes()[0].children().intersection(p);var mt=0,It=$t.nodes(":childless")[0].connectedEdges().length;$t.nodes(":childless").forEach(function(gt,xt){gt.connectedEdges().length<It&&(It=gt.connectedEdges().length,mt=xt)}),v.set(Dt.id(),$t.nodes(":childless")[mt].id())}),f.forEach(function(Dt){var $t=void 0;$t=Dt.isParent()?y.get(v.get(Dt.id())):y.get(Dt.id()),Dt.neighborhood().nodes().forEach(function(mt){p.intersection(Dt.edgesWith(mt)).length>0&&(mt.isParent()?x[$t].push(v.get(mt.id())):x[$t].push(mt.id()))})});var V=function(Dt){var $t=y.get(Dt),mt=void 0;m.get(Dt).forEach(function(It){mt=d.getElementById(It).isParent()?v.get(It):It,x[$t].push(mt),x[y.get(mt)].push(Dt)})},rt=!0,tt=!1,at=void 0;try{for(var ut,st=m.keys()[Symbol.iterator]();!(rt=(ut=st.next()).done);rt=!0)V(ut.value)}catch(Dt){tt=!0,at=Dt}finally{try{!rt&&st.return&&st.return()}finally{if(tt)throw at}}var _t=void 0;if((C=y.size)>2){O=C<h.sampleSize?C:h.sampleSize;for(var X=0;X<C;X++)S[X]=[];for(var Et=0;Et<O;Et++)A[Et]=[];return h.quality=="draft"||h.step=="all"?(function(Dt){var $t=void 0;if(Dt){$t=Math.floor(Math.random()*C);for(var mt=0;mt<C;mt++)_[mt]=D;for(var It=0;It<O;It++)N[It]=$t,$t=B($t,It,Dt)}else{(function(){for(var Ot=0,nt=0,Ut=!1;nt<O;){Ot=Math.floor(Math.random()*C),Ut=!1;for(var Ft=0;Ft<nt;Ft++)if(N[Ft]==Ot){Ut=!0;break}Ut||(N[nt]=Ot,nt++)}})();for(var gt=0;gt<O;gt++)B(N[gt],gt,Dt)}for(var xt=0;xt<C;xt++)for(var Ct=0;Ct<O;Ct++)S[xt][Ct]*=S[xt][Ct];for(var lt=0;lt<O;lt++)T[lt]=[];for(var ot=0;ot<O;ot++)for(var Y=0;Y<O;Y++)T[ot][Y]=S[N[Y]][ot]}(I),function(){for(var Dt=u.svd(T),$t=Dt.S,mt=Dt.U,It=Dt.V,gt=$t[0]*$t[0]*$t[0],xt=[],Ct=0;Ct<O;Ct++){xt[Ct]=[];for(var lt=0;lt<O;lt++)xt[Ct][lt]=0,Ct==lt&&(xt[Ct][lt]=$t[Ct]/($t[Ct]*$t[Ct]+gt/($t[Ct]*$t[Ct])))}A=l.multMat(l.multMat(It,xt),l.transpose(mt))}(),function(){for(var Dt=void 0,$t=void 0,mt=[],It=[],gt=[],xt=[],Ct=0;Ct<C;Ct++)mt[Ct]=Math.random(),It[Ct]=Math.random();mt=l.normalize(mt),It=l.normalize(It);for(var lt=E,ot=E,Y=void 0;;){for(var Ot=0;Ot<C;Ot++)gt[Ot]=mt[Ot];if(mt=l.multGamma(l.multL(l.multGamma(gt),S,A)),Dt=l.dotProduct(gt,mt),mt=l.normalize(mt),lt=l.dotProduct(gt,mt),(Y=Math.abs(lt/ot))<=1+$&&Y>=1)break;ot=lt}for(var nt=0;nt<C;nt++)gt[nt]=mt[nt];for(ot=E;;){for(var Ut=0;Ut<C;Ut++)xt[Ut]=It[Ut];if(xt=l.minusOp(xt,l.multCons(gt,l.dotProduct(gt,xt))),It=l.multGamma(l.multL(l.multGamma(xt),S,A)),$t=l.dotProduct(xt,It),It=l.normalize(It),lt=l.dotProduct(xt,It),(Y=Math.abs(lt/ot))<=1+$&&Y>=1)break;ot=lt}for(var Ft=0;Ft<C;Ft++)xt[Ft]=It[Ft];b=l.multCons(gt,Math.sqrt(Math.abs(Dt))),k=l.multCons(xt,Math.sqrt(Math.abs($t)))}(),_t={nodeIndexes:y,xCoords:b,yCoords:k}):(y.forEach(function(Dt,$t){b.push(d.getElementById($t).position("x")),k.push(d.getElementById($t).position("y"))}),_t={nodeIndexes:y,xCoords:b,yCoords:k}),_t}var H=y.keys(),ct=d.getElementById(H.next().value),dt=ct.position(),Nt=ct.outerWidth();if(b.push(dt.x),k.push(dt.y),C==2){var ft=d.getElementById(H.next().value).outerWidth();b.push(dt.x+Nt/2+ft/2+h.idealEdgeLength),k.push(dt.y)}return _t={nodeIndexes:y,xCoords:b,yCoords:k}}}},579:(i,o,a)=>{var s=a(212),l=function(u){u&&u("layout","fcose",s)};typeof cytoscape<"u"&&l(cytoscape),i.exports=l},140:i=>{i.exports=t}},r={},n=function i(o){var a=r[o];if(a!==void 0)return a.exports;var s=r[o]={exports:{}};return e[o](s,s.exports,i),s.exports}(579),n;var e,r,n},Qlt.exports=hU(KZt());var ZZt=dh(Qlt.exports),dU={L:"left",R:"right",T:"top",B:"bottom"},pU={L:w(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:w(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:w(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:w(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},B2={L:w((t,e)=>t-e+2,"L"),R:w((t,e)=>t-2,"R"),T:w((t,e)=>t-e+2,"T"),B:w((t,e)=>t-2,"B")},QZt=w(function(t){return fa(t)?t==="L"?"R":"L":t==="T"?"B":"T"},"getOppositeArchitectureDirection"),fU=w(function(t){return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),fa=w(function(t){return t==="L"||t==="R"},"isArchitectureDirectionX"),hh=w(function(t){return t==="T"||t==="B"},"isArchitectureDirectionY"),Jlt=w(function(t,e){const r=fa(t)&&hh(e),n=hh(t)&&fa(e);return r||n},"isArchitectureDirectionXY"),JZt=w(function(t){const e=t[0],r=t[1],n=fa(e)&&hh(r),i=hh(e)&&fa(r);return n||i},"isArchitecturePairXY"),tQt=w(function(t){return t!=="LL"&&t!=="RR"&&t!=="TT"&&t!=="BB"},"isValidArchitectureDirectionPair"),AA=w(function(t,e){const r=`${t}${e}`;return tQt(r)?r:void 0},"getArchitectureDirectionPair"),eQt=w(function([t,e],r){const n=r[0],i=r[1];return fa(n)?hh(i)?[t+(n==="L"?-1:1),e+(i==="T"?1:-1)]:[t+(n==="L"?-1:1),e]:fa(i)?[t+(i==="L"?1:-1),e+(n==="T"?1:-1)]:[t,e+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),rQt=w(function(t){return t==="LT"||t==="TL"?[1,1]:t==="BL"||t==="LB"?[1,-1]:t==="BR"||t==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),nQt=w(function(t){return t.type==="service"},"isArchitectureService"),iQt=w(function(t){return t.type==="junction"},"isArchitectureJunction"),tct=w(t=>t.data(),"edgeData"),pf=w(t=>t.data(),"nodeData"),ect=Mr.architecture,yr=new s8(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:ect,dataStructures:void 0,elements:{}})),oQt=w(()=>{yr.reset(),Gi()},"clear"),aQt=w(function({id:t,icon:e,in:r,title:n,iconText:i}){if(yr.records.registeredIds[t]!==void 0)throw new Error(`The service id [${t}] is already in use by another ${yr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The service [${t}] cannot be placed within itself`);if(yr.records.registeredIds[r]===void 0)throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if(yr.records.registeredIds[r]==="node")throw new Error(`The service [${t}]'s parent is not a group`)}yr.records.registeredIds[t]="node",yr.records.nodes[t]={id:t,type:"service",icon:e,iconText:i,title:n,edges:[],in:r}},"addService"),sQt=w(()=>Object.values(yr.records.nodes).filter(nQt),"getServices"),lQt=w(function({id:t,in:e}){yr.records.registeredIds[t]="node",yr.records.nodes[t]={id:t,type:"junction",edges:[],in:e}},"addJunction"),cQt=w(()=>Object.values(yr.records.nodes).filter(iQt),"getJunctions"),uQt=w(()=>Object.values(yr.records.nodes),"getNodes"),hQt=w(t=>yr.records.nodes[t],"getNode"),dQt=w(function({id:t,icon:e,in:r,title:n}){if(yr.records.registeredIds[t]!==void 0)throw new Error(`The group id [${t}] is already in use by another ${yr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The group [${t}] cannot be placed within itself`);if(yr.records.registeredIds[r]===void 0)throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if(yr.records.registeredIds[r]==="node")throw new Error(`The group [${t}]'s parent is not a group`)}yr.records.registeredIds[t]="group",yr.records.groups[t]={id:t,icon:e,title:n,in:r}},"addGroup"),pQt=w(()=>Object.values(yr.records.groups),"getGroups"),fQt=w(function({lhsId:t,rhsId:e,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:o,lhsGroup:a,rhsGroup:s,title:l}){if(!fU(r))throw new Error(`Invalid direction given for left hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${r}`);if(!fU(n))throw new Error(`Invalid direction given for right hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${n}`);if(yr.records.nodes[t]===void 0&&yr.records.groups[t]===void 0)throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(yr.records.nodes[e]===void 0&&yr.records.groups[t]===void 0)throw new Error(`The right-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);const u=yr.records.nodes[t].in,h=yr.records.nodes[e].in;if(a&&u&&h&&u==h)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(s&&u&&h&&u==h)throw new Error(`The right-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const d={lhsId:t,lhsDir:r,lhsInto:i,lhsGroup:a,rhsId:e,rhsDir:n,rhsInto:o,rhsGroup:s,title:l};yr.records.edges.push(d),yr.records.nodes[t]&&yr.records.nodes[e]&&(yr.records.nodes[t].edges.push(yr.records.edges[yr.records.edges.length-1]),yr.records.nodes[e].edges.push(yr.records.edges[yr.records.edges.length-1]))},"addEdge"),gQt=w(()=>yr.records.edges,"getEdges"),mQt=w(()=>{if(yr.records.dataStructures===void 0){const t=Object.entries(yr.records.nodes).reduce((a,[s,l])=>(a[s]=l.edges.reduce((u,h)=>{if(h.lhsId===s){const d=AA(h.lhsDir,h.rhsDir);d&&(u[d]=h.rhsId)}else{const d=AA(h.rhsDir,h.lhsDir);d&&(u[d]=h.lhsId)}return u},{}),a),{}),e=Object.keys(t)[0],r={[e]:1},n=Object.keys(t).reduce((a,s)=>s===e?a:{...a,[s]:1},{}),i=w(a=>{const s={[a]:[0,0]},l=[a];for(;l.length>0;){const u=l.shift();if(u){r[u]=1,delete n[u];const h=t[u],[d,p]=s[u];Object.entries(h).forEach(([f,g])=>{r[g]||(s[g]=eQt([d,p],f),l.push(g))})}}return s},"BFS"),o=[i(e)];for(;Object.keys(n).length>0;)o.push(i(Object.keys(n)[0]));yr.records.dataStructures={adjList:t,spatialMaps:o}}return yr.records.dataStructures},"getDataStructures"),Z5={clear:oQt,setDiagramTitle:ta,getDiagramTitle:uo,setAccTitle:Wi,getAccTitle:so,setAccDescription:lo,getAccDescription:co,addService:aQt,getServices:sQt,addJunction:lQt,getJunctions:cQt,getNodes:uQt,getNode:hQt,addGroup:dQt,getGroups:pQt,addEdge:fQt,getEdges:gQt,setElementForId:w((t,e)=>{yr.records.elements[t]=e},"setElementForId"),getElementById:w(t=>yr.records.elements[t],"getElementById"),getDataStructures:mQt};function Ci(t){const e=Tt().architecture;return e!=null&&e[t]?e[t]:ect[t]}w(Ci,"getConfigField");var yQt=w((t,e)=>{jy(t,e),t.groups.map(e.addGroup),t.services.map(r=>e.addService({...r,type:"service"})),t.junctions.map(r=>e.addJunction({...r,type:"junction"})),t.edges.map(e.addEdge)},"populateDb"),vQt={parse:w(async t=>{const e=await _g("architecture",t);et.debug(e),yQt(e,Z5)},"parse")},bQt=w(t=>`
  .edge {
    stroke-width: ${t.archEdgeWidth};
    stroke: ${t.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t.archGroupBorderColor};
    stroke-width: ${t.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Fp=w(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),my={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Fp('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Fp('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Fp('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Fp('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Fp('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:TG,blank:{body:Fp("")}}},xQt=w(async function(t,e){const r=Ci("padding"),n=Ci("iconSize"),i=n/2,o=n/6,a=o/2;await Promise.all(e.edges().map(async s=>{var T,A;const{source:l,sourceDir:u,sourceArrow:h,sourceGroup:d,target:p,targetDir:f,targetArrow:g,targetGroup:m,label:y}=tct(s);let{x:v,y:x}=s[0].sourceEndpoint();const{x:b,y:k}=s[0].midpoint();let{x:N,y:_}=s[0].targetEndpoint();const S=r+4;if(d&&(fa(u)?v+=u==="L"?-S:S:x+=u==="T"?-S:S+18),m&&(fa(f)?N+=f==="L"?-S:S:_+=f==="T"?-S:S+18),d||((T=Z5.getNode(l))==null?void 0:T.type)!=="junction"||(fa(u)?v+=u==="L"?i:-i:x+=u==="T"?i:-i),m||((A=Z5.getNode(p))==null?void 0:A.type)!=="junction"||(fa(f)?N+=f==="L"?i:-i:_+=f==="T"?i:-i),s[0]._private.rscratch){const C=t.insert("g");if(C.insert("path").attr("d",`M ${v},${x} L ${b},${k} L${N},${_} `).attr("class","edge"),h){const D=fa(u)?B2[u](v,o):v-a,E=hh(u)?B2[u](x,o):x-a;C.insert("polygon").attr("points",pU[u](o)).attr("transform",`translate(${D},${E})`).attr("class","arrow")}if(g){const D=fa(f)?B2[f](N,o):N-a,E=hh(f)?B2[f](_,o):_-a;C.insert("polygon").attr("points",pU[f](o)).attr("transform",`translate(${D},${E})`).attr("class","arrow")}if(y){const D=Jlt(u,f)?"XY":fa(u)?"X":"Y";let E=0;E=D==="X"?Math.abs(v-N):D==="Y"?Math.abs(x-_)/1.5:Math.abs(v-N)/2;const $=C.append("g");if(await $s($,y,{useHtmlLabels:!1,width:E,classes:"architecture-service-label"},Tt()),$.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),D==="X")$.attr("transform","translate("+b+", "+k+")");else if(D==="Y")$.attr("transform","translate("+b+", "+k+") rotate(-90)");else if(D==="XY"){const I=AA(u,f);if(I&&JZt(I)){const L=$.node().getBoundingClientRect(),[O,B]=rQt(I);$.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*O*B*45})`);const R=$.node().getBoundingClientRect();$.attr("transform",`
                translate(${b}, ${k-L.height/2})
                translate(${O*R.width/2}, ${B*R.height/2})
                rotate(${-1*O*B*45}, 0, ${L.height/2})
              `)}}}}}))},"drawEdges"),wQt=w(async function(t,e){const r=.75*Ci("padding"),n=Ci("fontSize"),i=Ci("iconSize")/2;await Promise.all(e.nodes().map(async o=>{const a=pf(o);if(a.type==="group"){const{h:s,w:l,x1:u,y1:h}=o.boundingBox();t.append("rect").attr("x",u+i).attr("y",h+i).attr("width",l).attr("height",s).attr("class","node-bkg");const d=t.append("g");let p=u,f=h;if(a.icon){const g=d.append("g");g.html(`<g>${await Ad(a.icon,{height:r,width:r,fallbackPrefix:my.prefix})}</g>`),g.attr("transform","translate("+(p+i+1)+", "+(f+i+1)+")"),p+=r,f+=n/2-1-2}if(a.label){const g=d.append("g");await $s(g,a.label,{useHtmlLabels:!1,width:l,classes:"architecture-service-label"},Tt()),g.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),g.attr("transform","translate("+(p+i+4)+", "+(f+i+2)+")")}}}))},"drawGroups"),kQt=w(async function(t,e,r){for(const n of r){const i=e.append("g"),o=Ci("iconSize");if(n.title){const u=i.append("g");await $s(u,n.title,{useHtmlLabels:!1,width:1.5*o,classes:"architecture-service-label"},Tt()),u.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),u.attr("transform","translate("+o/2+", "+o+")")}const a=i.append("g");if(n.icon)a.html(`<g>${await Ad(n.icon,{height:o,width:o,fallbackPrefix:my.prefix})}</g>`);else if(n.iconText){a.html(`<g>${await Ad("blank",{height:o,width:o,fallbackPrefix:my.prefix})}</g>`);const u=a.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(n.iconText),h=parseInt(window.getComputedStyle(u.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;u.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/h)};`)}else a.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);i.attr("class","architecture-service");const{width:s,height:l}=i._groups[0][0].getBBox();n.width=s,n.height=l,t.setElementForId(n.id,i)}return 0},"drawServices"),TQt=w(function(t,e,r){r.forEach(n=>{const i=e.append("g"),o=Ci("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",o).attr("height",o),i.attr("class","architecture-junction");const{width:a,height:s}=i._groups[0][0].getBBox();i.width=a,i.height=s,t.setElementForId(n.id,i)})},"drawJunctions");function rct(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:Ci("iconSize"),height:Ci("iconSize")},classes:"node-service"})})}function nct(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:Ci("iconSize"),height:Ci("iconSize")},classes:"node-junction"})})}function ict(t,e){e.nodes().map(r=>{const n=pf(r);n.type!=="group"&&(n.x=r.position().x,n.y=r.position().y,t.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")"))})}function oct(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function act(t,e){t.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:o,lhsGroup:a,rhsInto:s,lhsDir:l,rhsDir:u,rhsGroup:h,title:d}=r,p=Jlt(r.lhsDir,r.rhsDir)?"segments":"straight",f={id:`${n}-${i}`,label:d,source:n,sourceDir:l,sourceArrow:o,sourceGroup:a,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:i,targetDir:u,targetArrow:s,targetGroup:h,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};e.add({group:"edges",data:f,classes:p})})}function sct(t){const e=t.map(i=>{const o={},a={};return Object.entries(i).forEach(([s,[l,u]])=>{o[u]||(o[u]=[]),a[l]||(a[l]=[]),o[u].push(s),a[l].push(s)}),{horiz:Object.values(o).filter(s=>s.length>1),vert:Object.values(a).filter(s=>s.length>1)}}),[r,n]=e.reduce(([i,o],{horiz:a,vert:s})=>[[...i,...a],[...o,...s]],[[],[]]);return{horizontal:r,vertical:n}}function lct(t){const e=[],r=w(i=>`${i[0]},${i[1]}`,"posToStr"),n=w(i=>i.split(",").map(o=>parseInt(o)),"strToPos");return t.forEach(i=>{const o=Object.fromEntries(Object.entries(i).map(([u,h])=>[r(h),u])),a=[r([0,0])],s={},l={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;a.length>0;){const u=a.shift();if(u){s[u]=1;const h=o[u];if(h){const d=n(u);Object.entries(l).forEach(([p,f])=>{const g=r([d[0]+f[0],d[1]+f[1]]),m=o[g];m&&!s[g]&&(a.push(g),e.push({[dU[p]]:m,[dU[QZt(p)]]:h,gap:1.5*Ci("iconSize")}))})}}}}),e}function cct(t,e,r,n,{spatialMaps:i}){return new Promise(o=>{const a=he("body").append("div").attr("id","cy").attr("style","display:none"),s=Al({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Ci("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Ci("padding")}px`}}]});a.remove(),oct(r,s),rct(t,s),nct(e,s),act(n,s);const l=sct(i),u=lct(i),h=s.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(d){const[p,f]=d.connectedNodes(),{parent:g}=pf(p),{parent:m}=pf(f);return g===m?1.5*Ci("iconSize"):.5*Ci("iconSize")},edgeElasticity(d){const[p,f]=d.connectedNodes(),{parent:g}=pf(p),{parent:m}=pf(f);return g===m?.45:.001},alignmentConstraint:l,relativePlacementConstraint:u});h.one("layoutstop",()=>{var p;function d(f,g,m,y){let v,x;const{x:b,y:k}=f,{x:N,y:_}=g;x=(y-k+(b-m)*(k-_)/(b-N))/Math.sqrt(1+Math.pow((k-_)/(b-N),2)),v=Math.sqrt(Math.pow(y-k,2)+Math.pow(m-b,2)-Math.pow(x,2)),v/=Math.sqrt(Math.pow(N-b,2)+Math.pow(_-k,2));let S=(N-b)*(y-k)-(_-k)*(m-b);switch(!0){case S>=0:S=1;break;case S<0:S=-1}let T=(N-b)*(m-b)+(_-k)*(y-k);switch(!0){case T>=0:T=1;break;case T<0:T=-1}return x=Math.abs(x)*S,v*=T,{distances:x,weights:v}}w(d,"getSegmentWeights"),s.startBatch();for(const f of Object.values(s.edges()))if((p=f.data)!=null&&p.call(f)){const{x:g,y:m}=f.source().position(),{x:y,y:v}=f.target().position();if(g!==y&&m!==v){const x=f.sourceEndpoint(),b=f.targetEndpoint(),{sourceDir:k}=tct(f),[N,_]=hh(k)?[x.x,b.y]:[b.x,x.y],{weights:S,distances:T}=d(x,b,N,_);f.style("segment-distances",T),f.style("segment-weights",S)}}s.endBatch(),h.run()}),h.run(),s.ready(d=>{et.info("Ready",d),o(s)})})}_G([{name:my.prefix,icons:my}]),Al.use(ZZt),w(rct,"addServices"),w(nct,"addJunctions"),w(ict,"positionNodes"),w(oct,"addGroups"),w(act,"addEdges"),w(sct,"getAlignments"),w(lct,"getRelativeConstraints"),w(cct,"layoutArchitecture");var EQt={parser:vQt,db:Z5,renderer:{draw:w(async(t,e,r,n)=>{const i=n.db,o=i.getServices(),a=i.getJunctions(),s=i.getGroups(),l=i.getEdges(),u=i.getDataStructures(),h=mh(e),d=h.append("g");d.attr("class","architecture-edges");const p=h.append("g");p.attr("class","architecture-services");const f=h.append("g");f.attr("class","architecture-groups"),await kQt(i,p,o),TQt(i,p,a);const g=await cct(o,a,s,l,u);await xQt(d,g),await wQt(f,g),ict(i,g),ag(void 0,h,Ci("padding"),Ci("useMaxWidth"))},"draw")},styles:bQt};const _Qt=Object.freeze(Object.defineProperty({__proto__:null,diagram:EQt},Symbol.toStringTag,{value:"Module"})),SQt=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:Knt,createInfoServices:Znt},Symbol.toStringTag,{value:"Module"})),AQt=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Qnt,createPacketServices:Jnt},Symbol.toStringTag,{value:"Module"})),CQt=Object.freeze(Object.defineProperty({__proto__:null,PieModule:tit,createPieServices:eit},Symbol.toStringTag,{value:"Module"})),$Qt=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:rit,createArchitectureServices:nit},Symbol.toStringTag,{value:"Module"})),NQt=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:Ynt,createGitGraphServices:Xnt},Symbol.toStringTag,{value:"Module"}));export{Ate as A,Ba as B,F7t as C,Tte as D,kte as E,SJt as F,REt as G,yte as I,mg as O,iJt as P,_te as _,bte as a,wEt as b,jCt as c,$te as d,HZ as e,D0 as f,CJt as g,AJt as h,wte as i,vte as j,Cte as k,Mte as l,Zl as m,U7t as n,Pte as o,H_ as p,MJt as q,W_ as r,e7 as s,ua as t,Bte as u,xte as v,A7t as w,Ete as x,Ste as y,Cl as z};
